import{a as gw,b as hw,c as yw,d as vw}from"https://app.gitbook.com/public/app/chunks/chunk-HUPQEP2E.min.js";import{a as Wd,b as aS,c as pu,d as Ds,e as Vn,f as Kl,g as Vm,h as jS,i as Zh,j as JS,l as fw,m as ze,n as yr,o as Hm,p as xw,q as Ow,r as vr}from"https://app.gitbook.com/public/app/chunks/chunk-MWHPMHEL.min.js";import{a as z1,b as qh,c as Na,d as Dl,e as Al,g as Cw}from"https://app.gitbook.com/public/app/chunks/chunk-XAVA36RP.min.js";import{a as HS}from"https://app.gitbook.com/public/app/chunks/chunk-NY7O274R.min.js";import{a as Am}from"https://app.gitbook.com/public/app/chunks/chunk-XJSERZH5.min.js";import{a as Q1}from"https://app.gitbook.com/public/app/chunks/chunk-ZLNZXISM.min.js";import{a as CS}from"https://app.gitbook.com/public/app/chunks/chunk-BNGLSPHT.min.js";import{A as Xl,a as H1,b as ym,c as zl,d as ee,e as ot,f as Fl,g as SS,h as wS,i as kS,j as Tm,k as OS,l as RS,m as _S,n as Wa,o as ql,p as IS,q as PS,r as wn,s as ES,t as Gl,u as mi,v as TS,x as Uh,y as KS,z as Yh}from"https://app.gitbook.com/public/app/chunks/chunk-XYNHYNHO.min.js";import{a as Om,b as Pm,c as Em,d as xS}from"https://app.gitbook.com/public/app/chunks/chunk-I5XIE4GO.min.js";import{a as gr,b as $l}from"https://app.gitbook.com/public/app/chunks/chunk-PRNY27L4.min.js";import{b as q1,c as G1,e as Bl}from"https://app.gitbook.com/public/app/chunks/chunk-UPOBVGCK.min.js";import{a as Xm}from"https://app.gitbook.com/public/app/chunks/chunk-ACEIAZXZ.min.js";import{a as Fa}from"https://app.gitbook.com/public/app/chunks/chunk-BLVG6WL3.min.js";import{a as di}from"https://app.gitbook.com/public/app/chunks/chunk-ECVDNP33.min.js";import{a as Fm}from"https://app.gitbook.com/public/app/chunks/chunk-VPMEHTCT.min.js";import{a as k1,b as Nl,c as dm,d as Wh,e as x1,f as O1,g as R1,h as _1,i as I1,j as mm,k as pr,l as pm,m as P1,n as E1,o as T1,p as M1,q as du,r as L1,s as $h,t as bw}from"https://app.gitbook.com/public/app/chunks/chunk-73J36TVZ.min.js";import{a as Ql,c as Sw,e as ww,f as kw}from"https://app.gitbook.com/public/app/chunks/chunk-KRKAX3MM.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-FU6OC5MB.min.js";import{a as JT}from"https://app.gitbook.com/public/app/chunks/chunk-X7YX6OZD.min.js";import{$ as sa,$a as tt,A as qr,Aa as im,B as d1,Ba as Bh,C as Nn,Ca as ke,D as ia,Da as ua,E as aa,Ea as f1,F as Li,Fa as Ct,G as _s,Ga as El,H as m1,Ha as zh,I as Te,Ia as am,J as Le,Ja as po,K as He,L as $t,La as Ts,M as Bo,Ma as g1,N as Et,Na as h1,O as Qt,Oa as y1,P as At,Pa as sm,Q as le,Qa as lm,R as bt,Ra as da,S as zo,Sa as cm,T as Dh,Ta as Tl,U as p1,Ua as v1,V as Ah,Va as um,W as Is,Wa as Ml,X as _l,Xa as b1,Y as yn,Ya as Vo,Z as Dn,Za as Ll,_ as Ni,_a as mr,a as La,aa as Ps,ab as Ms,b as Fr,ba as An,bb as C1,c as KC,ca as la,cb as ve,d as jC,da as Di,db as S1,ea as vn,eb as Y,f as Yd,fa as bn,fb as ci,ga as ur,h as Zd,ha as Jt,hb as w1,i as l1,ia as lu,ib as Vh,ka as wo,la as Es,m as ce,ma as cu,na as Il,o as su,oa as Jd,p as mo,pa as Ai,q as c1,qa as Pl,ra as em,s as Lh,sa as tm,t as Rl,ta as om,u as Qd,ua as nm,v as u1,va as ca,w as Nh,xa as uu,ya as dr,z as li,za as rm}from"https://app.gitbook.com/public/app/chunks/chunk-W3DSYXMX.min.js";import{a as QT}from"https://app.gitbook.com/public/app/chunks/chunk-CMQ45EC7.min.js";import{g as mw,h as pw}from"https://app.gitbook.com/public/app/chunks/chunk-LYOCGEDB.min.js";import{a as XS,b as Wm,c as Vi}from"https://app.gitbook.com/public/app/chunks/chunk-MC6HXBZO.min.js";import{a as qS}from"https://app.gitbook.com/public/app/chunks/chunk-JVZLZRBQ.min.js";import{a as N1,f as B1,w as mu,x as it,y as Bs}from"https://app.gitbook.com/public/app/chunks/chunk-NHR7XZH4.min.js";import{a as hr}from"https://app.gitbook.com/public/app/chunks/chunk-5AMQF7MN.min.js";import{a as QS}from"https://app.gitbook.com/public/app/chunks/chunk-JBFETGZP.min.js";import{a as Gh,c as F1,d as zm,e as ha,f as zi,g as Ha,i as lw,j as cw,l as Qh}from"https://app.gitbook.com/public/app/chunks/chunk-2RNZ3D7E.min.js";import{a as Ls,c as hm,d as W1,e as gu,f as Wo}from"https://app.gitbook.com/public/app/chunks/chunk-O3SW24N3.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-QK5KPJ3P.min.js";import{a as zn}from"https://app.gitbook.com/public/app/chunks/chunk-MV7VGHE2.min.js";import{a as Nm}from"https://app.gitbook.com/public/app/chunks/chunk-VMEGLJPF.min.js";import{a as GS,b as YS,c as ZS,d as $S}from"https://app.gitbook.com/public/app/chunks/chunk-OZBPRNRU.min.js";import{a as bS,b as Im,e as Hl,f as Mm,g as Xt,h as Lm,i as MS,j as LS,k as Dm,l as te,m as NS,n as DS,o as qa,q as AS,r as BS,s as fu,t as zS,u as VS,v as ne,w as WS,x as Bm}from"https://app.gitbook.com/public/app/chunks/chunk-M2LV3NWM.min.js";import{c as Zl,e as uw,g as dw}from"https://app.gitbook.com/public/app/chunks/chunk-W3S3SQ2Y.min.js";import{a as Mi}from"https://app.gitbook.com/public/app/chunks/chunk-CZ6ORUN2.min.js";import{a as fa}from"https://app.gitbook.com/public/app/chunks/chunk-GXNNQYS2.min.js";import{a as Oo,b as hu,c as qe,d as ew,e as Ur}from"https://app.gitbook.com/public/app/chunks/chunk-6B3ERWYT.min.js";import{a as Sn}from"https://app.gitbook.com/public/app/chunks/chunk-VCN33ROO.min.js";import{a as on}from"https://app.gitbook.com/public/app/chunks/chunk-TNCP5NEV.min.js";import{a as FS}from"https://app.gitbook.com/public/app/chunks/chunk-WZ4PGNA5.min.js";import{a as D1,b as A1,c as Fh,d as fm,h as gm}from"https://app.gitbook.com/public/app/chunks/chunk-QEWJHVSV.min.js";import{a as va}from"https://app.gitbook.com/public/app/chunks/chunk-ADGNJMEB.min.js";import{a as to,c as hS,d as ga}from"https://app.gitbook.com/public/app/chunks/chunk-5R2CBWU7.min.js";import{a as wt,b as Ga}from"https://app.gitbook.com/public/app/chunks/chunk-MFC7SDRJ.min.js";import{f as jh}from"https://app.gitbook.com/public/app/chunks/chunk-CTNG7ZAH.min.js";import{a as en,b as G,c as yS,d as vS,e as xo}from"https://app.gitbook.com/public/app/chunks/chunk-ZIZ3T2LU.min.js";import{d as V1,e as ma,f as pi}from"https://app.gitbook.com/public/app/chunks/chunk-EOSPATQ7.min.js";import{d as Ce}from"https://app.gitbook.com/public/app/chunks/chunk-52CTYNX6.min.js";import{A as S,B as uS,C as me,D as Ht,E as tn,F as _m,H as Xr,I as Bi,J as Va,K as dS,P as pS,Q as Wl,R as Kr,S as fS,T as jr,V as gS,W as A,b as Jo,d as $1,h as B,i as dt,j as Da,k as xm,l as Kh,m as iS,n as Aa,o as Ba,p as Rm,q as sS,r as za,s as mt,t as fr,u as lS,v as ko,w as cS,x as Gt,y as Je,z as Bn}from"https://app.gitbook.com/public/app/chunks/chunk-A5PTVGJ2.min.js";import{$ as iu,$a as J,Ab as sw,B as YC,Bb as Yl,D as Gd,F as ZC,G as $C,H as QC,I as JC,J as YT,K as Hd,L as Xd,M as Mh,N as e1,O as t1,Q as Kd,Ra as X1,S as ra,Ta as St,U as o1,Ua as vm,Va as K1,Xa as j1,Za as U1,_ as n1,_a as Y1,a as VC,aa as r1,b as WC,ca as au,da as i1,db as bm,ea as a1,eb as Hh,fa as Ye,fb as J1,g as ru,ga as jd,gb as jl,i as Oh,ib as US,j as HC,k as Rh,l as _h,lb as As,m as xl,ma as Ud,mb as Ul,ob as tw,pb as qm,qa as Rs,qb as Wn,rb as Gm,s as UC,sa as hn,sb as ow,t as Fd,tb as nw,u as qd,ua as s1,ub as rw,vb as iw,xb as ya,yb as aw}from"https://app.gitbook.com/public/app/chunks/chunk-5KRR37AS.min.js";import{Aa as na,Ca as nu,Ja as GC,Ma as Ih,a as Vr,c as AC,e as lr,f as Ao,g as xs,h as BC,i as zC,sa as Vd,va as Wr,wa as kl,ya as FC}from"https://app.gitbook.com/public/app/chunks/chunk-E5T4E6XE.min.js";import{a as eM,b as ui,c as mS}from"https://app.gitbook.com/public/app/chunks/chunk-OQWUHP2D.min.js";import{a as Os,b as qC}from"https://app.gitbook.com/public/app/chunks/chunk-HCFMPDL2.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-AHBDZVSS.min.js";import{c as wl}from"https://app.gitbook.com/public/app/chunks/chunk-K6OCLCTQ.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-EDXCWIHG.min.js";import{c as Ph,d as Eh,f as XC,g as Th,i as Ol,l as $T}from"https://app.gitbook.com/public/app/chunks/chunk-OHC2UNPS.min.js";import{a as Ue}from"https://app.gitbook.com/public/app/chunks/chunk-XQJO7322.min.js";import{$ as m,A as EC,B as Cl,C as D,D as TC,E as Qe,F as xh,H as Ad,I as Pe,J as Ln,K as ut,L as MC,M as Bd,N as z,O as si,P as LC,Q as $o,S as NC,T as zd,U as oa,V as Qo,W as Sl,X as DC,Z as j,_ as E,a as IC,aa as h,b as jT,ba as Z1,c as UT,ca as Cm,da as Sm,ea as wm,ga as xe,ha as km,ia as eo,ja as se,la as pa,ma as eS,n as q,na as tS,oa as oS,pa as Xh,qa as Ns,ra as nS,s as bl,sa as rS,t as PC,ta as Vl,ua as Hr,va as O,w as y,xa as Cn,y as zr,ya as N,z as Dd,za as L}from"https://app.gitbook.com/public/app/chunks/chunk-UTMWPVLR.min.js";import{a as R,b as ZT,c as Gr}from"https://app.gitbook.com/public/app/chunks/chunk-CCG4XIWT.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-T55DX4SB.min.js";import{a as $d}from"https://app.gitbook.com/public/app/chunks/chunk-4MYRUKCN.min.js";import{b as Pt,c as cr,d as de}from"https://app.gitbook.com/public/app/chunks/chunk-P2X5LY3O.min.js";import{c as Ie,d as _C,e as x,f as Nd,l}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var kk=Ie(my=>{l();Object.defineProperty(my,"__esModule",{value:!0});var jM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},UM="src/index.js",YM=function(){function e(t,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),Sk=R(),ZM=QM(Sk),$M=(z(),Nd(Bd));function QM(e){return e&&e.__esModule?e:{default:e}}function JM(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function e2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ck(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function t2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wk=function(e){t2(t,e);function t(){var o,n,r,i;e2(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return i=(n=(r=Ck(this,(o=t.__proto__||Object.getPrototypeOf(t)).call.apply(o,[this].concat(s))),r),r.state={width:1,height:1},r.measure=function(u){r.setState({width:u.nativeEvent.layout.width,height:u.nativeEvent.layout.height}),r.props.onLayout&&r.props.onLayout(u)},r.getAngle=function(){if(r.props.useAngle)return r.props.angle+"deg";var u=Math.atan2(r.state.width*(r.props.end.y-r.props.start.y),r.state.height*(r.props.end.x-r.props.start.x))+Math.PI/2;return u+"rad"},r.getColors=function(){return r.props.colors.map(function(u,d){var p=r.props.locations[d],f="";return p&&(f=" "+p*100+"%"),u+f}).join(",")},n),Ck(r,i)}return YM(t,[{key:"render",value:function(){var n=this.props,r=n.start,i=n.end,a=n.colors,s=n.locations,c=n.useAngle,u=n.angleCenter,d=n.angle,p=n.style,f=n.children,g=JM(n,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return ZM.default.createElement($M.View,jM({},g,{style:[p,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:UM,lineNumber:76}}),f)}}]),t}(Sk.PureComponent);wk.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0};my.default=wk});var xy=Ie((pX,wp)=>{l();var ax=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function r(a,s){if(!n[a]){n[a]={};for(var c=0;c<a.length;c++)n[a][a.charAt(c)]=c}return n[a][s]}var i={compressToBase64:function(a){if(a==null)return"";var s=i._compress(a,6,function(c){return t.charAt(c)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(a){return a==null?"":a==""?null:i._decompress(a.length,32,function(s){return r(t,a.charAt(s))})},compressToUTF16:function(a){return a==null?"":i._compress(a,15,function(s){return e(s+32)})+" "},decompressFromUTF16:function(a){return a==null?"":a==""?null:i._decompress(a.length,16384,function(s){return a.charCodeAt(s)-32})},compressToUint8Array:function(a){for(var s=i.compress(a),c=new Uint8Array(s.length*2),u=0,d=s.length;u<d;u++){var p=s.charCodeAt(u);c[u*2]=p>>>8,c[u*2+1]=p%256}return c},decompressFromUint8Array:function(a){if(a==null)return i.decompress(a);for(var s=new Array(a.length/2),c=0,u=s.length;c<u;c++)s[c]=a[c*2]*256+a[c*2+1];var d=[];return s.forEach(function(p){d.push(e(p))}),i.decompress(d.join(""))},compressToEncodedURIComponent:function(a){return a==null?"":i._compress(a,6,function(s){return o.charAt(s)})},decompressFromEncodedURIComponent:function(a){return a==null?"":a==""?null:(a=a.replace(/ /g,"+"),i._decompress(a.length,32,function(s){return r(o,a.charAt(s))}))},compress:function(a){return i._compress(a,16,function(s){return e(s)})},_compress:function(a,s,c){if(a==null)return"";var u,d,p={},f={},g="",b="",v="",C=2,w=3,k=2,I=[],_=0,P=0,M;for(M=0;M<a.length;M+=1)if(g=a.charAt(M),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=w++,f[g]=!0),b=v+g,Object.prototype.hasOwnProperty.call(p,b))v=b;else{if(Object.prototype.hasOwnProperty.call(f,v)){if(v.charCodeAt(0)<256){for(u=0;u<k;u++)_=_<<1,P==s-1?(P=0,I.push(c(_)),_=0):P++;for(d=v.charCodeAt(0),u=0;u<8;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1}else{for(d=1,u=0;u<k;u++)_=_<<1|d,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=0;for(d=v.charCodeAt(0),u=0;u<16;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1}C--,C==0&&(C=Math.pow(2,k),k++),delete f[v]}else for(d=p[v],u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1;C--,C==0&&(C=Math.pow(2,k),k++),p[b]=w++,v=String(g)}if(v!==""){if(Object.prototype.hasOwnProperty.call(f,v)){if(v.charCodeAt(0)<256){for(u=0;u<k;u++)_=_<<1,P==s-1?(P=0,I.push(c(_)),_=0):P++;for(d=v.charCodeAt(0),u=0;u<8;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1}else{for(d=1,u=0;u<k;u++)_=_<<1|d,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=0;for(d=v.charCodeAt(0),u=0;u<16;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1}C--,C==0&&(C=Math.pow(2,k),k++),delete f[v]}else for(d=p[v],u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1;C--,C==0&&(C=Math.pow(2,k),k++)}for(d=2,u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(c(_)),_=0):P++,d=d>>1;for(;;)if(_=_<<1,P==s-1){I.push(c(_));break}else P++;return I.join("")},decompress:function(a){return a==null?"":a==""?null:i._decompress(a.length,32768,function(s){return a.charCodeAt(s)})},_decompress:function(a,s,c){var u=[],d,p=4,f=4,g=3,b="",v=[],C,w,k,I,_,P,M,T={val:c(0),position:s,index:1};for(C=0;C<3;C+=1)u[C]=C;for(k=0,_=Math.pow(2,2),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;switch(d=k){case 0:for(k=0,_=Math.pow(2,8),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;M=e(k);break;case 1:for(k=0,_=Math.pow(2,16),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;M=e(k);break;case 2:return""}for(u[3]=M,w=M,v.push(M);;){if(T.index>a)return"";for(k=0,_=Math.pow(2,g),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;switch(M=k){case 0:for(k=0,_=Math.pow(2,8),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;u[f++]=e(k),M=f-1,p--;break;case 1:for(k=0,_=Math.pow(2,16),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=c(T.index++)),k|=(I>0?1:0)*P,P<<=1;u[f++]=e(k),M=f-1,p--;break;case 2:return v.join("")}if(p==0&&(p=Math.pow(2,g),g++),u[M])b=u[M];else if(M===f)b=w+w.charAt(0);else return null;v.push(b),u[f++]=w+b.charAt(0),p--,w=b,p==0&&(p=Math.pow(2,g),g++)}}};return i}();typeof define=="function"&&define.amd?define(function(){return ax}):typeof wp<"u"&&wp!=null&&(wp.exports=ax)});var wx=Ie(_p=>{"use strict";l();var I2=R(),P2=Symbol.for("react.element"),E2=Symbol.for("react.fragment"),T2=Object.prototype.hasOwnProperty,M2=I2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L2={key:!0,ref:!0,__self:!0,__source:!0};function Sx(e,t,o){var n,r={},i=null,a=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)T2.call(t,n)&&!L2.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:P2,type:e,key:i,ref:a,props:r,_owner:M2.current}}_p.Fragment=E2;_p.jsx=Sx;_p.jsxs=Sx});var xx=Ie((pK,kx)=>{"use strict";l();kx.exports=wx()});var YO=Ie((t$,vL)=>{vL.exports="https://app.gitbook.com/public/app/assets/youtube.raw-KIFNDQS6.svg"});var ZO=Ie((o$,bL)=>{bL.exports="https://app.gitbook.com/public/app/assets/soundcloud.raw-2NJLH377.svg"});var $O=Ie((n$,CL)=>{CL.exports="https://app.gitbook.com/public/app/assets/loom.raw-3KUBFJOQ.svg"});var QO=Ie((r$,SL)=>{SL.exports="https://app.gitbook.com/public/app/assets/github.raw-G362N2HA.svg"});var JO=Ie((i$,wL)=>{wL.exports="https://app.gitbook.com/public/app/assets/github.dark.raw-A2MHFBQG.svg"});var eR=Ie((a$,kL)=>{kL.exports="https://app.gitbook.com/public/app/assets/framer.raw-BZOKEAUJ.svg"});var tR=Ie((s$,xL)=>{xL.exports="https://app.gitbook.com/public/app/assets/framer.dark.raw-HVTXI7EB.svg"});var oR=Ie((l$,OL)=>{OL.exports="https://app.gitbook.com/public/app/assets/codepen.raw-PGSLYKJU.svg"});var nR=Ie((c$,RL)=>{RL.exports="https://app.gitbook.com/public/app/assets/codepen.dark.raw-HNDMNQX3.svg"});var rR=Ie((u$,_L)=>{_L.exports="https://app.gitbook.com/public/app/assets/dribbble.raw-KBB5DOUQ.svg"});var iR=Ie((d$,IL)=>{IL.exports="https://app.gitbook.com/public/app/assets/trello.raw-5HIIOOAI.svg"});var aR=Ie((m$,PL)=>{PL.exports="https://app.gitbook.com/public/app/assets/typeform.raw-74VPCTO6.svg"});var sR=Ie((p$,EL)=>{EL.exports="https://app.gitbook.com/public/app/assets/typeform.dark.raw-47MGSH5W.svg"});var lR=Ie((f$,TL)=>{TL.exports="https://app.gitbook.com/public/app/assets/google-docs.raw-I6UHVZFS.svg"});var cR=Ie((g$,ML)=>{ML.exports="https://app.gitbook.com/public/app/assets/google-sheets.raw-IGZ6R7IJ.svg"});var uR=Ie((h$,LL)=>{LL.exports="https://app.gitbook.com/public/app/assets/google-slides.raw-WGHORNC6.svg"});var dR=Ie((y$,NL)=>{NL.exports="https://app.gitbook.com/public/app/assets/google-forms.raw-7C25TP6G.svg"});var zR=Ie((Nte,o9)=>{o9.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var FR=Ie((Dte,WR)=>{"use strict";l();var ov=zR();WR.exports=vi;vi.message=ov;vi.code=n9(ov);vi.codes=r9(ov);vi.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};vi.empty={204:!0,205:!0,304:!0};vi.retry={502:!0,503:!0,504:!0};function n9(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n],i=Number(n);t[r.toLowerCase()]=i}),t}function r9(e){return Object.keys(e).map(function(o){return Number(o)})}function i9(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(vi.code,t))throw new Error('invalid status message: "'+e+'"');return vi.code[t]}function VR(e){if(!Object.prototype.hasOwnProperty.call(vi.message,e))throw new Error("invalid status code: "+e);return vi.message[e]}function vi(e){if(typeof e=="number")return VR(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?i9(e):VR(t)}});var uI=Ie((Zf,cI)=>{l();(function(e,t){typeof define=="function"&&define.amd?define(t):typeof Zf=="object"&&typeof Zf.nodeName!="string"?cI.exports=t():e.RangeFix=t()})(Zf,function(){var e,t={};t.isBroken=function(){var r,i,a,s,c,u,d,p;return e===void 0&&(i=document.createElement("p"),a=document.createElement("span"),s=document.createTextNode("aa"),c=document.createTextNode("aa"),u=document.createElement("img"),u.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),d=document.createRange(),e={},i.appendChild(s),i.appendChild(a),a.appendChild(u),a.appendChild(c),document.body.appendChild(i),d.setStart(s,1),d.setEnd(a,0),e.getClientRects=e.getBoundingClientRect=d.getClientRects().length>1,e.getClientRects||(d.setEnd(c,1),e.getClientRects=e.getBoundingClientRect=d.getClientRects().length===2),e.getBoundingClientRect||(d.setEnd(d.startContainer,d.startOffset),r=d.getBoundingClientRect(),e.getBoundingClientRect=r.top===0&&r.left===0),document.body.removeChild(i),p=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),e.ieZoom=!!p&&p<=10),e};function o(r){var i;return!r||screen.deviceXDPI===screen.logicalXDPI?r:"length"in r?Array.prototype.map.call(r,o):(i=screen.deviceXDPI/screen.logicalXDPI,{top:r.top/i,bottom:r.bottom/i,left:r.left/i,right:r.right/i,width:r.width/i,height:r.height/i})}function n(r,i){var a,s=0,c=1024;if(c>=i.length)return Array.prototype.push.apply(r,i);for(;s<i.length;)a=Array.prototype.push.apply(r,Array.prototype.slice.call(i,s,s+c)),s+=c;return a}return t.getClientRects=function(r){var i,a,s,c,u,d=this.isBroken();if(d.ieZoom)return o(r.getClientRects());if(!d.getClientRects)return r.getClientRects();i=[],s=[],a=r.endContainer,c=r.endOffset,u=document.createRange();function p(f){for(var g=0;f=f.previousSibling;)g++;return g}for(;a!==r.commonAncestorContainer;)u.setStart(a,0),u.setEnd(a,c),n(s,u.getClientRects()),c=p(a),a=a.parentNode;return u=r.cloneRange(),u.setEnd(a,c),n(i,u.getClientRects()),n(i,s),i},t.getBoundingClientRect=function(r){var i,a,s,c,u,d,p=this.getClientRects(r);if(p.length===0)return null;if(u=r.getBoundingClientRect(),d=this.isBroken(),d.ieZoom)return o(u);if(!d.getBoundingClientRect)return u;if(u.width===0&&u.height===0)return p[0];for(i=0,a=p.length;i<a;i++)c=p[i],s?(s.left=Math.min(s.left,c.left),s.top=Math.min(s.top,c.top),s.right=Math.max(s.right,c.right),s.bottom=Math.max(s.bottom,c.bottom)):s={left:c.left,top:c.top,right:c.right,bottom:c.bottom};return s&&(s.width=s.right-s.left,s.height=s.bottom-s.top),s},t})});var W0=Ie((Bke,V0)=>{"use strict";l();var p8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";V0.exports=p8});var H0=Ie((Vke,G0)=>{"use strict";l();var f8=W0();function F0(){}function q0(){}q0.resetWarningCache=F0;G0.exports=function(){function e(n,r,i,a,s,c){if(c!==f8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q0,resetWarningCache:F0};return o.PropTypes=o,o}});var K0=Ie((Gke,X0)=>{l();X0.exports=H0()();var Fke,qke});var J0=Ie(Lv=>{"use strict";l();Object.defineProperty(Lv,"__esModule",{value:!0});var Tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},g8=function(){function e(t,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),Z0=R(),sd=$0(Z0),h8=K0(),yo=$0(h8);function $0(e){return e&&e.__esModule?e:{default:e}}function y8(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function v8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function C8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j0={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},S8=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],w8=function(t){return S8.forEach(function(o){return delete t[o]}),t},U0=function(t,o){o.style.fontSize=t.fontSize,o.style.fontFamily=t.fontFamily,o.style.fontWeight=t.fontWeight,o.style.fontStyle=t.fontStyle,o.style.letterSpacing=t.letterSpacing,o.style.textTransform=t.textTransform},Q0=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,Y0=function(){return Q0?"_"+Math.random().toString(36).substr(2,12):void 0},Mv=function(e){C8(t,e);function t(o){v8(this,t);var n=b8(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return n.inputRef=function(r){n.input=r,typeof n.props.inputRef=="function"&&n.props.inputRef(r)},n.placeHolderSizerRef=function(r){n.placeHolderSizer=r},n.sizerRef=function(r){n.sizer=r},n.state={inputWidth:o.minWidth,inputId:o.id||Y0()},n}return g8(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){var r=n.id;r!==this.props.id&&this.setState({inputId:r||Y0()})}},{key:"componentDidUpdate",value:function(n,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var n=this.input&&window.getComputedStyle(this.input);n&&(U0(n,this.sizer),this.placeHolderSizer&&U0(n,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var n=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?n=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:n=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;n+=r,n<this.props.minWidth&&(n=this.props.minWidth),n!==this.state.inputWidth&&this.setState({inputWidth:n})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var n=this.props.injectStyles;return Q0&&n?sd.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var n=[this.props.defaultValue,this.props.value,""].reduce(function(s,c){return s!=null?s:c}),r=Tv({},this.props.style);r.display||(r.display="inline-block");var i=Tv({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=y8(this.props,[]);return w8(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=i,sd.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),sd.default.createElement("input",Tv({},a,{ref:this.inputRef})),sd.default.createElement("div",{ref:this.sizerRef,style:j0},n),this.props.placeholder?sd.default.createElement("div",{ref:this.placeHolderSizerRef,style:j0},this.props.placeholder):null)}}]),t}(Z0.Component);Mv.propTypes={className:yo.default.string,defaultValue:yo.default.any,extraWidth:yo.default.oneOfType([yo.default.number,yo.default.string]),id:yo.default.string,injectStyles:yo.default.bool,inputClassName:yo.default.string,inputRef:yo.default.func,inputStyle:yo.default.object,minWidth:yo.default.oneOfType([yo.default.number,yo.default.string]),onAutosize:yo.default.func,onChange:yo.default.func,placeholder:yo.default.string,placeholderIsMinWidth:yo.default.bool,style:yo.default.object,value:yo.default.any};Mv.defaultProps={minWidth:1,injectStyles:!0};Lv.default=Mv});var vE=Ie(bb=>{"use strict";l();Object.defineProperty(bb,"__esModule",{value:!0});var zD={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};bb.default={container:zD}});var Cb=Ie(Hc=>{"use strict";l();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.ImageZoomState=Hc.ImageZoomProps=void 0;var VD=function(){function e(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.useHardwareTextureAndroid=!0,this.minScale=.6,this.maxScale=10,this.useNativeDriver=!1,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){},this.onStartShouldSetPanResponder=function(){return!0},this.onPanResponderTerminationRequest=function(){return!1}}return e}();Hc.ImageZoomProps=VD;var WD=function(){function e(){this.centerX=.5,this.centerY=.5}return e}();Hc.ImageZoomState=WD});var CE=Ie(ml=>{"use strict";l();var FD=ml&&ml.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},e(t,o)};return function(t,o){e(t,o);function n(){this.constructor=t}t.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cd=ml&&ml.__assign||function(){return Cd=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cd.apply(this,arguments)};Object.defineProperty(ml,"__esModule",{value:!0});var qg=R(),Nt=(z(),Nd(Bd)),qD=vE(),bE=Cb(),GD=function(e){FD(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.state=new bE.ImageZoomState,o.lastPositionX=null,o.positionX=0,o.animatedPositionX=new Nt.Animated.Value(0),o.lastPositionY=null,o.positionY=0,o.animatedPositionY=new Nt.Animated.Value(0),o.scale=1,o.animatedScale=new Nt.Animated.Value(1),o.zoomLastDistance=null,o.zoomCurrentDistance=0,o.lastTouchStartTime=0,o.horizontalWholeOuterCounter=0,o.swipeDownOffset=0,o.horizontalWholeCounter=0,o.verticalWholeCounter=0,o.centerDiffX=0,o.centerDiffY=0,o.lastClickTime=0,o.doubleClickX=0,o.doubleClickY=0,o.isDoubleClick=!1,o.isLongPress=!1,o.isHorizontalWrap=!1,o.imagePanResponder=Nt.PanResponder.create({onStartShouldSetPanResponder:o.props.onStartShouldSetPanResponder,onPanResponderTerminationRequest:o.props.onPanResponderTerminationRequest,onMoveShouldSetPanResponder:o.props.onMoveShouldSetPanResponder,onPanResponderGrant:function(n){if(o.lastPositionX=null,o.lastPositionY=null,o.zoomLastDistance=null,o.horizontalWholeCounter=0,o.verticalWholeCounter=0,o.lastTouchStartTime=new Date().getTime(),o.isDoubleClick=!1,o.isLongPress=!1,o.isHorizontalWrap=!1,o.singleClickTimeout&&clearTimeout(o.singleClickTimeout),n.nativeEvent.changedTouches.length>1){var r=(n.nativeEvent.changedTouches[0].pageX+n.nativeEvent.changedTouches[1].pageX)/2;o.centerDiffX=r-o.props.cropWidth/2;var i=(n.nativeEvent.changedTouches[0].pageY+n.nativeEvent.changedTouches[1].pageY)/2;o.centerDiffY=i-o.props.cropHeight/2}o.longPressTimeout&&clearTimeout(o.longPressTimeout);var a=n.nativeEvent,s=a.locationX,c=a.locationY,u=a.pageX,d=a.pageY;if(o.longPressTimeout=setTimeout(function(){o.isLongPress=!0,o.props.onLongPress&&o.props.onLongPress({locationX:s,locationY:c,pageX:u,pageY:d})},o.props.longPressTime),n.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-o.lastClickTime<(o.props.doubleClickInterval||0)){if(o.lastClickTime=0,o.doubleClickX=n.nativeEvent.changedTouches[0].pageX,o.doubleClickY=n.nativeEvent.changedTouches[0].pageY,o.props.onDoubleClick&&o.props.onDoubleClick({locationX:n.nativeEvent.changedTouches[0].locationX,locationY:n.nativeEvent.changedTouches[0].locationY,pageX:o.doubleClickX,pageY:o.doubleClickY}),clearTimeout(o.longPressTimeout),o.isDoubleClick=!0,o.props.enableDoubleClickZoom){if(o.scale>1||o.scale<1)o.scale=1,o.positionX=0,o.positionY=0;else{var p=o.scale;o.scale=2;var f=o.scale-p;o.positionX=(o.props.cropWidth/2-o.doubleClickX)*f/o.scale,o.positionY=(o.props.cropHeight/2-o.doubleClickY)*f/o.scale}o.imageDidMove("centerOn"),Nt.Animated.parallel([Nt.Animated.timing(o.animatedScale,{toValue:o.scale,duration:100,useNativeDriver:!!o.props.useNativeDriver}),Nt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}),Nt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver})]).start()}}else o.lastClickTime=new Date().getTime()},onPanResponderMove:function(n,r){if(!o.isDoubleClick){if(n.nativeEvent.changedTouches.length<=1){var i=r.dx-(o.lastPositionX||0);o.lastPositionX===null&&(i=0);var a=r.dy-(o.lastPositionY||0);if(o.lastPositionY===null&&(a=0),o.lastPositionX=r.dx,o.lastPositionY=r.dy,o.horizontalWholeCounter+=i,o.verticalWholeCounter+=a,(Math.abs(o.horizontalWholeCounter)>5||Math.abs(o.verticalWholeCounter)>5)&&clearTimeout(o.longPressTimeout),o.props.panToMove){if(o.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(o.isHorizontalWrap=!0),o.props.imageWidth*o.scale>o.props.cropWidth){o.horizontalWholeOuterCounter>0?i<0?o.horizontalWholeOuterCounter>Math.abs(i)?(o.horizontalWholeOuterCounter+=i,i=0):(i+=o.horizontalWholeOuterCounter,o.horizontalWholeOuterCounter=0,o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(0)):o.horizontalWholeOuterCounter+=i:o.horizontalWholeOuterCounter<0&&(i>0?Math.abs(o.horizontalWholeOuterCounter)>i?(o.horizontalWholeOuterCounter+=i,i=0):(i+=o.horizontalWholeOuterCounter,o.horizontalWholeOuterCounter=0,o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(0)):o.horizontalWholeOuterCounter+=i),o.positionX+=i/o.scale;var s=(o.props.imageWidth*o.scale-o.props.cropWidth)/2/o.scale;o.positionX<-s?(o.positionX=-s,o.horizontalWholeOuterCounter+=-1/1e10):o.positionX>s&&(o.positionX=s,o.horizontalWholeOuterCounter+=1/1e10),o.animatedPositionX.setValue(o.positionX)}else o.horizontalWholeOuterCounter+=i;o.horizontalWholeOuterCounter>(o.props.maxOverflow||0)?o.horizontalWholeOuterCounter=o.props.maxOverflow||0:o.horizontalWholeOuterCounter<-(o.props.maxOverflow||0)&&(o.horizontalWholeOuterCounter=-(o.props.maxOverflow||0)),o.horizontalWholeOuterCounter!==0&&o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(o.horizontalWholeOuterCounter)}o.props.imageHeight*o.scale>o.props.cropHeight?(o.positionY+=a/o.scale,o.animatedPositionY.setValue(o.positionY)):o.props.enableSwipeDown&&!o.isHorizontalWrap&&(o.swipeDownOffset+=a,o.swipeDownOffset>0&&(o.positionY+=a/o.scale,o.animatedPositionY.setValue(o.positionY),o.scale=o.scale-a/1e3,o.animatedScale.setValue(o.scale)))}}else if(o.longPressTimeout&&clearTimeout(o.longPressTimeout),o.props.pinchToZoom){var c=void 0,u=void 0;n.nativeEvent.changedTouches[0].locationX>n.nativeEvent.changedTouches[1].locationX?(c=n.nativeEvent.changedTouches[1].pageX,u=n.nativeEvent.changedTouches[0].pageX):(c=n.nativeEvent.changedTouches[0].pageX,u=n.nativeEvent.changedTouches[1].pageX);var d=void 0,p=void 0;n.nativeEvent.changedTouches[0].locationY>n.nativeEvent.changedTouches[1].locationY?(d=n.nativeEvent.changedTouches[1].pageY,p=n.nativeEvent.changedTouches[0].pageY):(d=n.nativeEvent.changedTouches[0].pageY,p=n.nativeEvent.changedTouches[1].pageY);var f=u-c,g=p-d,b=Math.sqrt(f*f+g*g);if(o.zoomCurrentDistance=Number(b.toFixed(1)),o.zoomLastDistance!==null){var v=(o.zoomCurrentDistance-o.zoomLastDistance)/200,C=o.scale+v;C<(o.props.minScale||0)&&(C=o.props.minScale||0),C>(o.props.maxScale||0)&&(C=o.props.maxScale||0);var w=o.scale;o.scale=C,o.animatedScale.setValue(o.scale);var k=o.scale-w;o.positionX-=o.centerDiffX*k/o.scale,o.positionY-=o.centerDiffY*k/o.scale,o.animatedPositionX.setValue(o.positionX),o.animatedPositionY.setValue(o.positionY)}o.zoomLastDistance=o.zoomCurrentDistance}o.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(n,r){if(o.longPressTimeout&&clearTimeout(o.longPressTimeout),!o.isDoubleClick&&!o.isLongPress){var i=Math.sqrt(r.dx*r.dx+r.dy*r.dy),a=n.nativeEvent,s=a.locationX,c=a.locationY,u=a.pageX,d=a.pageY;n.nativeEvent.changedTouches.length===1&&i<(o.props.clickDistance||0)?o.singleClickTimeout=setTimeout(function(){o.props.onClick&&o.props.onClick({locationX:s,locationY:c,pageX:u,pageY:d})},o.props.doubleClickInterval):(o.props.responderRelease&&o.props.responderRelease(r.vx,o.scale),o.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}}),o.resetScale=function(){o.positionX=0,o.positionY=0,o.scale=1,o.animatedScale.setValue(1)},o.panResponderReleaseResolve=function(){if(o.props.enableSwipeDown&&o.props.swipeDownThreshold&&o.swipeDownOffset>o.props.swipeDownThreshold){o.props.onSwipeDown&&o.props.onSwipeDown();return}if(o.props.enableCenterFocus&&o.scale<1&&(o.scale=1,Nt.Animated.timing(o.animatedScale,{toValue:o.scale,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageWidth*o.scale<=o.props.cropWidth&&(o.positionX=0,Nt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageHeight*o.scale<=o.props.cropHeight&&(o.positionY=0,Nt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageHeight*o.scale>o.props.cropHeight){var n=(o.props.imageHeight*o.scale-o.props.cropHeight)/2/o.scale;o.positionY<-n?o.positionY=-n:o.positionY>n&&(o.positionY=n),Nt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()}if(o.props.imageWidth*o.scale>o.props.cropWidth){var r=(o.props.imageWidth*o.scale-o.props.cropWidth)/2/o.scale;o.positionX<-r?o.positionX=-r:o.positionX>r&&(o.positionX=r),Nt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()}o.props.enableCenterFocus&&o.scale===1&&(o.positionX=0,o.positionY=0,Nt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start(),Nt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.horizontalWholeOuterCounter=0,o.swipeDownOffset=0,o.imageDidMove("onPanResponderRelease")},o}return t.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},t.prototype.componentDidUpdate=function(o){(this.props.centerOn&&!o.centerOn||this.props.centerOn&&o.centerOn&&this.didCenterOnChange(o.centerOn,this.props.centerOn))&&this.centerOn(this.props.centerOn)},t.prototype.imageDidMove=function(o){this.props.onMove&&this.props.onMove({type:o,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},t.prototype.didCenterOnChange=function(o,n){return o.x!==n.x||o.y!==n.y||o.scale!==n.scale},t.prototype.centerOn=function(o){var n=this;this.positionX=o.x,this.positionY=o.y,this.scale=o.scale;var r=o.duration||300;Nt.Animated.parallel([Nt.Animated.timing(this.animatedScale,{toValue:this.scale,duration:r,useNativeDriver:!!this.props.useNativeDriver}),Nt.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:r,useNativeDriver:!!this.props.useNativeDriver}),Nt.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:r,useNativeDriver:!!this.props.useNativeDriver})]).start(function(){n.imageDidMove("centerOn")})},t.prototype.handleLayout=function(o){this.props.layoutChange&&this.props.layoutChange(o)},t.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},t.prototype.render=function(){var o={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},n=Nt.StyleSheet.flatten(this.props.style);return qg.createElement(Nt.View,{style:Cd(Cd(Cd({},qD.default.container),n),{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},qg.createElement(Nt.Animated.View,{style:o,renderToHardwareTextureAndroid:this.props.useHardwareTextureAndroid},qg.createElement(Nt.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},t.defaultProps=new bE.ImageZoomProps,t}(qg.Component);ml.default=GD});var SE=Ie(hs=>{"use strict";l();var HD=hs&&hs.__createBinding||(Object.create?function(e,t,o,n){n===void 0&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){n===void 0&&(n=o),e[n]=t[o]}),XD=hs&&hs.__exportStar||function(e,t){for(var o in e)o!=="default"&&!t.hasOwnProperty(o)&&HD(t,e,o)};Object.defineProperty(hs,"__esModule",{value:!0});var KD=CE();hs.default=KD.default;XD(Cb(),hs)});var Sb=Ie(Gg=>{"use strict";l();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=function(e,t,o){return{modalContainer:{backgroundColor:o,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:e,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:o},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:e,height:t,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:e,height:t,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:e,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:e,height:t},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};Gg.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var xb=Ie(Hg=>{"use strict";l();Object.defineProperty(Hg,"__esModule",{value:!0});var wb=R(),kb=(z(),Nd(Bd)),wE=Sb(),jD=function(){function e(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.useNativeDriver=!1,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(t,o){return wb.createElement(kb.View,{style:wE.simpleStyle.count},wb.createElement(kb.Text,{style:wE.simpleStyle.countText},t+"/"+o))},this.renderImage=function(t){return wb.createElement(kb.Image,t)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return e}();Hg.Props=jD;var UD=function(){function e(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return e}();Hg.State=UD});var OE=Ie(Pa=>{"use strict";l();var YD=Pa&&Pa.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(t,o){e(t,o);function n(){this.constructor=t}t.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),pl=Pa&&Pa.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ZD=Pa&&Pa.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(o[n[r]]=e[n[r]]);return o};Object.defineProperty(Pa,"__esModule",{value:!0});var Ke=R(),ge=(z(),Nd(Bd)),kE=SE(),xE=Sb(),Ob=xb(),$D=function(e){YD(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.state=new Ob.State,o.fadeAnim=new ge.Animated.Value(0),o.standardPositionX=0,o.positionXNumber=0,o.positionX=new ge.Animated.Value(0),o.width=0,o.height=0,o.styles=xE.default(0,0,"transparent"),o.hasLayout=!1,o.loadedIndex=new Map,o.handleLongPressWithIndex=new Map,o.imageRefs=[],o.resetImageByIndex=function(n){o.imageRefs[n]&&o.imageRefs[n].reset()},o.preloadImage=function(n){n<o.state.imageSizes.length&&o.loadImage(n+1)},o.handleHorizontalOuterRangeOffset=function(n){n===void 0&&(n=0),o.positionXNumber=o.standardPositionX+n,o.positionX.setValue(o.positionXNumber);var r=ge.I18nManager.isRTL?-n:n;r<0?(o.state.currentShowIndex||0<o.props.imageUrls.length-1)&&o.loadImage((o.state.currentShowIndex||0)+1):r>0&&(o.state.currentShowIndex||0>0)&&o.loadImage((o.state.currentShowIndex||0)-1)},o.handleResponderRelease=function(n){n===void 0&&(n=0);var r=ge.I18nManager.isRTL?-n:n,i=ge.I18nManager.isRTL?o.positionXNumber-o.standardPositionX<-(o.props.flipThreshold||0):o.positionXNumber-o.standardPositionX>(o.props.flipThreshold||0),a=ge.I18nManager.isRTL?o.positionXNumber-o.standardPositionX>(o.props.flipThreshold||0):o.positionXNumber-o.standardPositionX<-(o.props.flipThreshold||0);if(r>.7){o.goBack.call(o),(o.state.currentShowIndex||0>0)&&o.loadImage((o.state.currentShowIndex||0)-1);return}else if(r<-.7){o.goNext.call(o),(o.state.currentShowIndex||0<o.props.imageUrls.length-1)&&o.loadImage((o.state.currentShowIndex||0)+1);return}if(i)o.goBack.call(o);else if(a){o.goNext.call(o);return}else{o.resetPosition.call(o);return}},o.goBack=function(){if(o.state.currentShowIndex===0){o.resetPosition.call(o);return}o.positionXNumber=ge.I18nManager.isRTL?o.standardPositionX-o.width:o.standardPositionX+o.width,o.standardPositionX=o.positionXNumber,ge.Animated.timing(o.positionX,{toValue:o.positionXNumber,duration:o.props.pageAnimateTime,useNativeDriver:!!o.props.useNativeDriver}).start();var n=(o.state.currentShowIndex||0)-1;o.setState({currentShowIndex:n},function(){o.props.onChange&&o.props.onChange(o.state.currentShowIndex)})},o.goNext=function(){if(o.state.currentShowIndex===o.props.imageUrls.length-1){o.resetPosition.call(o);return}o.positionXNumber=ge.I18nManager.isRTL?o.standardPositionX+o.width:o.standardPositionX-o.width,o.standardPositionX=o.positionXNumber,ge.Animated.timing(o.positionX,{toValue:o.positionXNumber,duration:o.props.pageAnimateTime,useNativeDriver:!!o.props.useNativeDriver}).start();var n=(o.state.currentShowIndex||0)+1;o.setState({currentShowIndex:n},function(){o.props.onChange&&o.props.onChange(o.state.currentShowIndex)})},o.handleLongPress=function(n){o.props.saveToLocalByLongPress&&o.setState({isShowMenu:!0}),o.props.onLongPress&&o.props.onLongPress(n)},o.handleClick=function(){o.props.onClick&&o.props.onClick(o.handleCancel,o.state.currentShowIndex)},o.handleDoubleClick=function(){o.props.onDoubleClick&&o.props.onDoubleClick(o.handleCancel)},o.handleCancel=function(){o.hasLayout=!1,o.props.onCancel&&o.props.onCancel()},o.handleLayout=function(n){n.nativeEvent.layout.width!==o.width&&(o.hasLayout=!0,o.width=n.nativeEvent.layout.width,o.height=n.nativeEvent.layout.height,o.styles=xE.default(o.width,o.height,o.props.backgroundColor||"transparent"),o.forceUpdate(),o.jumpToCurrentImage())},o.saveToLocal=function(){o.props.onSave?o.props.onSave(o.props.imageUrls[o.state.currentShowIndex||0].url):(ge.CameraRoll.saveToCameraRoll(o.props.imageUrls[o.state.currentShowIndex||0].url),o.props.onSaveToCamera(o.state.currentShowIndex)),o.setState({isShowMenu:!1})},o.handleLeaveMenu=function(){o.setState({isShowMenu:!1})},o.handleSwipeDown=function(){o.props.onSwipeDown&&o.props.onSwipeDown(),o.handleCancel()},o}return t.prototype.componentDidMount=function(){this.init(this.props)},t.getDerivedStateFromProps=function(o,n){return o.index!==n.prevIndexProp?{currentShowIndex:o.index,prevIndexProp:o.index}:null},t.prototype.componentDidUpdate=function(o,n){o.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),ge.Animated.timing(this.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!this.props.useNativeDriver}).start())},t.prototype.init=function(o){var n=this;if(o.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new Ob.State);var r=[];o.imageUrls.forEach(function(i){r.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:o.index,prevIndexProp:o.index||0,imageSizes:r},function(){n.loadImage(o.index||0),n.jumpToCurrentImage(),ge.Animated.timing(n.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!o.useNativeDriver}).start()})},t.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(ge.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},t.prototype.loadImage=function(o){var n=this;if(this.state.imageSizes[o]&&!this.loadedIndex.has(o)){this.loadedIndex.set(o,!0);var r=this.props.imageUrls[o],i=pl({},this.state.imageSizes[o]),a=function(){if(!(n.state.imageSizes[o]&&n.state.imageSizes[o].status!=="loading")){var u=n.state.imageSizes.slice();u[o]=i,n.setState({imageSizes:u})}};if(this.state.imageSizes[o].status!=="success"){if(this.state.imageSizes[o].width>0&&this.state.imageSizes[o].height>0){i.status="success",a();return}var s=!1,c=!1;if((!r.url||r.url.startsWith("file:"))&&(c=!0),r.width&&r.height){this.props.enablePreload&&c===!1&&ge.Image.prefetch(r.url),i.width=r.width,i.height=r.height,i.status="success",a();return}ge.Image.getSize(r.url,function(u,d){i.width=u,i.height=d,i.status="success",a()},function(){try{var u=ge.Image.resolveAssetSource(r.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(d){i.status="fail",a()}})}}},t.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,ge.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150,useNativeDriver:!!this.props.useNativeDriver}).start()},t.prototype.getContent=function(){var o=this,n=this.width,r=this.height,i=this.props.imageUrls.map(function(a,s){if((o.state.currentShowIndex||0)>s+1||(o.state.currentShowIndex||0)<s-1)return Ke.createElement(ge.View,{key:s,style:{width:n,height:r}});o.handleLongPressWithIndex.has(s)||o.handleLongPressWithIndex.set(s,o.handleLongPress.bind(o,a));var c=o.state.imageSizes[s]&&o.state.imageSizes[s].width,u=o.state.imageSizes[s]&&o.state.imageSizes[s].height,d=o.state.imageSizes[s];if(!d||!d.status)return Ke.createElement(ge.View,{key:s,style:{width:n,height:r}});if(c>n){var p=n/c;c*=p,u*=p}if(u>r){var f=r/u;c*=f,u*=f}var g=function(b){var v=b.children,C=ZD(b,["children"]);return Ke.createElement(kE.default,{cropWidth:o.width,cropHeight:o.height,maxOverflow:o.props.maxOverflow,horizontalOuterRangeOffset:o.handleHorizontalOuterRangeOffset,responderRelease:o.handleResponderRelease,onMove:o.props.onMove,onLongPress:o.handleLongPressWithIndex.get(s),onClick:o.handleClick,onDoubleClick:o.handleDoubleClick,enableSwipeDown:o.props.enableSwipeDown,swipeDownThreshold:o.props.swipeDownThreshold,onSwipeDown:o.handleSwipeDown,pinchToZoom:o.props.enableImageZoom,enableDoubleClickZoom:o.props.enableImageZoom,doubleClickInterval:o.props.doubleClickInterval,...C},v)};switch(d.status){case"loading":return Ke.createElement(g,{key:s,style:pl({},o.styles.modalContainer,o.styles.loadingContainer),imageWidth:n,imageHeight:r},Ke.createElement(ge.View,{style:o.styles.loadingContainer},o.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=pl({},o.styles.imageStyle,a.props.style,{width:c,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=pl({uri:a.url},a.props.source)),o.props.enablePreload&&o.preloadImage(o.state.currentShowIndex||0),Ke.createElement(kE.default,{key:s,ref:function(b){return o.imageRefs[s]=b},cropWidth:o.width,cropHeight:o.height,maxOverflow:o.props.maxOverflow,horizontalOuterRangeOffset:o.handleHorizontalOuterRangeOffset,responderRelease:o.handleResponderRelease,onMove:o.props.onMove,onLongPress:o.handleLongPressWithIndex.get(s),onClick:o.handleClick,onDoubleClick:o.handleDoubleClick,imageWidth:c,imageHeight:u,enableSwipeDown:o.props.enableSwipeDown,swipeDownThreshold:o.props.swipeDownThreshold,onSwipeDown:o.handleSwipeDown,panToMove:!o.state.isShowMenu,pinchToZoom:o.props.enableImageZoom&&!o.state.isShowMenu,enableDoubleClickZoom:o.props.enableImageZoom&&!o.state.isShowMenu,doubleClickInterval:o.props.doubleClickInterval,minScale:o.props.minScale,maxScale:o.props.maxScale},o.props.renderImage(a.props));case"fail":return Ke.createElement(g,{key:s,style:o.styles.modalContainer,imageWidth:o.props.failImageSource?o.props.failImageSource.width:n,imageHeight:o.props.failImageSource?o.props.failImageSource.height:r},o.props.failImageSource&&o.props.renderImage({source:{uri:o.props.failImageSource.url},style:{width:o.props.failImageSource.width,height:o.props.failImageSource.height}}))}});return Ke.createElement(ge.Animated.View,{style:{zIndex:9}},Ke.createElement(ge.Animated.View,{style:pl({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),Ke.createElement(ge.View,{style:this.styles.arrowLeftContainer},Ke.createElement(ge.TouchableWithoutFeedback,{onPress:this.goBack},Ke.createElement(ge.View,null,this.props.renderArrowLeft()))),Ke.createElement(ge.View,{style:this.styles.arrowRightContainer},Ke.createElement(ge.TouchableWithoutFeedback,{onPress:this.goNext},Ke.createElement(ge.View,null,this.props.renderArrowRight()))),Ke.createElement(ge.Animated.View,{style:pl({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&Ke.createElement(ge.View,{style:this.styles.watchOrigin},Ke.createElement(ge.TouchableOpacity,{style:this.styles.watchOriginTouchable},Ke.createElement(ge.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),Ke.createElement(ge.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},t.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?Ke.createElement(ge.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):Ke.createElement(ge.View,{style:this.styles.menuContainer},Ke.createElement(ge.View,{style:this.styles.menuShadow}),Ke.createElement(ge.View,{style:this.styles.menuContent},Ke.createElement(ge.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},Ke.createElement(ge.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),Ke.createElement(ge.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},Ke.createElement(ge.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},t.prototype.render=function(){var o=null;return o=Ke.createElement(ge.View,null,this.getContent(),this.getMenu()),Ke.createElement(ge.View,{onLayout:this.handleLayout,style:pl({flex:1,overflow:"hidden"},this.props.style)},o)},t.defaultProps=new Ob.Props,t}(Ke.Component);Pa.default=$D});var _E=Ie(Sd=>{"use strict";l();Object.defineProperty(Sd,"__esModule",{value:!0});var RE=OE();Sd.ImageViewer=RE.default;var QD=xb();Sd.ImageViewerPropsDefine=QD.Props;Sd.default=RE.default});var x6=Ie((U2e,D4)=>{D4.exports="https://app.gitbook.com/public/app/assets/default-page-cover-K4LPTE6Y.png"});l();l();(function(){"use strict";var e="ListFormat"in Intl;function t(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function o(W,Z){for(var X=0;X<Z.length;X++){var $=Z[X];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,$.key,$)}}function n(W,Z,X){return Z&&o(W.prototype,Z),X&&o(W,X),W}var r=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function s(W){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(X){return typeof X}:s=function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s(W)}function c(W){return typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?c=function(X){return s(X)}:c=function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":s(X)},c(W)}function u(W){if(W==null)throw new TypeError("Argument ".concat(W," cannot be converted to an Object"));return typeof W=="boolean"?new Boolean(W):typeof W=="number"?new Number(W):typeof W=="string"?new String(W):c(W)==="symbol"?new Object(W):W}var d;function p(W){d=W}function f(){return d}function g(){if(d==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return d}var b=new WeakMap,v={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function C(W,Z,X){var $=b.get(W);$==null&&($=Object.create(null),b.set(W,$)),$[Z]=X}function w(W,Z){var X=b.get(W);if(X==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return X[Z]}function k(W,Z){var X=b.get(W);return X!=null&&Z in X}var I=/-u(?:-[0-9a-z]{2,8})+/gi;function _(W){return W.replace(I,"")}function P(W,Z){for(var X=Z;;){if(W.includes(X))return X;var $=X.lastIndexOf("-");if($===-1)return;$>=2&&X.charAt($-2)==="-"&&($-=2),X=X.slice(0,$)}}function M(W,Z){var X=[],$=!0,be=!1,Me=void 0;try{for(var It=Z[Symbol.iterator](),je;!($=(je=It.next()).done);$=!0){var lt=je.value,ct=_(lt),qt=P(W,ct);qt!==void 0&&X.push(lt)}}catch(gn){be=!0,Me=gn}finally{try{!$&&It.return!=null&&It.return()}finally{if(be)throw Me}}return X}function T(W,Z){return M(W,Z)}function V(W){return typeof W=="string"||c(W)==="symbol"}function K(W,Z){if(c(W)!=="object")throw new TypeError("Given argument ".concat(W," must be of type Object"));if(!V(Z))throw new TypeError("Given argument ".concat(Z," must be a PropertyKey"));return W[Z]}function U(W){return Boolean(W)}function F(W){return W+""}function H(W,Z,X,$,be){var Me=K(W,Z);if(Me!==void 0){if(X!=="boolean"&&X!=="string")throw new TypeError("Expected type ".concat(X," to be 'boolean' or 'string"));if(X==="boolean"&&(Me=U(Me)),X==="string"&&(Me=F(Me)),$!==void 0&&!$.includes(Me))throw new RangeError("Value ".concat(Me," out of range for options property ").concat(Z));return Me}else return be}function Q(W,Z,X){var $;return X!==void 0?(X=u(X),$=H(X,"localeMatcher","string",a,"best fit")):$="best fit",$==="best fit"?T(W,Z):M(W,Z)}function ae(W){var Z=W.availableLocales,X=W.requestedLocales,$=Object.create(null),be=!0,Me=!1,It=void 0;try{for(var je=X[Symbol.iterator](),lt;!(be=(lt=je.next()).done);be=!0){var ct=lt.value,qt=_(ct),gn=P(Z,qt);if(gn!==void 0){if($.locale=gn,ct!==qt){var sr=ct.match(I);$.extension=sr==null?"":sr[0]}return $}}}catch(ta){Me=!0,It=ta}finally{try{!be&&je.return!=null&&je.return()}finally{if(Me)throw It}}var Br=g();return $.locale=Br,$}function Be(W){return ae(W)}function at(W,Z,X,$,be){var Me=X.localeMatcher,It=Me==="lookup"?ae({availableLocales:W,requestedLocales:Z}):Be({availableLocales:W,requestedLocales:Z}),je=It.locale,lt=Object.create(null);lt.dataLocale=je;var ct="-u";if(ct.length>2){var qt=String.prototype.indexOf.call(je,"-x-");if(qt===-1)je="".concat(je).concat(ct);else{var gn=je.slice(0,qt),sr=je.slice(qt);je="".concat(gn).concat(ct).concat(sr)}je=Intl.getCanonicalLocales(je)[0]}return lt.locale=je,lt}function Tn(W){if(Array.isArray(W)){for(var Z=0,X=new Array(W.length);Z<W.length;Z++)X[Z]=W[Z];return X}}function No(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}function co(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Nr(W){return Tn(W)||No(W)||co()}function rr(W){if(W===void 0)return[];var Z=Nr(W);if(Z.some(function(X){return typeof X!="string"}))throw new TypeError("All List items must be strings");return Z}function Dr(W){return Object.prototype.toString.call(W)==="[object Object]"}function ir(W){return Array.isArray(W)||Dr(W)}function uo(W,Z){for(var X=[],$=String.prototype.indexOf.call(W,"{",0),be=0,Me=W.length;W[$]!==void 0;){var It=String.prototype.indexOf.call(W,"}",$);if(It<=$)throw new TypeError("Expected endIndex: ".concat(It," to be greater than beginIndex: ").concat($));if($>be){var je=W.slice(be,$);X.push({type:"literal",value:je})}var lt=W.slice($+1,It);if(Z[Number(lt)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(lt));var ct=Z[Number(lt)];if(ir(ct.value)){var qt=!0,gn=!1,sr=void 0;try{for(var Br=ct.value[Symbol.iterator](),ta;!(qt=(ta=Br.next()).done);qt=!0){var wh=ta.value;X.push(wh)}}catch(kh){gn=!0,sr=kh}finally{try{!qt&&Br.return!=null&&Br.return()}finally{if(gn)throw sr}}}else X.push(ct);be=It+1,$=String.prototype.indexOf.call(W,"{",be)}if(be<Me){var ou=W.slice(be,Me);X.push({type:"literal",value:ou})}return X}function Do(W,Z){var X,$=Z.length;if($===0)return[];if($===2){X=w(W,"templatePair");var be={type:"element",value:Z[0]},Me={type:"element",value:Z[1]},It={0:be,1:Me};return uo(X,It)}for(var je={type:"element",value:Z[$-1]},lt=[je],ct=$-2;ct>=0;){ct===0?X=w(W,"templateStart"):ct<$-2?X=w(W,"templateMiddle"):X=w(W,"templateEnd");var qt={type:"element",value:Z[ct]},gn={type:"element",value:lt},sr={0:qt,1:gn};lt=uo(X,sr),ct--}return lt}function Ar(W,Z){var X=Do(W,Z),$="",be=!0,Me=!1,It=void 0;try{for(var je=X[Symbol.iterator](),lt;!(be=(lt=je.next()).done);be=!0){var ct=lt.value;$+=ct.value}}catch(qt){Me=!0,It=qt}finally{try{!be&&je.return!=null&&je.return()}finally{if(Me)throw It}}return $}function ar(W,Z){return Do(W,Z)}var So=function(){function W(){t(this,W);var Z=arguments[0],X=arguments[1];if((this instanceof W?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var $=Intl.getCanonicalLocales(Z);X=X===void 0?Object.create(null):u(X);var be=Object.create(null),Me=H(X,"localeMatcher","string",a,"best fit");be.localeMatcher=Me;var It=H(X,"type","string",r,"conjunction");C(this,"type",It);var je=H(X,"style","string",i,"long");C(this,"style",je);var lt=v.localeData,ct=at(v.availableLocales,$,be),qt=ct.dataLocale,gn=lt[qt],sr=gn.formats[It],Br=sr[je];C(this,"templatePair",Br.Pair),C(this,"templateStart",Br.Start),C(this,"templateMiddle",Br.Middle),C(this,"templateEnd",Br.End),C(this,"locale",ct.locale),C(this,"initializedListFormat",this)}return n(W,[{key:"format",value:function(X){var $=this;if(!($ instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!k($,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var be=rr(X);return Ar($,be)}},{key:"formatToParts",value:function(X){var $=this;if(!($ instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!k($,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var be=rr(X);return ar($,be)}},{key:"resolvedOptions",value:function(){var X=this;if(!(X instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!k(X,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var $=w(this,"locale"),be=w(this,"type"),Me=w(this,"style");return{locale:$,type:be,style:Me}}}],[{key:"supportedLocalesOf",value:function(X){var $=arguments[1],be=v.availableLocales,Me=Intl.getCanonicalLocales(X);return Q(be,Me,$)}},{key:"__addLocaleData",value:function(X){var $=X.data,be=X.locale,Me=f();Me==null&&p(be),v.localeData[be]=$,v.availableLocales.includes(be)||v.availableLocales.push(be)}}]),W}();Object.defineProperty(So.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function st(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=So}e||st()})();l();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});z();l();l();function Rw(e){return kl().collection("space-content-refs").where("references","array-contains-any",e.map(t=>typeof t=="string"?t:Xd(t)))}l();function tM(e){return kl().collection("spaces").doc(e).collection("redirects")}function _w(e,t){return tM(e).doc(qC(t))}l();var oM=x(S1());var nM=Ue("database:revisions:diff");function Jh(e,t){let o=[];return t.forEach(n=>{let r=e[n];if(!r){nM.warning(`Couldn't find page ${n} although it is referenced. This may indicate a bad page tree normalization.`);return}o.push({renderKey:n,page:r,pages:r.kind==="link"?[]:Jh(e,r.pages)})}),o}l();async function ty(e,t={},o){let n=new Ih(o);switch(e.kind){case"user":{let r=await n.getDocument(xl(e.user));return r?{text:r.displayName,target:{type:"user",user:r.uid},extra:{user:r}}:null}case"space":{let r=await n.getDocument(hn(e.space));return r?{text:r.title,target:{type:"space",organization:r.organization,space:r.key,page:""},extra:{space:r}}:null}case"collection":{let r=await n.getDocument(Gd(e.collection));return r?{text:r.title,target:{type:"collection",organization:r.organization,collection:r.key}}:null}case"page":{let r=await ey(e,t,n);if(!r)return null;let i=r.pages[e.page];if(!i)return null;if(i.kind==="link"){let a=await ty(i.ref,{space:r.space},n);return a?{text:i.title,target:a.target}:null}return{text:i.title,target:{type:"space",space:r.space,page:Ye(r,i.key)},extra:{page:i}}}case"anchor":{let r=e.page||t.page;if(!r)throw new Error("Cannot resolve an anchor ref without a page context");let i=await ey(e,t,n);if(!i)return null;let a=i.pages[r];if(!a||a.kind!=="sheet"||!a.sheet)return null;let s=await R1(i.space,a.sheet,{reader:n}),{document:c}=Nl(s.body),d=Ml(c).find(p=>p.anchor===e.anchor);return{text:(d==null?void 0:d.title)||e.anchor,target:{type:"space",space:i.space,page:Ye(i,a.key),hash:e.anchor}}}case"file":{let r=await ey(e,t,n);if(!r)return null;let i=r.files[e.file];return i?{text:i.name,target:ma(i.downloadURL),extra:{file:i}}:null}case"url":return La(e.url)?{text:e.url,target:Ol(e.url,{sortQueryParameters:!1})}:null;default:Pt(e)}}async function ey(e,t,o){let n=("space"in e?e.space:null)||t.space;if(!n)throw new Error("Cannot resolve a page/anchor/file ref without a space context");if(t.revision&&n===t.space)return await Ud(n,t.revision,{reader:o});let r=await o.getDocument(hn(n));return r?await Ud(r.key,r.revision,{reader:o}):null}async function Km(e,t={},o){let n=new Ih(o);if(e.type==="legacy_space"){let r=await rM(e,n);if(!r)return null;e=r}switch(e.type){case"space":{if(!e.page)return{kind:"space",space:e.space};let r=await n.getDocument(hn(e.space));if(!r)return null;let i=await Ud(r.key,r.revision,{reader:n});if(!i)return null;let a=i1(i,e.page);return a?e.hash?{kind:"anchor",space:r.key!==t.space?r.key:void 0,page:a.key!==t.page?a.key:void 0,anchor:e.hash}:{kind:"page",space:r.key!==t.space?r.key:void 0,page:a.key}:null}case"collection":return{kind:"collection",collection:e.collection};case"user":return{kind:"user",user:e.user}}return null}async function rM(e,t){let o=await t.getDocument(N1(e.basename));if(!o)return null;let n=await t.getDocument(B1(o,e.space));if(!n)return null;if(n.type==="space")return{type:"space",space:n.space,page:e.page};if(e.page){let r=await t.getDocument(Gd(n.collection));if(r!=null&&r.primarySpace)return{type:"space",space:r.primarySpace,page:e.page}}return{type:"collection",collection:n.collection}}function Iw(e,t){return!(!t.revision&&e.kind==="page"&&!e.space)}l();var Pw=x(YT());function iM(){return kl().collection("embeds")}function Ew(e){let t=Pw.default.sha256().update(e).digest("hex");return iM().doc(t)}l();function aM(e){return hn(e).collection("comments")}function Tw(e){let t=aM(e.space);return typeof e.page<"u"&&(t=t.where("page","==",e.page)),typeof e.changeRequest<"u"&&(t=t.where("changeRequest","==",e.changeRequest)),typeof e.node<"u"&&(t=t.where("node","==",e.node)),t}l();function sM(e,t){return FC().ref(`/edit-sessions/${e}/${t}`)}function jm(e,t,o){return sM(e,t).child("page-locks").child(o)}l();function Mw(e){return!!e.collection&&!!e.inheritCustomization}l();function lM(e){return hn(e).collection("page-feedbacks")}function Lw(e,t){return lM(e).doc(t)}function cM(e,t){return Lw(e,t).collection("feedbacks")}function oy(e,t,o){return cM(e,t).doc(o)}function Nw(e,t){let o=oy(t.space,t.page,t.visitorId),n=Lw(t.space,t.page);e.set(o,{visitorId:t.visitorId,rating:t.rating,createdAt:lr.firestore.Timestamp.now(),revision:t.revision,page:t.page}),e.set(n,{[t.rating]:lr.firestore.FieldValue.increment(1),updatedAt:lr.firestore.Timestamp.now()},{merge:!0}),t.previousRating&&e.update(n,{[t.previousRating]:lr.firestore.FieldValue.increment(-1)})}l();var uM=new Al(hm,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"name",weight:.7},{name:"keywords",weight:.3}]});function Um(e){return uM.search(e).map(t=>t.item)}l();function Ym(e){let{r:t,g:o,b:n}=tS(e);return Math.sqrt(.299*(t*t)+.587*(o*o)+.114*(n*n))>150?"light":"dark"}l();var Jl=x(R()),Zm=x(eM());function Dw(e=2e3){let[t,o]=Jl.useState(!1),n=Jl.useRef(null);return Jl.useEffect(()=>(!t&&typeof window<"u"&&(n.current=setTimeout(()=>(0,Zm.unstable_runWithPriority)(Zm.unstable_IdlePriority,()=>o(!0)),e)),()=>{n.current&&clearTimeout(n.current)}),[]),t}l();var $m=x(R());function Aw(e,t){let[o,n]=$m.useState(e),r=typeof t=="number"?t:t[e];return $m.useEffect(()=>{if(!r)return;let i=setTimeout(()=>{n(e)},r);return()=>{clearTimeout(i)}},[e,r]),r?o:e}l();var Bw=x(R());function zw(){let e=Bw.useRef();return Ba(()=>{e.current=window},[]),e}l();var ec=x(R());function Vw(){let e=ec.useRef(new WeakMap);return ec.useCallback(t=>(e.current.has(t)||e.current.set(t,ec.createRef()),e.current.get(t)),[])}l();var Ww=x(R());function Qm(e,t){let o=dt(e);Ww.default.useEffect(()=>{let n=()=>o.current(),r=window.setTimeout(n,t);return()=>window.clearTimeout(r)},[t])}l();var Fw=x(R()),Jm=0;function tc(e=!0){Fw.useEffect(()=>{if(!e)return;let t=document.documentElement;if(Jm===0){let o=window.innerWidth-t.clientWidth;t.style.overflow="hidden",t.style.paddingRight=`${o}px`}return Jm+=1,()=>{Jm-=1,Jm===0&&(t.style.overflow="auto",t.style.paddingRight="0px")}},[e])}l();var yu=x(R());l();var qw=x(R());function ep(e,t=500){let o=qw.useRef(0);return n=>o.current&&Date.now()-o.current<t?(e(n),o.current=0,!0):(o.current=Date.now(),!1)}l();var zs=x(R()),Gw=zs.default.createContext(zs.default.createRef());function Hw(e){let{children:t}=e,o=zs.default.useRef(!1);return zs.default.useEffect(()=>{let n=()=>{o.current=!0,document.removeEventListener("keydown",n),document.addEventListener("mousedown",r,{capture:!0})},r=()=>{o.current=!1,document.removeEventListener("mousedown",r),document.addEventListener("keydown",n,{capture:!0})};return document.addEventListener("mousedown",r,{capture:!0}),document.addEventListener("keydown",n,{capture:!0}),()=>{document.removeEventListener("keydown",n),document.removeEventListener("mousedown",r)}},[]),zs.default.createElement(Gw.Provider,{value:o},t)}function tp(){return zs.default.useContext(Gw)}function Xw(e){let{anchor:t,children:o,wrapper:n,onClose:r,...i}=e,a=yu.useRef(null);return Xr({...i,onClose:r},a),yu.createElement(Bi,{ref:a,opened:i.opened,anchor:t,wrapper:n},yu.createElement(_m.Provider,{value:r},o))}l();var Wi=x(R());z();function op(e,t={}){let o=Wi.createContext(null);function n(i){let{children:a,...s}=i,c=typeof e=="object"?e:e(i),[u,d]=Wi.useState(c),[p,f]=Wi.useState(!1),g=b=>{let{layout:v}=b.nativeEvent;(!u||t.width!==!1&&v.width!==u.width||t.height!==!1&&v.height!==u.height)&&(d(v),f(!0))};return Wi.createElement(o.Provider,{value:{ready:p,dimensions:u}},Wi.createElement(y,{...s,onLayout:g},a))}function r(){let i=Wi.useContext(o);if(!i||!i.dimensions)throw new Error("Dimensions not available");return[i.dimensions,i.ready]}return{View:n,useDimensions:r}}l();var Vs=x(R());z();l();var np=x(R());z();var dM=G.createResponsiveComponent(Pe);function Kw(e){let[,t]=O(fM),{close:o}=xo(),n=Wl()==="mobile",r=e.closeable||n,i=()=>{e.onClose&&e.onClose(),o(e.id)},a=fr({mount:mM,unmount:pM});return np.createElement(y,{ref:a},np.createElement(dM,{mobileStyle:t.toastMobile,desktopStyle:t.toastDesktop,onPress:()=>{e.onOpen&&e.onOpen(),r&&i()}},np.createElement(zn,{...e,onClose:r?i:void 0,style:t.alert,mainBackground:!0})))}var mM={duration:mt.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},pM={duration:mt.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},fM=L.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:m.small},toastMobile:{width:"100%",minWidth:0},alert:e=>({...e.shadows.pop,borderColor:e.colors.border.main})});function jw(e){let t=oa(vS),o=oa(yS),n=Vs.useRef(null),r=hM[t];return Vs.createElement(tn,{ref:n},Vs.createElement(G.View,{style:[gM.toaster],mobileStyle:r.mobile,desktopStyle:r.desktop},Vs.createElement(lS,null,o.map(i=>Vs.createElement(Kw,{...i,key:i.id})))))}var gM=q.create({toaster:{position:"fixed",zIndex:200}}),hM={"bottom-right":q.create({desktop:{bottom:m.medium,right:m.medium},mobile:{bottom:m.medium,right:m.medium,left:m.medium}}),"bottom-right-with-bar":q.create({desktop:{bottom:m.xxlarge,right:m.medium},mobile:{bottom:m.xxlarge+m.xlarge+m.medium,right:m.medium,left:m.medium}})};l();var Ws=x(R());z();var rp=Ws.forwardRef(function(t,o){let{active:n,animatedAngle:r=45,...i}=t,a=ui(()=>new Qe.Value(0)).current;Ws.useEffect(()=>{if(r===0)return;let c=Qe.timing(a,{toValue:n?1:0,easing:TC.ease,duration:mt.TRANSITION_DURATION_SHORT,useNativeDriver:!1});return c.start(),()=>{c.stop()}},[r,n]);let s=Ws.createElement(A,{ref:o,active:n,...i});return r===0?s:Ws.createElement(Qe.View,{style:{transform:[{rotateZ:a.interpolate({inputRange:[0,1],outputRange:["0deg",`${r}deg`]})}]}},s)});l();var oc=x(R());z();function Uw(e){let{children:t,style:o,...n}=e,[,r]=O(yM),[,i]=O(vM),a=oc.Children.toArray(t).filter(s=>!!s);return oc.createElement(y,{style:[h.flex1,h.directionRow,o]},a.map((s,c)=>{let u=c!==a.length-1&&a.length>1,d=c>0&&a.length>1;return oc.cloneElement(s,{...n,style:[s.props.style,u&&r.withButtonOnTheRight,d&&r.withButtonOnTheLeft,u&&n.kind?i[n.kind]:null,n.disabled&&r.disabledRightBorder]})}))}var yM=L.create({withButtonOnTheLeft:{borderTopLeftRadius:0,borderBottomLeftRadius:0},withButtonOnTheRight:e=>({borderTopRightRadius:0,borderBottomRightRadius:0,borderRightColor:e.colors.background.muted,borderRightWidth:1,borderWidth:0,borderStyle:"solid"}),disabledRightBorder:e=>({borderRightColor:e.colors.border.mid})}),vM=L.create({merge:e=>({borderRightColor:e.colors.merge.hovered}),primary:e=>({borderRightColor:e.colors.primary.hovered}),danger:e=>({borderRightColor:e.colors.danger.hovered})});l();var br=x(R());z();var bM=B.createInteractiveComponent(Sn);function Fi(e){let{icon:t,title:o,subtitle:n,details:r,style:i,buttons:a=[],...s}=e,[,c]=O(N);return br.createElement(di,{style:[h.alignCenter,m.Padding.medium,i],...s},t?br.createElement(CM,{icon:t}):null,br.createElement(y,{style:[h.flex1]},br.createElement(y,{style:[h.directionRow,h.alignCenter]},br.createElement(bM.Child,{style:[c.Body,c.Medium,c.text],activeStyle:c.primary,descendantOf:di.interactiveHandle},o),n?br.createElement(Sn,{style:[c.Label,c.textMuted,m.Margin.mediumLeft]},n):null),r?br.createElement(y,null,br.createElement(D,{style:[c.Label,c.textMid]},r)):null),a.length>0?br.createElement(y,{style:[h.directionRow,h.alignCenter,m.Margin.mediumLeft]},a.map((u,d)=>u?br.createElement(y,{style:[m.Margin.smallLeft],key:d},u):null)):null)}function CM(e){let{icon:t}=e,[,o]=O(N),n=B.useInteractiveComponent(t);return br.createElement(y,{style:[m.Margin.mediumRight]},br.createElement(n.Child,{size:E.S,style:[o.textMuted],hoverStyle:o.primary}))}l();var Fs=x(R());z();var vu=Fs.forwardRef((e,t)=>{let[,o]=O(SM),{highlighted:n,dropHovered:r,position:i,button:a,buttonVisible:s,lineVisibleStyle:c=o.dropLineVisible,lineHighlightedStyle:u=o.dropLineHighlighted,buttonAlign:d="middle",offsetStart:p=0,offsetEnd:f=0}=e,g=B.useInteractiveState(),b=B.useInteractiveState(),v=b.hovered||!!a&&g.hovered||r||n,C=b.hovered||r||n,w="small",k=i==="top"||i==="bottom"?"horizontal":"vertical";return Fs.createElement(ee,{ref:t,style:[o.dropLineWrapper,Yw[i].lineWrapper,{...k==="horizontal"?{left:p,right:f}:{top:p,bottom:f}}],...g.events},Fs.createElement(y,{style:[o.dropLine,v&&c,C&&u,Yw[i].line]}),a?Fs.createElement(y,{style:[o.dropLineButton,wM[k][d](gS[a.size||w].height),!r&&(s||g.hovered)?se.visible:se.hidden],...b.events},Fs.createElement(A,{rounded:!0,size:w,...a,kind:b.hovered||n?"primary":a.kind})):null)}),Xa=2,Ro=6,SM=L.create({dropLineWrapper:{position:"absolute",zIndex:1},dropLine:{position:"absolute"},dropLineVisible:e=>({backgroundColor:e.colors.border.muted}),dropLineHighlighted:e=>({backgroundColor:e.colors.primary.main}),dropLineButton:{position:"absolute",width:E.XS,height:E.XS}}),wM={horizontal:{start:e=>({left:m.medium+(E.S-e)/2,top:-(e-Ro)/2}),end:e=>({right:m.medium+(E.S-e)/2,top:-(e-Ro)/2}),middle:e=>({left:"50%",marginLeft:-e/2,top:-(e-Ro)/2})},vertical:{start:e=>({left:-(e-Ro)/2,top:m.medium+(E.S-e)/2}),end:e=>({bottom:m.medium+(E.S-e)/2,left:-(e-Ro)/2}),middle:e=>({top:"50%",marginTop:-e/2,left:-(e-Ro)/2})}},Yw={top:q.create({lineWrapper:{top:-Ro/2,left:0,right:0,height:Ro},line:{top:(Ro-Xa)/2,left:0,right:0,height:Xa}}),bottom:q.create({lineWrapper:{bottom:-Ro/2,left:0,right:0,height:Ro},line:{bottom:(Ro-Xa)/2,left:0,right:0,height:Xa}}),left:q.create({lineWrapper:{top:0,bottom:0,left:-Ro/2,width:Ro,display:"flex",justifyContent:"center"},line:{top:0,bottom:0,left:(Ro-Xa)/2,width:Xa}}),right:q.create({lineWrapper:{top:0,bottom:0,right:-Ro/2,width:Ro,display:"flex",justifyContent:"center"},line:{top:0,bottom:0,right:(Ro-Xa)/2,width:Xa}})};l();var Cr=x(R());z();var kM=B.createInteractiveComponent(ee);function Zw(e){let{icon:t,hint:o,onDropFiles:n,onPress:r,children:i}=e,[,a]=O(xM),[,s]=O(N),[c,u]=Cr.useState(!1),d=Cr.useRef(0),p=v=>{v.preventDefault(),v.stopPropagation(),d.current===0&&u(!0),d.current+=1},f=v=>{v.preventDefault(),v.stopPropagation()},g=v=>{d.current-=1,d.current===0&&u(!1)},b=v=>{let{files:C}=v.dataTransfer;v.preventDefault(),v.stopPropagation(),d.current=0,u(!1),n(Array.from(C))};return Cr.createElement(Pe,{onPress:r},Cr.createElement(kM,{style:[h.directionRow,h.alignCenter,h.justifyContentCenter,m.Padding.largeHorizontal,m.Padding.largeVertical,a.filesDropArea],hoverStyle:c?null:a.filesDropAreaHovered,onDragEnter:p,onDragLeave:g,onDragOver:f,onDrop:b},Cr.createElement(y,{style:h.alignCenter},Cr.createElement(y,{style:[h.directionRow,h.alignCenter]},t?Cr.createElement(y,{style:m.Margin.smallRight},Cr.createElement(t,{size:E.ICON_L,style:[s.primary]})):null,o?Cr.createElement(D,{style:[s.Body,s.primary]},o):null),Cr.createElement(y,null,i))))}var xM=L.create({filesDropArea:e=>({borderRadius:E.RADIUS_M,borderStyle:"dashed",borderWidth:1,borderColor:e.colors.primary.main,backgroundColor:e.colors.primary.muted}),filesDropAreaHovered:e=>({borderStyle:"dashed",backgroundColor:e.colors.primary.mid,...e.shadows.base})});l();l();l();function $w(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Qw(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function ry(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var o=getComputedStyle(e,null);return Qw(o.overflowY,t)||Qw(o.overflowX,t)||function(n){var r=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch(a){return null}}(n);return!!r&&(r.clientHeight<n.scrollHeight||r.clientWidth<n.scrollWidth)}(e)}return!1}function ip(e,t,o,n,r,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=o||a>=t&&s>=o?i-e-n:a>t&&s<o||i<e&&s>o?a-t+r:0}function iy(e,t){var o=window,n=t.scrollMode,r=t.block,i=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,c=typeof a=="function"?a:function(W){return W!==a};if(!$w(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,d=[],p=e;$w(p)&&c(p);){if((p=p.parentElement)===u){d.push(p);break}p!=null&&p===document.body&&ry(p)&&!ry(document.documentElement)||p!=null&&ry(p,s)&&d.push(p)}for(var f=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,C=e.getBoundingClientRect(),w=C.height,k=C.width,I=C.top,_=C.right,P=C.bottom,M=C.left,T=r==="start"||r==="nearest"?I:r==="end"?P:I+w/2,V=i==="center"?M+k/2:i==="end"?_:M,K=[],U=0;U<d.length;U++){var F=d[U],H=F.getBoundingClientRect(),Q=H.height,ae=H.width,Be=H.top,at=H.right,Tn=H.bottom,No=H.left;if(n==="if-needed"&&I>=0&&M>=0&&P<=g&&_<=f&&I>=Be&&P<=Tn&&M>=No&&_<=at)return K;var co=getComputedStyle(F),Nr=parseInt(co.borderLeftWidth,10),rr=parseInt(co.borderTopWidth,10),Dr=parseInt(co.borderRightWidth,10),ir=parseInt(co.borderBottomWidth,10),uo=0,Do=0,Ar="offsetWidth"in F?F.offsetWidth-F.clientWidth-Nr-Dr:0,ar="offsetHeight"in F?F.offsetHeight-F.clientHeight-rr-ir:0;if(u===F)uo=r==="start"?T:r==="end"?T-g:r==="nearest"?ip(v,v+g,g,rr,ir,v+T,v+T+w,w):T-g/2,Do=i==="start"?V:i==="center"?V-f/2:i==="end"?V-f:ip(b,b+f,f,Nr,Dr,b+V,b+V+k,k),uo=Math.max(0,uo+v),Do=Math.max(0,Do+b);else{uo=r==="start"?T-Be-rr:r==="end"?T-Tn+ir+ar:r==="nearest"?ip(Be,Tn,Q,rr,ir+ar,T,T+w,w):T-(Be+Q/2)+ar/2,Do=i==="start"?V-No-Nr:i==="center"?V-(No+ae/2)+Ar/2:i==="end"?V-at+Dr+Ar:ip(No,at,ae,Nr,Dr+Ar,V,V+k,k);var So=F.scrollLeft,st=F.scrollTop;T+=st-(uo=Math.max(0,Math.min(st+uo,F.scrollHeight-Q+ar))),V+=So-(Do=Math.max(0,Math.min(So+Do,F.scrollWidth-ae+Ar)))}K.push({el:F,top:uo,left:Do})}return K}function Jw(e){return e===Object(e)&&Object.keys(e).length!==0}function OM(e,t){t===void 0&&(t="auto");var o="scrollBehavior"in document.body.style;e.forEach(function(n){var r=n.el,i=n.top,a=n.left;r.scroll&&o?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)})}function RM(e){return e===!1?{block:"end",inline:"nearest"}:Jw(e)?e:{block:"start",inline:"nearest"}}function _M(e,t){var o=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Jw(t)&&typeof t.behavior=="function")return t.behavior(o?iy(e,t):[]);if(o){var n=RM(t);return OM(iy(e,n),n.behavior)}}var ap=_M;async function ek(e){let t=()=>{let n=e;for(;n&&(n=n.parentElement,!(n===document.querySelector("body")||n!=null&&n.hasAttribute("data-virtualparent"))););return n},o;return new Promise(n=>{let r=t();if(!r||!r.firstChild)return;let i=()=>{o.disconnect(),n()},a=!1;o=new IntersectionObserver(c=>{let[u]=c;u.isIntersecting&&requestAnimationFrame(()=>{i(),a=!0})},{rootMargin:"-50% 0% -50% 0%"});let s=()=>{ap(r,{block:"center",inline:"center",behavior:"smooth"}),setTimeout(()=>{a||s()},500)};s(),o.observe(r)})}l();var sp=x(R());function tk(e){let{command:t,...o}=e,n=sp.useRef(null),r=ne(n),[i,a]=en(),s=()=>{a(()=>r.executeCommand(t))};return sp.createElement(A,{ref:n,active:r.opened,...o,icon:i?me:o.icon,disabled:i||o.disabled,onPress:s})}l();var dy=x(R());l();var kt=x(R());z();l();var Xe=x(R());z();l();var fe=x(R());z();var ok="Label",nk="Label",rk="Label",ik="Caption",ay="Caption",ak=ay,sk=fe.forwardRef(function(t,o){let{command:n,query:r,active:i,inline:a,executeCommand:s,onHoverIn:c}=t,[u,d]=O(N),[,p]=O(IM),[f,g]=en(!1),b=d.text,v=d.textMid,C=d.primary,w=u.colors.background.main;i&&(b=d.textStandout,v=d.textMid,w=u.colors.background.muted);let k=[d.Bold],I=fe.useCallback(()=>{let M=s(n);M instanceof Promise&&g(()=>M)},[n,s]),_=fe.useCallback(()=>c(n),[n,c]),P=B.useInteractiveState({onHoverIn:_});return fe.createElement(Jo,{ref:o,component:Pe,...P.events,onMouseDown:M=>{M.preventDefault()},onPress:I,backgroundColor:w,style:[h.directionRow,h.alignCenter,a||n.size==="small"?m.Padding.smallVertical:m.Padding.mediumVertical,a?m.Padding.mediumHorizontal:m.Padding.largeHorizontal,{height:sy(n,a)}]},f?fe.createElement(y,{style:[m.Padding.mediumRight]},fe.createElement(me,{size:E.ICON_M})):n.icon?fe.createElement(y,{style:[m.Padding.mediumRight]},fe.createElement(fe.Suspense,{fallback:fe.createElement(y,{style:{width:E.ICON_M,height:E.ICON_M}})},fe.createElement(n.icon,{size:E.ICON_M,style:C}))):null,fe.createElement(y,{style:h.flex1},fe.createElement(y,{style:h.directionRow},fe.createElement(y,{style:h.flex1},n.title?fe.createElement(y,null,fe.createElement(D,{style:[a?d[nk]:d[ok],b,n.subtitle?d.Bold:d.Medium],numberOfLines:1},fe.createElement(Am,{query:r,text:n.title,highlight:k}))):null,n.subtitle?fe.createElement(y,null,fe.createElement(D,{style:[a?d[ik]:d[rk],v],numberOfLines:a?1:void 0},fe.createElement(Am,{query:r,text:n.subtitle,highlight:k}))):null),n.label?fe.createElement(y,{style:[h.directionRow,h.alignCenter,m.Margin.smallLeft,m.Padding.smallHorizontal,p.commandLabel]},n.label.icon?fe.createElement(y,{style:[m.Padding.smallRight]},fe.createElement(fe.Suspense,{fallback:fe.createElement(y,{style:{width:E.ICON_S,height:E.ICON_S}})},fe.createElement(n.label.icon,{size:E.ICON_S,style:d.textInsideColor}))):null,fe.createElement(y,null,fe.createElement(D,{style:[d.Caption,d.textInsideColor]},n.label.title))):null,a||!n.shortcut?null:fe.createElement(y,{style:[h.directionRow,h.alignCenter]},fe.createElement(y,{style:[m.Margin.smallLeft,m.Padding.smallHorizontal]},fe.createElement(Vn,{shortcut:n.shortcut})))),n.body?fe.createElement(y,{style:[p.commandBody,m.Padding.smallLeft,m.Margin.smallTop]},n.body.map((M,T)=>fe.createElement(y,{key:T},fe.createElement(D,{style:[a?d[ak]:d[ay],d.textMid],numberOfLines:1},fe.createElement(Am,{query:r,text:M,highlight:k}))))):null),n.descendant?fe.createElement(y,{style:[m.Padding.mediumLeft]},fe.createElement(S.ChevronRight,{size:E.ICON_S,style:[d.textMuted]})):null,typeof n.selected=="boolean"?fe.createElement(y,{style:[m.Padding.mediumLeft]},fe.createElement(Fa,{value:n.selected,onValueChange:I,size:a?E.ICON_S:E.ICON_M})):null,typeof n.enabled=="boolean"?fe.createElement(y,{style:[m.Padding.mediumLeft]},fe.createElement(Nm,{value:n.enabled,onValueChange:()=>{}})):null)});function sy(e,t){let o=0;return o+=2*(t||e.size==="small"?m.small:m.medium),o+=Math.max(e.title&&(t?xe[nk]:xe[ok]).lineHeight||0,e.icon?E.ICON_M:0,typeof e.selected=="boolean"||typeof e.enabled=="boolean"?t?E.ICON_S:E.ICON_M:0),e.subtitle&&(o+=(t?xe[ik]:xe[rk]).lineHeight||0),e.body&&(o+=m.small,o+=e.body.length*((t?xe[ak]:xe[ay]).lineHeight||0)),o}var IM=L.create({commandLabel:e=>({height:E.BUTTON_S,borderRadius:e.radiuses.large,backgroundColor:e.colors.primary.main,textColor:e.colors.primary.textInside}),commandBody:e=>({borderLeftWidth:1,borderLeftColor:e.colors.border.mid})});l();function lp({getItemHeight:e,getItemSeparatorHeight:t=()=>0,getSectionSeparatorHeight:o=()=>0,getSectionHeaderHeight:n=()=>0,getSectionFooterHeight:r=()=>0,listHeaderHeight:i=0,stickySectionHeadersEnabled:a}){return(s,c)=>{let u=0,d=typeof i=="function"?i():i,p=0,f=s.length;for(let g=0;g<f&&(p<c||g===0);g++){let b=s[g],v=s[g].data,C=v.length,w=s[g-1],k=s[g+1],I={section:b,index:g},_=o({section:b,index:g,leadingItem:void 0,trailingItem:v[0],leadingSection:w,trailingSection:k});d+=u+_+(a&&g===1?n({section:s[0],index:0}):0),u=a&&g===0?0:n(I),g!==0&&p++;for(let P=0;P<C&&(p<c||g===0&&P===0);P++){d+=u;let M=v[P],T=P>0&&P<C-1?t({item:M,section:b,index:P,leadingItem:v[P-1],trailingItem:v[P+1],leadingSection:w,trailingSection:k}):0;u=e({item:M,section:b,index:P})+T,p++}if(p<c&&(d+=o({section:b,index:g,leadingItem:v[v.length-1],trailingItem:void 0,leadingSection:w,trailingSection:k})),p<c){let P=o({section:b,index:g,leadingItem:v[v.length-1],trailingItem:void 0,leadingSection:w,trailingSection:k});d+=u+P,u=r(I),p++}}return{index:c,length:u,offset:d}}}l();var fi=x(R());function PM(e){if(typeof e.key!="string")throw new Error("Need a key getter");return e.key}function cp(e){let{items:t,scrollTo:o,onSelect:n,onOpen:r,onClose:i,getKey:a=PM,active:s=!0,startAtFirst:c}=e,[u,d]=(0,fi.useState)(null),p=tp(),f=(typeof c>"u"?p.current:c)||!1,g=(0,fi.useMemo)(()=>EM(t,u,a,f),[t,u,a,f]),b=dt(g),v=dt(t),C=(0,fi.useCallback)(_=>{let P=a(_);return{index:v.current.findIndex(V=>a(V)===P)}},[a]),w=(0,fi.useCallback)(_=>d(a(_)),[d,a]),k=(0,fi.useCallback)(_=>{p.current||w(_)},[w]),I=(0,fi.useCallback)(_=>{if(_>0&&b.current.next){let{next:P}=b.current;w(P),o(P)}else if(_<0&&b.current.prev){let{prev:P}=b.current;w(P),o(P)}},[o,w]);return(0,fi.useEffect)(()=>{if(!s)return;let _=P=>{P.key==="Enter"?(P.preventDefault(),P.stopPropagation(),b.current.current&&n(b.current.current,C(b.current.current))):P.key==="ArrowRight"&&lk(P,"end")?(P.preventDefault(),P.stopPropagation(),b.current.current?r==null||r(b.current.current,C(b.current.current)):I(1)):P.key==="ArrowLeft"&&i&&lk(P,"start")?(P.preventDefault(),P.stopPropagation(),i()):P.key==="ArrowDown"?(P.preventDefault(),P.stopPropagation(),I(1)):P.key==="ArrowUp"&&(P.preventDefault(),P.stopPropagation(),I(-1))};return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0})}},[I,n,r,i,C,s]),{cursor:g,setCursor:w,hoverItem:k}}function EM(e,t,o,n){let r=null,i=null,a=null;return e.some(s=>(o(s)===t?a=s:a?a&&!i&&(i=s):r=s,a!=null&&i!=null)),a||(n?(r=null,a=e[0],i=e[1]):(r=null,a=null,i=e[0])),{prev:r,next:i,current:a}}function lk(e,t){let o=e.target;if(!o)return!0;let n=o.selectionStart;if(n==null)return!0;let r=o.selectionEnd;if(n!==r)return!1;if(t==="start")return n===0;let i=o.value.length;return n===i}function ck(e){var U;let{computed:{listId:t,items:o,sections:n,areMoreLoading:r},withKeyboardInteractions:i,palette:a,setPalette:s,setTopPalette:c}=e,u=Wl(),d=Xe.useRef(null),p=Vw(),f=Xe.useCallback(async F=>{let H=await NS(a,F);H?s(H):c(null)},[s,c]),g=Xe.useCallback(F=>{s(H=>{if(!H)return null;let Q=p(F),ae=DS(H,F,Q);return ae||(H.descendant?{...H,descendant:void 0}:H)})},[s,p]),b=Xe.useCallback(()=>{s(F=>F!=null&&F.parent?null:F)},[s]),v=Xe.useCallback(F=>{let H=-1;return{sectionIndex:n.findIndex(ae=>(H=ae.data.findIndex(Be=>Be.key===F),H>=0)),itemIndex:H,viewPosition:.5}},[n]),C=Xe.useCallback(F=>{var H;return(H=d.current)==null?void 0:H.scrollToLocation(v(F.key))},[v]),w=!!a.position,k=cp({active:i,items:o,onSelect:f,onOpen:g,onClose:b,scrollTo:C,startAtFirst:w?void 0:!0}),I=w?n.length>1:!0,_=Xe.useCallback(F=>{k.hoverItem(F),a.position&&g(F)},[k.hoverItem,g,!!a.position]),P=Xe.useMemo(()=>lp({getItemHeight:({item:F})=>sy(F,w),getSectionSeparatorHeight:({section:F,leadingItem:H,leadingSection:Q,trailingItem:ae,trailingSection:Be})=>Q&&!H&&!F.group.title?2*(m.small-1)+1:Be&&!ae?w?E.S/4:E.S/2:0,getSectionHeaderHeight:({section:F})=>I&&F.group.title?E.S:0}),[w,I]),M=Xe.useMemo(()=>I?({section:F})=>F.group.title?Xe.createElement(MM,{group:F.group,inline:w}):null:void 0,[w,I]),T=Xe.useCallback(F=>Xe.createElement(LM,{...F,inline:w}),[w]),V=Xe.useCallback(({item:F})=>{var H;return Xe.createElement(sk,{ref:p(F),active:u==="desktop"&&F.key===((H=k.cursor.current)==null?void 0:H.key),command:F,query:a.query.text,inline:w,executeCommand:f,onHoverIn:_})},[f,p,w,(U=k.cursor.current)==null?void 0:U.key,_,u,a.query.text]),K=r&&w;if(!K&&o.length===0){let F=a.placeholder||(fu(a)?null:"No items found");return F?Xe.createElement(TM,{placeholder:F,inline:w}):null}return Xe.createElement(y,{style:[h.flex1]},Xe.createElement(Cl,{key:t,ref:d,sections:n,extraData:k.cursor,getItemLayout:P,renderItem:V,SectionSeparatorComponent:T,renderSectionHeader:M,contentContainerStyle:[w?m.Padding.smallVertical:m.Padding.mediumVertical]}),K?Xe.createElement(y,{style:[h.directionRow,h.justifyContentCenter,m.Padding.medium]},Xe.createElement(me,{size:E.ICON_L})):null)}function TM(e){let{placeholder:t,inline:o}=e,[,n]=O(N);return Xe.createElement(y,{style:[m.Padding.smallHorizontal,m.Padding.mediumVertical]},Xe.createElement(y,{style:[o?m.Padding.mediumHorizontal:m.Padding.largeHorizontal]},Xe.createElement(D,{style:[n.Caption,n.textMuted]},t)))}function MM(e){let{group:t,inline:o}=e,[,n]=O(N);return Xe.createElement(y,{style:[NM.paletteGroupHeader,h.directionRow,h.alignCenter,m.Padding.smallHorizontal]},Xe.createElement(y,{style:[o?m.Padding.smallHorizontal:m.Padding.largeHorizontal]},Xe.createElement(D,{style:[n.GroupTitle,n.textMuted]},t.title)))}function LM(e){let{leadingSection:t,section:o,leadingItem:n,inline:r,trailingSection:i,trailingItem:a}=e,[,s]=O(DM);return t&&!n&&!o.group.title?Xe.createElement(y,{style:s.paletteDividerUntitled}):(i&&!a&&(y,r?s.paletteDividerFooterInline:s.paletteDividerFooter),null)}var NM=q.create({paletteGroupHeader:{height:E.S}}),DM=L.create({paletteDividerUntitled:(e,t)=>({marginTop:m.small-1,marginBottom:m.small-1,borderTopColor:t.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:E.S/2},paletteDividerFooterInline:{height:E.S/4}});l();var nc=x(R());z();function uk(e){let{error:t,inline:o}=e,[,n]=O(N);return nc.createElement(y,{style:[h.directionRow,o?m.Padding.smallVertical:m.Padding.mediumVertical,o?m.Padding.mediumHorizontal:m.Padding.largeHorizontal]},nc.createElement(y,{style:[m.Padding.mediumRight,m.Padding.xsmallTop]},nc.createElement(S.Warning,{size:E.ICON_S,style:n.danger})),nc.createElement(y,{style:h.flex1},nc.createElement(D,{style:[n.danger,n.Label]},Mi(t))))}l();var Tt=x(R());z();var dk=Tt.forwardRef(function(t,o){let{palette:n,setPalette:r,loading:i,withItems:a,placement:s,onTypeInSearch:c}=t,u=iS(2e3),[,d]=O(BM),[p,f]=O(N),g=Aw(i?"loading":"stale",{loading:400,stale:800}),b=ui(()=>new Qe.Value(0)).current;Tt.useEffect(()=>{let I=Qe.timing(b,{useNativeDriver:!0,toValue:g==="loading"?.7:0,duration:mt.TRANSITION_DURATION_SHORT});return I.start(),()=>{I.stop()}},[b,g]);let[v,C]=Da(n.query.text,[n]),w=I=>{C(I),r(_=>!n||!_?n:qa({..._,descendant:void 0},I))},k=I=>{I.nativeEvent.key==="Backspace"&&n.query.text.length===0?r(_=>_&&Object.keys(_.query.filters).length>0?BS(_):_):I.nativeEvent.key==="Escape"?r(null):u(()=>{c(n)})};return Tt.createElement(y,{style:a&&d.paletteInputWrapperWithBottomBorder},Tt.createElement(y,{style:[h.directionRow,h.alignCenter]},n.parent&&(!n.position||s==="right")?Tt.createElement(y,{style:[n.position?m.Padding.smallLeft:m.Padding.mediumLeft]},Tt.createElement(S.ChevronLeft,{size:n.position?E.ICON_M:E.ICON_L,style:f.textMuted})):null,Tt.createElement(y,{style:[h.flex1,h.directionRow,h.alignCenter,d.paletteInput,n.position?m.Margin.small:m.Margin.medium]},n.position?null:Tt.createElement(y,{style:[m.Margin.largeLeft]},Tt.createElement(S.Search,{size:E.ICON_L,style:f.textMuted})),Tt.createElement(y,{style:[h.flex1]},Tt.createElement(Ln,{ref:o,value:v,placeholder:n.search,placeholderTextColor:p.colors.text.muted,onChangeText:w,onKeyPress:k,style:[n.position?f.Caption:f.Body,f.text,n.position?m.Padding.mediumHorizontal:m.Padding.largeHorizontal,n.position?m.Padding.smallVertical:m.Padding.mediumVertical]})),n.position?null:Tt.createElement(Qe.View,{style:[m.Margin.smallHorizontal,m.Margin.largeRight,{opacity:b}]},Tt.createElement(me,{size:E.ICON_M,style:f.textMuted})),Tt.createElement(G.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[m.Margin.smallHorizontal]},Tt.createElement(A,{icon:S.X,size:"large",onPress:()=>r(null)}))),n.parent&&n.position&&s==="left"?Tt.createElement(y,{style:[m.Padding.smallRight]},Tt.createElement(S.ChevronRight,{size:E.ICON_M,style:f.textMuted})):null),Tt.createElement(AM,{palette:n,setPalette:r}))});function AM(e){let{palette:t,setPalette:o}=e,n=Object.entries(t.query.filters);if(n.length===0)return null;let r=i=>{o(a=>AS(a,i))};return Tt.createElement(y,{style:[h.directionRow,m.Padding.largeHorizontal,m.Padding.mediumBottom]},n.map(([i,a])=>Tt.createElement(Dm,{key:i,kind:"primary",size:"small",onPress:()=>r(i),style:m.Margin.smallRight},`${i}: ${a.text}`)))}var BM=L.create({paletteInputWrapperWithBottomBorder:(e,t)=>({borderBottomColor:t.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large})});l();var rc=x(R());function mk(e){let[t,o]=rc.useState(!1),n=ui(()=>new WeakMap),r=rc.useRef(null);return rc.useMemo(()=>{let i=[],a=[],s;e.groups.forEach(d=>{let p;try{p=zM(e,d)}catch(f){s=f;return}if(p instanceof Promise){let f=n.current.get(d);f&&i.push(f),a.push(p)}else p&&(n.current.set(d,p),i.push(p))});let c=i.filter(d=>d.data.length>0).sort((d,p)=>d.priority>p.priority?-1:d.priority<p.priority?1:0),u=c.reduce((d,p)=>(d.push(...p.data),d),[]);if(a.length>0){o(!0);let d=r.current=Promise.all(a);d.then(()=>{d===r.current&&(o(!1),r.current=null)}).catch(p=>Vd(new Error(p)))}return{listId:Date.now(),items:u,sections:c,areMoreLoading:t,error:s}},[e.groups,e.query,t,n])}function zM(e,t){try{if(Object.keys(e.query.filters).length>0&&typeof t.commands!="function")return;let o=typeof t.commands=="function"?t.commands(e):t.commands,n=typeof t.commands!="function"||t.commands.length===0,r=t.priority||5;if(n){let i=VM(e.query.text,o);r=i.reduce((a,s)=>typeof s.score<"u"?Math.max((1-s.score)*10,a):a,r),o=i.map(a=>a.item)}return{group:t,priority:r,data:o}}catch(o){if(o instanceof Promise)return o;throw o}}function VM(e,t){return e?new Al(t,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(e):t.map(n=>({item:n,score:void 0}))}l();var uy=x($d()),pp=x(R());var ly=204,up=246,cy=384,WM=630,dp=180,mp=355;function pk(e,t){var s;let o=pp.useMemo(()=>qM(e,t),[e.position,!!e.parent,t]),n=pp.useCallback(c=>FM(c,e.position),[e.position]),[r,i,a]=sS((s=e.position)==null?void 0:s.anchorRef,n,o);return[r,i,a]}function FM(e,t){let o,n=(t==null?void 0:t.width)||"medium";switch(n){case"small":o={width:ly,maxWidth:ly,minWidth:ly,minHeight:0,height:dp,maxHeight:mp};break;case"medium":o={width:up,maxWidth:up,minWidth:up,minHeight:0,height:dp,maxHeight:mp};break;case"large":o={width:cy,maxWidth:cy,minWidth:cy,minHeight:0,height:dp,maxHeight:mp};break;case"anchor":let r=Math.max(up,e.width),i=(0,uy.default)(e.width,r,WM);o={width:(0,uy.default)(e.width,r,i),maxWidth:i,minWidth:r,minHeight:0,height:dp,maxHeight:mp};break;default:Pt(n)}return o}function qM(e,t){var n,r;let o={cover:(n=e.position)==null?void 0:n.cover,spacingWithAnchor:m.small};return e.parent?(o.offset={top:-m.small},o.allowedPlacements=t==="left"?["left","right"]:["right","left"]):((r=e.position)==null?void 0:r.width)==="anchor"&&(o.allowedPlacements=["bottom","top"]),o}var HM=G.createResponsiveComponent(Jo);function fk(e){var u;let{palette:t,setPalette:o,useOnPaletteView:n}=e;n(t);let r=kt.useRef(null),[,i]=O(hk),a=()=>o(null),s=fr(mt.fade),c=Rm("OUTSIDE_CLICK");return Xr({opened:!0,closeOnEsc:!fu(t),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:a},r),tc(),kt.createElement(tn,{ref:r},kt.createElement(ut,{onPressIn:()=>{c&&a()}},kt.createElement(y,{ref:s,style:[i.paletteBackdrop,((u=t.position)==null?void 0:u.anchorRef)&&i.paletteBackdropInline]},kt.createElement(gk,{...e,setTopPalette:o}))))}function gk(e){let{palette:t,setPalette:o,setTopPalette:n,paletteVariant:r,parentPlacement:i,onTypeInSearch:a}=e,[s,c]=pk(t,i),u=fr(t.position?mt.slideToL[c]:mt.pop);return kt.createElement(kt.Fragment,null,kt.createElement(Cn,{theme:r},kt.createElement(XM,{ref:u,...e,setTopPalette:n,positionStyle:s,placement:c,onTypeInSearch:a})),t.descendant?kt.createElement(gk,{palette:t.descendant,setTopPalette:n,setPalette:d=>{o(p=>{if(!p)return null;let f=typeof d=="function"?d(p.descendant||null):d;return{...p,descendant:f||void 0}})},paletteVariant:r,parentPlacement:c,onTypeInSearch:a}):null)}var XM=kt.forwardRef(function(t,o){let{palette:n,setPalette:r,setTopPalette:i,positionStyle:a,placement:s,onTypeInSearch:c}=t,u=kt.useRef(null),[d,p]=O(hk),f=mk(n),g=!n.descendant;if(kt.useEffect(()=>{if(n.descendant)return;let b=u.current;b&&(document.activeElement===b||(b.select(),b.focus()))},[n]),!g&&!n.position){let b=zS(n),v=-(b.length*10),C=-2*v;return kt.createElement(y,{style:[p.palette,p.paletteDesktop,p.paletteDesktopPlaceholder,b.length?{position:"absolute",top:v,height:C,opacity:Math.pow(.6,b.length),transform:[{scale:Math.pow(.95,b.length)}]}:null]})}return kt.createElement(ut,{onPress:b=>b.preventDefault()},kt.createElement(HM,{ref:o,backgroundColor:d.colors.background.main,style:[p.palette],mobileStyle:p.paletteMobile,desktopStyle:n.position?[p.paletteInline,a]:p.paletteDesktop,onStartShouldSetResponder:()=>!0},fu(n)?kt.createElement(dk,{ref:u,palette:n,setPalette:r,loading:f.areMoreLoading,withItems:f.items.length>0,placement:s,onTypeInSearch:c}):null,f.error?kt.createElement(uk,{error:f.error,inline:!!n.position}):null,kt.createElement(ck,{computed:f,palette:n,withKeyboardInteractions:g,setPalette:r,setTopPalette:i})))}),hk=L.create({paletteBackdrop:e=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:e.colors.backdrop.background}),paletteBackdropInline:e=>({backgroundColor:"transparent"}),palette:e=>({borderRadius:e.radiuses.xlarge,borderColor:e.colors.border.main,borderWidth:1,overflow:"hidden",...e.shadows.pop}),paletteDesktop:{marginTop:m.xxlarge,width:640,maxHeight:480},paletteDesktopPlaceholder:e=>({backgroundColor:e.colors.background.main}),paletteMobile:{position:"absolute",marginTop:0,top:m.small,left:m.small,right:m.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});function yk(e){let[t,o]=Qo(VS);return dy.createElement(za,null,t?dy.createElement(fk,{palette:t,setPalette:o,paletteVariant:t.variants||{},...e}):null)}l();var vk=x(R());var KM=[Ls["1f44d"],Ls["1f389"],Ls["1f604"],Ls["1f602"],Ls["1f44f"],Ls["1f44e"]];function ic(e,t={}){let{withSearch:o=!0,max:n=5}=t;return te({search:o?"Select an emoji\u2026":void 0,groups:[{key:"emojis",commands:r=>(r.query.text?Um(r.query.text):KM).slice(0,n).map(a=>({key:a.code,title:a.shortname,icon:s=>vk.createElement(Wo,{...s,code:a.code}),trigger:()=>e(a.code)}))}]})}l();var Ka=x(R());z();var ba=Ka.forwardRef(function(t,o){let{displayMode:n="inline",value:r,style:i,placeholder:a,readOnly:s,onChangeText:c,...u}=t,[d]=O(),p=!s&&c,f=Ka.useMemo(()=>p&&n==="inline"?Lm(r||a||"",q.flatten([i])):0,[n,r,a,i,p]);if(!p){let g=Ka.createElement(D,{style:[i],selectable:!0},r);return n==="inline"?g:Ka.createElement(y,{style:bk.inputModeBlock},g)}return Ka.createElement(Ln,{ref:o,placeholderTextColor:d.colors.text.muted,...u,value:r,onChangeText:c,placeholder:a,style:[i,n==="inline"?{width:f}:bk.inputModeBlock]})}),bk=q.create({inputModeBlock:{width:"100%"}});l();var fp=[{key:"blue",color:j.primary.base,title:"Blue"},{key:"purple",color:j.violet.base,title:"Purple"},{key:"orange",color:j.orange.base,title:"Orange"},{key:"red",color:j.scarlet.base,title:"Red"},{key:"yellow",color:j.YELLOW,title:"Yellow"},{key:"green",color:j.green.base,title:"Green"}],gp=[{key:"blue",color:j.primary.xlight,title:"Blue"},{key:"purple",color:j.violet.xlight,title:"Purple"},{key:"orange",color:j.orange.xlight,title:"Orange"},{key:"red",color:j.scarlet.xlight,title:"Red"},{key:"yellow",color:j.YELLOW_XXLIGHT,title:"Yellow"},{key:"green",color:j.green.xlight,title:"Green"}],mG=[j.primary.light,j.violet.light,j.fuchsia.light,j.scarlet.light,j.orange.light,j.green.light];l();var Ne=x(R());z();l();var xk=9,py=hm.reduce((e,t)=>{let o=e.find(r=>r.key===t.category);if(!o)return console.warn("Unknown emoji category","emoji"),e;(!o.data.length||o.data[o.data.length-1].emojis.length===xk)&&o.data.push({key:"",emojis:[]});let n=o.data[o.data.length-1];return n.key+=t.code,n.emojis.push(t),e},[{key:"people",title:"People",Icon:S.EmojiReaction,data:[]},{key:"nature",title:"Nature",Icon:S.RoleEditor,data:[]},{key:"food",title:"Food",Icon:S.Food,data:[]},{key:"activity",title:"Activity",Icon:S.Music,data:[]},{key:"travel",title:"Travel",Icon:S.EmojiBike,data:[]},{key:"objects",title:"Objects",Icon:S.EmojiWatch,data:[]},{key:"symbols",title:"Symbols",Icon:S.HeartOutlined,data:[]},{key:"flags",title:"Flags",Icon:S.EmojiFlag,data:[]}]);function Ok(e){let t=Um(e);return{key:"search",title:"Results",data:o2(t,xk),Icon:S.Search}}function o2(e,t){let o=e.length;if(o===0)return[];let n=Math.ceil(o/t);return Array.from({length:n},(r,i)=>{let a=i*t,s=e.slice(a,a+t);return{key:s.map(c=>c.code).join("-"),emojis:s}})}function yp(e){let{onPick:t,onRemove:o}=e,[n,r]=Ne.useState(""),[i,a]=Ne.useState(""),s=Ne.useRef(null);Ne.useEffect(()=>{let u=requestAnimationFrame(()=>{s.current&&s.current.focus()});return()=>{cancelAnimationFrame(u)}},[s]);let c=u=>{r(u),a(u)};return Ne.createElement(y,{style:bu.emojiPicker},Ne.createElement(y,{style:[bu.emojiPickerSearch,h.directionRow]},Ne.createElement(Xt,{kind:"search",size:"medium",ref:s,icon:S.Search,placeholder:"Search",value:n,onChangeText:c,cleareable:!0,style:h.flex1}),o?Ne.createElement(A,{icon:S.Trashcan,onPress:o,title:"Remove Emoji",size:"medium",kind:"secondary",style:m.Margin.smallLeft}):null),Ne.createElement(i2,{query:i,onPick:t}))}var n2=lp({getItemHeight:()=>hp,getSectionHeaderHeight:()=>Rk,stickySectionHeadersEnabled:!0}),r2=({section:e})=>Ne.createElement(a2,{category:e}),i2=Ne.memo(function(t){let{query:o,onPick:n}=t,r=Ne.useRef(null),i=o?[Ok(o)]:py,a=c=>{r.current&&r.current.scrollToLocation({sectionIndex:c,itemIndex:0})},s=Ne.useCallback(({item:c})=>Ne.createElement(s2,{row:c,onPick:n}),[n]);return Ne.createElement(Ne.Fragment,null,!o&&Ne.createElement(y,{style:bu.emojiPickerCategories},py.map((c,u)=>Ne.createElement(A,{key:c.key,icon:c.Icon,onPress:()=>{a(u)}}))),Ne.createElement(Cl,{ref:r,sections:i,stickySectionHeadersEnabled:!0,renderItem:s,renderSectionHeader:r2,getItemLayout:n2}))}),a2=Ne.memo(function(t){let{category:o}=t,[,n]=O(_k),[,r]=O(N);return Ne.createElement(y,{style:[n.emojiCategoryHeader]},Ne.createElement(D,{style:[r.GroupTitle,r.text]},o.title))},(e,t)=>e.category.title===t.category.title),s2=Ne.memo(function(t){let{row:o,onPick:n}=t;return Ne.createElement(y,{style:bu.emojiRow},o.emojis.map(r=>Ne.createElement(l2,{key:r.code,code:r.code,onPick:n})))},(e,t)=>e.row.key===t.row.key&&e.onPick===t.onPick),l2=Ne.memo(function(t){let{code:o,onPick:n}=t,[,r]=O(_k);return Ne.createElement(B.TouchableOpacity,{onPress:()=>n(o),style:[bu.emojiItem],activeStyle:r.emojiItemHovered},Ne.createElement(Wo,{code:o,size:24}))}),hp=40,Rk=26,_k=L.create({emojiCategoryHeader:e=>({height:Rk,backgroundColor:e.colors.background.main,paddingLeft:m.medium,paddingRight:m.medium,paddingTop:m.small,paddingBottom:m.small}),emojiItemHovered:e=>({backgroundColor:e.colors.itemHover})}),bu=q.create({emojiPicker:{display:"flex",width:376,height:314},emojiPickerSearch:{padding:m.small},emojiPickerCategories:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:m.small,paddingBottom:0,paddingTop:0},emojiRow:{display:"flex",flexDirection:"row",paddingLeft:m.small,paddingRight:m.small},emojiItem:{width:hp,height:hp,borderRadius:hp,display:"flex",alignItems:"center",justifyContent:"center",outlineStyle:"none"}});l();var ac=x(R());function Ik(e){let{children:t,...o}=e;return ac.createElement(nS,null,ac.createElement(pS,null,ac.createElement(Hw,null,ac.createElement(yk,{...o}),ac.createElement(jw,null),t)))}l();var vp=x(R());var Pk=Ue("auth"),fy=Q1(e=>{let{customToken:t,waitUserReady:o=!0}=e;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!t&&!o?{customToken:t}:new Wr("auth.initialize").wrap(async()=>{if(t)try{Pk.info("authenticating with custom token before subscribing to auth"),await lr.auth().signInWithCustomToken(t)}catch(r){Pk.critical("Error during auth with custom token",r)}return o!==!1&&await new Promise((r,i)=>{let a=lr.auth().onAuthStateChanged(()=>{a(),r()},i)}),{customToken:t}})});function Ek(e){return fy.readAsync(e)}function bp(e){let{children:t}=e;if(typeof window<"u"){if(fy.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");fy.read({})}return vp.createElement(vp.Fragment,null,t)}l();l();PC();var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));var Tk=function(e){return e};var Mk="beforeunload";var c2="popstate";function Dk(e){e===void 0&&(e={});var t=e,o=t.window,n=o===void 0?document.defaultView:o,r=n.history;function i(){var T=n.location,V=T.pathname,K=T.search,U=T.hash,F=r.state||{};return[F.idx,Tk({pathname:V,search:K,hash:U,state:F.usr||null,key:F.key||"default"})]}var a=null;function s(){if(a)g.call(a),a=null;else{var T=sc.Pop,V=i(),K=V[0],U=V[1];if(g.length){if(K!=null){var F=d-K;F&&(a={action:T,location:U,retry:function(){P(F*-1)}},P(F))}}else k(T)}}n.addEventListener(c2,s);var c=sc.Pop,u=i(),d=u[0],p=u[1],f=Nk(),g=Nk();d==null&&(d=0,r.replaceState(bl({},r.state,{idx:d}),""));function b(T){return typeof T=="string"?T:gy(T)}function v(T,V){return V===void 0&&(V=null),Tk(bl({pathname:p.pathname,hash:"",search:""},typeof T=="string"?hy(T):T,{state:V,key:u2()}))}function C(T,V){return[{usr:T.state,key:T.key,idx:V},b(T)]}function w(T,V,K){return!g.length||(g.call({action:T,location:V,retry:K}),!1)}function k(T){c=T;var V=i();d=V[0],p=V[1],f.call({action:c,location:p})}function I(T,V){var K=sc.Push,U=v(T,V);function F(){I(T,V)}if(w(K,U,F)){var H=C(U,d+1),Q=H[0],ae=H[1];try{r.pushState(Q,"",ae)}catch(Be){n.location.assign(ae)}k(K)}}function _(T,V){var K=sc.Replace,U=v(T,V);function F(){_(T,V)}if(w(K,U,F)){var H=C(U,d),Q=H[0],ae=H[1];r.replaceState(Q,"",ae),k(K)}}function P(T){r.go(T)}var M={get action(){return c},get location(){return p},createHref:b,push:I,replace:_,go:P,back:function(){P(-1)},forward:function(){P(1)},listen:function(V){return f.push(V)},block:function(V){var K=g.push(V);return g.length===1&&n.addEventListener(Mk,Lk),function(){K(),g.length||n.removeEventListener(Mk,Lk)}}};return M}function Lk(e){e.preventDefault(),e.returnValue=""}function Nk(){var e=[];return{get length(){return e.length},push:function(o){return e.push(o),function(){e=e.filter(function(n){return n!==o})}},call:function(o){e.forEach(function(n){return n&&n(o)})}}}function u2(){return Math.random().toString(36).substr(2,8)}function gy(e){var t=e.pathname,o=t===void 0?"/":t,n=e.search,r=n===void 0?"":n,i=e.hash,a=i===void 0?"":i;return r&&r!=="?"&&(o+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function hy(e){var t={};if(e){var o=e.indexOf("#");o>=0&&(t.hash=e.substr(o),e=e.substr(0,o));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var yy=Ue("history");function Ak(){let e=Dk(),t=[],o=!1,n=()=>{let i=t.shift();return i?(i(),!1):!0},r=i=>{o?t.push(i):i()};return{get location(){return e.location},listen:i=>e.listen(a=>{i({location:a.location,action:a.action})}),push:i=>{let{state:a,...s}=i;r(()=>{yy.info("push",s,a),e.push(s,a)})},replace:i=>{let{state:a,...s}=i;r(()=>{yy.info("replace",s,a),e.replace(s,a)})},go:i=>{r(()=>{yy.info("go",i),e.go(i)})},transaction:i=>{if(o)i();else{let a=e.listen(()=>{n()&&a()});o=!0,i(),o=!1,n()&&a()}}}}l();function zk(e){let{basename:t="",location:o="/",context:n}=e,r=(a,s)=>{n.action=s,n.location=d2(t,Bk(a)),n.url=gy(n.location)};return{staticContext:n,location:m2(t,Bk(hy(o))),push:a=>{r(a,"PUSH")},replace:a=>{r(a,"REPLACE")},go:()=>{},listen:()=>()=>{},transaction:a=>{a()}}}function Vk(e){return e.charAt(0)==="/"?e:`/${e}`}function d2(e,t){return e?{...t,pathname:Vk(e)+t.pathname}:t}function m2(e,t){if(!e||!t.pathname)return t;let o=Vk(e);return t.pathname.indexOf(o)!==0?t:{...t,pathname:t.pathname.substr(o.length)}}function Bk(e){let t={hash:"",search:"",pathname:"",...e,key:"",state:void 0};return t.search&&t.search.charAt(0)!=="?"&&(t.search=`?${t.search}`),t.hash&&t.hash.charAt(0)!=="#"&&(t.hash=`#${t.hash}`),t}l();var qs=x(R()),Wk=x(mS());function vy(e){let{history:t,children:o}=e,n=qs.useMemo(()=>t||Ak(),[t]),r=qs.useMemo(()=>({getCurrentValue:()=>n.location,subscribe:a=>n.listen(a)}),[n]),i=(0,Wk.useSubscription)(r);return qs.createElement(YS.Provider,{value:n},qs.createElement(ZS.Provider,{value:i},o))}function Fk(e){let{children:t,...o}=e,n=zk(o);return qs.createElement(vy,{history:n},t)}l();var by=x(R());function qk(e,t){var a;let{navigate:o}=Ce(),n=Vi(),r=(0,by.useCallback)(s=>o({screen:{sideSheet:{type:e.type,tab:s}}},{replace:!0}),[o,e.type]),i=(0,by.useCallback)(()=>o({screen:{sideSheet:void 0}}),[o]);return{opened:"sideSheet"in n.screen&&((a=n.screen.sideSheet)==null?void 0:a.type)===e.type,selectedTab:"sideSheet"in n.screen&&n.screen.sideSheet&&"tab"in n.screen.sideSheet?n.screen.sideSheet.tab:t,changeSelectedTab:r,close:i,sideSheet:"sideSheet"in n.screen?n.screen.sideSheet:void 0}}l();var p2=$o({key:"firestoreReacheable",default:!0,effects:[e=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{e.setSelf(!1)})}]});function Gk(){return oa(p2)}l();var Hk=x(R());var f2=Ue("app:events"),g2=e=>(e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function h2(){let e=document.cookie?document.cookie.split("; "):[],t={};for(let o=0;o<e.length;o++){let n=e[o].split("="),r=n.slice(1).join("=");try{let i=decodeURIComponent(n[0]);t[i]=g2(r)}catch(i){f2.warning(`Couldn't parse cookie ${e[o]}. Error: `,i)}}return t}function Xk(e,t){return Hk.useEffect(()=>{y2(e,t)},[e.key,t]),null}async function y2(e,t){if(!e.integrations||!t)return;let o=await Y1(),n=h2(),r=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await jl()).analytics.trackViewInSpaceById(e.key,{pageId:t,visitor:{anonymousId:o,cookies:n,userAgent:a},url:r,referrer:i})}l();function Kk(e,t){let o=t.type==="space"&&typeof t.changeRequest=="string"?t.changeRequest:void 0;return mw(e,o)}l();var jk=x(R());function Cy(e){let t=Sy(e);return Yk(e),t}function Uk(e,t){let o=jk.useRef(new Map),[n,r]=Zk([e,o.current.get(t)||null]);if(Yk([e]),!n)return null;switch(n.state){case"live":case"cached":return o.current.set(t,e),n.result;case"failed":throw n.error;case"pending":if(r&&r.state==="live")return r.result;throw n.pending;default:Pt(n)}}function Yk(e){let t=qm(e.map(o=>o?dm(o.spaceKey,o.sheetKey):null));rw(e.map((o,n)=>{if(!o)return[];let r=t[n],i=r==null?void 0:r.result,a=(i==null?void 0:i.chunks)||[];return[dm(o.spaceKey,o.sheetKey),...a.map(s=>Wh(o.spaceKey,o.sheetKey,s))]}).flat())}function Zk(e){return e.map(t=>{if(!t)return null;let[o]=qm([dm(t.spaceKey,t.sheetKey)]);if(o.state==="failed"||o.state==="pending"||!o.result||!o.result.chunks)return o;let n=qm(o.result.chunks.map(s=>Wh(t.spaceKey,t.sheetKey,s))),r=[],i=[];if(n.forEach(s=>{if(s.state==="pending")r.push(s.pending);else{if(s.state==="failed")throw s.error;if(s.result)i.push(s.result);else throw new Error("Chunk not found")}}),r.length>0)return{state:"pending",pending:Promise.all(r).then(()=>null)};let a=_1({sheet:o.result,chunks:i});return{state:o.state,result:a}})}function v2(e){return Zk(e).map(o=>{if(!o)return null;if(o.state==="pending")throw o==null?void 0:o.pending;return o})}function Sy(e){return v2(e).map(o=>{if((o==null?void 0:o.state)==="failed")throw o.error;return o?o.result:null})}l();var $k=x(R());function Cp(e){let t=Ew(e),[o]=Wn([t]);return $k.useEffect(()=>{!o&&e&&t.set({url:e})},[o,e]),[o||{url:e}]}l();var Qk=x(R());function Jk(e){let t=e?new URL(e).hostname:null,[o]=ow([t?G1(t):null]);return Qk.useMemo(()=>{if(!o||!e)return;let n=zl(ym(o),e);if(!n)return;let r=o.find(i=>i.name===n.integrationKey);if(r)return{integration:r,block:n.block}},[o,e])}l();var ex=x(R());var wy=$o({key:"hoveredCommentNodeAtom",default:null}),ZH=NC({key:"newCommentValueAtom",default:()=>w1("","comment")});function tx(){let e=Sl(wy);return ex.useMemo(()=>({highlight:(t,o={highlighting:!0,postButton:!0})=>{let n=t?mr.getOriginalKey(t):null;e(r=>n?(r&&r.node===n&&r.postButton&&(o.postButton=r.postButton),{node:n,...o}):null)}}),[e])}l();var nx=x(R());var ox=$o({key:"filesManagerAtom",default:null});function Bt(){let e=Sl(ox),t=DC();return nx.useMemo(()=>({prompt:o=>new Promise(n=>{e({options:o,onComplete:n})}),isOpen:()=>{let{isModified:o}=t(ox);return o}}),[e])}l();var rx=x(R());var ky=$o({key:"mediaGalleryState",default:{medias:[],currentIndex:0}});function lc(){let e=Sl(ky);return rx.useMemo(()=>({open:(t,o=0)=>{e({medias:t,currentIndex:o})}}),[e])}l();var cc=$o({key:"mobileToCOpenedAtom",default:!1});l();var Sp=x(R());function ix(e){var r,i;let t=Sp.useContext(Oo),o=t.preview||t.mode!=="public-content"||!((r=e==null?void 0:e.intercom)!=null&&r.enabled)||(i=e==null?void 0:e.intercom)==null?void 0:i.appID,n=Dw();return pa(a=>{n&&o&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${o}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:o})}})}),Sp.useEffect(()=>()=>{window.Intercom&&(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}l();var cx=x(xy()),ux=x(R());l();var sx=Ue("contentkit:remote");function kp(e){return Gr({getValue:async t=>{sx.info("fetch",t);let o=await e(t);return sx.info("got response",o),o}})}l();var Oy=x(ZT()),xt=x(R());var xp=Ue("contentkit:lifecycle"),Ry=xt.forwardRef(function(t,o){let{mode:n,remote:r,input:i,security:a,onPropsChange:s,onAction:c}=t,[u,d]=xt.useState(i),[p,f]=xt.useState(null),{result:g,error:b}=C2(r,n,u),[v,C]=Da((g==null?void 0:g.state)||{},[g]),w=async _=>{let P={...u,...g?{props:s?g.props:u.props,state:g.state}:{},..._,state:{...u.state,...g==null?void 0:g.state,...v,..._.state}};xp.debug("transition to",P),await r.readAsync(P),d(P)},k=async(_,P=!0)=>{let M=hw(v,_);switch(xp.debug("dispatch action",M),P&&await(c==null?void 0:c(M)),M.action){case"@ui.modal.open":let T={integrationId:i.integrationId,componentId:M.componentId,props:M.props,context:i.context,action:M};await r.readAsync(T),f({mode:"modal",input:T});break;case"@ui.modal.close":break;case"@ui.url.open":zm(M.url);break;case"@editor.node.updateProps":xp.info("update props",M.props),s==null||s(M.props);break;default:await w({action:M});break}};xt.useImperativeHandle(o,()=>({dispatchAction:k})),xt.useEffect(()=>{g&&(0,Oy.default)(g.props)!==(0,Oy.default)(u.props)&&(xp.debug("props have changed",g.props),s==null||s(g.props))},[u,g]);let I=async _=>{switch(_.action){case"@ui.modal.close":w({action:_}),f(null);break}};if(b)switch(n){case"block":return xt.createElement(zn,{kind:"danger",details:"Oops! unexpected error while rendering this block"});case"modal":return null;default:Pt(n)}return xt.createElement(xt.Fragment,null,xt.createElement(b2,{element:g.element,dispatchAction:k},xt.createElement(vw,{element:g.element,localState:v,setLocalState:C,dispatchAction:k,security:a})),xt.createElement(xt.Suspense,{fallback:null},xt.createElement(za,null,p?xt.createElement(Ry,{remote:r,mode:p.mode,input:p.input,onAction:I,security:a}):null)))});function b2(e){let{element:t,dispatchAction:o,children:n}=e;switch(t.type){case"block":return xt.createElement(xt.Fragment,null,n);case"modal":return xt.createElement(wt,{onClose:()=>{o({action:"@ui.modal.close",returnValue:t.returnValue||{}})},...yw(t.size)},n);default:Pt(t)}}function C2(e,t,o){let{result:n,error:r}=e.readSafe(o);return n?n.element.type!==t?{error:new Error(`Unexpected mode, expected ${t}, got ${n.element.type}`)}:{result:n}:{error:r||new Error("Unknown error")}}var S2=2e3,lx=Gr({getValue:async e=>{let t=await jl(),o={spaceId:e.spaceId,componentId:e.componentId,action:e.action,props:e.props,state:e.state,context:e.context},n=JSON.stringify(o),r=cx.default.compressToEncodedURIComponent(n);return(await(r.length<S2?t.integrations.renderIntegrationUiWithGet(e.integrationId,{request:r}):t.integrations.renderIntegrationUiWithPost(e.integrationId,o))).data}});function dx(e){let{spaceId:t}=e;return ux.useMemo(()=>kp(o=>{let n=lx.readCacheState({...o,spaceId:t});return n.result?n.result:lx.readAsync({...o,spaceId:t})}),[t])}l();var Cu=x(R());var _y=Cu.default.createContext(()=>({getCurrentValue:()=>[],subscribe:()=>()=>{}})),Gs=new Map;function mx(e){let{withComments:t,spaceKey:o,pageKey:n,changeRequestKey:r,children:i}=e,a={space:o,page:n,changeRequest:r||null},[s]=Wn([t?Tw(a).where("resolved","==",null).orderBy("postedAt","asc"):null]);Cu.default.useEffect(()=>{let u=(s||[]).reduce((d,p)=>{var f;return p.node?{...d,[p.node]:[...(f=d[p.node])!=null?f:[],p]}:d},{});Object.entries(u).forEach(([d,p])=>{let f=p||[],g=Gs.get(d),[b,v]=g||[[],[]];w2(f,b)||(Gs.set(d,[f,v]),v.forEach(C=>C()))})},[s]);let c=Cu.default.useCallback(u=>({getCurrentValue:()=>{let d=Gs.get(u);return d?d[0]:[]},subscribe:d=>{let p=Gs.get(u),[f,g]=p||[[],[]];return Gs.set(u,[f,[...g,d]]),()=>{let b=Gs.get(u),[v,C]=b||[[],[]],w=C.filter(k=>k!==d);Gs.set(u,[v,w])}}}),[]);return Cu.default.createElement(_y.Provider,{value:c},i)}function w2(e,t){return e.length!==t.length?!1:e.every(o=>{let n=t.find(r=>o.key===r.key);return n?k2(o,n):!1})}function k2(e,t){return!(e.key!==t.key||e.resolved!==t.resolved||Oh(e.replies)!==Oh(t.replies))}l();var Iy=1024,px=Iy*1024;function Su(e){return e>px?`${(e/px).toFixed(0)}MB`:e>Iy?`${(e/Iy).toFixed(0)}KB`:`${e}B`}function fx(e){return Na(e)?"Image":Dl(e)?"Code":e.contentType==="application/pdf"?"PDF":e.contentType.startsWith("text/")?"Text":"Binary"}l();var Op=x(R());function hx(e){var n,r,i;let t=(0,Op.useContext)(Oo);x2(t,e),ui(()=>yx(t,e));let o=ui(()=>gx(t,e));(0,Op.useEffect)(()=>(o.current=gx(t,e),()=>{o.current&&window.gtag("config",o.current,{update:!0,groups:"not_tracking_views"})}),[(n=e==null?void 0:e.googleAnalytics)==null?void 0:n.enabled,(r=e==null?void 0:e.googleAnalytics)==null?void 0:r.trackingPrivateViews,(i=e==null?void 0:e.googleAnalytics)==null?void 0:i.trackingID,t])}function Py(e){var t;return Boolean(((t=e.googleAnalytics)==null?void 0:t.enabled)&&typeof e.googleAnalytics.trackingID=="string")}function x2(e,t){pa(o=>{var n;Ey(e,t)||o.writeSafe({type:"script",src:`https://www.googletagmanager.com/gtag/js?l=dataLayer&id=${(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.trackingID}`})})}function yx(e,t){Ey(e,t)||typeof window>"u"||window!=null&&window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(...o){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",t.googleAnalytics.trackingID))}function gx(e,t){var n;if(Ey(e,t)||typeof window>"u")return;window!=null&&window.gtag||yx(e,t),window.gtag("config",t.googleAnalytics.trackingID,{send_page_view:!1,anonymize_ip:!0,groups:"tracking_views"});let o=bm()==="rejected";return window.gtag("consent","default",{ad_storage:o?"denied":"granted",analytics_storage:o?"denied":"granted"}),(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.trackingID}function Ey(e,t){var o;return!t||!t.googleAnalytics||!Py(t)||e.preview||e.mode!=="public-content"&&!((o=t==null?void 0:t.googleAnalytics)!=null&&o.trackingPrivateViews)}l();function O2(e){J({type:"palette_search",length:e.query.text.length})}function R2(e){Ur(e.position?null:"palette",[!!e.position])}var vx={onTypeInSearch:O2,useOnPaletteView:R2};l();l();var $e=x(R());z();l();var Kn=x(R());l();var uc=x(R());z();function bx(e){let{node:t,editor:o}=e,{readOnly:n}=o,[,r]=O(_2),i=()=>{o.change(a=>{a.unwrapInlineByKey(t.key)})};return uc.createElement(on,{preferredAlignment:"start",kind:"large"},uc.createElement(y,{style:[r.annotationPopover,m.Padding.mediumHorizontal,m.Padding.mediumVertical]},uc.createElement(wn,{fragment:Ai}),n?null:uc.createElement(y,{style:[r.toolbar]},uc.createElement(A,{size:"small",kind:"secondary",icon:S.Trashcan,title:"Remove annotation",onPress:i}))))}var _2=L.create({annotationPopover:{maxHeight:300},toolbar:{position:"absolute",top:m.medium,right:m.medium}});l();var rn=x(R());l();var Cx=x(R(),1),Rp=(0,Cx.createContext)({dragDropManager:void 0});l();var mO=x(xx(),1);l();l();UT();function Yr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ox=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ty=function(){return Math.random().toString(36).substring(7).split("").join(".")},Rx={INIT:"@@redux/INIT"+Ty(),REPLACE:"@@redux/REPLACE"+Ty(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ty()}};function N2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function My(e,t,o){var n;if(typeof t=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Yr(0));if(typeof t=="function"&&typeof o>"u"&&(o=t,t=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Yr(1));return o(My)(e,t)}if(typeof e!="function")throw new Error(Yr(2));var r=e,i=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function d(){if(c)throw new Error(Yr(3));return i}function p(v){if(typeof v!="function")throw new Error(Yr(4));if(c)throw new Error(Yr(5));var C=!0;return u(),s.push(v),function(){if(C){if(c)throw new Error(Yr(6));C=!1,u();var k=s.indexOf(v);s.splice(k,1),a=null}}}function f(v){if(!N2(v))throw new Error(Yr(7));if(typeof v.type>"u")throw new Error(Yr(8));if(c)throw new Error(Yr(9));try{c=!0,i=r(i,v)}finally{c=!1}for(var C=a=s,w=0;w<C.length;w++){var k=C[w];k()}return v}function g(v){if(typeof v!="function")throw new Error(Yr(10));r=v,f({type:Rx.REPLACE})}function b(){var v,C=p;return v={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Yr(11));function I(){k.next&&k.next(d())}I();var _=C(I);return{unsubscribe:_}}},v[Ox]=function(){return this},v}return f({type:Rx.INIT}),n={dispatch:f,subscribe:p,getState:d,replaceReducer:g},n[Ox]=b,n}l();l();l();l();function oe(e,t,...o){if(D2()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;n=new Error(t.replace(/%s/g,function(){return o[r++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function D2(){return typeof process<"u"&&!0}l();function _x(e,t,o){return t.split(".").reduce((n,r)=>n&&n[r]?n[r]:o||null,e)}function Ix(e,t){return e.filter(o=>o!==t)}function Ip(e){return typeof e=="object"}function Px(e,t){let o=new Map,n=i=>{o.set(i,o.has(i)?o.get(i)+1:1)};e.forEach(n),t.forEach(n);let r=[];return o.forEach((i,a)=>{i===1&&r.push(a)}),r}function Ex(e,t){return e.filter(o=>t.indexOf(o)>-1)}l();l();var dc="dnd-core/INIT_COORDS",ja="dnd-core/BEGIN_DRAG",mc="dnd-core/PUBLISH_DRAG_SOURCE",Ua="dnd-core/HOVER",Ya="dnd-core/DROP",Za="dnd-core/END_DRAG";function Ly(e,t){return{type:dc,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var A2={type:dc,payload:{clientOffset:null,sourceClientOffset:null}};function Tx(e){return function(o=[],n={publishSource:!0}){let{publishSource:r=!0,clientOffset:i,getSourceClientOffset:a}=n,s=e.getMonitor(),c=e.getRegistry();e.dispatch(Ly(i)),B2(o,s,c);let u=W2(o,s);if(u==null){e.dispatch(A2);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");z2(a),d=a(u)}e.dispatch(Ly(i,d));let f=c.getSource(u).beginDrag(s,u);if(f==null)return;V2(f),c.pinSource(u);let g=c.getSourceType(u);return{type:ja,payload:{itemType:g,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!r}}}}function B2(e,t,o){oe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){oe(o.getSource(n),"Expected sourceIds to be registered.")})}function z2(e){oe(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function V2(e){oe(Ip(e),"Item must be an object.")}function W2(e,t){let o=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){o=e[n];break}return o}l();function F2(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function q2(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){F2(e,r,o[r])})}return e}function Mx(e){return function(o={}){let n=e.getMonitor(),r=e.getRegistry();G2(n),K2(n).forEach((a,s)=>{let c=H2(a,s,r,n),u={type:Ya,payload:{dropResult:q2({},o,c)}};e.dispatch(u)})}}function G2(e){oe(e.isDragging(),"Cannot call drop while not dragging."),oe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function H2(e,t,o,n){let r=o.getTarget(e),i=r?r.drop(n,e):void 0;return X2(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function X2(e){oe(typeof e>"u"||Ip(e),"Drop result must either be an object or undefined.")}function K2(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}l();function Lx(e){return function(){let o=e.getMonitor(),n=e.getRegistry();j2(o);let r=o.getSourceId();return r!=null&&(n.getSource(r,!0).endDrag(o,r),n.unpinSource()),{type:Za}}}function j2(e){oe(e.isDragging(),"Cannot call endDrag while not dragging.")}l();l();function wu(e,t){return t===null?e===null:Array.isArray(e)?e.some(o=>o===t):e===t}function Nx(e){return function(o,{clientOffset:n}={}){U2(o);let r=o.slice(0),i=e.getMonitor(),a=e.getRegistry(),s=i.getItemType();return Z2(r,a,s),Y2(r,i,a),$2(r,i,a),{type:Ua,payload:{targetIds:r,clientOffset:n||null}}}}function U2(e){oe(Array.isArray(e),"Expected targetIds to be an array.")}function Y2(e,t,o){oe(t.isDragging(),"Cannot call hover while not dragging."),oe(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){let r=e[n];oe(e.lastIndexOf(r)===n,"Expected targetIds to be unique in the passed array.");let i=o.getTarget(r);oe(i,"Expected targetIds to be registered.")}}function Z2(e,t,o){for(let n=e.length-1;n>=0;n--){let r=e[n],i=t.getTargetType(r);wu(i,o)||e.splice(n,1)}}function $2(e,t,o){e.forEach(function(n){o.getTarget(n).hover(t,n)})}l();function Dx(e){return function(){if(e.getMonitor().isDragging())return{type:mc}}}function Ax(e){return{beginDrag:Tx(e),publishDragSource:Dx(e),hover:Nx(e),drop:Mx(e),endDrag:Lx(e)}}var Pp=class{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let t=this,{dispatch:o}=this.store;function n(i){return(...a)=>{let s=i.apply(t,a);typeof s<"u"&&o(s)}}let r=Ax(this);return Object.keys(r).reduce((i,a)=>{let s=r[a];return i[a]=n(s),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,o){this.isSetUp=!1,this.handleRefCountChange=()=>{let n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=o,t.subscribe(this.handleRefCountChange)}};l();l();function Q2(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Bx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zx(e){let{clientOffset:t,initialClientOffset:o,initialSourceClientOffset:n}=e;return!t||!o||!n?null:Bx(Q2(t,n),o)}function Vx(e){let{clientOffset:t,initialClientOffset:o}=e;return!t||!o?null:Bx(t,o)}l();var pc=[],Ep=[];pc.__IS_NONE__=!0;Ep.__IS_ALL__=!0;function Wx(e,t){return e===pc?!1:e===Ep||typeof t>"u"?!0:Ex(t,e).length>0}var Tp=class{subscribeToStateChange(t,o={}){let{handlerIds:n}=o;oe(typeof t=="function","listener must be a function."),oe(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId,i=()=>{let a=this.store.getState(),s=a.stateId;try{s===r||s===r+1&&!Wx(a.dirtyHandlerIds,n)||t()}finally{r=s}};return this.store.subscribe(i)}subscribeToOffsetChange(t){oe(typeof t=="function","listener must be a function.");let o=this.store.getState().dragOffset,n=()=>{let r=this.store.getState().dragOffset;r!==o&&(o=r,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;let o=this.registry.getSource(t);return oe(o,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:o.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;let o=this.registry.getTarget(t);if(oe(o,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;let n=this.registry.getTargetType(t),r=this.getItemType();return wu(n,r)&&o.canDrop(this,t)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(t){if(!t)return!1;let o=this.registry.getSource(t,!0);if(oe(o,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;let n=this.registry.getSourceType(t),r=this.getItemType();return n!==r?!1:o.isDragging(this,t)}isOverTarget(t,o={shallow:!1}){if(!t)return!1;let{shallow:n}=o;if(!this.isDragging())return!1;let r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!wu(r,i))return!1;let a=this.getTargetIds();if(!a.length)return!1;let s=a.indexOf(t);return n?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return zx(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Vx(this.store.getState().dragOffset)}constructor(t,o){this.store=t,this.registry=o}};l();l();l();l();l();var Fx=typeof window<"u"?window:self,qx=Fx.MutationObserver||Fx.WebKitMutationObserver;function Ny(e){return function(){let o=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(o),clearInterval(n),e()}}}function J2(e){let t=1,o=new qx(e),n=document.createTextNode("");return o.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}var Gx=typeof qx=="function"?J2:Ny;var Mp=class{enqueueTask(t){let{queue:o,requestFlush:n}=this;o.length||(n(),this.flushing=!0),o[o.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:t}=this;for(;this.index<t.length;){let o=this.index;if(this.index++,t[o].call(),this.index>this.capacity){for(let n=0,r=t.length-this.index;n<r;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Gx(this.flush),this.requestErrorThrow=Ny(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};l();l();var Lp=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,o){this.onError=t,this.release=o,this.task=null}};var Np=class{create(t){let o=this.freeTasks,n=o.length?o.pop():new Lp(this.onError,r=>o[o.length]=r);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}};var Hx=new Mp,eL=new Np(Hx.registerPendingError);function Xx(e){Hx.enqueueTask(eL.create(e))}l();l();var ku="dnd-core/ADD_SOURCE",xu="dnd-core/ADD_TARGET",Ou="dnd-core/REMOVE_SOURCE",Hs="dnd-core/REMOVE_TARGET";function Kx(e){return{type:ku,payload:{sourceId:e}}}function jx(e){return{type:xu,payload:{targetId:e}}}function Ux(e){return{type:Ou,payload:{sourceId:e}}}function Yx(e){return{type:Hs,payload:{targetId:e}}}l();function Zx(e){oe(typeof e.canDrag=="function","Expected canDrag to be a function."),oe(typeof e.beginDrag=="function","Expected beginDrag to be a function."),oe(typeof e.endDrag=="function","Expected endDrag to be a function.")}function $x(e){oe(typeof e.canDrop=="function","Expected canDrop to be a function."),oe(typeof e.hover=="function","Expected hover to be a function."),oe(typeof e.drop=="function","Expected beginDrag to be a function.")}function Dp(e,t){if(t&&Array.isArray(e)){e.forEach(o=>Dp(o,!1));return}oe(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}l();var wr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(wr||(wr={}));l();var tL=0;function Qx(){return tL++}function oL(e){let t=Qx().toString();switch(e){case wr.SOURCE:return`S${t}`;case wr.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Jx(e){switch(e[0]){case"S":return wr.SOURCE;case"T":return wr.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function eO(e,t){let o=e.entries(),n=!1;do{let{done:r,value:[,i]}=o.next();if(i===t)return!0;n=!!r}while(!n);return!1}var Ap=class{addSource(t,o){Dp(t),Zx(o);let n=this.addHandler(wr.SOURCE,t,o);return this.store.dispatch(Kx(n)),n}addTarget(t,o){Dp(t,!0),$x(o);let n=this.addHandler(wr.TARGET,t,o);return this.store.dispatch(jx(n)),n}containsHandler(t){return eO(this.dragSources,t)||eO(this.dropTargets,t)}getSource(t,o=!1){return oe(this.isSourceId(t),"Expected a valid source ID."),o&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return oe(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return oe(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return oe(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Jx(t)===wr.SOURCE}isTargetId(t){return Jx(t)===wr.TARGET}removeSource(t){oe(this.getSource(t),"Expected an existing source."),this.store.dispatch(Ux(t)),Xx(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){oe(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Yx(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){let o=this.getSource(t);oe(o,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=o}unpinSource(){oe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,o,n){let r=oL(t);return this.types.set(r,o),t===wr.SOURCE?this.dragSources.set(r,n):t===wr.TARGET&&this.dropTargets.set(r,n),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}};l();l();l();var nL=(e,t)=>e===t;function tO(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function oO(e,t,o=nL){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!o(e[n],t[n]))return!1;return!0}function nO(e=pc,t){switch(t.type){case Ua:break;case ku:case xu:case Hs:case Ou:return pc;case ja:case mc:case Za:case Ya:default:return Ep}let{targetIds:o=[],prevTargetIds:n=[]}=t.payload,r=Px(o,n);if(!(r.length>0||!oO(o,n)))return pc;let a=n[n.length-1],s=o[o.length-1];return a!==s&&(a&&r.push(a),s&&r.push(s)),r}l();function rL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function iL(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){rL(e,r,o[r])})}return e}var rO={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function iO(e=rO,t){let{payload:o}=t;switch(t.type){case dc:case ja:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case Ua:return tO(e.clientOffset,o.clientOffset)?e:iL({},e,{clientOffset:o.clientOffset});case Za:case Ya:return rO;default:return e}}l();function aL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function fc(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){aL(e,r,o[r])})}return e}var sL={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function aO(e=sL,t){let{payload:o}=t;switch(t.type){case ja:return fc({},e,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case mc:return fc({},e,{isSourcePublic:!0});case Ua:return fc({},e,{targetIds:o.targetIds});case Hs:return e.targetIds.indexOf(o.targetId)===-1?e:fc({},e,{targetIds:Ix(e.targetIds,o.targetId)});case Ya:return fc({},e,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case Za:return fc({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}l();function sO(e=0,t){switch(t.type){case ku:case xu:return e+1;case Ou:case Hs:return e-1;default:return e}}l();function lO(e=0){return e+1}function lL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function cL(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){lL(e,r,o[r])})}return e}function cO(e={},t){return{dirtyHandlerIds:nO(e.dirtyHandlerIds,{type:t.type,payload:cL({},t.payload,{prevTargetIds:_x(e,"dragOperation.targetIds",[])})}),dragOffset:iO(e.dragOffset,t),refCount:sO(e.refCount,t),dragOperation:aO(e.dragOperation,t),stateId:lO(e.stateId)}}function uO(e,t=void 0,o={},n=!1){let r=uL(n),i=new Tp(r,new Ap(r)),a=new Pp(r,i),s=e(a,t,o);return a.receiveBackend(s),a}function uL(e){let t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return My(cO,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var zp=x(R(),1);function dL(e,t){if(e==null)return{};var o=mL(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mL(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}var dO=0,Bp=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),pO=(0,zp.memo)(function(t){var{children:o}=t,n=dL(t,["children"]);let[r,i]=pL(n);return(0,zp.useEffect)(()=>{if(i){let a=fO();return++dO,()=>{--dO===0&&(a[Bp]=null)}}},[]),(0,mO.jsx)(Rp.Provider,{value:r,children:o})});function pL(e){if("manager"in e)return[{dragDropManager:e.manager},!1];let t=fL(e.backend,e.context,e.options,e.debugMode),o=!e.context;return[t,o]}function fL(e,t=fO(),o,n){let r=t;return r[Bp]||(r[Bp]={dragDropManager:uO(e,t,o,n)}),r[Bp]}function fO(){return window}l();l();l();l();var gO=x(JT(),1),Wp=x(R(),1);l();var Vp=x(R(),1),kr=typeof window<"u"?Vp.useLayoutEffect:Vp.useEffect;function hO(e,t,o){let[n,r]=(0,Wp.useState)(()=>t(e)),i=(0,Wp.useCallback)(()=>{let a=t(e);(0,gO.default)(n,a)||(r(a),o&&o())},[n,e,o]);return kr(i),[n,i]}function yO(e,t,o){let[n,r]=hO(e,t,o);return kr(function(){let a=e.getHandlerId();if(a!=null)return e.subscribeToStateChange(r,{handlerIds:[a]})},[e,r]),n}function Fp(e,t,o){return yO(t,e||(()=>({})),()=>o.reconnect())}l();var vO=x(R(),1);function qp(e,t){let o=[...t||[]];return t==null&&typeof e!="function"&&o.push(e),(0,vO.useMemo)(()=>typeof e=="function"?e():e,o)}l();var Dy=x(R(),1);function bO(e){return(0,Dy.useMemo)(()=>e.hooks.dragSource(),[e])}function CO(e){return(0,Dy.useMemo)(()=>e.hooks.dragPreview(),[e])}l();var OO=x(R(),1);l();var Ay=!1,By=!1,Gp=class{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){oe(!Ay,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ay=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ay=!1}}isDragging(){if(!this.sourceId)return!1;oe(!By,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return By=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{By=!1}}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,o){return this.internalMonitor.isOverTarget(t,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}};l();var zy=!1,Hp=class{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}canDrop(){if(!this.targetId)return!1;oe(!zy,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return zy=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{zy=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}};l();function SO(e,t,o){let n=o.getRegistry(),r=n.addTarget(e,t);return[r,()=>n.removeTarget(r)]}function wO(e,t,o){let n=o.getRegistry(),r=n.addSource(e,t);return[r,()=>n.removeSource(r)]}l();l();function Ru(e,t,o,n){let r=o?o.call(n,e,t):void 0;if(r!==void 0)return!!r;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;let i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;let s=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<i.length;c++){let u=i[c];if(!s(u))return!1;let d=e[u],p=t[u];if(r=o?o.call(n,d,p,u):void 0,r===!1||r===void 0&&d!==p)return!1}return!0}l();function _u(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}l();var Iu=x(R(),1);function gL(e){if(typeof e.type=="string")return;let t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function hL(e){return(t=null,o=null)=>{if(!(0,Iu.isValidElement)(t)){let i=t;return e(i,o),i}let n=t;return gL(n),yL(n,o?i=>e(i,o):e)}}function Xp(e){let t={};return Object.keys(e).forEach(o=>{let n=e[o];if(o.endsWith("Ref"))t[o]=e[o];else{let r=hL(n);t[o]=()=>r}}),t}function kO(e,t){typeof e=="function"?e(t):e.current=t}function yL(e,t){let o=e.ref;return oe(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?(0,Iu.cloneElement)(e,{ref:n=>{kO(o,n),kO(t,n)}}):(0,Iu.cloneElement)(e,{ref:t})}var Kp=class{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){let t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){let t=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?t?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),o):(this.lastConnectedDragSource=t,o):o}reconnectDragPreview(t=!1){let o=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ru(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ru(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Xp({dragSource:(o,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,_u(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,_u(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}};l();var jp=class{get connectTarget(){return this.dropTarget}reconnect(){let t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();let o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ru(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Xp({dropTarget:(o,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,_u(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}};l();var xO=x(R(),1);function Zr(){let{dragDropManager:e}=(0,xO.useContext)(Rp);return oe(e!=null,"Expected drag drop context"),e}function RO(e,t){let o=Zr(),n=(0,OO.useMemo)(()=>new Kp(o.getBackend()),[o]);return kr(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),kr(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}l();var _O=x(R(),1);function IO(){let e=Zr();return(0,_O.useMemo)(()=>new Gp(e),[e])}l();l();var Yp=x(R(),1);l();var Up=class{beginDrag(){let t=this.spec,o=this.monitor,n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(o):n={},n!=null?n:null}canDrag(){let t=this.spec,o=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(o):!0}isDragging(t,o){let n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):o===t.getSourceId()}endDrag(){let t=this.spec,o=this.monitor,n=this.connector,{end:r}=t;r&&r(o.getItem(),o),n.reconnect()}constructor(t,o,n){this.spec=t,this.monitor=o,this.connector=n}};function PO(e,t,o){let n=(0,Yp.useMemo)(()=>new Up(e,t,o),[t,o]);return(0,Yp.useEffect)(()=>{n.spec=e},[e]),n}l();var EO=x(R(),1);function TO(e){return(0,EO.useMemo)(()=>{let t=e.type;return oe(t!=null,"spec.type must be defined"),t},[e])}function MO(e,t,o){let n=Zr(),r=PO(e,t,o),i=TO(e);kr(function(){if(i!=null){let[s,c]=wO(i,r,n);return t.receiveHandlerId(s),o.receiveHandlerId(s),c}},[n,t,o,r,i])}function Zp(e,t){let o=qp(e,t);oe(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let n=IO(),r=RO(o.options,o.previewOptions);return MO(o,n,r),[Fp(o.collect,n,r),bO(r),CO(r)]}l();l();var LO=x(R(),1);function NO(e){return(0,LO.useMemo)(()=>e.hooks.dropTarget(),[e])}l();var DO=x(R(),1);function AO(e){let t=Zr(),o=(0,DO.useMemo)(()=>new jp(t.getBackend()),[t]);return kr(()=>(o.dropTargetOptions=e||null,o.reconnect(),()=>o.disconnectDropTarget()),[e]),o}l();var BO=x(R(),1);function zO(){let e=Zr();return(0,BO.useMemo)(()=>new Hp(e),[e])}l();l();var VO=x(R(),1);function WO(e){let{accept:t}=e;return(0,VO.useMemo)(()=>(oe(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}l();var Qp=x(R(),1);l();var $p=class{canDrop(){let t=this.spec,o=this.monitor;return t.canDrop?t.canDrop(o.getItem(),o):!0}hover(){let t=this.spec,o=this.monitor;t.hover&&t.hover(o.getItem(),o)}drop(){let t=this.spec,o=this.monitor;if(t.drop)return t.drop(o.getItem(),o)}constructor(t,o){this.spec=t,this.monitor=o}};function FO(e,t){let o=(0,Qp.useMemo)(()=>new $p(e,t),[t]);return(0,Qp.useEffect)(()=>{o.spec=e},[e]),o}function qO(e,t,o){let n=Zr(),r=FO(e,t),i=WO(e);kr(function(){let[s,c]=SO(i,r,n);return t.receiveHandlerId(s),o.receiveHandlerId(s),c},[n,t,r,o,i.map(a=>a.toString()).join("|")])}function gi(e,t){let o=qp(e,t),n=zO(),r=AO(o.options);return qO(o,n,r),[Fp(o.collect,n,r),NO(r)]}z();l();var Eu=4,Tu=m.medium,Mu=4,Lu=m.xlarge+m.small,Vy=m.large,Xs=-m.large,Pu={[bt]:-(Tu+Eu/2),[$t]:-(Lu+Mu/2),[Dn]:-Vy},Wy={[bt]:Pu[bt],[$t]:Pu[$t],[Dn]:Pu[Dn]},Jp=E.ICON_XS,Nu=Xs-E.BUTTON_S-m.small-Jp/2,GO=m.large+4,HO=m.large+8,XO=m.large+8,KO=28,jO=32,UO=34,hi=m.small;l();var kn=x(R());l();var mR=[{key:"youtube",title:"Youtube",icon:YO()},{key:"soundcloud",title:"Soundcloud",icon:ZO()},{key:"loom",title:"Loom",icon:$O()},{key:"github",title:"GitHub Gist",icon:QO(),iconDark:JO()},{key:"framer",title:"Framer",icon:eR(),iconDark:tR()},{key:"codepen",title:"Codepen",icon:oR(),iconDark:nR()},{key:"dribbble",title:"Dribbble",icon:rR()},{key:"trello",title:"Trello",icon:iR()},{key:"typeform",title:"Typeform",icon:aR(),iconDark:sR()},{key:"google-docs",title:"Google Docs",icon:lR()},{key:"google-sheets",title:"Google Sheets",icon:cR()},{key:"google-slides",title:"Google Slides",icon:uR()},{key:"google-form",title:"Google Forms",icon:dR()}];l();var qi=x(R());z();l();var Ca=x(R());var Sa=op(e=>e.isPDF?{width:793.92,height:1123.2}:{width:750,height:500},{height:!1}),Fy={contentReferenceContext:{},uploadFiles:()=>{throw new Error("uploadFiles is not implemented, it should be passed as a prop to the ContentEditor component")},updateFile:()=>{throw new Error("updateFile is not implemented, it should be passed as a prop to the ContentEditor component")},logAnalyticsEvent:()=>{},blockLayoutComponent:({children:e})=>Ca.createElement(Ca.Fragment,null,e),integrationBlocksRemote:kp(()=>{throw new Error("not implemented")}),integrationBlocks:{}},re=Ca.createContext(Fy),$r=Ca.createContext({sections:Tl(),active:null,selected:null,setActive:()=>{}}),$a=Ca.createContext("left"),Fn=Ca.createContext("root");function pR(e){let{onInsert:t,onClose:o}=e,{logAnalyticsEvent:n}=qi.useContext(re),[r,i]=qi.useState(""),a=Fr(r),s=()=>{if(!a)return;let c=Ol(r);t(sm.createEmbedBlock(c)),n({type:"edit_page_document_insert_block",blockType:Nn,embedHostname:new URL(c).hostname})};return qi.createElement(wt,{title:"Embed a URL",subtitle:"Insert a URL to embed a live preview. Works with YouTube, Google Drive, Vimeo, and more.",onClose:o,footer:qi.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},qi.createElement(A,{kind:"secondary",onPress:o,style:m.Margin.smallRight},"Cancel"),qi.createElement(A,{kind:"primary",disabled:!a,onPress:s},"Insert"))},qi.createElement(Xt,{autoFocus:!0,label:"URL",value:r,onChangeText:i,onSubmit:s,placeholder:"Paste a URL or type it",feedback:a||!r?{type:"none"}:{type:"danger"}}))}l();var nt=x(R());z();l();var Gy=x(R());l();var yi=Gr({getValue:async([e,t,o])=>{let n=[];return!e||!Iw(e,t)?[null,n,!1]:await nu(async()=>[await ty(e,t,{getDocument:i=>(n.some(a=>na(a)===na(i))||n.push(i),As.readAsync(i)),getCollection:i=>(n.some(a=>na(i)===na(a))||n.push(i),As.readAsync(i))}),n,!1],[null,n,!0])},toJS(e){return[e[0],e[1].map(Rh),e[2]]},fromJS(e){return[e[0],e[1].map(_h),e[2]]}}),ef=Gr({getValue:async([e,t])=>{let o=[];return await nu(async()=>[await Km(e,t,{getDocument:r=>(o.some(i=>na(i)===na(r))||o.push(r),As.readAsync(r)),getCollection:r=>(o.some(i=>na(r)===na(i))||o.push(r),As.readAsync(r))}),o,!1],[null,o,!0])},toJS(e){return[e[0],e[1].map(Rh),e[2]]},fromJS(e){return[e[0],e[1].map(_h),e[2]]}});l();function fR(e,t,o=void 0){switch(t){case"light":case"dark":return{...e,color:t};case"none":return e;case"bold":return{...e,color:Ym(o||j.PRIMARY)};default:Pt(t)}}var U$={none:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1})}),light:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})};l();var tf=x(R());function Qa(){let{navigate:e,getNavigationURL:t,getNavigationLinkProps:o}=Ce();return tf.useMemo(()=>{let r=(c,u)=>{let d=Ye(c,u);if(d!==null)return t({current:qy(d)})},i=(c,u)=>{let d=Ye(c,u);if(d!==null)return o({current:qy(d)})},a=(c,u={})=>{let{replace:d=!1}=u;e({current:qy(c,u)},{replace:d})};return{getNavigationHref:r,getNavigationProps:i,navigateToPagePath:a,navigateToPage:(c,u,d)=>{let p=Ye(c,u);p!==null&&a(p,d)}}},[e])}function qy(e,t={}){let{preserveSideSheet:o=!1,preserveComments:n=!0,sideSheet:r}=t;return i=>({page:e,...!o&&!r?{sideSheet:void 0}:{},...r?{sideSheet:r}:{},comments:n&&i.type==="space"&&i.comments?{...i.comments,node:void 0}:void 0})}function gR(e){let{to:t}=e;return tf.createElement(Fm,{to:{screen:{page:t,comments:void 0,sideSheet:void 0}}})}function nn(e,t,o={}){let{document:n,...r}=t,{space:i,revision:a}=t,{withSearch:s=!0,accept:c=["url","user","anchor","page","space","collection","file"]}=o,u=[];return c.includes("url")&&u.push({key:"url",commands:d=>{let{text:p}=d.query;if(!p||!La(p))return[];let f=gm(p);if(f){let[g]=ef.read([f,r]),[b]=yi.read([g,r]);if(g&&b)return[{key:p,title:b.text,icon:S.ArrowUpRight,trigger:()=>{e(g)}}]}return[{key:p,title:`Link to "${p}"`,icon:S.Link,trigger:()=>{e({kind:"url",url:p})}}]}}),c.includes("anchor")&&n&&u.push({key:"anchors",commands:()=>yR(n,{},e)}),c.includes("page")&&i&&a&&u.push(hR(i,a,e,{accept:c,withSearch:s,targetCurrentSpace:!0})),c.includes("space")&&u.push({key:"spaces",commands:d=>ya.read({query:d.query.text,types:["spaces"]}).map(f=>{if(f.index!=="spaces")return null;let g=f.object.objectID,[b]=Ul([hn(g)]);return b?{key:g,icon:({size:v})=>Gy.createElement(Xm,{space:f.object,size:v}),title:f.object.title,trigger:()=>{e({kind:"space",space:g})},descendant:c.includes("page")?()=>({...te({search:"Select page\u2026",groups:[hR(g,b.revision,e,{accept:c,withSearch:s,targetCurrentSpace:g===i})]}),...s?{}:{search:void 0}}):void 0}:null}).filter(de)}),c.includes("collection")&&u.push({key:"collections",commands:d=>ya.read({query:d.query.text,types:["collections"]}).map(f=>f.index!=="collections"?null:{key:f.object.objectID,title:f.object.title,trigger:()=>{e({kind:"collection",collection:f.object.objectID})}}).filter(de)}),c.includes("user")&&u.push({key:"users",commands:d=>ya.read({query:d.query.text,hitsPerPage:8,types:["users"]}).map(f=>f.index!=="users"?null:{key:f.object.objectID,icon:({size:g})=>Gy.createElement(va,{user:f.object,size:g}),title:f.object.displayName,subtitle:f.object.email,trigger:()=>{e({kind:"user",user:f.object.objectID})}}).filter(de)}),te({search:s?"Type url or reference\u2026":void 0,groups:u})}function DL(e,t,o,n){return te({search:"Select page or heading\u2026",groups:[{key:"page",commands:[{key:"pick",title:`Link to "${t.title}"`,icon:S.Page,trigger:()=>{o({kind:"page",page:t.key,space:n.targetCurrentSpace?void 0:e})}}]},{key:"anchors",commands:()=>AL(e,t,{page:t.key,space:n.targetCurrentSpace?void 0:e},o)}]})}function hR(e,t,o,n){let{accept:r,withSearch:i,targetCurrentSpace:a}=n;return{key:"space",commands:()=>{let s=dw({space:e,revision:t});return s?Object.values(s.pages).filter(c=>c.kind!=="link").map(c=>({key:c.key,title:c.title,subtitle:Ye(s,c.key),icon:c.kind==="group"?S.AddPageGroup:S.Page,trigger:()=>{o({kind:"page",page:c.key,space:n.targetCurrentSpace?void 0:e})},descendant:r&&r.includes("anchor")&&c.kind==="sheet"?()=>({...DL(e,c,o,{targetCurrentSpace:a}),...i?{}:{search:void 0}}):void 0})):[]}}}function AL(e,t,o,n){if(!t.sheet)return[];let[r]=Sy([{spaceKey:e,sheetKey:t.sheet}]);if(!r)return[];let{document:i}=Nl(r.body);return yR(i,o,n)}function yR(e,t,o){return Ml(e).filter(r=>!!r.anchor).map(r=>{let i=(()=>{switch(r.type){case Te:return S.Heading1;case Le:return S.Heading2;case He:return S.Heading3;case zo:return S.Swagger;case Ni:return S.BlockExpandable;case Dn:case yn:return S.Tabs;case null:return S.Hash;default:Pt(r.type)}})();return{key:r.key,icon:i,title:r.title,trigger:()=>{o({kind:"anchor",anchor:r.anchor,...t})}}})}l();var hc=x(R());l();var Ks=x(R());z();function gc(e){let{file:t,size:o=E.ICON_M}=e,[,n]=O(zL);return Ks.createElement(y,{style:[n.fileTileIcon,{width:o,height:o}]},t&&Na(t)?Ks.createElement(ko,{style:n.fileTilePreview,source:{uri:pi(t.downloadURL,{width:o})},accessibilityLabel:t.name}):Ks.createElement(BL,{file:t,size:o*.65}))}function BL(e){let{file:t,...o}=e;return t?Dl(t)?Ks.createElement(S.Swagger,{...o}):Ks.createElement(S.Paperclip,{...o}):Ks.createElement(S.Trashcan,{...o})}var zL=L.create({fileTileIcon:e=>({backgroundColor:e.colors.background.muted,color:e.colors.text.muted,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:E.RADIUS_M}),fileTilePreview:{width:"100%",height:"100%",resizeMode:"cover",borderRadius:E.RADIUS_M,objectFit:"contain"}});function Hy(e,t={}){let{navigate:o,getNavigationURL:n}=Ce(),[r,i]=hc.useState(""),a=e.map(d=>[d,t,r]),s=yi.readMultiple(a),c=yi.readCacheUpdatesKey(a),u=nw(s.map(d=>d[1]).flat());return hc.useEffect(()=>{i(u)},[u]),hc.useMemo(()=>s.map(([d,p,f],g)=>{let b=e[g];return d?{title:d.text,icon:VL(b,d),secondaryIcon:WL(b,d),secondaryIconDescription:FL(b,d),href:typeof d.target=="string"?d.target:n({screen:d.target}),open:()=>{typeof d.target=="string"?zm(d.target):o({screen:d.target})},resolution:d}:{title:f?"Access denied":"Broken link",icon:void 0,href:"",open:()=>{}}}),[c,n,o])}function qn(e,t={}){return Hy(e?[e]:[],t)[0]||{title:"Broken link",icon:null,href:"",open:()=>{}}}function VL(e,t){var o,n,r,i;if(e.kind==="url")return S.ExternalLink;if((o=t.extra)!=null&&o.user)return Je(va,{user:t.extra.user});if((n=t.extra)!=null&&n.file)return Je(gc,{file:t.extra.file});if((r=t.extra)!=null&&r.space)return Je(Xm,{space:t.extra.space});if((i=t.extra)!=null&&i.page&&t.extra.page.emoji)return Je(Wo,{code:t.extra.page.emoji})}function WL(e,t){switch(e.kind){case"user":return S.AtSign;case"anchor":return S.Hash;case"page":return S.Page;case"space":return S.Space;case"collection":return S.Collection;case"url":return S.ExternalLink}}function FL(e,t){switch(e.kind){case"user":return"User mention";case"anchor":return"Link to a page's anchor";case"page":return"Link to a page";case"space":return"Link to a space";case"collection":return"Link to a acollection";case"url":return"External URL"}}function of(e){let{label:t,labelDescription:o,value:n,onChangeValue:r,placeholder:i,context:a={},accept:s,size:c="large",disabled:u=!1}=e,[d,p]=nt.useState(!1),[f,g]=nt.useState(!1),[b,v]=nt.useState(""),C=nt.useRef(null),w=nt.useRef(null),[,k]=O(GL),I=ne(C,{width:"anchor"});nt.useEffect(()=>{if(!b||!d||d&&!f){I.close();return}I.opened?I.typeQuery(b):I.open(qa(nn(M=>{r(M),g(!1),w.current&&w.current.blur()},a,{withSearch:!1,accept:s}),b))},[b,d]),nt.useEffect(()=>{d&&w.current&&w.current.focus()},[d]);let _=M=>{v(M),g(!0)},P=()=>{b||(g(!1),r()),La(b)&&(r({kind:"url",url:b}),g(!1)),p(!1)};return nt.createElement(y,null,t?nt.createElement(y,{style:m.Margin.smallBottom},nt.createElement(Hl,null,t),o?nt.createElement(y,{style:m.Margin.xsmallTop},nt.createElement(Mm,null,o)):null):null,d||!n?nt.createElement(Xt,{testID:"contentRef.input",ref:w,wrapperRef:C,size:c,value:b,onChangeText:_,onBlur:P,onFocus:()=>p(!0),placeholder:i,disabled:u}):nt.createElement(Pe,{testID:"contentRef.fakeInput",onPress:()=>p(!0),style:[k.input,LS[c],h.directionRow,h.alignCenter]},nt.createElement(nt.Suspense,{fallback:nt.createElement(me,{size:E.ICON_S})},nt.createElement(qL,{value:n,context:a,size:c}))))}function qL(e){let{value:t,context:o,size:n}=e,[,r]=O(N),i=qn(t,o);return nt.createElement(y,{style:[h.flex1,h.directionRow,h.alignCenter]},i.icon?nt.createElement(y,{style:[m.Margin.smallRight]},nt.createElement(i.icon,{size:E.ICON_S,style:r.textMuted})):null,nt.createElement(y,{style:[h.flex1]},nt.createElement(Sn,{style:[MS[n],r.text],testID:"contentRef.resolvedTitle"},i.title)))}var GL=L.create({input:e=>({backgroundColor:e.colors.background.main,borderWidth:1,borderColor:e.colors.border.main})});l();var nf=x(R());var Du=nf.forwardRef(function(t,o){let{contentRef:n,space:r,revision:i,style:a,kind:s="default",...c}=t,u=qn(n,{space:i.space,revision:i.key});return nf.createElement(zi,{ref:o,url:u.href,onPress:d=>{d.nativeEvent.metaKey||d.nativeEvent.ctrlKey||(d.preventDefault(),u.open())},kind:s,sameWebTab:!1,style:[eo.Body,eo.SemiBold,a],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:t.title,...c},t.title)});l();async function vR(e,t={}){let[o]=await yi.readAsync([e,t]);return{uri:o==null?void 0:o.target}}function rf(e,t={}){var r,i,a,s;let o=qn(e,t);if(!o.href)return null;let n=(i=(r=o.resolution)==null?void 0:r.extra)==null?void 0:i.file;return{uri:o.href,width:(a=n==null?void 0:n.dimensions)==null?void 0:a.width,height:(s=n==null?void 0:n.dimensions)==null?void 0:s.height}}l();function Ja(e,t){return{href:e.href,onPress:o=>{if(t&&t(o),o){if(o.isDefaultPrevented()||o.nativeEvent.metaKey||o.nativeEvent.ctrlKey)return;o.preventDefault()}e.open()}}}l();var Ky=x(R());function bR(e){let{block:t,style:o,size:n=E.ICON_M}=e;return t.icon?Ky.createElement(ko,{source:{uri:pi(t.icon,{width:n})},style:[{width:n,height:n,borderRadius:n/8}]}):Ky.createElement(S.Integrations,{size:n,style:o})}l();l();var Gn=x(R());l();var vc=x(R());l();var oo=x(R());z();l();var af=x(R());z();function CR(e){let{description:t,readOnly:o,blockProps:n}=e,{node:r}=n;return!t||o&&"fragment"in t&&dr(r.fragments.get(t.fragment))?null:af.createElement(y,{style:m.Margin.mediumTop},"text"in t?af.createElement(Xl,{markdown:t.text}):af.createElement(wn,{fragment:t.fragment}))}l();var Au=x(R());z();l();var js={get:j.primary.base,post:j.green.base,put:j.orange.base,options:j.violet.base,head:j.orange.base,delete:j.scarlet.base,patch:j.orange.base,connect:j.orange.base,trace:j.orange.base};var HL=G.createResponsiveComponent(Jo);function sf(e){let{readOnly:t,method:o,setMethod:n}=e,[,r]=O(N),[,i]=O(XL),a=Au.default.useRef(null),s=ne(a),c=te({groups:[{key:"methods",commands:Ql.map(p=>({key:p,title:p.toUpperCase(),trigger:()=>{n&&n(p)}}))}]}),u=()=>{s.open(c)},d=Au.default.createElement(HL,{style:i.badge,backgroundColor:js[o]||j.orange.base,mobileStyle:[i.mobileMethodBadge],desktopStyle:[i.httpMethodBadge]},Au.default.createElement(G.Text,{desktopStyle:[r.GroupTitle,r.Bold],mobileStyle:[r.MobileCaption,r.Bold],style:[r.textInsideColor,r.Bold,r.Uppercase]},o));return t?d:Au.default.createElement(Pe,{ref:a,onPress:u},d)}var XL=L.create({badge:{width:"fit-content"},httpMethodBadge:{borderRadius:E.XS,height:E.XS,paddingHorizontal:m.small,justifyContent:"center"},mobileMethodBadge:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:m.small,justifyContent:"center"}});var SR=G.createResponsiveComponent(B.View),KL=G.createResponsiveComponent(B.View.Child);function wR(e){let{readOnly:t,blockProps:o,baseUrl:n,summary:r,path:i,method:a,description:s,opened:c,setOpened:u}=e,{node:d,editor:p}=o,[,f]=O(N),g=oo.default.useRef(),b=oo.default.useRef(),v=oo.default.useRef();function C(){u(!c)}let w=B.useInteractiveComponent(c?S.ChevronDown:S.ChevronRight);return oo.default.createElement(y,{style:[h.directionColumn,h.flex1,m.Padding.smallBottom]},oo.default.createElement(G.View,{style:[h.alignCenter,m.Padding.medium,h.wrap],mobileStyle:h.flex1,desktopStyle:h.directionRow},oo.default.createElement(B.TouchableOpacity,{style:m.Padding.mediumRight,onPress:C},oo.default.createElement(w.Child,{size:E.ICON_M,style:f.textMuted,activeStyle:f.primary})),oo.default.createElement(y,{style:[m.Margin.mediumRight]},oo.default.createElement(sf,{readOnly:t,method:a,setMethod:k=>{p.change(I=>{ve.setMethod(I,d.key,k)})}})),oo.default.createElement(SR,{style:[h.wrap],mobileStyle:[h.flex1]},oo.default.createElement(gr,{ref:g,component:ba,value:n,placeholder:"https://api.gitbook.com/v1",onChangeText:k=>{p.change(I=>{ve.setBaseUrl(I,d.key,k)})},style:[f.Label,f.textMuted,lf.breakWord],selectTextOnFocus:!0,readOnly:t,onSubmitEditing:()=>{b.current&&b.current.focus()}})),oo.default.createElement(SR,{style:[h.directionRow],mobileStyle:[lf.mobileEndpoint,m.Padding.xsmallTop]},oo.default.createElement(gr,{ref:b,component:ba,value:i,placeholder:"/users",onChangeText:k=>{p.change(I=>{ve.setPath(I,d.key,k)})},style:[f.Label,f.text,f.Bold,lf.breakWord],selectTextOnFocus:!0,readOnly:e.readOnly,onSubmitEditing:()=>{v.current&&v.current.focus()}}),oo.default.createElement(KL,{style:[m.Margin.xsmallLeft,se.hidden],hoverStyle:[se.visible],mobileStyle:{display:"none"}},oo.default.createElement(Im,{size:"xsmall",content:`${n}${i}`})))),oo.default.createElement(y,{style:lf.headerBody},oo.default.createElement(y,null,oo.default.createElement(gr,{ref:v,component:ba,value:r,placeholder:"Operation summary",onChangeText:k=>{p.change(I=>{ve.setSummary(I,d.key,k)})},style:[f.Heading3,f.text],readOnly:t,displayMode:"block",onSubmitEditing:()=>{p.change(k=>{if(c&&s&&"fragment"in s){let I=d.fragments.get(s.fragment);I&&k.collapseToStartOf(I)}else Ct(k,d);k.focus()})}})),c?oo.default.createElement(CR,{readOnly:t,description:s,blockProps:o}):null))}var lf=q.create({breakWord:{wordWrap:"anywhere"},mobileEndpoint:{paddingLeft:m.medium+E.ICON_M,flexBasis:"100%",flexGrow:1},headerBody:{paddingLeft:m.medium+E.ICON_M+m.medium}});l();var qu=x(R());z();l();var Bu=x(R());z();function kR(e){let{blockProps:t}=e,{editor:o,node:n}=t,r=Bu.useRef(null),i=ne(r),a=te({groups:[{key:"parameters",commands:jy.map(({location:c,title:u,description:d})=>({key:c,title:u,subtitle:d,trigger:()=>{o.change(p=>{ve.addParameter(p,n.key,c)})}}))}]}),s=()=>{i.open(a)};return Bu.createElement(y,null,Bu.createElement(A,{ref:r,title:"Add Parameter",icon:i.opened?S.X:S.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>s()}))}var jy=[{location:"path",title:"Path",description:"Params in the URL path"},{location:"query",title:"Query",description:"Params in the query string"},{location:"header",title:"Header",description:"Params sent in headers"},{location:"cookie",title:"Cookie",description:"Params set via cookie"},{location:"body",title:"Body",description:"Params passed in body"}];l();var Fu=x(R());z();l();var no=x(R());z();l();var Fo=x(R());z();l();var TR=x(R());l();l();l();l();function Uy(e){let t=null;return()=>(t==null&&(t=e()),t)}function xR(e,t){return e.filter(o=>o!==t)}function OR(e,t){let o=new Set,n=i=>o.add(i);e.forEach(n),t.forEach(n);let r=[];return o.forEach(i=>r.push(i)),r}var cf=class{enter(t){let o=this.entered.length,n=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(t));return this.entered=OR(this.entered.filter(n),[t]),o===0&&this.entered.length>0}leave(t){let o=this.entered.length;return this.entered=xR(this.entered.filter(this.isNodeInDocument),t),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}};l();l();var uf=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){let o={};Object.keys(this.config.exposeProperties).forEach(n=>{let r=this.config.exposeProperties[n];r!=null&&(o[n]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,o){return o===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}};l();var zu={};_C(zu,{FILE:()=>Yy,HTML:()=>Qy,TEXT:()=>$y,URL:()=>Zy});l();var Yy="__NATIVE_FILE__",Zy="__NATIVE_URL__",$y="__NATIVE_TEXT__",Qy="__NATIVE_HTML__";l();function df(e,t,o){let n=t.reduce((r,i)=>r||e.getData(i),"");return n!=null?n:o}var mf={[Yy]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Qy]:{exposeProperties:{html:(e,t)=>df(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Zy]:{exposeProperties:{urls:(e,t)=>df(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[$y]:{exposeProperties:{text:(e,t)=>df(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function RR(e,t){let o=mf[e];if(!o)throw new Error(`native type ${e} has no configuration`);let n=new uf(o);return n.loadDataTransfer(t),n}function pf(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(mf).filter(o=>{let n=mf[o];return n!=null&&n.matchesTypes?n.matchesTypes.some(r=>t.indexOf(r)>-1):!1})[0]||null}l();l();var _R=Uy(()=>/firefox/i.test(navigator.userAgent)),Jy=Uy(()=>Boolean(window.safari));l();var Vu=class{interpolate(t){let{xs:o,ys:n,c1s:r,c2s:i,c3s:a}=this,s=o.length-1;if(t===o[s])return n[s];let c=0,u=a.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));let g=o[d];if(g<t)c=d+1;else if(g>t)u=d-1;else return n[d]}s=Math.max(0,u);let p=t-o[s],f=p*p;return n[s]+r[s]*p+i[s]*f+a[s]*p*f}constructor(t,o){let{length:n}=t,r=[];for(let b=0;b<n;b++)r.push(b);r.sort((b,v)=>t[b]<t[v]?-1:1);let i=[],a=[],s=[],c,u;for(let b=0;b<n-1;b++)c=t[b+1]-t[b],u=o[b+1]-o[b],a.push(c),i.push(u),s.push(u/c);let d=[s[0]];for(let b=0;b<a.length-1;b++){let v=s[b],C=s[b+1];if(v*C<=0)d.push(0);else{c=a[b];let w=a[b+1],k=c+w;d.push(3*k/((k+w)/v+(k+c)/C))}}d.push(s[s.length-1]);let p=[],f=[],g;for(let b=0;b<d.length-1;b++){g=s[b];let v=d[b],C=1/a[b],w=v+d[b+1]-g-g;p.push((g-v-w)*C),f.push(w*C*C)}this.xs=t,this.ys=o,this.c1s=d,this.c2s=p,this.c3s=f}};var jL=1;function ev(e){let t=e.nodeType===jL?e:e.parentElement;if(!t)return null;let{top:o,left:n}=t.getBoundingClientRect();return{x:n,y:o}}function Wu(e){return{x:e.clientX,y:e.clientY}}function UL(e){var t;return e.nodeName==="IMG"&&(_R()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function YL(e,t,o,n){let r=e?t.width:o,i=e?t.height:n;return Jy()&&e&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function IR(e,t,o,n,r){let i=UL(t),s=ev(i?e:t),c={x:o.x-s.x,y:o.y-s.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:p,anchorY:f}=n,{dragPreviewWidth:g,dragPreviewHeight:b}=YL(i,t,u,d),v=()=>{let M=new Vu([0,.5,1],[c.y,c.y/d*b,c.y+b-d]).interpolate(f);return Jy()&&i&&(M+=(window.devicePixelRatio-1)*b),M},C=()=>new Vu([0,.5,1],[c.x,c.x/u*g,c.x+g-u]).interpolate(p),{offsetX:w,offsetY:k}=r,I=w===0||w,_=k===0||k;return{x:I?w:C(),y:_?k:v()}}l();var ff=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,o){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=o}};function ZL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function PR(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){ZL(e,r,o[r])})}return e}var gf=class{profile(){var t,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){let t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,o,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,o),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,o,n){this.sourceNodes.set(t,o),this.sourceNodeOptions.set(t,n);let r=a=>this.handleDragStart(a,t),i=a=>this.handleSelectStart(a);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",r),o.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),o.removeEventListener("dragstart",r),o.removeEventListener("selectstart",i),o.setAttribute("draggable","false")}}connectDropTarget(t,o){let n=a=>this.handleDragEnter(a,t),r=a=>this.handleDragOver(a,t),i=a=>this.handleDrop(a,t);return o.addEventListener("dragenter",n),o.addEventListener("dragover",r),o.addEventListener("drop",i),()=>{o.removeEventListener("dragenter",n),o.removeEventListener("dragover",r),o.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let t=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(t);return PR({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let t=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(t);return PR({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){let t=this.monitor.getItemType();return Object.keys(zu).some(o=>zu[o]===t)}beginDragNativeItem(t,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=RR(t,o),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;let o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,o){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(t,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(t,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(t,o){this.dropTargetIds.unshift(o)}constructor(t,o,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{let i=this.sourceNodes.get(r);return i&&ev(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>Boolean(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{let r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;let{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;let a=Wu(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});let{dataTransfer:s}=r,c=pf(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),f=this.sourcePreviewNodes.get(d)||p;if(f){let{anchorX:g,anchorY:b,offsetX:v,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),I=IR(p,f,a,{anchorX:g,anchorY:b},{offsetX:v,offsetY:C});s.setDragImage(f,I.x,I.y)}}try{s==null||s.setData("application/json",{})}catch(d){}this.setCurrentDragSourceNode(r.target);let{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(s&&!s.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;let{dataTransfer:s}=r,c=pf(s);c&&this.beginDragNativeItem(c,s)},this.handleTopDragEnter=r=>{let{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Wu(r)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{let{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=Wu(r),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else pf(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{let{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Wu(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{let i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new ff(o,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new cf(this.isNodeInDocument)}};l();var hf;function tv(){return hf||(hf=new Image,hf.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),hf}var ER=function(t,o,n){return new gf(t,o,n)};function MR(e){return TR.createElement(pO,{backend:ER},e.children)}l();function LR(e){switch(e.type){case"space":return{kind:"space",space:e.id};case"collection":return{kind:"collection",collection:e.id};case"page":return{kind:"page",space:e.space,page:e.id};case"block":case"tab":case"swagger-response":case"swagger-parameter":throw new Error(`Invalid DND item "${e.type}"`);default:Pt(e)}}l();var NR=x(R());function Gi(e,t){let[o,n,r]=Zp(e,t);return(0,NR.useEffect)(()=>{r(tv(),{captureDraggingState:!0})},[r]),[o,n,r]}var DR=B.createInteractiveHandle("swagger-row");function yf(e){var U,F;let{dragItem:t,columns:o,isLast:n,children:r,palette:i,onDropBefore:a,onDropAfter:s,onInsertBefore:c,onInsertAfter:u,readOnly:d,opened:p,setOpened:f,node:g,ancestors:b}=e,[,v]=O($L),C=yc({node:g,ancestors:b}),[{dragging:w},k]=Gi({type:t.type,item:t,canDrag:()=>!e.readOnly,collect:H=>({dragging:H.isDragging()})}),[I,_]=gi({accept:t.type,drop:(H,Q)=>{Q.didDrop()||a(H)},canDrop:H=>t.id!==H.id&&t.blockKey===H.blockKey,collect:H=>({highlighted:H.isOver()&&H.canDrop()})}),[P,M]=gi({accept:t.type,drop:(H,Q)=>{Q.didDrop()||s(H)},canDrop:H=>t.id!==H.id&&t.blockKey===H.blockKey,collect:H=>({highlighted:H.isOver()&&H.canDrop()})}),T=Fo.useRef(null),V=Aa(T,k),K=ne(T);return Fo.createElement(y,null,Fo.createElement(y,null,Fo.createElement(B.View,{handle:DR,style:[h.directionRow,h.alignCenter,m.Padding.largeRight,w?se.translucent:se.visible]},d?null:Fo.createElement(G.View,{style:[h.justifyContentCenter,(U=C.controlsButton)==null?void 0:U.style],mobileStyle:"hidden"},Fo.createElement(B.View.Child,{descendantOf:DR,activeStyle:se.visible,inactiveStyle:K.opened?{}:se.hidden},Fo.createElement(A,{ref:V,icon:S.GrabberVertical,size:(F=C.controlsButton)==null?void 0:F.size,rounded:!0,kind:"secondary",title:`Click for options.
Drag to move.`,onPress:()=>{K.open(i())}}))),Fo.createElement(G.View,{style:[h.flex1,h.directionRow],mobileStyle:[h.wrap,h.alignStart,m.Padding.smallVertical],desktopStyle:[h.alignStart,m.Padding.mediumVertical]},o.map((H,Q)=>Fo.createElement(G.View,{key:Q,style:[m.Padding.smallRight],desktopStyle:[H.desktopSize],mobileStyle:[v.columnResetWidth,H.mobileSize]},H.content))),r&&f?Fo.createElement(y,{style:[m.Margin.mediumLeft]},Fo.createElement(A,{icon:p?S.ChevronDown:S.ChevronRight,onPress:()=>f(!p)})):null),p?Fo.createElement(y,null,r):null,n?null:Fo.createElement(y,{style:v.borderLine})),d?null:Fo.createElement(vu,{ref:_,position:"top",dropHovered:I.highlighted,button:{kind:"secondary",icon:S.Plus,onPress:c}}),n&&!d?Fo.createElement(vu,{ref:M,position:"bottom",dropHovered:P.highlighted,button:{kind:"secondary",icon:S.Plus,onPress:u}}):null)}var $L=L.create({borderLine:e=>({height:1,backgroundColor:e.colors.border.muted}),controlButtonWrapper:{position:"absolute",top:0,bottom:0,left:-E.BUTTON_S/2,width:E.BUTTON_S},columnResetWidth:{width:"auto"}});l();var Us=x(R());z();function vf(e){let{title:t,button:o,children:n}=e,[,r]=O(N);return Us.createElement(y,{style:m.Margin.largeTop},Us.createElement(y,{style:[h.directionRow,h.alignCenter,m.Padding.mediumBottom]},Us.createElement(y,{style:h.flex1},Us.createElement(D,{style:[r.Heading3,r.text]},t)),o?Us.createElement(y,{style:m.Padding.smallHorizontal},o):null),Us.createElement(y,null,n))}function bf(e){let{readOnly:t,blockProps:o,parameter:n,isLast:r,beforeOrderIndex:i,afterOrderIndex:a}=e,{node:s,editor:c}=o,[,u]=O(N),d=no.useRef(),p={id:n.key,type:"swagger-parameter",blockKey:s.key,previewLabel:"Move parameter"},{name:f="",type:g="",required:b,description:v,properties:C={},items:w}=n.value,[,k]=O(e9),[I,_]=no.useState(!1),P=Object.keys(C).length,M=P>0||!!w,T=s.fragments.get(n.key),V=Q=>{c.change(ae=>{ve.setParameterName(ae,s.key,n.key,Q)})},K=Q=>{c.change(ae=>{ve.setParameterType(ae,s.key,n.key,Q)})},U=Q=>{c.change(ae=>{ve.setParameterRequired(ae,s.key,n.key,Q)})},F=()=>{c.change(Q=>{ve.removeParameter(Q,s.key,n.key)})},H=g==="object"&&P>0?Object.entries(C).map(([Q,ae],Be)=>no.createElement(bf,{key:Q,...e,isLast:Be===P-1,parameter:{key:Q,value:ae}})):g==="array"&&w?no.createElement(bf,{...e,isLast:!0,parameter:{key:"items",value:w}}):null;return no.createElement(yf,{...M?{opened:I,setOpened:_}:{},...o,readOnly:e.readOnly,dragItem:p,isLast:r,palette:()=>te({groups:[{key:"edit-parameter",commands:[{key:"delete-parameter",title:"Delete",icon:S.Trashcan,trigger:F}]}]}),columns:[{content:t?no.createElement(D,{selectable:!0,style:[u.Code,u.textMid]},f,b?no.createElement(D,{style:[u.danger]},"*"):null):no.createElement(ba,{placeholder:"id",onChangeText:V,value:f,style:[u.Code,u.textMid],selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{d.current&&d.current.focus()}}),desktopSize:k.parameterColumnNameDesktop,mobileSize:k.parameterColumnNameMobile},{content:no.createElement(ba,{ref:d,placeholder:"String",onChangeText:K,value:g,style:[u.Label,u.textMid],readOnly:t,selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{c.change(Q=>{T&&Q.collapseToStartOf(T).focus()})}}),desktopSize:k.parameterColumnTypeDesktop,mobileSize:k.parameterColumnTypeMobile},{content:no.createElement(no.Fragment,null,v?no.createElement(D,{style:[u.Label,u.textMid]},v):T?no.createElement(Fn.Provider,{value:"swaggerParameter"},no.createElement(wn,{fragment:n.key})):null),desktopSize:h.flex1,mobileSize:!v&&(!T||T.isEmpty)?k.parameterDescriptionEmptyColumnMobile:null},t?null:{content:no.createElement(GS,{value:b?"required":"optional",items:[{label:"Required",value:"required"},{label:"Optional",value:"optional"}],onValueChange:Q=>U(Q==="required")})}].filter(de),onInsertBefore:()=>{c.change(Q=>{ve.addParameter(Q,s.key,n.value.in,{before:i,after:n.value.orderIndex})})},onDropBefore:Q=>{c.change(ae=>{ve.moveParameter(ae,s.key,Q.id,n.value.in,{before:i,after:n.value.orderIndex})})},onInsertAfter:()=>{c.change(Q=>{ve.addParameter(Q,s.key,n.value.in,{before:n.value.orderIndex,after:a})})},onDropAfter:Q=>{c.change(ae=>{ve.moveParameter(ae,s.key,Q.id,n.value.in,{after:a,before:n.value.orderIndex})})}},H&&no.createElement(y,{style:[k.borderTop]},H))}var e9=L.create({parameterColumnNameDesktop:{width:200},parameterColumnNameMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%",marginBottom:m.small},parameterColumnTypeDesktop:{width:90},parameterColumnTypeMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%"},parameterDescriptionEmptyColumnMobile:{display:"none"},borderTop:e=>({borderTopWidth:1,borderTopColor:e.colors.border.muted})});function AR(e){let{parametersGroup:t,location:o,isLast:n,...r}=e,[,i]=O(N),a=jy.find(({location:s})=>s===o);return Fu.createElement(y,{style:m.Margin.smallTop},Fu.createElement(y,null,Fu.createElement(D,{style:[i.Label,i.Bold,i.text]},a.title)),t.map((s,c)=>{let u=t[c-1],d=t[c+1],p=c===t.length-1;return Fu.createElement(bf,{key:s.key,...r,parameter:s,isLast:p,beforeOrderIndex:u==null?void 0:u.value.orderIndex,afterOrderIndex:d==null?void 0:d.value.orderIndex})}))}function BR(e){let{parameters:t,readOnly:o,blockProps:n}=e,r=t9(t),i=Object.keys(r).length,a=ve.SORTED_PARAMETERS_LOCATIONS.filter(s=>!!r[s]);return qu.createElement(vf,{title:"Parameters",button:e.readOnly?null:qu.createElement(kR,{blockProps:n})},a.length>0?a.map((s,c)=>{let u=r[s];return qu.createElement(AR,{key:s,readOnly:o,blockProps:n,location:s,parametersGroup:u,isLast:c===i-1})}):qu.createElement(D,null,"No parameters"))}function t9(e){return e.reduce((t,o)=>{let n=t[o.value.in]||[];return t[o.value.in]=[...n,o],t},{})}l();var Gu=x(R());z();l();var Cf=x(FR());var a9={2:j.green.base,3:j.primary.base,4:j.orange.base,5:j.scarlet.base},s9=Object.entries(Cf.message).map(([e,t])=>({code:e,message:t})),l9=new Al(s9,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"code",weight:.6},{name:"message",weight:.4}]});function nv(e){return a9[Math.floor(e/100)]||j.lightModeGreyScale.dark}function c9(e){return l9.search(e).map(t=>t.item)}function rv({code:e,message:t}){let o=t||Cf.message[e];return o?`${e}: ${o}`:`${e}`}function GR(e){let[t,o]=e.split(": ");return{code:Number(t),message:o}}var qR=[200,201,204,400,401,403,404,500].map(e=>{let t=String(e),o=Cf.message[t];return{code:t,message:o}});function Sf(e,t){let o={key:"responses",commands:r=>(r.query.text?c9(r.query.text):qR).slice(0,qR.length).map(a=>{let s=rv(a);return{key:a.code,title:s,icon:Je(S.Dot,{style:{color:nv(parseInt(a.code,10))}}),trigger:()=>{e(s)}}})},n=t?[{key:"edit-response",commands:[{key:"delete-response",title:"Delete response",icon:S.Trashcan,trigger:()=>{t()}}]},o]:[o];return te({search:"Type status code\u2026",groups:n})}function HR(e){let{blockProps:t}=e,{node:o,editor:n}=t,r=Gu.useRef(null),i=ne(r),a=Sf(c=>{n.change(u=>{ve.addResponse(u,o.key,c)})}),s=()=>{i.open(a)};return Gu.createElement(y,null,Gu.createElement(A,{ref:r,title:"Add Response",icon:i.opened?S.X:S.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>s()}))}l();var qo=x(R());z();l();var wa=x(R());z();l();var Ys=x(R());function XR(e){let{examples:t}=e,o=Object.keys(t),n=Ys.useRef(null),r=ne(n),[i,a]=Ys.useState(o[0]);return i?Ys.createElement(_S,{code:t[i],syntax:u9(i),showToolbar:r.opened,toolbar:o.length>1?Ys.createElement(A,{kind:"secondary",size:"small",ref:n,rightIcon:S.ChevronDown,onPress:()=>{r.open(te({groups:[{key:"media-types",commands:o.map(s=>({key:s,title:s,trigger:()=>{a(s)}}))}]}))}},i):null}):null}function u9(e){return e.includes("json")?"js":e.includes("xml")?"xml":"js"}l();var Se=x(R());z();function KR(e){let[,t]=O(ZR);return Se.createElement(zr,{style:[t.container],horizontal:!0},Se.createElement(av,{...e,isRoot:!0}))}function av(e){let{schema:t}=e;if(t.type){let o=t.description||t.title;switch(t.type){case"object":return Se.createElement(jR,{name:"",properties:t.properties,requiredProperties:t.required,description:o,...e});case"array":return Se.createElement(UR,{name:"",items:t.items,description:o,...e});default:return Se.createElement(YR,{name:"",type:t.type,description:o,...e})}}else{if(t.anyOf)return Se.createElement(iv,{name:"anyOf",options:t.anyOf});if(t.oneOf)return Se.createElement(iv,{name:"oneOf",options:t.oneOf});if(t.allOf){let o=Sw(t.allOf);return Se.createElement(iv,{name:"allOf",options:o})}else return null}}function jR(e){let{name:t,isRequired:o=!1,isRoot:n=!1,properties:r={},requiredProperties:i=[],description:a=""}=e,[s,c]=Se.useState(!1);return Se.createElement(kf,{name:t,type:"object",expandable:{expanded:s,setExpanded:c},required:o,isRoot:n,description:a},s?Object.entries(r).map(([u,d])=>{switch(d.type){case"object":return Se.createElement(jR,{key:u,name:u,properties:d.properties,requiredProperties:d.required,isRequired:i.includes(u),description:d.description});case"array":return Se.createElement(UR,{key:u,name:u,items:d.items,isRequired:i.includes(u),description:d.description});default:return Se.createElement(YR,{key:u,name:u,type:d.type,isRequired:i.includes(u),description:d.description})}}):null)}function UR(e){let{name:t,isRequired:o=!1,isRoot:n=!1,items:r={},description:i=""}=e,[a,s]=Se.useState(!1);return Se.createElement(kf,{name:t,type:`array[${r.type||""}]`,expandable:{expanded:a,setExpanded:s},description:i,required:o,isRoot:n},a?Se.createElement(av,{schema:r}):null)}var wf=E.ICON_S;function iv(e){let{name:t,options:o=[],isRoot:n=!1}=e,[r,i]=Se.useState(!1);return Se.createElement(kf,{name:t,type:"",expandable:{expanded:r,setExpanded:i},description:"",isRoot:n,required:!1,specialKeyword:!0},r?o.map((a,s)=>Se.createElement(av,{key:s,schema:a})):null)}function YR(e){let{name:t,type:o,isRequired:n=!1,isRoot:r=!1,description:i=""}=e;return Se.createElement(kf,{name:t,type:o,isRoot:r,required:n,description:i})}function kf(e){let{name:t,type:o,description:n,required:r,isRoot:i,expandable:a,specialKeyword:s,children:c}=e,[,u]=O(N),[,d]=O(ZR),p=[u.Body,u.Bold,u.text],f=[m.Margin.xsmallLeft];return Se.createElement(y,{style:[h.directionColumn,i?null:m.Margin.mediumTop]},Se.createElement(y,{style:[h.directionRow,h.alignCenter]},Se.createElement(Pe,{onPress:a?()=>a.setExpanded(g=>!g):void 0},a?a.expanded?Se.createElement(S.ChevronDown,{size:wf,style:[u.textMuted]}):Se.createElement(S.ChevronRight,{size:wf,style:[u.textMuted]}):Se.createElement(y,{style:[d.placeholderIconWidth,d.placeHolderIconHeight]})),Se.createElement(y,{style:[h.directionRow,f]},t?Se.createElement(y,{style:[m.Margin.mediumRight]},s?Se.createElement(D,{style:p},t):Se.createElement(D,{selectable:!0,style:p},t,r?Se.createElement(D,{style:[u.danger,d.textFontCode]},"*"):null)):null,o?Se.createElement(D,{style:[u.Body,u.primary,d.textFontCode]},o):null)),Se.createElement(y,{style:[h.directionRow]},Se.createElement(y,{style:d.placeholderIconWidth},a!=null&&a.expanded?Se.createElement(y,{style:d.verticalLine}):null),Se.createElement(y,{style:[h.directionColumn,f,m.Padding.mediumRight,d.descriptionWidth]},n?Se.createElement(y,{style:[m.Margin.xsmallTop]},Se.createElement(Xl,{markdown:n,kind:"secondary"})):null,c)))}var ZR=L.create({container:e=>({backgroundColor:e.colors.background.muted,padding:m.medium,borderRadius:e.radiuses.medium}),textFontCode:{fontFamily:Cm},placeholderIconWidth:{width:wf},placeHolderIconHeight:{height:wf},verticalLine:e=>({width:1,height:"100%",backgroundColor:e.colors.border.main,marginHorizontal:"auto"}),descriptionWidth:{maxWidth:600}});function xf(e){let{examples:t,schema:o}=e,[n,r]=wa.useState("example");return wa.createElement(y,null,wa.createElement(Ha,null,wa.createElement(Ha.Tab,{active:n==="example",onPress:()=>r("example")},"Example"),o?wa.createElement(Ha.Tab,{active:n==="schema",onPress:()=>r("schema")},"Schema"):null),n==="example"?wa.createElement(XR,{examples:t||{}}):null,n==="schema"&&o?wa.createElement(KR,{schema:o}):null)}function QR(e){let{response:t,isLast:o,beforeOrderIndex:n,afterOrderIndex:r,blockProps:i}=e,{node:a,editor:s}=i,[,c]=O(N),[u,d]=qo.useState(!1),p={id:t.key,type:"swagger-response",blockKey:a.key,previewLabel:"Move response"},{status:f,description:g}=t.value,b="Response description",{code:v}=GR(f),C=a.fragments.get(t.key),w=C?dr(C):!1,k=t.value.examples||{},I=t.value.schema,_=!e.readOnly||C&&!w||Object.keys(k).length>0||typeof I<"u",P=M=>{s.change(T=>{ve.setResponseDescription(T,a.key,t.key,M)})};return qo.createElement(yf,{...i,readOnly:e.readOnly,dragItem:p,isLast:o,opened:u,setOpened:d,palette:()=>Sf(M=>{s.change(T=>{ve.setResponseStatus(T,a.key,t.key,M)})},()=>{s.change(M=>{ve.removeResponse(M,a.key,t.key)})}),columns:[{content:qo.createElement(y,{style:[h.directionRow,h.alignCenter]},qo.createElement(y,{style:[m.Margin.smallRight]},qo.createElement(S.Dot,{style:{color:nv(v)},size:E.ICON_M})),qo.createElement(y,{style:h.flex1},qo.createElement(D,{style:[c.Label,c.Bold,c.text]},f))),desktopSize:$R.responseColumnStatusDesktop,mobileSize:$R.responseColumnStatusMobile},{content:qo.createElement(gr,{component:ba,placeholder:e.readOnly?void 0:b,onChangeText:P,value:g,style:[c.Label,c.textMid],readOnly:e.readOnly,displayMode:"block",onSubmitEditing:()=>{s.change(M=>{u&&C?M.collapseToStartOf(C):Ct(M,a),M.focus()})}}),desktopSize:h.flex1}],onDropAfter:M=>{s.change(T=>{ve.moveResponse(T,a.key,M.id,{before:t.value.orderIndex,after:r})})},onDropBefore:M=>{s.change(T=>{ve.moveResponse(T,a.key,M.id,{before:n,after:t.value.orderIndex})})},onInsertBefore:()=>{s.change(M=>{ve.addResponse(M,a.key,parseInt(t.value.status,10)-1,{before:n,after:t.value.orderIndex})})},onInsertAfter:()=>{s.change(M=>{ve.addResponse(M,a.key,parseInt(t.value.status,10)+1,{before:t.value.orderIndex,after:r})})}},_?qo.createElement(y,{style:[h.flex1,m.Margin.mediumVertical]},C?qo.createElement(qo.Fragment,null,qo.createElement(Fn.Provider,{value:"swaggerResponse"},qo.createElement(wn,{fragment:t.key}))):qo.createElement(xf,{examples:k,schema:I})):null)}var $R=q.create({responseColumnStatusDesktop:{width:290},responseColumnStatusMobile:{flexBasis:"100%",flexGrow:1,flexShrink:0}});l();var Hu=x(R());z();function JR(e){let{readOnly:t,responses:o,blockProps:n}=e;return Hu.createElement(vf,{title:"Responses",button:t?null:Hu.createElement(HR,{blockProps:n})},Hu.createElement(y,{style:o.length>0&&m.Padding.mediumBottom},o.map((r,i)=>{let a=o[i-1],s=o[i+1];return Hu.createElement(QR,{key:r.key,...e,response:r,isLast:i===o.length-1,beforeOrderIndex:a==null?void 0:a.value.orderIndex,afterOrderIndex:s==null?void 0:s.value.orderIndex})})))}l();var ro=x(R());z();l();l();l();var e_=Pm("429837f8b383ed2c4f85d02026ce73e42335b6233c1dc303af2b0f50fedfe256",()=>import("https://app.gitbook.com/public/app/chunks/parseSwaggerFile.lazy-OVMOWLPD.min.js"));var t_=e_;var Zs=Gr({getValue:async e=>{let t=(await t_.load()).default;return await t(e)},toJS:e=>m9(e),fromJS:e=>p9(e)});function Xu(e,t){if(!e)return null;t||(t={path:Object.keys(e.paths)[0],method:"get"},t.method=Object.keys(e.paths[t.path])[0]);let o=e.paths[t.path],n=o==null?void 0:o[t.method];if(!n)return null;let r=Object.keys(e.paths).indexOf(t.path),i=Ql.indexOf(t.method);return i=i>-1?i:Ql.length,{operation:n,path:t.path,httpMethod:t.method,index:r*Ql.length+i}}function m9(e){return JSON.parse(JSON.stringify(e,ww()))}function p9(e){return JSON.parse(JSON.stringify(e),kw())}function Ku(e){let{onClose:t,data:o,multi:n,buttonText:r,onSelect:i,onRequestChangeSource:a}=e;if(!("ref"in o))throw new Error("SwaggerConfigurationOperation used with a manual API block, only OpenAPI is supported");let{contentReferenceContext:s}=ro.default.useContext(re),[c]=yi.read([o.ref,s]);if(typeof(c==null?void 0:c.target)!="string")throw new Error("SwaggerConfigurationOperation only handles refs with target as string");if(!Zl(s.space&&s.revision?{space:s.space,revision:s.revision}:null))throw new Error("No revision present for OpenAPI configuration modal");let{result:d}=Zs.readSafe(c.target),p=(d==null?void 0:d.paths)||{},f=Object.keys(p).reduce((k,I)=>{let _=p[I];return k.concat(Object.keys(_).map(P=>({path:I,method:P})))},[]),g=Xu(d,o.method&&o.path?{method:o.method,path:o.path}:void 0),[b,v]=ro.default.useState(g?{[g.index]:{path:g.path,method:g.httpMethod}}:{}),C=()=>{let k=Object.keys(b).map(Number).sort((I,_)=>I-_);i(k.map(I=>b[I])),t()},w=(k,I,_)=>{if(!n){v({[I]:k});return}if(_&&v({...b,[I]:k}),!_){let P={...b};delete P[I],v(P)}};return ro.default.createElement(wt,{onClose:t,title:"Choose API operation",footer:ro.default.createElement(y,{style:[h.directionRow,h.justifySpaceBetween]},ro.default.createElement(y,{style:[h.directionRow,h.justifyContentStart]},ro.default.createElement(A,{size:"large",kind:"secondary",onPress:()=>{a()}},"Change API source")),ro.default.createElement(y,{style:[h.directionRow,h.flex1,h.justifyContentEnd]},ro.default.createElement(A,{size:"large",kind:"primary",onPress:()=>{C()}},typeof r=="string"?r:r(Object.keys(b).length))))},ro.default.createElement(Dd,{data:f,renderItem:({item:k})=>{let I=Xu(d,k);if(!I)return null;let _=!!b[I.index];return ro.default.createElement(f9,{key:I.index,index:I.index,item:k,operation:I.operation,multi:n,selected:_,onSelect:w})}}))}function f9(e){let{item:t,selected:o,onSelect:n,operation:r,index:i,multi:a}=e,[,s]=O(N);return ro.default.createElement(ga,{style:m.Padding.smallHorizontal,onPress:()=>n(t,i,a?!o:!0),layout:"wide",title:ro.default.createElement(y,{style:[h.directionRow,h.flex1,h.alignCenter]},ro.default.createElement(y,{style:[{minWidth:E.L},m.Margin.smallRight]},ro.default.createElement(sf,{readOnly:!0,method:t.method})),ro.default.createElement(y,{style:[h.flex1]},ro.default.createElement(D,{style:[s.Code,s.text,g9.apiPath]},t.path),ro.default.createElement(D,{style:[s.Caption,s.textMuted]},r==null?void 0:r.summary))),buttons:[a?ro.default.createElement(Fa,{value:o,onValueChange:c=>n(t,i,c)}):ro.default.createElement(HS,{value:o,onValueChange:()=>n(t,i,!0)})]})}var g9=q.create({apiPath:{fontSize:Sm.xsmall,wordWrap:"anywhere"}});function o_(e,t){let o=Gl(),[n,r]=vc.useState(null),i=Bt(),[a,s]=vc.useState(t),c=d=>{let f=o.value.document.assertBlock(d).data.toFrozenObject();return[{key:"swagger",commands:[{key:"pickSource",title:"Choose OpenAPI source\u2026",icon:S.Paperclip,trigger:()=>{i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([g])=>{g&&(s({ref:g}),r("swagger"))})}},a&&"ref"in a?{key:"pickMethod",title:"Choose API operation",icon:S.Swagger,trigger:()=>{r("swagger")}}:null,{key:"defaultExpanded",icon:S.ChevronsVertical,enabled:Boolean(f.expanded),title:"Expanded",trigger:()=>(o.change(g=>{f.expanded?g.setDataByKey(d,["expanded"],!1):g.setDataByKey(d,["expanded"],!0)}),pt(o,d,c(d)))}].filter(de)}]};return[pt(o,e,c(e)),vc.createElement(it,null,n==="swagger"?vc.createElement(Ku,{data:a,buttonText:"Update Block",onRequestChangeSource:()=>{r(null),i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([d])=>{d&&s({ref:d}),r("swagger")})},onSelect:([d])=>{o.change(p=>{p.setNodeByKey(e,{data:{...a,method:d==null?void 0:d.method,path:d==null?void 0:d.path}})})},onClose:()=>r(null)}):null)]}l();var Rf=x(R());l();var xr=x(R());z();function Of(e){let{opened:t,setOpened:o,readOnly:n,parameters:r,header:i,requestBody:a,responses:s,blockProps:c,description:u}=e,[,d]=O(N);return xr.default.createElement(xr.default.Fragment,null,xr.default.createElement(wR,{blockProps:c,readOnly:n,opened:t,setOpened:o,description:u.description,...i}),xr.default.createElement(y,{style:h9.operationBody},t?xr.default.createElement(xr.default.Fragment,null,xr.default.createElement(BR,{blockProps:c,readOnly:n,...r}),a?xr.default.createElement(y,{style:m.Margin.largeTop},xr.default.createElement(y,null,xr.default.createElement(D,{style:[d.Label,d.Bold,d.text]},"Body")),xr.default.createElement(xf,{examples:a.examples,schema:a.schema})):null,xr.default.createElement(JR,{blockProps:c,readOnly:n,...s})):null))}var h9=q.create({operationBody:{padding:m.medium,paddingLeft:m.medium+E.ICON_M+m.medium,paddingTop:0}});function n_(e){let{blockProps:t,data:o,opened:n,setOpened:r}=e,{editor:i}=t;if("ref"in o)throw new Error("trying to render a swagger block that is refering to a swagger file");let{readOnly:a}=i,{baseUrl:s,method:c,path:u,summary:d}=o,{parameters:p={},responses:f={}}=o,g=Rf.default.useMemo(()=>ve.defaultParameterSortedKeys(p).map(C=>({key:C,value:p[C]})),[p]),b=Rf.default.useMemo(()=>ve.defaultResponseSortedKeys(f).map(C=>({key:C,value:f[C]})),[f]);return Rf.default.createElement(Of,{blockProps:t,readOnly:a,opened:n,setOpened:r,header:{baseUrl:s,method:c,summary:d,path:u},parameters:{parameters:g},description:{description:{fragment:"description"}},responses:{responses:b}})}l();var es=x(R());function r_(e){var C;let{blockProps:t,data:o,opened:n,setOpened:r,readOnly:i}=e;if(!("ref"in o))throw new Error("trying to render a swagger block that is not refering to a swagger file");let s=io(o.ref).href,{result:c,error:u}=Zs.readSafe(s),d=Xu(c,o.path&&o.method?{path:o.path,method:o.method}:void 0),{operation:p,path:f,httpMethod:g}=d||{operation:{parameters:[],responses:[],summary:"",description:""},httpMethod:"",path:""},b=es.default.useMemo(()=>p.parameters.sort(({in:w},{in:k})=>ve.SORTED_PARAMETERS_LOCATIONS.indexOf(w)<ve.SORTED_PARAMETERS_LOCATIONS.indexOf(k)?-1:1).reduce((w,k,I)=>{let _=w[I-1],P=Eh(_?{before:_.value.orderIndex}:{});return w.push({key:Os(),value:{...k,orderIndex:P}}),w},[]),[p.parameters]),v=es.default.useMemo(()=>p.responses.sort(({status:w},{status:k})=>w<k?-1:1).reduce((w,k,I)=>{let _=w[I-1],P=Eh(_?{before:_.value.orderIndex}:{});return w.push({key:Os(),value:{...k,status:rv({code:k.status}),orderIndex:P}}),w},[]),[p.responses]);if(u)return i?es.default.createElement(ju,null):es.default.createElement(zn,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:Mi(u)});if(!d){if(i)return es.default.createElement(ju,null);let w=o.method&&o.path?`${(C=o.method)==null?void 0:C.toUpperCase()} "${o.path}"`:"";return es.default.createElement(zn,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:`Could not find the operation ${w} in the OpenAPI file.`})}return es.default.createElement(Of,{blockProps:t,readOnly:!0,opened:n,setOpened:r,header:{baseUrl:(c==null?void 0:c.baseUrl)||"",method:g,summary:p.summary||"",path:f},parameters:{parameters:b},requestBody:p.requestBody,responses:{responses:v},description:{description:p.description?{text:p.description}:void 0}})}function i_(e){let{node:t,isFocused:o,editor:n}=e,r=t.data.toFrozenObject(),[i,a]=o_(t.key,r),[s,c]=O(y9),{sections:u}=Gn.default.useContext($r),{current:d}=Om(),p=u.get(t.key),f=qe(),[g,b]=Gn.default.useState(f||o||Boolean(r.expanded));Gn.default.useEffect(()=>{d&&r.expanded&&b(!0)},[r.expanded]);let v=Gn.default.createElement(Jo,{style:[c.blockSwagger,g&&c.blockSwaggerOpened],backgroundColor:s.colors.background.main,nativeID:p},Gn.default.createElement(Gn.default.Suspense,{fallback:Gn.default.createElement(Ht,{size:"small"})},"ref"in r?Gn.default.createElement(r_,{readOnly:n==null?void 0:n.readOnly,blockProps:e,data:r,opened:g,setOpened:b}):Gn.default.createElement(n_,{blockProps:e,data:r,opened:g,setOpened:b})));return Gn.default.createElement(Gn.default.Fragment,null,a,Gn.default.createElement(ye,{palette:i,...e},!("ref"in r)&&g?v:Gn.default.createElement(zt,{...e},v)))}var y9=L.create({blockSwagger:e=>({borderRadius:e.radiuses.large,borderColor:e.colors.border.mid,borderWidth:1}),blockSwaggerOpened:e=>({...e.shadows.spread})});l();var a_=x(R());var v9=$o({key:"lastSwaggerReference",default:{}});function s_(e,t){let[o,n]=Qo(v9),r=Zl(t.space&&t.revision?{space:t.space,revision:t.revision}:null),i=r?o[r.space]:null,a=a_.default.useCallback(u=>{r&&n({...o,[r.space]:u})},[r==null?void 0:r.space,n]);if((i==null?void 0:i.kind)==="url")return[i,a];if((i==null?void 0:i.kind)==="file"&&r!=null&&r.files[i.file])return[i,a];let s=ve.getProbableRef(e.value.document);if(s)return[s,a];let c=Object.values((r==null?void 0:r.files)||{}).filter(u=>Dl(u)).sort((u,d)=>{var g,b;let p=(g=ru(u.edits))==null?void 0:g.updatedAt.toMillis();return(((b=ru(d.edits))==null?void 0:b.updatedAt.toMillis())||0)-(p||0)});return[c.length?{kind:"file",file:c[0].key}:null,a]}function _f(e,t,o,n="replace"){let[r,i]=kn.useState(null),a=Bt(),s=Yl(),{contentReferenceContext:c,integrationBlocks:u,logAnalyticsEvent:d}=kn.useContext(re),p=dt(c),f=Hr(),[g,b]=s_(e,c),v=kn.useCallback(()=>{i(null)},[]),C=kn.useCallback((I,_="end")=>{v(),l_(e,o.key,I,n,_)},[v,e,o.key,n]),w=kn.useCallback((I,_="end")=>{v();let P;I.forEach((M,T)=>{l_(e,P||o.key,M,T===0?n:"after",_),P=M.key})},[v,e,t.key,o.key,n]),k=kn.useMemo(()=>{let I=(_,P=()=>!0)=>Object.entries(_).map(([M,T])=>P(M)?T.map(V=>({key:`${M}.${V.id}`,title:V.title,icon:Je(bR,{block:V}),trigger:()=>{V.urlUnfurl&&V.urlUnfurl.length>0?i("embed"):(C(Ll.createIntegrationBlock(M,V.id)),d({type:"edit_page_document_insert_block",blockType:Di,integration:M,integrationBlock:V.id}))}})):[]).flat();return te({search:"Insert block\u2026",groups:[{key:"texts",commands:[ke(t,le)?{key:"paragraph",title:"Paragraph",icon:S.Paragraph,trigger:()=>{C(mo.create({type:le})),d({type:"edit_page_document_insert_block",blockType:le})}}:null].filter(de)},{key:"headings",commands:[ke(t,Te)?{key:"heading_1",title:"Heading 1",icon:S.Heading1,keywords:["h1","Title 1","Header 1"],trigger:()=>{C(mo.create({type:Te})),d({type:"edit_page_document_insert_block",blockType:Te})}}:null,ke(t,Le)?{key:"heading_2",title:"Heading 2",icon:S.Heading2,keywords:["h2","Title 2","Header 2"],trigger:()=>{C(mo.create({type:Le})),d({type:"edit_page_document_insert_block",blockType:Le})}}:null,ke(t,He)?{key:"heading_3",title:"Heading 3",keywords:["h3","Title 3","Header 3"],icon:S.Heading3,trigger:()=>{C(mo.create({type:He})),d({type:"edit_page_document_insert_block",blockType:He})}}:null].filter(de)},{key:"lists",commands:[ke(t,Bo)?{key:"list_ul",title:"Unordered list",keywords:["ul","Bullet list","Dot list"],icon:S.ListUnordered,trigger:()=>{C(tt.createList(Bo)),d({type:"edit_page_document_insert_block",blockType:Bo})}}:null,ke(t,Et)?{key:"list_ol",title:"Ordered list",keywords:["ol","Numbered List"],icon:S.ListOrdered,trigger:()=>{C(tt.createList(Et)),d({type:"edit_page_document_insert_block",blockType:Et})}}:null,ke(t,Qt)?{key:"list_tasks",title:"Task list",keywords:["Checkbox","Checklist","Tick","Todo list"],icon:S.ListTasks,trigger:()=>{C(tt.createList(Qt)),d({type:"edit_page_document_insert_block",blockType:Qt})}}:null].filter(de)},{key:"panels",commands:[ke(t,$t)?{key:"hint",title:"Hint",keywords:["Info","Alert","Callout"],icon:S.InfoCircle,trigger:()=>{C(b1.create()),d({type:"edit_page_document_insert_block",blockType:$t})}}:null,ke(t,bt)?{key:"quote",title:"Quote",keywords:["Blockquote","Citation"],icon:S.Quote,trigger:()=>{C(C1.create()),d({type:"edit_page_document_insert_block",blockType:bt})}}:null,ke(t,li)?{key:"code",title:"Code Block",keywords:["Syntax","Snippet"],icon:S.Code,trigger:()=>{C(po.createCodeBlock("// Some code")),d({type:"edit_page_document_insert_block",blockType:li})}}:null].filter(de)},{key:"others",commands:[ke(t,aa)?{key:"files",title:"Insert files\u2026",keywords:["Assets","Upload"],icon:S.Files,trigger:()=>{a.prompt({title:"Select files"}).then(_=>{let P=_.map(M=>M.kind==="file"?cm.createFileBlock(M):null).filter(de);w(P,"end"),d({type:"edit_page_document_insert_block",blockType:aa,files:P.length})})}}:null,ke(t,Li)?{key:"images",title:"Insert images\u2026",keywords:["Photo","Picture","JPEG","jpg","png","GIF"],icon:S.Image,trigger:()=>{a.prompt({title:"Select images",accept:"images",acceptURL:!0}).then(_=>{C(mo.create({type:Li,isVoid:!0,nodes:_.map(P=>Vo.createImageBlock(P))})),d({type:"edit_page_document_insert_block",blockType:Li,images:_.length})})}}:null,ke(t,Nn)?{key:"embed",title:"Embed a url\u2026",keywords:["music","video","audio","design","iframe"],icon:S.ExternalLink,trigger:()=>{i("embed")}}:null,ke(t,An)?{key:"table",title:"Table",keywords:["Spreadsheet"],icon:S.Table,trigger:()=>{C(Y.createTable()),d({type:"edit_page_document_insert_block",blockType:An,tableView:"grid"})}}:null,ke(t,An)?{key:"table-cards",title:"Cards",keywords:["Grid"],icon:S.Cards,trigger:()=>{C(Y.createTable({view:"cards"})),d({type:"edit_page_document_insert_block",blockType:An,tableView:"cards"})}}:null,ke(t,yn)?{key:"tabs",title:"Tabs",icon:S.Tabs,trigger:()=>{C(ci.createTabs(),"start"),d({type:"edit_page_document_insert_block",blockType:yn})}}:null,ke(t,Ni)?{key:"expandable",title:"Expandable",keywords:["collapsible","toggle"],icon:S.BlockExpandable,trigger:()=>{C(da.createExpandableBlock(),(_,P)=>{_.collapseToStartOf(da.getTitleFragment(P)).focus()}),d({type:"edit_page_document_insert_block",blockType:Ni})}}:null,ke(t,ia)?{key:"drawing",title:"Drawing",keywords:["sketch","draw","excalidraw"],icon:S.EditDrawing,trigger:()=>{C(y1.createDrawingBlock()),d({type:"edit_page_document_insert_block",blockType:ia})}}:null,ke(t,Is)?{key:"math",title:"Math & TeX",keywords:["Formula"],icon:S.MathTeX,trigger:()=>{C(Ms.createMathBlock()),d({type:"edit_page_document_insert_block",blockType:Is})}}:null,ke(t,zo)?{key:"api-method",title:"API Method",icon:S.Swagger,keywords:["api"],trigger:()=>{C(ve.createBlock()),d({type:"edit_page_document_insert_block",blockType:zo})}}:null,ke(t,zo)?{key:"swagger",title:"OpenAPI",icon:S.Swagger,keywords:["api","swagger"],trigger:()=>{g?i({ref:g}):a.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([_])=>{_&&(b(_),i({ref:_}))})}}:null,ke(t,la)?{key:"content-ref",title:"Page Link",icon:S.PageLink,keywords:["references"],trigger:()=>nn(_=>{C(Ts.createContentRefBlock(_)),d({type:"edit_page_document_insert_block",blockType:la,contentRefKind:_.kind})},p.current,{accept:["page","space","collection"]})}:null].filter(de)},ke(t,Di)?{key:"integrations",commands:()=>I(u)}:null,ke(t,Di)?{key:"integrations",commands:()=>{let[_]=Ul([q1()]),P=ym(_);return I(P,M=>!u[M])}}:null,ke(t,Nn)?{key:"embeds",commands:mR.map(_=>({key:_.key,title:_.title,icon:({size:P})=>kn.createElement(ko,{source:{uri:(f.color==="dark"?_.iconDark:null)||_.icon},style:{width:P,height:P}}),trigger:()=>{i("embed")}}))}:null].filter(de)})},[C,s.uid,p,e,f.color,u]);return[kn.createElement(it,null,r==="embed"?kn.createElement(pR,{onInsert:C,onClose:v}):r&&"ref"in r?kn.createElement(Ku,{onClose:v,data:r,multi:!0,buttonText:I=>`Insert ${I} blocks`,onRequestChangeSource:()=>{i(null),a.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([I])=>{I&&i({ref:I})})},onSelect:I=>{d({type:"edit_page_document_insert_block",blockType:zo,swaggerOperations:I.map.length,swaggerSource:r.ref.kind}),w(I.map(_=>ve.createBlockWithRef(r.ref,_.path,_.method))),v()}}):null),k]}function l_(e,t,o,n,r){e.change(i=>{let a=e.value.document.getParent(t);if(!a)return;let s=a.getChildIndex(t);if(s<0)return;if(n==="replace")o.object==="block"?i.replaceNodeByKey(t,o):i.replaceWithDocumentByKey(t,o);else{let u=n==="after"?s+1:s;o.object==="block"?i.insertNodeByKey(a.key,u,o):i.insertDocumentByKey(a.key,u,o)}let c=i.value.document.getNode(o.object==="block"?o.key:o.nodes.first().key);c&&(r==="start"?i.collapseToStartOf(c).focus():r==="end"?i.collapseToEndOf(c).focus():r(i,c))})}var b9=B.createInteractiveComponent(ee);function C9(e,t){return e.position===t.position&&e.parent.key===t.parent.key&&e.parent.object===t.parent.object&&e.parent.type===t.parent.type&&e.node.key===t.node.key&&e.node.type===t.node.type&&e.editor===t.editor}var sv=rn.memo(function(t){let{editor:o,parent:n,node:r,position:i,style:a}=t,{logAnalyticsEvent:s}=rn.useContext(re),[c,u]=gi({accept:["block","page","space","collection"],drop:(k,I)=>{I.didDrop()||o.change(_=>{if(k.type==="block"){i==="before"?_.moveBeforeNodeByKey(k.id,r.key):_.moveAfterNodeByKey(k.id,r.key);let P=o.value.document.getParent(k.id);s({type:"edit_page_document_move_block",blockType:k.blockType,method:"dnd",toParent:n.object==="block"?n.type:n.object,fromParent:(P==null?void 0:P.object)==="block"?P==null?void 0:P.type:P==null?void 0:P.object})}else{let P=Ts.createContentRefBlock(LR(k));i==="before"?_.insertNodeBeforeByKey(r.key,P):_.insertNodeAfterByKey(r.key,P)}})},canDrop:k=>{if(!ke(n,k.type==="block"?k.blockType:la))return!1;if(k.type==="block"){if(k.id===r.key)return!1;let I=i==="before"?o.value.document.getPreviousSibling(r.key):o.value.document.getNextSibling(r.key);if((I==null?void 0:I.key)===k.id)return!1}return!0},collect:k=>({highlighted:k.isOver()&&k.canDrop()})}),d=rn.useRef(null),[p,f]=_f(o,n,r,i),g=ne(d),[,b]=O(S9),v=c.highlighted||g.opened,C=!c.highlighted,w=v?se.visible:se.translucent;return rn.createElement(rn.Fragment,null,p,rn.createElement(b9,{ref:u,style:[a,b.blockInsertion],editable:!1},rn.createElement(ut,{onPress:()=>g.open(f)},rn.createElement(B.View,{style:[b.blockInsertionLineContainer,v?w:se.hidden],activeStyle:w},rn.createElement(y,{style:[b.blockInsertionLine,c.highlighted&&b.blockInsertionLineDropping]}),rn.createElement(y,{style:[b.blockInsertionButtonContainer,h.directionRow,h.alignCenter,h.justifyContentEnd,C?se.visible:se.hidden]},rn.createElement(rp,{ref:d,icon:S.Plus,size:"xsmall",kind:"secondary",rounded:!0,onPress:()=>g.open(f),animatedAngle:45,active:g.opened}))))))},C9),c_=3,u_=2,d_=hi*2,S9=L.create({blockInsertion:{position:"absolute",display:"flex",justifyContent:"center",height:d_},blockInsertionButtonContainer:{position:"absolute",left:"50%",marginLeft:-m.small},blockInsertionLineContainer:{position:"absolute",flexDirection:"row",alignItems:"center",left:0,top:0,right:0,height:d_,cursor:"pointer",transition:`opacity ease ${mt.TRANSITION_DURATION_SHORT}ms`},blockInsertionLine:e=>({position:"absolute",height:u_,left:0,right:0,borderRadius:u_,backgroundColor:e.colors.border.mid}),blockInsertionLineDropping:e=>({position:"absolute",height:c_,left:0,right:0,borderRadius:c_,backgroundColor:e.colors.primary.main})});l();var ts=x(R());l();function pt(e,t,o=[]){return te({groups:[...o,{key:"block",commands:[{key:"delete",title:"Delete",icon:S.Trashcan,trigger:()=>{e.change(n=>{n.removeNodeByKey(t)})}}]}]})}var m_=ts.memo(function(t){let{editor:o,nodeKey:n,visible:r,style:i,size:a="small",shortcutsActive:s,palette:c,dragHandleRef:u,icon:d=S.GrabberVertical,animatedAngle:p=0}=t,[,f]=O(w9),g=tp(),b=ts.useRef(!1),v=ts.useRef(null),C=ne(v,{onClose:()=>{b.current&&o.change(k=>{k.focus()})}}),w=()=>{b.current=!!g.current,C.open((typeof c=="function"?c():c)||pt(o,n)),o.change(k=>{let I=k.value.document.getNode(n);I&&ce.isTextRange(k.value.selection)&&!k.value.selection.hasEdgeIn(I)&&k.collapseToStartOf(I),k.focus()})};return yr(s?{[ze.EDITOR_PALETTE]:w}:{},"editor-selection-collapsed",[s,C,c,o,n]),ts.createElement(ee,{editable:!1,ref:u,style:[f.dragHandle,i,r||C.opened?se.visible:se.hidden]},ts.createElement(rp,{ref:v,rounded:!0,active:C.opened,icon:d,kind:"secondary",size:a,style:f.button,title:`Click for options.
Drag to move.`,onPress:()=>w(),animatedAngle:p}))}),w9=L.create({dragHandle:{cursor:"grab"},button:e=>({backgroundColor:e.colors.background.main})});l();var Mt=x(R());z();l();var bc=x(R());z();l();z();var $s={added:j.green.base,deleted:j.scarlet.base,modified:j.primary.base},If=q.create({added:{color:$s.added},deleted:{color:$s.deleted},modified:{color:$s.modified}});function Ef(e){let{diff:t,style:o,size:n,highlighted:r}=e,[,i]=O(k9),a=B.useInteractiveState(),s=t.type==="added"?S.DiffAdded:t.type==="deleted"?S.DiffRemoved:S.DiffModified;return bc.createElement(ee,{editable:!1,style:o,...a.events},bc.createElement(jr,{tooltip:`This block has been ${t.type} in this change request`,preferredPlacement:"top"},(c,u)=>bc.createElement(B.TouchableOpacity,{ref:u,style:[Pf.diffContainer,r||a.hovered?Pf.diffContainerHighlighted:null],...c.events},bc.createElement(s,{style:[Pf.diffIcon,If[t.type]],size:n}),bc.createElement(ee,{style:[Pf.diffLine,i.bodyColor]}))))}var Pf=q.create({diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5},diffContainerHighlighted:{opacity:1},diffIcon:{flexShrink:0},diffLine:{width:1,flexGrow:1,flexShrink:1,marginTop:m.xsmall}}),k9=L.create({bodyColor:(e,t)=>({backgroundColor:t.color==="dark"?j.darkModeText.xdark:j.lightModeText.xlight})});l();var h_=x(R());z();l();l();var os=m.medium;function x9(e,t){return t.nodes.find(o=>o.type===Pl&&o.nodes.some(n=>n.key===e.key))||e}function Qr(e,t,o){let n=t.getChildIndex(o?x9(e,t).key:e.key),r=n===0,i=n===t.nodes.size-1,a=(()=>{switch(t.type){case Dn:return{paddingTop:r?m.large:m.xsmall,paddingBottom:i?m.large:m.xsmall};case $t:return{paddingTop:r?m.medium:m.xsmall,paddingBottom:i?m.medium:m.xsmall};case bt:return{paddingTop:m.xsmall,paddingBottom:m.xsmall};case At:{if(!ca.includes(e==null?void 0:e.type))return{paddingTop:0,paddingBottom:0};let c={paddingTop:m.small,paddingBottom:m.small};return r&&(c.paddingTop=0),i&&(c.paddingBottom=0),c}case sa:return{paddingTop:m.medium,paddingBottom:m.medium}}return{}})();return{...(()=>{switch(e.type){case Te:return{paddingTop:m.large,paddingBottom:m.small};case Le:return{paddingTop:m.large,paddingBottom:m.small};case He:return{paddingTop:m.large,paddingBottom:m.small};case le:return{paddingTop:m.small,paddingBottom:m.small};case Et:case Bo:case Qt:return{paddingTop:m.medium,paddingBottom:m.medium};case $t:return{paddingTop:m.medium,paddingBottom:m.medium};case li:return{paddingTop:m.medium,paddingBottom:m.medium};case At:return{paddingTop:r?0:m.xsmall,paddingBottom:i?0:m.xsmall};default:return{paddingTop:os,paddingBottom:os}}})(),...a}}l();var p_=x($d());z();var ns=100,Tf=40,Uu=800;function Mf(e,t,o=!1){if(!e.useNewSizing)return O9(e,t,o);let n=new Map,r=0;e.columns.forEach(d=>{var p;r+=((p=e.columnWidths)==null?void 0:p[d])||0});let i=Math.max(t-r,0),a=e.columns.length-Object.keys(e.columnWidths||{}).length,s=a===0?0:Math.floor(i/a),c=a===0?0:i-s*a,u=0;return e.columns.forEach(d=>{var v,C;let p=typeof((v=e.columnWidths)==null?void 0:v[d])>"u",f=((C=e.columnWidths)==null?void 0:C[d])||0,g=p?s:f;d===e.columns[e.columns.length-1]&&(g+=c),g=(0,p_.default)(g,p?ns:Tf,Uu),u+=g;let b=new Qe.Value(0);b.setOffset(g),n.set(d,{controller:b,animated:Qe.diffClamp(b,o?0:p?ns:Tf,Uu),width:g})}),{widths:n,totalWidth:u}}function O9(e,t,o=!1){let i=new Map,a=0;e.columns.forEach(c=>{var d;let u=((d=e.columnWidths)==null?void 0:d[c])||200;a+=u,i.set(c,u)});let s=1;return(a<t||o)&&(s=t/a,a=t),i.forEach((c,u)=>{let d=new Qe.Value(0);d.setOffset(c*s),i.set(u,{controller:d,animated:Qe.diffClamp(d,o?0:150,Uu),width:c*s})}),{widths:i,totalWidth:a}}function Qs(e,t,o){let{blockSpacing:n={paddingTop:0,paddingBottom:0},contentSize:r=750}=o||{};if((e==null?void 0:e.object)!=="block")throw new Error(`invalid node passed to "getBlockEstimatedHeight" ${e.object}#${e.type} with parent ${e.object}#${t?t.type:"no-parent"}`);switch(e.type){case An:return n.paddingTop+n.paddingBottom+_9(e,r);case yn:return n.paddingTop+n.paddingBottom+Qs(e.nodes.first(),e);case le:case Le:case He:case Te:{let a=n.paddingTop+n.paddingBottom+Yu(e.text,{lineHeight:xn(e),fontSize:Lf(e),contentWidth:r});return e.type===Te&&t.object==="document"&&t.getChildIndex(e.key)!==0?a+m.medium+m.large+1:a}case qr:return Yu(e.text,{lineHeight:xn(e),fontSize:Lf(e),contentWidth:r});case Li:case Nn:case _s:case zo:case ia:case Di:return n.paddingTop+n.paddingBottom+200;case Is:case aa:case la:return n.paddingTop+n.paddingBottom+100;case Ni:return n.paddingTop+n.paddingBottom+xn(e);default:let i=R9(e,r);return n.paddingTop+n.paddingBottom+e.nodes.reduce((a,s)=>{let c=Qr(s,e),u=s.object==="block"?Qs(s,e,{contentSize:i}):Yu(s.text,{contentWidth:i});return a+u+c.paddingTop+c.paddingBottom},0)}}function R9(e,t){switch(e.type){case bt:return t-Tu-Eu;case $t:return t-Lu-Mu;default:return t}}function xn(e){if(!e)return xe.Body.lineHeight;switch(e.type){case At:return xn(e.nodes.first());case Te:return xe.Heading1.lineHeight;case Le:return xe.Heading2.lineHeight;case He:return xe.Heading3.lineHeight;case li:return xe.Code.lineHeight+2*m.small;case qr:return xe.Code.lineHeight;case yn:return xe.Label.lineHeight+2*m.small;case An:return xe.Label.lineHeight+2*m.small;case Ni:return m.medium*2+xe.Heading3.lineHeight;case le:default:return xe.Body.lineHeight}}function Lf(e){if(!e)return xe.Body.fontSize;switch(e.type){case At:return xn(e.nodes.first());case Te:return xe.Heading1.fontSize;case Le:return xe.Heading2.fontSize;case He:return xe.Heading3.fontSize;case qr:return xe.Code.fontSize;case le:default:return xe.Body.fontSize}}function _9(e,t){let o=Y.getTableData(e);switch(o.view.type){case"grid":{let{widths:n}=Mf(o.view,t,!1),r=P9(o,n),i=Object.keys(o.records).reduce((a,s,c)=>{let u=lv(e,s,n);return a+u},0);return r+i}case"cards":{let n=Object.keys(o.records).length,r=o.view.cardSize==="large"?2:3,i=(750-r*m.medium)/r,a=I9(e,o,i),s=Math.ceil(n/r);return s*a+(s-1)*m.medium}default:Pt(o.view)}}function lv(e,t,o){if(!e)return 0;let n=Y.getTableData(e),r=n.records[t];return n.view.columns.reduce((i,a)=>{let s=r.values[a],c=n.definition[a],u=g_(s,c,f_(c.id,o),e);return u>i?u:i},m.medium)}function I9(e,t,o){let n=Object.values(t.records)[0];if(!n)return 0;let r=t.view.type==="cards"&&t.view.coverDefinition?135:0;return t.view.columns.reduce((i,a)=>{let s=n.values[a],c=t.definition[a],u=g_(s,c,o,e);return i+u},2*m.small+r)}function P9(e,t){return e.view.type!=="grid"||e.view.hideHeader?0:Object.keys(e.definition).reduce((o,n)=>{let r=f_(n,t),i=e.definition[n].title,a=Yu(i,{contentWidth:r});return a>o?a:o},m.medium)}function f_(e,t){var n;return(((n=t.get(e))==null?void 0:n.width)||ns)-m.medium*2}function g_(e,t,o,n){return(()=>{switch(t.type){case"text":let i=n.fragments.get(String(e));return i?i.nodes.reduce((u,d)=>u+Qs(d,n,{contentSize:o}),0):0;case"number":return Yu(String(e),{contentWidth:o});case"files":case"users":let a=Array.isArray(e)?e.length:1,s=t.type==="files"?T9:E9;return(a<=1?1:Math.max(1,Math.ceil(s*a/o)))*xe.Body.lineHeight;case"checkbox":case"rating":case"select":default:return xe.Body.lineHeight}})()+m.small*2+1}function Yu(e,t){let{lineHeight:o=xe.Body.lineHeight,contentWidth:n=750}=t||{},r=cv(e,t),i=Math.max(1,Math.ceil(r/n));return o*i}function cv(e="",t){let{fontSize:o=xe.Body.fontSize}=t||{};return o*.5*e.length}var E9=cv("Steven Smithson")+m.large+m.small*2,T9=cv("this_is_a_file_of_mine.json")+m.large+m.small*2;function yc(e){let{ancestors:t,node:o,diff:n}=e,r=t.last(),i=r.type,a=r.getChildIndex(o.key),s=a===0,c=a===r.nodes.size-1;return h_.default.useMemo(()=>{let u=r.object==="document",d=r.object==="document"&&mr.isConflictKey(o.key),p=xn(o),f=Qr(o,r,typeof n=="boolean");d&&(f.paddingTop+=m.medium);let g=z9[f.paddingTop]||{paddingTop:f.paddingTop},b=V9[f.paddingBottom]||{paddingBottom:f.paddingBottom},v=[rs.block,g,b],C=N9(o,t),w=D9(o,t),k=L9(o,r),I=C?A9(o,t)-C.width/2:0;return{blockStyle:v,diffLine:n?{style:{position:"absolute",left:B9(o,t),top:(typeof n!="boolean"?f.paddingTop:0)+(p-Jp)/2,bottom:f.paddingBottom+m.small},size:Jp}:void 0,diffBefore:typeof n!="boolean"&&(n!=null&&n.deletedBlocksBefore)?{style:rs.diffDeletedBeforeLine,size:E.ICON_XS}:void 0,diffAfter:typeof n!="boolean"&&(n!=null&&n.deletedBlocksAfter)?{style:rs.diffDeletedAfterLine,size:E.ICON_XS}:void 0,controlsButton:C?{style:{position:"absolute",left:I,top:f.paddingTop+(p-C.height)/2,minWidth:-I},size:C.buttonSize}:void 0,rightGutterComponent:w?{size:w.buttonSize,style:[rs.rightGutterComponent,{top:f.paddingTop+(p-w.height)/2}]}:void 0,beforeLine:k.before?{style:k.before}:void 0,afterLine:k.after?{style:k.after}:void 0,renderMode:u?"centered":"unstyled"}},[o.type,r.object,i,s,c,n])}var y_={shouldNodeComponentUpdate(e,t){if(e.node.object==="inline"||t.node.object==="inline")return null;let o=Qr(e.node,e.parent),n=Qr(t.node,t.parent);return o.paddingTop!==n.paddingTop||o.paddingBottom!==n.paddingBottom?!0:null}};function M9(e,t){if(t.object==="document"&&dr(t))return{before:!1,after:!1};if(mr.hasBlockConflictFrom(e,"head"))return{before:!1,after:!0};if(mr.hasBlockConflictFrom(e,"base"))return{before:!0,after:!1};let o=t.getChildIndex(e.key),n=t.nodes.size,r=!0,i=o===n-1;if(e.type===At){let a=tt.isList(e.nodes.last());return{before:r,after:i&&!a}}return t.type===At?{before:r&&o!==0,after:i&&o!==n-1}:{before:r,after:i}}function L9(e,t){let o=M9(e,t),n=null,r=null;return o.before&&(n=[rs.insertionLine,{top:-hi}]),o.after&&(r=[rs.insertionLine,{bottom:-hi}]),{before:n,after:r}}function N9(e,t){let o=t.last();return ca.includes(e.type)||mo.isBlock(o)&&o.type===At&&e.type!==Li?null:t.size===1||t.size===2&&mo.isBlock(o)&&tt.isList(o)?{buttonSize:"small",width:E.BUTTON_S,height:E.BUTTON_S}:{buttonSize:"xsmall",width:E.BUTTON_XS,height:E.BUTTON_XS}}function D9(e,t){return ca.includes(e.type)?null:{buttonSize:"small",width:E.BUTTON_S,height:E.BUTTON_S}}function A9(e,t){let o=t.last(),n=t.get(t.size-2);if(e.type===At){if(!n||(n==null?void 0:n.object)==="document")return Xs;if(mo.isBlock(n)&&n.type===At)switch(o.type){case Bo:return-(m.small+6);case Et:return-(m.small+8);case Qt:return-(m.small+E.ICON_M/2);default:return Xs}o=n,n=t.get(t.size-3)}return n&&mo.isBlock(n)&&Wy[n.type]?Wy[n.type]:(mo.isBlock(o)?Pu[o.type]:0)||Xs}function B9(e,t){let o=t.last(),n=t.get(t.size-2),r=t.some(c=>c.type===yn)?-m.large:0,i=t.some(c=>c.type===$t)?Nu+10:0,a=t.some(c=>c.type===bt)?-20:0,s=t.filter(c=>ca.includes((c==null?void 0:c.type)||"")).size;if(s>0){let c=(r?r-2:0)+i+a+Nu,u=s-1,d;switch(ca.includes((n==null?void 0:n.type)||"")?d=n==null?void 0:n.type:(d=o.type,u--),d){case Bo:return c-GO-KO*u;case Et:return c-HO-jO*u;case Qt:return c-XO-UO*u;default:return Nu}}return a+i+r+Nu}var rs=q.create({block:{paddingVertical:os},defaultTopPadding:{paddingTop:os},defaultBottomPadding:{paddingBottom:os},insertionLine:{height:hi,left:0,right:0},diffDeletedBeforeLine:{top:-hi,left:Xs-E.BUTTON_S-m.small-E.ICON_XS/2},diffDeletedAfterLine:{bottom:-hi,left:Xs-E.BUTTON_S-m.small-E.ICON_XS/2},rightGutterComponent:{position:"absolute",right:-m.xlarge,minWidth:m.xlarge}}),z9={[os]:rs.defaultTopPadding,0:m.Padding.noneTop,[m.xsmall]:m.Padding.xsmallTop,[m.small]:m.Padding.smallTop,[m.medium]:m.Padding.mediumTop,[m.large]:m.Padding.largeTop,[m.xlarge]:m.Padding.xlargeTop,[m.xxlarge]:m.Padding.xxlargeTop},V9={[os]:rs.defaultBottomPadding,0:m.Padding.noneBottom,[m.xsmall]:m.Padding.xsmallBottom,[m.small]:m.Padding.smallBottom,[m.medium]:m.Padding.mediumBottom,[m.large]:m.Padding.largeBottom,[m.xlarge]:m.Padding.xlargeBottom,[m.xxlarge]:m.Padding.xxlargeBottom};l();var Cc=x(R());var v_=Cc.default.createContext({current:new Map});function b_(e){let{original:t,modified:o,children:n}=e,r=Cc.default.useRef(new Map),i=Cc.default.useMemo(()=>t===void 0?new Map:h1(t||Rl.create(),o),[t,o]);return r.current=i,Cc.default.createElement(v_.Provider,{value:r},n)}function C_(e){let t=Cc.default.useContext(v_);return t.current instanceof Map?t.current.get(e.key):t.current}l();var Go=x(R());z();function k_(e){let{hasConflictHead:t,hasConflictBase:o,children:n}=e,[,r]=O(W9);return!t&&!o?Go.createElement(Go.Fragment,null,n):Go.createElement(y,{style:r.container},Go.createElement(y,{style:[r.highlighting,o?r.highlightingMain:r.highlightingCurrent]},o&&!t&&Go.createElement(Go.Fragment,null,Go.createElement(y,{style:[r.verticalLine,{bottom:0,top:-(m.small+E.BUTTON_S/2)}]}),Go.createElement(y,{style:[r.horizontalLine,{top:-(m.small+E.BUTTON_S/2)}]})),!o&&t&&Go.createElement(Go.Fragment,null,Go.createElement(y,{style:[r.verticalLine,{bottom:-(m.small+E.BUTTON_S/2),top:0}]}),Go.createElement(y,{style:[r.horizontalLine,{top:0}]}),Go.createElement(y,{style:[r.horizontalLine,{bottom:-(m.small+E.BUTTON_S/2)}]}),Go.createElement(y,{style:[r.conflictBadge,{top:-jh.medium/2}]},Go.createElement(to,{kind:"secondary",icon:S.Conflict})))),n)}var S_=m.medium+jh.medium/2,w_=2,W9=L.create({container:{position:"relative",pointerEvent:"none"},highlighting:{position:"absolute",inset:0},highlightingMain:e=>({backgroundColor:Xh(e.colors.merge.muted,.5)}),highlightingCurrent:e=>({backgroundColor:Xh(e.colors.primary.muted,.5)}),conflictBadge:{position:"absolute",left:m.medium},verticalLine:e=>({position:"absolute",left:S_,width:w_,backgroundColor:e.colors.border.main}),horizontalLine:e=>({position:"absolute",left:S_,height:w_,width:140,backgroundColor:e.colors.border.main})});l();var Hn=x(R());function O_(e){let{node:t,editor:o,children:n}=e,{blockLayoutComponent:r}=Hn.useContext(re),i=mr.hasBlockConflictFrom(t,"base"),a=mr.hasBlockConflictFrom(t,"head");return Hn.createElement(Hn.Fragment,null,i?Hn.createElement(r,{renderMode:"centered"},Hn.createElement(x_,{node:t,editor:o,style:[m.Margin.smallBottom,m.Margin.mediumTop]})):null,Hn.createElement(k_,{hasConflictBase:i,hasConflictHead:a},n),a?Hn.createElement(r,{renderMode:"centered"},Hn.createElement(x_,{node:t,editor:o,style:[m.Margin.smallTop,m.Margin.mediumBottom]})):null)}function x_(e){let{node:t,editor:o,style:n}=e,[,r]=O(N),i=()=>{o.change(a=>{mr.pickConflict(a,t.key)})};return Hn.createElement(ee,{editable:!1,style:[h.directionRow,n]},mr.isConflictKeyFrom(t.key,"base")?Hn.createElement(A,{icon:Je(S.Check,{style:[r.merge]}),rounded:!0,size:"small",kind:"secondary",style:[m.Margin.mediumRight],title:"Pick recent edits made on the main content",tooltipPreferredPlacement:"top",onPress:i},"Keep primary"):Hn.createElement(A,{icon:Je(S.Check,{style:[r.primary]}),rounded:!0,size:"small",kind:"secondary",title:"Pick edits made on this change request",tooltipPreferredPlacement:"bottom",onPress:i},"Keep changed"))}var F9=[At,qr],q9=[$t,bt,An];function ye(e){let{tag:t,contentProps:o={},commandIcon:n,commandIconAnimatedAngle:r,palette:i,...a}=e,{node:s,parent:c,ancestors:u,editor:d,attributes:p,isFocused:f,children:g,isSelectedBlock:b}=a,{readOnly:v}=d,C=C_(s),w=yc({node:s,ancestors:u,diff:C}),{blockLayoutComponent:k,rightGutterComponent:I,onBlockHover:_}=Mt.useContext(re),P=qe(),M=B.useInteractiveState({onHoverIn:()=>{_==null||_(s.key)},onHoverOut:()=>{_==null||_(null)}}),T=!v&&f&&G9(d.value,s),[{dragging:V},K]=Gi({type:"block",item:{type:"block",id:s.key,blockType:s.type,previewLabel:"Move block"},canDrag:()=>!v,collect:F=>({dragging:F.isDragging()})}),U=Mt.createElement(ee,{"data-block-content":s.key,...o,style:[h.flex1,o.style,b&&Nf.blockSelectionHalo]},g);return v?Mt.createElement(k,{node:s==null?void 0:s.key,renderMode:w.renderMode,interactive:M},Mt.createElement(Sa.View,{isPDF:P},Mt.createElement(ee,{tag:t,...p,...M.events,style:[(c.object!=="block"||c.type!==Pl)&&w.blockStyle]},U,I&&w.rightGutterComponent?Mt.createElement(I,{nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,buttonSize:w.rightGutterComponent.size,style:w.rightGutterComponent.style,readOnly:v}):null))):Mt.createElement(O_,{node:s,editor:d},Mt.createElement(k,{node:s==null?void 0:s.key,renderMode:w.renderMode,interactive:M},Mt.createElement(Sa.View,{isPDF:P},Mt.createElement(ee,{tag:t,...p,style:[h.directionRow,Nf.block,w.blockStyle,V&&se.translucent]},C&&w.diffLine&&C.type!=="unmodified"?Mt.createElement(Ef,{diff:C,highlighted:T||M.hovered,...w.diffLine}):null,w.controlsButton?Mt.createElement(m_,{editor:d,nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,palette:i,size:w.controlsButton.size,dragHandleRef:K,icon:n,animatedAngle:r,style:[w.controlsButton.style]}):null,U,I&&w.rightGutterComponent?Mt.createElement(I,{nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,buttonSize:w.rightGutterComponent.size,style:w.rightGutterComponent.style,readOnly:v}):null,w.diffBefore?Mt.createElement(R_,{style:w.diffBefore.style,size:w.diffBefore.size}):null,w.beforeLine?Mt.createElement(sv,{editor:d,parent:c,node:s,position:"before",...w.beforeLine}):null,w.diffAfter?Mt.createElement(R_,{style:w.diffAfter.style,size:w.diffAfter.size}):null,w.afterLine?Mt.createElement(sv,{editor:d,parent:c,node:s,position:"after",...w.afterLine}):null))))}function R_(e){let{style:t,size:o}=e;return Mt.createElement(ee,{editable:!1,style:[t,Nf.diffRemoved]},Mt.createElement(jr,{tooltip:"A block has been removed in this change request",preferredPlacement:"top"},(n,r)=>Mt.createElement(B.TouchableOpacity,{ref:r,style:Nf.diffContainer,...n.events},Mt.createElement(S.DiffRemoved,{size:o,style:[If.deleted]}))))}function G9(e,t){let{document:o,selection:n}=e;if(n.isExpanded||ca.includes(t.type))return!1;if(q9.includes(t.type))return!0;let i=(ce.isTextRange(n)&&n.focusKey&&o.getAncestors(n.focusKey)||Yd.create()).toArray().filter(a=>a.object!=="document"&&a.object!=="inline"&&a.type&&!F9.includes(a.type));return!(i.length>0&&i[i.length-1].key!==t.key)}var Nf=q.create({block:{position:"relative",maxWidth:900},blockSelectionHalo:{backgroundColor:"rgba(35, 131, 226, 0.14)",outline:"2px solid rgba(35, 131, 226, 0.24)",outlineOffset:"-2px"},diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5},diffRemoved:{paddingTop:(hi*2-E.ICON_XS)/2,height:hi*2,position:"absolute"}});l();var ao=x(R());z();function __(e){let{node:t,parent:o,editor:n,children:r,placeholder:i}=e,{selection:a}=n.value,s=ce.isTextRange(a)&&a.hasOnlyNodeFocused(t),c=ke(o,Nn),[u,d]=_f(n,o,t),[,p]=O(H9),[,f]=O(N);return ao.createElement(ao.Fragment,null,u,ao.createElement(ye,{...e,palette:d,commandIcon:S.Plus,commandIconAnimatedAngle:45},ao.createElement(ee,{editable:!1,pointerEvents:"none",style:[p.insertPlaceholder,h.directionRow,h.alignCenter,h.wrap,s||i?se.visible:se.hidden]},s?ao.createElement(ao.Fragment,null,ao.createElement(y,null,ao.createElement(D,{style:[f.Body,f.textMuted]},"Type")),ao.createElement(Vn,{style:[m.Margin.smallHorizontal],size:"medium",shortcut:ze.EDITOR_PALETTE}),ao.createElement(y,null,ao.createElement(D,{style:[f.Body,f.textMuted]},"for commands,")),ao.createElement(Vn,{style:[m.Margin.smallHorizontal],size:"medium",shortcut:ze.EDITOR_INLINE_PALETTE}),ao.createElement(y,null,ao.createElement(D,{style:[f.Body,f.textMuted]},"for inline commands",c?" or paste a link to embed content":null,"."))):ao.createElement(ao.Fragment,null,im(o)?ao.createElement(y,null,ao.createElement(D,{style:[f.Body,f.textMuted]},i)):null)),r))}var H9=L.create({insertPlaceholder:{position:"absolute"}});l();var I_=x(R());function Af(e,t){return I_.useMemo(()=>X9(e.value.document,t),[e,t])}function X9(e,t){let o=e.getPath(t);return o?o[0]<K9(e):!1}var Df=new WeakMap;function K9(e){if(Df.has(e))return Df.get(e);let t=800,o=0;for(let n=0;n<e.nodes.size;n++){let r=e.nodes.get(n);if(!r)break;if(o+=Qs(r,e,{blockSpacing:{paddingTop:m.medium,paddingBottom:m.medium}}),o>t)return Df.set(e,n),n}return Df.set(e,e.nodes.size),e.nodes.size}l();var Bf=x(R());z();function Sc(e){let{style:t}=e,[,o]=O(N);return Bf.default.createElement(Fl,{style:t},Bf.default.createElement(D,{style:[o.Label,o.textMuted]},"Exit with"," ",Bf.default.createElement(Vn,{kind:"muted",shortcut:ze.EDITOR_EXIT_BLOCK})))}l();var wc=x(R());z();var kc=wc.forwardRef(function(t,o){let{node:n,children:r,editor:i,isFocused:a,isSelected:s,attributes:c,onPress:u,style:d}=t,{readOnly:p}=i,f=B.useInteractiveState(),[,g]=O(j9);return p?u?wc.createElement(Pe,{style:[g.frameInlineVoid],onPress:u},r):wc.createElement(y,{style:[g.frameInlineVoid]},r):wc.createElement(Pe,{ref:o,...c,...f.events,style:[g.frameInlineVoid,f.hovered&&g.frameEditableHovered,s&&g.frameSelected,a&&g.frameFocused,d],onPress:b=>{i.change(v=>{v.collapseToStartOf(n).focus()}),u&&u(b)}},r)}),j9=L.create({frameInlineVoid:e=>({borderWidth:2,borderColor:"transparent",borderRadius:e.radiuses.medium,textAlignVertical:"middle"}),frameEditableHovered:e=>({borderColor:e.colors.primary.muted}),frameSelected:e=>({borderColor:e.colors.primary.muted}),frameFocused:e=>({borderColor:e.colors.primary.main})});l();var Ot=x(R());z();var zt=Ot.forwardRef(function(t,o){let{onPress:n,onSelect:r=()=>{s.change(p=>{p.collapseToStartOf(i).focus()})},node:i,children:a,editor:s,isFocused:c,selectable:u=!0}=t,{readOnly:d}=s;return Ot.createElement(uv,{ref:o,onPress:n,readOnly:d,selected:c,selectable:u,onSelect:r},a)}),uv=Ot.forwardRef(function(t,o){let{onPress:n,selected:r,readOnly:i=!1,selectable:a=!0,style:s,children:c,onSelect:u}=t,d=B.useInteractiveState({hoverDelayIn:50}),[,p]=O(U9);if(i)return Ot.createElement(Ot.Fragment,null,c);let f=b=>{b.stopPropagation(),u()},g=Ot.createElement(y,{ref:o,style:s},c,Ot.createElement(y,{style:[p.frameBorder,p.frameBorderRight,d.hovered&&p.frameBorderHovered,r&&p.frameBorderRightSelected],pointerEvents:"none"}),Ot.createElement(y,{style:[p.frameBorder,p.frameBorderLeft,d.hovered&&p.frameBorderHovered,r&&p.frameBorderLeftSelected],pointerEvents:"none"}),Ot.createElement(y,{style:[p.frameBorder,p.frameBorderTop,d.hovered&&p.frameBorderHovered,r&&p.frameBorderTopSelected],pointerEvents:"none"}),Ot.createElement(y,{style:[p.frameBorder,p.frameBorderBottom,d.hovered&&p.frameBorderHovered,r&&p.frameBorderBottomSelected],pointerEvents:"none"}),a?Ot.createElement(Ot.Fragment,null,Ot.createElement(ut,{onPress:f},Ot.createElement(y,{...d.events,style:[p.hoverableFrameBorder,p.hoverableFrameBorderRight]})),Ot.createElement(ut,{onPress:f},Ot.createElement(y,{...d.events,style:[p.hoverableFrameBorder,p.hoverableFrameBorderLeft]})),Ot.createElement(ut,{onPress:f},Ot.createElement(y,{...d.events,style:[p.hoverableFrameBorder,p.hoverableFrameBorderTop]})),Ot.createElement(ut,{onPress:f},Ot.createElement(y,{...d.events,style:[p.hoverableFrameBorder,p.hoverableFrameBorderBottom]}))):null);return n?Ot.createElement(Pe,{onPress:n},g):g}),zf=18,rt=8,is=4,Vf=2,U9=L.create({frameBorder:{position:"absolute"},hoverableFrameBorder:{position:"absolute",cursor:"pointer"},frameBorderHovered:e=>({backgroundColor:e.colors.primary.muted}),hoverableFrameBorderTop:{top:-rt/2,left:-rt/2,right:-rt/2,height:zf},frameBorderTop:{top:-rt/2,left:-rt/2,right:-rt/2,height:rt,borderTopLeftRadius:is,borderTopRightRadius:is},frameBorderTopSelected:e=>({backgroundColor:"transparent",borderTopColor:e.colors.primary.main,borderTopWidth:Vf}),hoverableFrameBorderBottom:{bottom:-rt/2,left:-rt/2,right:-rt/2,height:zf},frameBorderBottom:{bottom:-rt/2,left:-rt/2,right:-rt/2,height:rt,borderBottomLeftRadius:is,borderBottomRightRadius:is},frameBorderBottomSelected:e=>({backgroundColor:"transparent",borderBottomColor:e.colors.primary.main,borderBottomWidth:Vf}),hoverableFrameBorderLeft:{top:-rt/2,bottom:-rt/2,left:-rt/2,width:zf},frameBorderLeft:{top:-rt/2,bottom:-rt/2,left:-rt/2,width:rt,borderBottomLeftRadius:is,borderTopLeftRadius:is},frameBorderLeftSelected:e=>({backgroundColor:"transparent",borderLeftColor:e.colors.primary.main,borderLeftWidth:Vf}),hoverableFrameBorderRight:{top:-rt/2,bottom:-rt/2,right:-rt/2,width:zf},frameBorderRight:{top:-rt/2,bottom:-rt/2,right:-rt/2,width:rt,borderTopRightRadius:is,borderBottomRightRadius:is},frameBorderRightSelected:e=>({backgroundColor:"transparent",borderRightColor:e.colors.primary.main,borderRightWidth:Vf})});l();var Wf=x(R());function Ff(e,t){let[,o]=O(N),[,n]=O(Y9),{navigateToHash:r}=Ce(),{sections:i,active:a,setActive:s}=Wf.default.useContext($r),c=B.useInteractiveState(),u=i.get(e.key),d=()=>{u&&s(a!==u?u:null)},p=()=>{u&&(r(u,{scroll:!0}),d())},f={accessibilityRole:"presentation"};return{anchorElement:Wf.default.createElement(B.Text,{href:`#${u}`,onPress:p,style:[n.anchorLink,m.Margin.smallLeft,a===u||c.focused||c.hovered?se.visible:se.hidden],inactiveStyle:o.textMuted,activeStyle:o.primary,accessibilityLabel:t.accessibilityLabel},Wf.default.createElement(S.Hash,{size:t.anchorIconSize||E.ICON_S,...f})),anchoredBlockId:u,anchoredBlockInteractiveState:c,onAnchoredBlockPress:()=>{t.onBlockPress&&t.onBlockPress(),d()}}}var Y9=L.create({anchorLink:{display:"inline-flex",alignItems:"center"}});l();var E_=x(R());function T_(e){let{notify:t,notifyProgress:o,notifyOrUpdate:n,close:r}=xo(),{logAnalyticsEvent:i}=e;return E_.useMemo(()=>{function a(u){Vd(u),t({kind:"danger",title:"Error while pasting content",icon:S.Alert,details:Mi(u,"Please try again or contact support if the problem persists.")})}function s(u){n({id:"upload-files",title:`Uploading ${u} file${u!==1?"s":""}\u2026`,details:"This might take a moment.",kind:"default",timeout:0,closeable:!1,icon:me})}function c(u,d,p){let f=ql(u),g=0,b=async(v,C)=>{var w;if(La(v))return{kind:"url",url:v};if(jC(v)){let k=await(await fetch(v)).blob(),I=(w=v.split(";")[0])==null?void 0:w.split("/")[1],_=(C==null?void 0:C.fileName)||`unknown.${I}`,P=new File([k],_);return g+=1,s(g),(await e.uploadFiles([P]))[0]}return null};if(f.type==="html"&&f.html!==null)return KS(f.html,{...Uh,resolveFile:b}).then(({document:v})=>f1(v)&&f.text?Yh(f.text).then(({document:C})=>({document:C,type:"text"})):{document:v,type:"html"}).then(({document:v,type:C})=>{p.change(k=>{k.insertDocument(v)}),r("upload-files");let w=P_(C==="html"?f.html:f.text,C);i(Zu(u,C,{document:v,sourceIncludes:w}))}).catch(v=>{a(v)}),!0;if(f.type==="text"&&f.text!==null)return Yh(f.text,{...Uh,resolveFile:b}).then(({document:v})=>{p.change(w=>{w.insertDocument(v)}),r("upload-files");let C=P_(f.text,"text");i(Zu(u,"text",{document:v,sourceIncludes:C}))}).catch(v=>{a(v)}),!0;if(f.type==="files"&&typeof f.files<"u"){if(!f.files||f.files.length===0)return;o(e.uploadFiles(f.files),{title:`Uploading ${f.files.length} files\u2026`,details:"This might take a moment.",kind:"default"}).then(v=>{if(!f.files)return;if(v.length===0){t({kind:"danger",title:"Some files failed to upload, please try again",icon:S.Alert});return}let C=f.files.every(w=>Na(w));p.change(w=>{if(C){let k=Vo.createImagesBlock(v),{startBlock:I}=w.value;if(ke(I,k.type)){Bh(w,Vo.createImagesBlock(v));return}if(!nm.includes(I.type)){t({kind:"info",title:"Cannot insert an image here",icon:S.InfoCircle});return}v.reduce((P,M)=>P.insertInline(Vo.createImageInline(M)),w);return}v.forEach(k=>{if(k.kind!=="file")return;let I=cm.createFileBlock(k);if(ke(w.value.document.getParent(w.value.startBlock.key),I.type)){Bh(w,I);return}t({kind:"info",title:"Cannot insert a file here",icon:S.InfoCircle})})}),i(Zu(u,"files",{uploadedFiles:v==null?void 0:v.length,sourceIncludes:["file"]}))}).catch(v=>{a(v)})}}return{onPaste:c,onDrop:c}},[t,o])}function P_(e,t){let o=[];switch(t){case"text":e.includes("![")&&o.push("image"),e.match(/\|\s*\:?---/)&&o.push("table");break;case"html":e.includes("<img")&&o.push("image"),e.includes("<table")&&o.push("table");break}return o}function Zu(e,t,{document:o=void 0,uploadedFiles:n=0,sourceIncludes:r=[]}={}){let i=e.clipboardData,a=new Set,s=0;return o&&o.forEachDescendant(c=>{s+=1,c.type&&a.add(c.type)}),{type:"edit_paste_content",paste:e.type,sourceTypes:[...(i==null?void 0:i.types)||[]],sourceIncludes:[...new Set(r)],transformType:t,transformSize:s,uploadedFiles:n,transformNodes:[...a]}}l();var dv=x(mi());var M_={onKeyDown:Z9};function Z9(e,t){if((0,dv.default)("enter",e)||(0,dv.default)("shift+enter",e)){let{value:o}=t,{startBlock:n,startInline:r,startText:i}=o;if(r&&r.isVoid&&i){let a=o.document.getNextText(i.key);return a?(t.collapseToStartOf(a),t):void 0}if(n&&n.isVoid)return Ct(t),t}}l();var mv=x(R()),qf="selectionHighlighting",L_={renderMark:$9};function $9(e){let{mark:t}=e;switch(t.type){case qf:return mv.createElement(Q9,{...e})}}function Q9(e){let{attributes:t,children:o}=e;return mv.createElement("span",{...t,style:{backgroundColor:"Highlight",color:"HighlightText"}},o)}l();function N_(e){e.value.decorations.forEach(t=>{var o;(o=t.marks)!=null&&o.some(n=>n.type===qf)&&e.removeValueDecoration(t)})}function Gf(e,t=e.value.selection){ce.isTextRange(t)&&e.setValueDecoration(ce.create({anchorKey:t.anchorKey,anchorOffset:t.anchorOffset,focusKey:t.focusKey,focusOffset:t.focusOffset,marks:[{type:qf,data:{}}],isAtomic:!0}))}l();var D_=x(R());function io(e){let{contentReferenceContext:t}=D_.useContext(re);return qn(e,t)}l();var A_={shouldNodeComponentUpdate:J9};function J9(e,t){let o=e.parent.nodes.size-1,n=e.parent.getChildIndex(e.node.key),r=t.parent.getChildIndex(e.node.key);return(n===o||r===o)&&r!==n?!0:null}l();var xc=x(R());z();function Xn(e){let[,t]=O(eN),[,o]=O(N);return xc.createElement(y,{style:[t.blockLoading,m.Padding.largeHorizontal,m.Padding.mediumVertical,h.directionRow,h.alignCenter]},xc.createElement(y,null,xc.createElement(me,{size:E.ICON_M})),xc.createElement(y,{style:[m.Margin.mediumLeft]},xc.createElement(D,{style:[o.Caption,o.textMid]},"Loading...")))}var eN=L.create({blockLoading:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large})});l();var W_=x(R());l();var Jr=x(R());var B_={en:{something_wrong:"Something went wrong.",reload:"Reload",let_us_know:"Let us know what happened",we_have_been_notified:"Our team has been notified. If you'd like to help, you can describe what happened below.",search:"Search\u2026",search_placeholder:"Search content\u2026",search_blankslate:"Type something to search",search_blankslate_query:'No results for "${1}"',search_blankslate_ai:"Or use our AI assistant to get answers to your questions.",search_goto_section:"Go to section",search_goto_page:"Go to page",page_not_found:"Page not found",back_to_home:"Back to front page",page_not_found_long:"Sorry, but the page you were looking for could not be found.",outline:"On this page",last_modified:"Last modified ${1}",was_it_helpful:"Was this page helpful?",poor_content:"Poor content",ok_content:"OK content",excellent_content:"Excellent content",powered_by:"Powered By ${1}",previous:"Previous",next:"Next",export_pdf:"Export as PDF",copy_link:"Copy link",edit_on_github:"Edit on ${1}",page_articles_section:"Here are the articles in this section:",main:"Main",cookie_policy:"cookie policy",cookie_prompt:"This site uses cookies to deliver its service and to analyse traffic. By browsing this site, you accept the ${1}.",cookies:"Cookies",reject_all:"Reject all",new_page:"New page",untitled_page:"Untitled page",page_description:"Page description (optional)",connection_lost:"Connection lost",network_troubleshooting:"Network troubleshooting",device_offline:"Your device might be offline, or GitBook might be experiencing issues.",missing_content_title:"Oops, something is missing.",missing_content_description:"We could not find the original source to display this content.",table_of_contents:"Table of contents",page_outline:"Page outline"},fr:{something_wrong:"Il y a eu un probl\xE8me.",reload:"Actualiser",let_us_know:"Dites-nous ce qui s'est pass\xE9",we_have_been_notified:"Notre \xE9quipe a \xE9t\xE9 inform\xE9e. Si vous souhaitez nous aider, vous pouvez d\xE9crire ce qui s'est pass\xE9 ci-dessous.",search:"Rechercher\u2026",search_placeholder:"Rechercher\u2026",page_not_found:"Page non trouv\xE9e",back_to_home:"Retour \xE0 la page d'accueil",page_not_found_long:"D\xE9sol\xE9, mais la page que vous cherchiez n'a pas pu \xEAtre trouv\xE9e.",outline:"Sommaire",last_modified:"Derni\xE8re mise \xE0 jour ${1}",was_it_helpful:"Cette page vous a t-elle aid\xE9e ?",poor_content:"Contenu m\xE9diocre",ok_content:"Contenu OK",excellent_content:"Contenu excellent",powered_by:"Propuls\xE9 par ${1}",previous:"Pr\xE9c\xE9dent",next:"Suivant",export_pdf:"Exporter en PDF",copy_link:"Copier le lien",edit_on_github:"\xC9diter sur ${1}",page_articles_section:"Voici les articles de cette section :",main:"Principale",cookie_policy:"politique en mati\xE8re de cookies",cookie_prompt:"Ce site utilise des cookies pour fournir son service et analyser le trafic. En naviguant sur ce site, vous acceptez le ${1}.",cookies:"Cookies",reject_all:"Rejeter tout",connection_lost:"Hors connexion",network_troubleshooting:"D\xE9pannage r\xE9seau",device_offline:"Votre appareil est hors-ligne, ou GitBook rencontre des probl\xE8mes.",missing_content_title:"Oups, il manque quelque chose.",missing_content_description:"Nous n'avons pas pu trouver la source d'origine pour afficher ce contenu.",table_of_contents:"Table des mati\xE8res",page_outline:"Sommaire de la page"},es:{something_wrong:"Algo sali\xF3 mal.",reload:"Recarga",let_us_know:"Cu\xE9ntanos lo que ha sucedido",we_have_been_notified:"Nuestro equipo ha sido notificado. Si quieres ayudar, puedes describir lo sucedido a continuaci\xF3n.",search:"Buscar\u2026",search_placeholder:"Buscar\u2026",page_not_found:"P\xE1gina no encontrada",back_to_home:"Volver a la primera p\xE1gina",page_not_found_long:"Lo sentimos, pero no se ha podido encontrar la p\xE1gina que buscaba.",outline:"Esquema",last_modified:"\xDAltima actualizaci\xF3n ${1}",was_it_helpful:"\xBFTe ha sido \xFAtil esta p\xE1gina?",poor_content:"Contenido mediocre",ok_content:"Contenido OK",excellent_content:"Contenido excelente",powered_by:"Accionado por ${1}",previous:"Anterior",next:"Pr\xF3ximo",export_pdf:"Exportar como PDF",copy_link:"Copiar enlace",edit_on_github:"Editar en ${1}",page_articles_section:"Aqu\xED est\xE1n los art\xEDculos de esta secci\xF3n:",main:"Principal",cookie_policy:"pol\xEDtica de cookies",cookie_prompt:"Este sitio utiliza cookies para prestar su servicio y analizar el tr\xE1fico. Al navegar por este sitio, usted acepta la ${1}.",cookies:"Cookies",reject_all:"Rechazar todo",connection_lost:"Desconectado",network_troubleshooting:"Resoluci\xF3n de problemas de red",device_offline:"Su dispositivo puede estar desconectado, o GitBook esta experimentando problemas.",missing_content_title:"Ups, algo falta.",missing_content_description:"No pudimos encontrar la fuente original para mostrar este contenido.",table_of_contents:"Tabla de contenido",page_outline:"\xCDndice de p\xE1gina"},zh:{something_wrong:"\u51FA\u4E86\u70B9\u95EE\u9898\u3002",reload:"\u91CD\u88C5",let_us_know:"\u8BA9\u6211\u4EEC\u77E5\u9053\u53D1\u751F\u4E86\u4EC0\u4E48\u4E8B",we_have_been_notified:"\u6211\u4EEC\u7684\u56E2\u961F\u5DF2\u7ECF\u63A5\u5230\u901A\u77E5\u3002\u5982\u679C\u4F60\u60F3\u5E2E\u5FD9\uFF0C\u4F60\u53EF\u4EE5\u5728\u4E0B\u9762\u63CF\u8FF0\u53D1\u751F\u4E86\u4EC0\u4E48\u3002",search:"\u641C\u7D22\u6587\u6863\u2026",search_placeholder:"\u641C\u7D22\u6587\u6863\u2026",page_not_found:"\u672A\u627E\u5230\u7F51\u9875",back_to_home:"\u8FD4\u56DE\u9996\u9875",page_not_found_long:"\u62B1\u6B49\uFF0C\u60A8\u8981\u627E\u7684\u9875\u9762\u65E0\u6CD5\u627E\u5230\u3002",outline:"\u5927\u7EB2",last_modified:"\u6700\u8FD1\u66F4\u65B0 ${1}",was_it_helpful:"\u6B64\u9875\u9762\u662F\u5426\u6709\u5E2E\u52A9\uFF1F",poor_content:"\u5185\u5BB9\u5DEE",ok_content:"\u597D\u7684\u5185\u5BB9",excellent_content:"\u4F18\u79C0\u7684\u5185\u5BB9",powered_by:"\u7531 ${1} \u63D0\u4F9B\u652F\u6301",previous:"\u4EE5\u524D",next:"\u4E0B\u4E00\u4E2A",export_pdf:"\u5BFC\u51FA\u4E3APDF",copy_link:"\u590D\u5236\u94FE\u63A5",edit_on_github:"\u5728 ${1} \u4E0A\u7F16\u8F91",page_articles_section:"\u4EE5\u4E0B\u662F\u672C\u8282\u4E2D\u7684\u6587\u7AE0\uFF1A",main:"\u4E3B\u8981",cookie_policy:"cookie\u653F\u7B56",cookie_prompt:"\u672C\u7F51\u7AD9\u4F7F\u7528cookies\u6765\u63D0\u4F9B\u670D\u52A1\u548C\u5206\u6790\u6D41\u91CF\u3002\u901A\u8FC7\u6D4F\u89C8\u672C\u7F51\u7AD9\uFF0C\u60A8\u63A5\u53D7\u6211\u4EEC\u7684${1}\u3002",cookies:"Cookies",reject_all:"\u62D2\u7EDD\u6240\u6709",connection_lost:"\u8FDE\u63A5\u4E22\u5931",network_troubleshooting:"\u7F51\u7EDC\u6545\u969C\u6392\u9664",device_offline:"\u60A8\u7684\u8BBE\u5907\u53EF\u80FD\u5904\u4E8E\u79BB\u7EBF\u72B6\u6001\uFF0C\u6216\u8005 GitBook \u53EF\u80FD\u9047\u5230\u95EE\u9898\u3002",missing_content_title:"\u54CE\u5440\uFF0C\u6709\u4E9B\u4E1C\u897F\u4E22\u5931\u4E86\u3002",missing_content_description:"\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u539F\u59CB\u6765\u6E90\u4EE5\u663E\u793A\u6B64\u5185\u5BB9\u3002",table_of_contents:"\u76EE\u5F55",page_outline:"\u9875\u9762\u5927\u7EB2"},ja:{something_wrong:"\u4F55\u304B\u554F\u984C\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",reload:"\u30EA\u30ED\u30FC\u30C9",let_us_know:"\u4F55\u304C\u8D77\u3053\u3063\u305F\u306E\u304B\u3092\u6559\u3048\u3066\u304F\u3060\u3055\u3044",we_have_been_notified:"\u79C1\u305F\u3061\u306E\u30C1\u30FC\u30E0\u306F\u901A\u77E5\u3092\u53D7\u3051\u307E\u3057\u305F\u3002\u3054\u5354\u529B\u3044\u305F\u3060\u3051\u308B\u5834\u5408\u306F\u3001\u4F55\u304C\u8D77\u3053\u3063\u305F\u304B\u3092\u4EE5\u4E0B\u306B\u3054\u8A18\u5165\u304F\u3060\u3055\u3044\u3002",search:"\u691C\u7D22\u2026",search_placeholder:"\u691C\u7D22\u2026",page_not_found:"\u30DA\u30FC\u30B8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093",back_to_home:"\u30D5\u30ED\u30F3\u30C8\u30DA\u30FC\u30B8\u306B\u623B\u308B",page_not_found_long:"\u7533\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u304C\u3001\u304A\u63A2\u3057\u306E\u30DA\u30FC\u30B8\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",outline:"\u6982\u8981",last_modified:"\u6700\u7D42\u66F4\u65B0 ${1}",was_it_helpful:"\u3053\u306E\u30DA\u30FC\u30B8\u306F\u5F79\u306B\u7ACB\u3061\u307E\u3057\u305F\u304B\uFF1F",poor_content:"\u60AA\u3044\u5185\u5BB9",ok_content:"OK\u30B3\u30F3\u30C6\u30F3\u30C4",excellent_content:"\u512A\u308C\u305F\u5185\u5BB9",powered_by:"${1} \u4E0A\u3067\u52D5\u4F5C\u3057\u3066\u3044\u307E\u3059",previous:"\u524D",next:"\u6B21",export_pdf:"PDF\u306B\u51FA\u529B",copy_link:"\u30EA\u30F3\u30AF\u306E\u30B3\u30D4\u30FC",edit_on_github:"${1}\u3067\u7DE8\u96C6",page_articles_section:"\u3053\u306E\u30BB\u30AF\u30B7\u30E7\u30F3\u306E\u8A18\u4E8B\u306F\u6B21\u306E\u3068\u304A\u308A\u3067\u3059:",main:"\u4E00\u6B21",cookie_policy:"\u30AF\u30C3\u30AD\u30FC\u30DD\u30EA\u30B7\u30FC",cookie_prompt:"\u3053\u306E\u30B5\u30A4\u30C8\u3067\u306F\u3001\u30B5\u30FC\u30D3\u30B9\u306E\u63D0\u4F9B\u3084\u30C8\u30E9\u30D5\u30A3\u30C3\u30AF\u306E\u5206\u6790\u306E\u305F\u3081\u306B\u30AF\u30C3\u30AD\u30FC\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059\u3002\u3053\u306E\u30B5\u30A4\u30C8\u3092\u95B2\u89A7\u3059\u308B\u3053\u3068\u3067\u3001\u304A\u5BA2\u69D8\u306F\u5F53\u793E\u306E${1}\u306B\u540C\u610F\u3057\u305F\u3053\u3068\u306B\u306A\u308A\u307E\u3059\u3002",cookies:"\u30AF\u30C3\u30AD\u30FC",reject_all:"\u5168\u3066\u3092\u62D2\u5426\u3059\u308B",connection_lost:"\u63A5\u7D9A\u5207\u65AD",network_troubleshooting:"\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u30C8\u30E9\u30D6\u30EB\u30B7\u30E5\u30FC\u30C6\u30A3\u30F3\u30B0",device_offline:"\u30C7\u30D0\u30A4\u30B9\u304C\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u3042\u308B\u304B\u3001GitBook\u3067\u554F\u984C\u304C\u767A\u751F\u3057\u3066\u3044\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002",missing_content_title:"\u304A\u3063\u3068\u3001\u4F55\u304B\u304C\u5931\u308F\u308C\u3066\u3044\u307E\u3059\u3002",missing_content_description:"\u3053\u306E\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u8868\u793A\u3059\u308B\u305F\u3081\u306E\u5143\u306E\u30BD\u30FC\u30B9\u3092\u898B\u3064\u3051\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002",table_of_contents:"\u76EE\u6B21",page_outline:"\u30DA\u30FC\u30B8\u6982\u8981"}};function he(){let{locale:e}=Jr.useContext(Oo),t=B_[e];return Jr.useCallback((o,...n)=>{let r=t[o]||B_.en[o],i=[],a=r;return n.forEach((s,c)=>{if(typeof s=="string")a=a.replace(`\${${c+1}}`,s);else{let[u,d]=a.split(`\${${c+1}}`);i.push(Jr.createElement(Jr.Fragment,{key:`string-${c}`},u)),i.push(Jr.createElement(Jr.Fragment,{key:`arg-${c}`},s)),a=d}}),i.length?Jr.createElement(Jr.Fragment,null,i,a):a},[e])}l();var z_=x(R());z();function V_(e){return z_.createElement(D,{...e})}function ju(){let e=he();return W_.createElement(zn,{kind:"default",title:e("missing_content_title"),details:e("missing_content_description")})}l();var Hf=x(R());var tN=B.createInteractiveComponent(ot),F_=Hf.forwardRef(function(t,o){let{active:n=!1,children:r,onPress:i,style:a,...s}=t,[,c]=O(oN);return Hf.createElement(tN,{ref:o,...s,style:[a,n&&c.active],activeStyle:c.active,onMouseDown:u=>{u.preventDefault(),i()}},r)}),oN=L.create({active:e=>({borderRadius:e.radiuses.medium,paddingHorizontal:m.xsmall,backgroundColor:"rgba(35, 131, 226, 0.14)",marginHorizontal:-m.xsmall,zIndex:-1,cursor:"pointer"})});function q_(e){let{editor:t,node:o,children:n,attributes:r,isFocused:i}=e,[,a]=O(nN),{readOnly:s}=t,c=o.getFragmentByKey(Ai),{selection:u}=t.value,d=ce.isTextRange(u)&&!!u.hasAnchorIn(c),p=i&&d,[f,g]=Kn.useState(!1),b=f||p,v=Kn.useCallback(()=>{s||t.change(I=>{let _=o.getFragmentByKey(Ai);_&&I.collapseToEndOf(_).focus()})},[s,t,o.key]),C=Kn.useCallback(()=>{s||t.change(I=>{let _=I.value.document.getDescendant(o.key);if(_&&_.isInline()){let P=_.getFragmentByKey(Ai);P&&ce.isTextRange(I.value.selection)&&I.value.selection.hasEdgeIn(P)&&I.collapseToEndOf(_)}})},[s,t,o.key]);Kn.useEffect(()=>{s||(b?v():C())},[b,s,v,C]),Kn.useEffect(()=>{s||!d&&f&&g(!1)},[d,f,s]);let w=()=>{v(),g(!0)},k=Kn.useCallback(()=>{g(!1)},[]);return Kn.createElement(_m.Provider,{value:k},Kn.createElement(Bi,{closeOnClick:!1,closeOnEsc:!0,closeOnScroll:!1,closeOnClickInNestedPortals:!1,closeOnOutsideClick:!0,opened:b,anchor:({ref:I})=>Kn.createElement(F_,{ref:I,style:a.annotationText,...r,onPress:w,active:b},n)},Kn.createElement(bx,{node:o,editor:t})))}var nN=L.create({annotationText:e=>({textDecorationLine:"underline",textDecorationStyle:"dotted",textDecorationThickness:2,textDecorationColor:e.colors.text.muted})});l();var pv=x(mi());var G_={onKeyDown:(e,t,o)=>{if((0,pv.default)("mod+enter",e)||(0,pv.default)("esc",e)){let{value:n}=t,{startBlock:r,document:i}=n;if(!r)return;let a=i.getFragmentParent(r.key);if((a==null?void 0:a.object)!=="fragment"||a.type!==Ai)return;let s=i.getParent(a.key);return s?(t.collapseToEndOf(s),t):void 0}}};l();var so=x(R());z();function H_(e){let{editor:t,node:o,children:n}=e,{readOnly:r}=t,i=o.data.toFrozenObject(),a=qe(),s=Tm(i.syntax||"text"),c=typeof i.title=="string",u=so.useRef(null),d=ne(u),p=so.useRef(null),f=ne(p),g=(v,C)=>{t.change(w=>{w.insertDataByKey(o.key,["title"],v)})},b=()=>po.getCodeText(o);return so.createElement(ye,{...e,palette:()=>$u(t,o)},so.createElement(kS,{overflow:i.overflow||d1,lineNumbers:!!i.lineNumbers,header:c?so.createElement(rN,{title:i.title,isEditable:!r,onTitleChange:g}):null,showToolbar:d.opened||f.opened,toolbar:a?null:so.createElement(so.Fragment,null,r?null:so.createElement(A,{ref:u,active:d.opened,kind:"secondary",size:"small",style:m.Margin.xsmallRight,rightIcon:S.ChevronDown,onPress:()=>{d.open(X_(t,o.key))}},s.title),so.createElement(Im,{kind:"secondary",size:"small",content:b}),r?null:so.createElement(A,{ref:p,icon:S.MoreVertical,kind:"secondary",size:"small",style:m.Margin.xsmallLeft,title:"More options",onPress:()=>{f.open($u(t,o))}}))},n))}function rN(e){let{title:t,isEditable:o,onTitleChange:n}=e,[r,i]=so.useState(t),[a,s]=O(N);so.useEffect(()=>{i(t)},[t]);let c=d=>{n(r||"",d)},u=[s.Body,s.textMuted];return so.createElement(Fl,{style:[h.directionRow,h.alignCenter,m.Padding.mediumLeft]},o?so.createElement(Ln,{value:r,placeholder:"Enter a filename",placeholderTextColor:a.colors.text.muted,onChangeText:d=>i(d),style:u,onBlur:c}):so.createElement(D,{style:u},t))}function $u(e,t){let o=t.data.toFrozenObject(),n=typeof o.title=="string";return pt(e,t.key,[{key:"code",commands:[{key:"syntax",title:"Set syntax\u2026",icon:S.Code,descendant:()=>X_(e,t.key)}]},{key:"code-options",commands:[{key:"with-line-numbers",icon:S.CodeLineNumbers,enabled:!!o.lineNumbers,title:"With line numbers",trigger:()=>(e.change(r=>{o.lineNumbers?r.removeDataPathByKey(t.key,["lineNumbers"]):r.setDataByKey(t.key,["lineNumbers"],!0)}),$u(e,e.value.document.assertBlock(t.key)))},{key:"with-title",icon:S.CodeCaption,enabled:n,title:"With caption",trigger:()=>(e.change(r=>{n?r.removeDataPathByKey(t.key,["title"]):r.insertDataByKey(t.key,["title"],"")}),$u(e,e.value.document.assertBlock(t.key)))},{key:"with-wrap",icon:S.CodeWrap,enabled:o.overflow==="wrap",title:"Wrap code",trigger:()=>(e.change(r=>{o.overflow==="wrap"?r.removeDataPathByKey(t.key,["overflow"]):r.setDataByKey(t.key,["overflow"],"wrap")}),$u(e,e.value.document.assertBlock(t.key)))}]}])}function X_(e,t){let o=e.value.document.assertBlock(t),n=o.data.get("syntax");return te({search:"Select a syntax\u2026",groups:[{key:"syntaxes",commands:OS().map(r=>({key:r.key,selected:n===r.key,title:r.title,trigger:()=>{e.change(i=>{i.setDataByKey(o.key,["syntax"],r.key)})}}))}]})}l();var K_=x(R());function j_(e){let{node:t,parent:o,children:n,editor:r}=e,{diff:i,highlighted:a}=t.data.toFrozenObject(),s=()=>{r.change(c=>{c.setDataByKey(t.key,["highlighted"],!a)})};return K_.createElement(SS,{number:o.getChildIndex(t.key)+1,highlighting:i==="added"||i==="deleted"||i==="modified"?i:a?"highlighted":void 0,onPressGutter:r.readOnly?void 0:s},n)}l();var Js=x(mi());var iN=(0,Js.isKeyHotkey)("mod+a"),aN=(0,Js.isKeyHotkey)("shift+tab"),sN=(0,Js.isKeyHotkey)("tab"),lN=(0,Js.isKeyHotkey)("mod+enter"),cN=(0,Js.isKeyHotkey)("enter"),uN=(0,Js.isKeyHotkey)("backspace"),U_={onKeyDown:dN,onPaste:mN};function dN(e,t,o){let n=po.getCurrentCode(t.value);if(n){if(iN(e))return pN(n,e,t,o);if(aN(e))return gN(n,e,t,o);if(sN(e))return fN(n,e,t,o);if(lN(e))return yN(n,e,t,o);if(cN(e))return hN(n,e,t,o);if(uN(e))return vN(n,e,t,o)}}function mN(e,t,o){let{value:n}=t,r=po.getCurrentCode(t.value),{endBlock:i}=n;if(!r||!i||!r.hasDescendant(i.key))return;let a=ql(e),s;a.type==="fragment"&&a.fragment?s=a.fragment.getTexts().map(d=>d.text).join(`
`):s=a.text||"";let c=po.createCodeBlock(s).blockNodes,u=Rl.create({nodes:c});return t.insertDocument(u)}function pN(e,t,o,n){t.preventDefault();let r=e.getFirstText(),i=e.getLastText();if(!(!r||!i))return o.collapseToStartOf(r).extendToEndOf(i)}function fN(e,t,o,n){let{value:r}=o;t.preventDefault(),t.stopPropagation();let{isCollapsed:i}=r,a=po.getIndent(po.getCodeText(e));return i?o.insertText(a).focus():po.indentLines(o,a)}function gN(e,t,o,n){t.preventDefault(),t.stopPropagation();let r=po.getIndent(po.getCodeText(e));return po.dedentLines(o,r)}function hN(e,t,o,n){let{value:r}=o;if(!r.isCollapsed)return;t.preventDefault();let{startBlock:i}=r;if(!i)return;let a=i.text,s=po.getIndent(a,"");return o.splitBlock().insertText(s).focus()}function yN(e,t,o,n){let{value:r}=o;if(r.isCollapsed)return t.preventDefault(),Ct(o,e),o}function vN(e,t,o,n){let{value:r}=o;if(r.isExpanded)return;let{startOffset:i,startText:a}=r,s=r.startBlock;if(!s)return;let c=po.getIndent(po.getCodeText(e));if(s.text.slice(0,i).endsWith(c))return t.preventDefault(),o.deleteBackward(c.length).focus();let d=i===0&&e.getFirstText()===a,p=e.nodes.size===1&&s.text.length===0;if(d&&p)return t.preventDefault(),o.setBlocks(le,{normalize:!1}).unwrapNodeByKey(s.key)}l();var Hi=x(R());z();function Xf(e){let{url:t,readOnly:o}=e,[n]=Cp(t),{data:r}=n,i=Jk(o?null:t),a=i?Hi.createElement(bN,{...i}):null;if(!r)return Hi.createElement(Xn,null);if(r.type==="rich"&&r.html){let s=Hi.createElement("div",{dangerouslySetInnerHTML:{__html:r.html}});return a?Hi.createElement(y,null,s,Hi.createElement(y,{style:CN.overlayInstallButton},a)):s}return Hi.createElement(Fi,{href:t,title:r.title,details:r.site,icon:r.icon?Je(Bn,{source:{uri:r.icon}}):void 0,onPress:s=>{s.preventDefault(),ha(t)},buttons:a?[a]:[]})}function bN(e){let{integration:t}=e,{navigate:o}=Ce(),{logAnalyticsEvent:n}=Hi.useContext(re),r=i=>{i.stopPropagation(),i.preventDefault(),n({type:"edit_open_integration",integration:t.name,reason:"embed"}),o({overlay:{type:"integrations",integration:t.name}})};return Hi.createElement(A,{kind:"secondary",size:"medium",icon:Je($l,{integration:t}),title:`Install the ${t.title} integration to supercharge this block`,tooltipPreferredPlacement:"left",onPress:r},"Install ",t.title)}var CN=q.create({overlayInstallButton:{position:"absolute",bottom:m.medium,right:m.medium}});l();var fo=x(R());l();var as=x(R());z();function ss(e){let{node:t,editor:o,isSelected:n}=e,{readOnly:r}=o,[,i]=O(N),a=B.useInteractiveState(),s=t.fragments.get(m1),c=s==null?void 0:s.isEmpty;return s?(n||a.hovered)&&!r||!c?as.createElement(y,{style:[Y_.editableCaption,m.Padding.smallTop],...a.events},c?as.createElement(y,{style:[q.absoluteFill,h.alignCenter,h.justifyContentCenter,m.Padding.smallTop]},as.createElement(D,{style:[i.Italic,i.Body,i.textMuted]},"Write a caption")):null,as.createElement(Fn.Provider,{value:"caption"},as.createElement($a.Provider,{value:"center"},as.createElement(wn,{fragment:"caption"})))):r?null:as.createElement(y,{style:[m.Padding.smallTop,Y_.blankPlaceHolder],...a.events}):null}var Y_=q.create({editableCaption:{position:"relative",textAlign:"center"},blankPlaceHolder:{height:m.small+wm.xsmall}});l();var _o=x(R());l();var ls=x(R());function Kf(e){let{children:t}=e,[o,n]=ls.useState(!1);return ls.useEffect(()=>{n(!0)},[]),o?ls.createElement(ls.Fragment,null,t):null}l();var jf=x(R());function Z_(e){let{children:t,statusCode:o}=e,n=$S();return n.staticContext&&(n.staticContext.statusCode=o),jf.createElement(jf.Fragment,null,t)}var Uf=_o.forwardRef(function(t,o){let{data:n,readOnly:r,onDataChange:i}=t,{integrationBlocksRemote:a}=_o.useContext(re),s=_o.useRef(null),{color:c}=Hr(),u={integrationId:n.integration,componentId:n.block,props:n.props,action:n.action,context:{type:"document",editable:!r,theme:c}},[d,p]=gw(async f=>{var g;return(g=s.current)==null?void 0:g.dispatchAction(f)});return _o.useImperativeHandle(o,()=>({getPaletteGroups:()=>{let{result:f}=a.readCacheState(u);return f&&f.element.type==="block"?d(f.element):[]}})),_o.createElement(_o.Fragment,null,p,_o.createElement(_o.Suspense,{fallback:_o.createElement(Xn,null)},_o.createElement(Kf,null,_o.createElement(Ry,{ref:s,mode:"block",remote:a,input:u,security:{firstPartyDomains:[Vr.integrations.domain]},onPropsChange:f=>{r||i({...n,action:void 0,props:f})}}))))});function $_(e){let{node:t,editor:o}=e,{readOnly:n}=o,r=t.data.toFrozenObject(),{integrationBlocks:i}=fo.useContext(re),a=fo.useMemo(()=>{let s=zl(i,r.url);return s?Ll.createIntegrationBlockDataForLinkUnfurl(s.integrationKey,s.block.id,r.url):null},[i,r.url]);return a?fo.createElement(ye,{...e},fo.createElement(zt,{...e},fo.createElement(fo.Suspense,{fallback:fo.createElement(Xn,null)},fo.createElement(Uf,{data:a,readOnly:n,onDataChange:s=>{o.change(c=>{c.setNodeByKey(t.key,{type:Di,data:s})})}})))):fo.createElement(ye,{...e},fo.createElement(zt,{...e},fo.createElement(fo.Suspense,{fallback:fo.createElement(Xn,null)},fo.createElement(Xf,{url:r.url,readOnly:n}))),fo.createElement(ss,{...e}))}l();var Vt=x(R());l();var Oc=x(R());function Q_(e){let{integrationName:t}=e,[{result:o}]=Gm([Bl(t)]);return o?Oc.createElement(SN,{integration:o}):Oc.createElement(zn,{kind:"default",title:`Integration ${t} no longer exist or has been unpublished.`})}function SN(e){let{integration:t}=e,o=Gt($l,{integration:t},[t]),{navigate:n}=Ce(),{logAnalyticsEvent:r}=Oc.useContext(re);return Oc.createElement(zn,{kind:"default",icon:o,title:`Integration ${t.title} is not configured. Install it to get started.`,actions:[{label:"Install",onPress:()=>{r({type:"edit_open_integration",integration:t.name,reason:"empty"}),n({overlay:{type:"integrations",integration:t.name}})}}]})}function J_(e){let{node:t,editor:o}=e,{readOnly:n}=o,r=Vt.useRef(null),{integrationBlocks:i}=Vt.useContext(re),{navigate:a}=Ce(),s=t.data.toFrozenObject(),c=()=>{var d;return pt(o,t.key,[...((d=r==null?void 0:r.current)==null?void 0:d.getPaletteGroups())||[],{key:"integration",commands:()=>{let[{result:p}]=tw([Bl(s.integration)]);return p?[{key:"integration.settings",icon:Je($l,{integration:p}),title:`Configure ${p.title}`,trigger:()=>{a({overlay:{type:"integrations",integration:p.name}})}}]:[]}}])};return Vt.useMemo(()=>H1(i,s.integration,s.block),[i,s.integration,s.block])?Vt.createElement(ye,{...e,palette:c},Vt.createElement(zt,{...e},Vt.createElement(Vt.Suspense,{fallback:Vt.createElement(Xn,null)},Vt.createElement(Uf,{ref:r,data:s,readOnly:n,onDataChange:d=>{o.change(p=>{p.setNodeByKey(t.key,{data:d})})}})))):Vt.createElement(ye,{...e,palette:c},Vt.createElement(zt,{...e},Vt.createElement(Vt.Suspense,{fallback:Vt.createElement(Xn,null)},s.url?Vt.createElement(Xf,{url:s.url,readOnly:n}):n?Vt.createElement(ju,null):Vt.createElement(Q_,{integrationName:s.integration}))))}l();var Yf=x(mi()),eI=x(R());function tI(e){return eI.useMemo(()=>({onKeyDown:(t,o)=>{let{value:n}=o;if(!n.isCollapsed||!(0,Yf.default)("enter",t))return;let{startBlock:r,selection:i}=n;if(!ce.isTextRange(i)||!r||r.type!==le||!i.isAtEndOf(r))return;let{text:a}=r;if(!Fr(a))return;let s=n.document.getParent(r.key);if(!s||!ke(s,Nn))return;let c=Ol(a,{sortQueryParameters:!1}),u=wN(c,e);o.replaceNodeByKey(r.key,u).collapseToStartOf(u)}}),[e])}var oI={onKeyDown:(e,t,o)=>{if((0,Yf.default)("enter",e)||(0,Yf.default)("shift+enter",e)){let{value:n}=t,{startBlock:r,document:i}=n;if(!r||r.type!==le)return;let a=i.getFragmentParent(r.key);if((a==null?void 0:a.object)!=="fragment")return;let s=i.getParent(a.key);if(!s||!s.isBlock()||![Nn,_s,aa,ia].includes(s.type))return;let c=s.type===_s?i.getParent(s.key):s;return Ct(t,c),t}}};function wN(e,t={}){let o=zl(t,e);return o?Ll.createIntegrationBlockForLinkUnfurl(o.integrationKey,o.block.id,e):sm.createEmbedBlock(e)}l();var fv=x(R());l();var Rc=x(R());function nI(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s}=t.data.toObject(),c=Rc.useRef(null),u=dt(s),d=ne(c);return Rc.useEffect(()=>{if(!d.opened&&a.value.isFocused){let p=f=>{a.change(g=>{let b=ce.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+u.current.length+1});g.insertInlineAtRange(b,lm.createEmoji(f)).focus()})};d.open(qa(ic(p,{withSearch:!1}),s))}else d.typeQuery(s);return()=>{d.close()}},[d,s]),Rc.createElement(ot,{ref:c,...r},i)}l();var Qu=x(R());function rI(e){let{editor:t,node:o,parent:n}=e,r=Qu.useRef(null),i=ne(r),a=Lf(n.object==="block"?n:null),s=ep(()=>{i.open(ic(c=>{t.change(u=>{u.setNodeByKey(o.key,{data:{code:c}})})}))});return Qu.createElement(kc,{ref:r,...e,onPress:t.readOnly?void 0:s},Qu.createElement(Wo,{code:o.data.get("code"),size:a}))}var iI="emojiContext",kN=/(^|\s):(\w*)$/,aI={renderMark:ON,renderNode:RN,decorateValue:xN};function xN(e){let{selection:t}=e,o=_N(e),n=[];return ce.isTextRange(t)&&o!==null&&n.push(ce.create({anchorKey:t.startKey,anchorOffset:t.startOffset-o.length-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:iI,data:{value:o}}],isAtomic:!0})),n}function ON(e){let{mark:t}=e;switch(t.type){case iI:return fv.createElement(nI,{...e})}}function RN(e){let{node:t}=e;switch(t.type){case Es:return fv.createElement(rI,{...e})}}function _N(e){if(!e.isCollapsed)return null;let{document:t,startText:o,startBlock:n,selection:r}=e;if(!ce.isTextRange(r)||!o||!n||!ua({document:t,block:n},Es))return null;let{startOffset:i}=r,a=o.text.slice(0,i),s=kN.exec(a);return s==null?null:s[2]}l();var ft=x(R());z();function IN(e,t,o){for(let[n,r]of e.entries())if(r===o){let i=t.getNode(n);return i?{key:n,id:r,node:i}:null}}function sI(e){let t=B.useInteractiveState(),{node:o,isFocused:n,editor:r}=e,[,i]=O(PN),[,a]=O(N),{sections:s,selected:c}=ft.useContext($r),u=qe(),d=ft.useRef(""),[p,f]=ft.useState("unset");ft.useEffect(()=>{d.current="",f("unset")},[c]);let g=c&&s.get(o.key)===c,b=ft.useMemo(()=>!g&&Boolean(IN(s,o,c)),[g,s,o,c]);g&&(d.current=c);let{selection:v}=r.value,C=ce.isTextRange(v)&&v.hasEdgeIn(da.getBodyFragment(o)),w=n&&ce.isTextRange(v)&&!v.hasFocusInFragmentOf(o),k=u||(p==="unset"?g||b||c===d.current:p==="expanded"),I=k?S.ChevronDown:S.ChevronRight,_=()=>{k&&C&&r.change(at=>{at.collapseToStartOf(da.getTitleFragment(o))}),f(k?"collapsed":"expanded")},{anchoredBlockId:P,onAnchoredBlockPress:M,anchorElement:T,anchoredBlockInteractiveState:V}=Ff(o,{accessibilityLabel:"Direct link to expandable block",onBlockPress:_}),K=ft.useId(),U={id:K,controls:{accessibilityRole:"button",accessibilityExpanded:k,accessibilityControls:`expandable-body-${K}`,accessibilityLabelledBy:`expandable-title-${K}`},chevron:{accessibilityRole:"presentation"},body:{accessibilityRole:"region",accessibilityLabelledBy:`expandable-title-${K}`}},F=o.fragments.get(sa),H=F==null?void 0:F.nodes.first(),Q=Qr(H,F||o),ae=E.ICON_M,Be=Q.paddingTop+(xn(H)-ae)/2;return ft.createElement(ye,{...e},ft.createElement(zt,{...e,isFocused:w},ft.createElement(y,{...t.events,style:[i.expandable,t.active&&i.expandableActive],nativeID:P},ft.createElement(y,{style:[h.directionRow,m.Padding.mediumRight],...V.events},ft.createElement(B.TouchableOpacity,{onPress:M,style:[m.Padding.mediumHorizontal,h.directionRow,h.justifyContentCenter,{paddingTop:Be}],...U.controls},ft.createElement(I,{size:ae,style:[t.active?a.primary:a.textMuted],...U.chevron})),ft.createElement(y,{style:[h.flex1,{paddingTop:Q.paddingTop,paddingBottom:k?m.small:Q.paddingBottom}],nativeID:`expandable-title-${K}`},ft.createElement(Fn.Provider,{value:"expandableTitle"},ft.createElement(wn,{fragment:sa}))),ft.createElement(y,{style:{paddingTop:Be}},T)),ft.createElement(y,{style:[i.expandableBody,!k&&i.hidden],nativeID:`expandable-body-${K}`,...U.body},ft.createElement(wn,{fragment:Ps})))))}var PN=L.create({hidden:{visibility:"hidden",height:0,padding:0},expandable:e=>({breakInside:"avoid",borderWidth:1,borderColor:e.colors.border.main,borderRadius:e.radiuses.large}),expandableActive:e=>({borderColor:e.colors.primary.main}),expandableBody:{padding:m.medium,paddingLeft:m.medium+E.ICON_M+m.medium,paddingTop:0}});l();var gv=x(mi());var lI={onKeyDown:EN};function EN(e,t){if((0,gv.default)("mod+enter",e))return MN(e,t);if((0,gv.default)("enter",e))return TN(e,t)}function TN(e,t){var n;let o=da.getCurrentExpandable(t.value);if(o&&((n=o.fragment)==null?void 0:n.type)===sa)return t.collapseToStartOf(o.expandable.getFragmentByKey(Ps)).focus()}function MN(e,t){let{value:o}=t,n=da.getCurrentExpandable(t.value);if(!(!n||!o.isCollapsed))return e.preventDefault(),Ct(t,n.expandable),t}l();l();var hI=x(uI()),Lt=x(R());z();l();var Un=x(R());l();var Ju=x(R());z();function pI(e){return te({search:"Pick a color\u2026",groups:[{key:"text",title:"Color",commands:fp.map(t=>dI(e,t,!1))},{key:"background",title:"Background",commands:gp.map(t=>dI(e,t,!0))}]})}function dI(e,t,o){let n=e.value.activeMarks.find(a=>a.type===lu),r=o?"background":"text",i=n&&n.data.get(r)===t.key;return{key:`${o?"background_":"foreground_"}${t.key}`,title:t.title,selected:i,icon:({size:a})=>o?Ju.createElement(mI,{size:a,backgroundColor:t.color,color:j.BLACK}):Ju.createElement(mI,{size:a,backgroundColor:j.WHITE,color:t.color}),trigger:()=>{e.change(a=>{n&&a.removeMark(n),i||a.addMark({type:lu,data:{background:"default",text:"default",...n?n.data.toObject():{},[r]:t.key}})})}}}function mI(e){let{size:t=E.ICON_S,color:o,backgroundColor:n}=e;return Ju.createElement(y,{style:[h.directionRow,h.alignCenter,h.justifyContentCenter,{width:t+2,height:t+2,borderRadius:E.RADIUS_M,backgroundColor:n}]},Ju.createElement(S.Type,{style:{color:o,fontSize:t*.9}}))}l();var jn=({type:e,editor:t})=>()=>{t.change(o=>{o.toggleMark(e),o.focus()})},el=({palette:e,editor:t,contentReferenceContext:o,isInLink:n,insertAtRange:r})=>()=>{if(n){t.change(a=>{a.unwrapInline({type:wo}).focus()});return}t.change(a=>{Gf(a)});let i=nn(a=>{t.change(s=>{r?Ts.insertContentReferenceAtRange(s,a,r):Ts.insertContentReference(s,a)})},{...o,document:t.value.document});return e.open(i),i},$f=({editor:e})=>()=>{e.change(t=>{am.wrapWithAnnotation(t),t.focus()})};function fI(e){let{value:t,editor:o,palette:n}=e,{contentReferenceContext:r}=Un.useContext(re),i=t.activeMarks.map(g=>g.type),{startBlock:a,document:s}=t;cr(a);let c=t.hasInline(wo),d=!(a.type===qr),p=()=>{o.change(g=>{Gf(g)}),n.open(pI(o))},f=()=>{o.change(g=>{g.removeAllMarks().focus()})};return Un.createElement(Un.Fragment,null,d&&!rm(a)?Un.createElement(A,{size:"small",icon:S.Bold,active:i.has(vn),onPress:jn({type:vn,editor:o}),title:"*Bold*",tooltipBadge:Ds(ze.EDITOR_BOLD),style:[m.Margin.smallRight],kind:"default_inverted"}):null,d?Un.createElement(A,{size:"small",icon:S.Italic,active:i.has(bn),onPress:jn({type:bn,editor:o}),title:"_Italic_",tooltipBadge:Ds(ze.EDITOR_ITALIC),style:[m.Margin.smallRight],kind:"default_inverted"}):null,d?Un.createElement(A,{size:"small",icon:S.Strikethrough,active:i.has(ur),onPress:jn({type:ur,editor:o}),title:"~Strikethrough~",tooltipBadge:Ds(ze.EDITOR_STRIKETHROUGH),style:[m.Margin.smallRight],kind:"default_inverted"}):null,d?Un.createElement(A,{size:"small",icon:S.Code,active:i.has(Jt),onPress:jn({type:Jt,editor:o}),title:"`Code`",tooltipBadge:Ds(ze.EDITOR_CODE),style:[m.Margin.smallRight],kind:"default_inverted"}):null,ua({document:s,block:a},wo)?Un.createElement(A,{size:"small",icon:S.Link,onPress:el({palette:n,editor:o,contentReferenceContext:r,isInLink:c}),active:c,title:"Link",tooltipBadge:Ds(ze.EDITOR_LINK),style:[m.Margin.smallRight],kind:"default_inverted"}):null,ua({document:s,block:a},Jd)&&am.isSelectionAnnotable(t)?Un.createElement(A,{size:"small",icon:S.Annotation,onPress:$f({editor:o}),active:c,title:"Annotate",tooltipBadge:Ds(ze.EDITOR_ANNOTATION),style:[d?m.Margin.smallRight:null],kind:"default_inverted"}):null,d?Un.createElement(A,{size:"small",title:"Color",icon:S.Highlight,onPress:p,kind:"default_inverted"}):null,i.isEmpty()?null:Un.createElement(A,{size:"small",icon:S.X,onPress:f,title:"Clear formatting",kind:"default_inverted"}))}function yI(e){let{value:t}=e,{selection:o}=t;return l1(o)?Lt.createElement(LN,{selection:o,value:t}):null}function LN(e){let{value:t,selection:o}=e,n=Gl(),r=Lt.useRef(null),{contentReferenceContext:i}=Lt.useContext(re),a=ne(r,{onClose:()=>{n.change(k=>{N_(k),k.focus()})}}),s=Kh(200),[c,u]=Lt.useState(null),d=dt(c),p=Lt.useRef(null);Lt.useEffect(()=>(s(()=>{a.opened||(p.current=o,u(gI(n)))}),()=>{s.cancel()}),[o]);let f=!t.isInVoid,g=t.hasInline(wo),b=!rm(t.startBlock);yr(f?{...b?{[ze.EDITOR_BOLD]:jn({type:vn,editor:n})}:{},[ze.EDITOR_ITALIC]:jn({type:bn,editor:n}),[ze.EDITOR_CODE]:jn({type:Jt,editor:n}),[ze.EDITOR_STRIKETHROUGH]:jn({type:ur,editor:n}),[ze.EDITOR_LINK]:el({palette:a,editor:n,contentReferenceContext:i,isInLink:g}),[ze.EDITOR_ANNOTATION]:$f({editor:n})}:{},"editor-selection-expanded",[i,b,n,g,f,a]),yr(f?{...b?{[ze.EDITOR_BOLD]:jn({type:vn,editor:n})}:{},[ze.EDITOR_ITALIC]:jn({type:bn,editor:n}),[ze.EDITOR_CODE]:jn({type:Jt,editor:n}),[ze.EDITOR_STRIKETHROUGH]:jn({type:ur,editor:n})}:{},"editor-selection-collapsed",[b,n,f]);let v=Boolean(f),C=v&&c&&p.current&&!p.current.hasMoved(o),w=Kh(200);return Lt.useEffect(()=>{if(!v)return;let k=()=>{a.opened||(d.current&&u(null),w(()=>{u(gI(n))}))};return window.addEventListener("scroll",k,!0),()=>{window.removeEventListener("scroll",k,!0)}},[a,v,d,w]),C?Lt.createElement(tn,null,Lt.createElement(y,{ref:r,pointerEvents:"none",style:[DN.formattingMenuWrapper,c]},a.opened?null:Lt.createElement(NN,{editor:n,palette:a}))):null}function NN(e){let{editor:t,palette:o}=e,{value:n,value:{selection:r}}=t,i=Lt.useRef(null),a=B.useInteractiveState(),[s,c]=Lt.useState(!1),{width:u,height:d}=MC();Lt.useLayoutEffect(()=>{i.current&&r.isExpanded&&i.current.updatePosition()},[u,d]);let{startOffset:p=0,endOffset:f=0}=ce.isTextRange(r)?r:{};return Lt.useLayoutEffect(()=>{let b=setInterval(()=>{c(!0)},200);return()=>{clearInterval(b),c(!1)}},[p,f]),r.isFocused&&!r.isCollapsed&&s||a.hovered?Lt.createElement(on,{ref:i,kind:"tooltip",preferredPlacement:"top"},Lt.createElement(y,{style:[h.directionRow,m.Padding.xsmall],...a.events},r.isCollapsed?null:Lt.createElement(fI,{value:n,editor:t,palette:o}))):null}function gI(e){let t=window.getSelection();if(!t||t.rangeCount<1)return null;let o=t.getRangeAt(0),n=hI.default.getBoundingClientRect(o);if(!n)return null;let r=t.anchorNode;if(!r||!IS(e,r))return null;let i=r?vI(r):null,a=15,s={top:n.top+window.pageYOffset,left:n.left+window.scrollX,width:n.width,height:n.height};if(s.width<a&&(s.left-=(a-s.width)/2,s.width=a),i){let c=i.getBoundingClientRect();if(s.top<c.top||s.top+s.height>c.bottom)return null}return s}function vI(e){if(e instanceof HTMLElement){let t=getComputedStyle(e,null);if(t.getPropertyValue("overflow")==="auto"||t.getPropertyValue("overflow")==="scroll"||t.getPropertyValue("overflow-y")==="auto"||t.getPropertyValue("overflow-y")==="scroll")return e}return e.parentNode?vI(e.parentNode):null}var DN=q.create({formattingMenuWrapper:{position:"absolute",zIndex:100}});l();var CI=x(R());l();var _c=x(R());function bI(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s}=t.data.toObject(),c=_c.useRef(null),u=Bt(),d=ne(c,{onClose:()=>{d.close(),!u.isOpen()&&a.change(f=>f.focus())}}),{contentReferenceContext:p}=_c.useContext(re);return Qm(()=>{if(!d.opened&&a.value.isFocused){let f=ce.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+1});d.open(te({groups:[{key:"inline-controls",commands:s.map(g=>{switch(g){case Il:return{key:"image",title:"Image",icon:S.Image,trigger:()=>{a.change(b=>b.blur()),u.prompt({title:"Select image",accept:"images",acceptURL:!0}).then(b=>{a.change(v=>{b.forEach(C=>{v.insertInlineAtRange(f,Vo.createImageInline(C))}),v.focus()})})}};case Es:return{key:"emoji",title:"Emoji",icon:S.EmojiReaction,trigger:()=>ic(b=>{a.change(v=>{v.insertInlineAtRange(f,lm.createEmoji(b)).focus()})})};case wo:return{key:"link",title:"Link",icon:S.Link,trigger:el({palette:d,editor:a,contentReferenceContext:p,isInLink:!1,insertAtRange:f})};case _l:return{key:"math",title:"Math & TeX",icon:S.MathTeX,trigger:()=>{a.change(b=>{b.insertInlineAtRange(f,Ms.createMathInline()).focus()})}}}})}]}))}},150),_c.createElement(ot,{ref:c,...r},i)}var SI="inlineControlsContext",AN=/(^|\s)\/$/,wI={renderMark:zN,decorateValue:BN};function BN(e){let{selection:t}=e,o=VN(e),n=[];return ce.isTextRange(t)&&o!==null&&n.push(ce.create({anchorKey:t.startKey,anchorOffset:t.startOffset-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:SI,data:{value:o}}],isAtomic:!0})),n}function zN(e){let{mark:t}=e;switch(t.type){case SI:return CI.createElement(bI,{...e})}}function VN(e){if(!e.isCollapsed)return null;let{startText:t,startBlock:o,selection:n}=e;if(!ce.isTextRange(n)||!t||!o)return null;let{startOffset:r}=n,i=t.text.slice(0,r);if(AN.exec(i)==null)return null;let s=[Il,Es,wo,_l].filter(c=>ua({document:e.document,block:o},c));return s.length===0?null:s}l();var Xi=x(R());z();l();var go=x(R());z();function kI(e){let{resolved:t,node:o,editor:n,children:r}=e,{contentReferenceContext:i}=go.useContext(re),a=go.useRef(null),s=go.useRef(null),[c,u]=go.useState(!1),[d,p]=go.useState(!1),[,f]=O(xI),g=c||d,b=B.useInteractiveState({hoverDelay:500,onHoverIn:()=>{u(!0)},onHoverOut:()=>{u(!1)}}),v=B.useInteractiveState({onHoverIn:()=>{p(!0)},onHoverOut:()=>{p(!1)}});Xr({opened:g,closeOnClick:!1,closeOnScroll:!0,onClose:()=>{u(!1),p(!1)}},s);let C=ne(a),w=()=>{n.change(I=>{I.unwrapInlineByKey(o.key)})},k=()=>{C.open(nn(I=>{n.change(_=>{_.setDataByKey(o.key,["ref"],I)})},{...i,document:n.value.document}))};return go.createElement(Bi,{ref:s,anchorRef:a,wrapper:Kr,opened:g,updateOnScroll:!1,anchor:({ref:I})=>r(I,{...b.events,style:C.opened?f.linkBeingEdited:null})},go.createElement(y,{style:[q.absoluteFill],...v.events},go.createElement(dS,{kind:"tooltip",preferredAlignment:"start"},go.createElement(y,null,go.createElement(WN,{resolved:t,onPressEdit:k,onPressRemove:w})))))}function WN(e){let{resolved:t,onPressEdit:o,onPressRemove:n}=e,r=t.icon||t.secondaryIcon,[,i]=O(xI);return go.createElement(y,{style:[h.directionRow,h.alignCenter,m.Padding.xsmall]},go.createElement(y,{style:[i.buttonWrapper,h.directionRow]},go.createElement(A,{title:"Edit link",icon:r,size:"small",kind:"default_inverted",onPress:o,style:h.flex1},t.title)),go.createElement(y,null,go.createElement(A,{title:"Remove link",kind:"default_inverted",icon:S.Trashcan,size:"small",onPress:n})))}var xI=L.create({buttonWrapper:{maxWidth:200},linkBeingEdited:e=>({backgroundColor:e.colors.background.standout})});var FN=B.createInteractiveComponent(ot);function RI(e){return Xi.createElement(Xi.Suspense,{fallback:Xi.createElement(_I,{...e,resolved:null})},Xi.createElement(qN,{...e}))}function qN(e){let{node:t}=e,{ref:o}=t.data.toFrozenObject(),n=io(o);return Xi.createElement(_I,{...e,resolved:n})}var OI=B.createInteractiveHandle("link");function _I(e){let{node:t,attributes:o,children:n,resolved:r,editor:i}=e,{readOnly:a}=i,[,s]=O(N),c=(u,d={})=>Xi.createElement(B.TouchableOpacity,{ref:u,handle:OI,...r?Ja(r):{},...d,style:[GN.wrapper,d.style]},Xi.createElement(FN.Child,{...o,descendantOf:OI,hoverStyle:[s.primaryStandout,s.Underline],inactiveStyle:s.primary},n));return a||!r?c():Xi.createElement(kI,{resolved:r,editor:i,node:t},c)}var GN=q.create({wrapper:{display:"inline"}});l();var II=x(R());function PI(e){let t=dt(e.contentReferenceContext),{logAnalyticsEvent:o}=e;return II.useMemo(()=>({onPaste:(n,r,i)=>{let a=ql(n);if(!((a.type==="text"||a.type==="html")&&typeof a.text=="string"&&(Fr(a.text)||KC(a.text))))return;let s=a.text,{value:c}=r;c.isCollapsed&&r.insertText(s).extend(-s.length);let u={kind:"url",url:s};r.wrapInline({type:wo,data:{ref:u}});let d=r.value.inlines.filter(f=>f.type===wo&&f.data.has("ref")&&Hd(f.data.get("ref"),u)===!1);r.collapseToEnd();let p=gm(s);return p&&nu(()=>Km(p,t.current)).then(f=>{f&&i.change(g=>{d.forEach(b=>{let v=g.value.document.getByKey(b.key);v&&g.setDataByKey(v.key,["ref"],f)})})}),o(Zu(n,"link")),r}}),[t])}l();var Jf=x(R());l();var EI=x(R());var Qf=EI.createContext(Et);function TI(e){let{node:t,children:o,attributes:n}=e;return Jf.createElement(ye,{...e},Jf.createElement(ee,{tag:t.type===Et?"ol":"ul",...n},Jf.createElement(Qf.Provider,{value:t.type},o)))}l();var ei=x(R());z();function MI(e){let{node:t,parent:o,children:n,editor:r}=e,{readOnly:i}=r,[,a]=O(N),s=ei.useContext(Qf),c=t.data.toFrozenObject(),u=s===Bo,d=s===Et,p=s===Qt,f=ei.useMemo(()=>pt(r,t.key,[{key:"list",commands:[{key:"ul",title:"List Unordered",icon:S.ListUnordered,selected:o.type===Bo,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:Bo})})}},{key:"ol",title:"List Ordered",icon:S.ListOrdered,selected:o.type===Et,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:Et})})}},{key:"tasks",title:"Tasks List",icon:S.ListTasks,selected:o.type===Qt,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:Qt})})}}]}]),[r,t.key,o.type]),g=C=>{r.change(w=>{tt.checkTaskItem(w,t.key,C)})},b=xn(t.nodes.first()),v=C=>C<10?m.medium:C<100?m.large:"auto";return ei.createElement(ye,{tag:"li",palette:f,contentProps:{style:ed.blockListItem},...e},p&&ei.createElement(ee,{editable:!1,style:[ed.blockListItemPrefix,{height:b}]},ei.createElement(Fa,{value:!!c.checked,onValueChange:g,readOnly:i,size:E.ICON_M})),u&&ei.createElement(ee,{editable:!1,style:[ed.blockListItemPrefix,{height:b}]},ei.createElement(S.Dot,{size:12,style:a.text})),d&&ei.createElement(ot,{editable:!1,style:[ed.blockListItemPrefix,{height:b,width:v(o.getChildIndex(t.key)+1)},a.Body,a.text]},HN(o,t)),ei.createElement(y,{style:ed.blockListItemContent},n))}function HN(e,t){let o=e.data.toFrozenObject(),n=e.getChildIndex(t.key);return`${(o.start||1)+n}.`}var ed=q.create({blockListItem:{position:"relative",display:"flex",flexDirection:"row"},blockListItemPrefix:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:m.small,marginRight:m.small},blockListItemContent:{flex:1}});l();var td=x(mi());var XN=(0,td.isKeyHotkey)("tab"),KN=(0,td.isKeyHotkey)("shift+tab"),jN=(0,td.isKeyHotkey)("enter"),UN=(0,td.isKeyHotkey)("backspace"),LI={onKeyDown:ZN,shouldNodeComponentUpdate:YN};function YN(e,t){if(e.node.type===At){let{parent:o,node:n}=e,{parent:r,node:i}=t;if(o.object!=="block"||r.object!=="block")throw new Error("Parent of list-item must be a block");if(o.type===Et&&o.getChildIndex(n.key)!==r.getChildIndex(i.key))return!0}return null}function ZN(e,t,o){if(jN(e))return $N(e,t,o);if(XN(e)||KN(e))return JN(e,t,o);if(UN(e))return QN(e,t,o)}function $N(e,t,o){if(e.shiftKey)return;let{value:n}=t,r=tt.getCurrentItem(n);if(!r)return;if(e.preventDefault(),n.isExpanded&&t.delete(),r.isEmpty)return tt.getItemDepth(n)>1?tt.decreaseItemsDepth(t):tt.unwrapList(t);tt.splitListItem(t);let i=tt.getListForItem(t.value,r);if(i&&i.type===Qt){let a=t.value.document.getNextSibling(r.key);return a?tt.checkTaskItem(t,a.key,!1):t}return t}function QN(e,t,o){let{value:n}=t,{startOffset:r,selection:i}=n;if(!ce.isTextRange(i)||i.isExpanded||r>0)return;let a=tt.getCurrentItem(n);if(a&&i.isAtStartOf(a))return e.preventDefault(),tt.unwrapList(t)}function JN(e,t,o){return e.shiftKey?(e.preventDefault(),tt.decreaseItemsDepth(t)):(e.preventDefault(),tt.increaseItemsDepth(t))}l();l();var DI=x(mi());function e5(e){let{transform:t}=e,o=e.onHotkey?(0,DI.isKeyHotkey)(e.onHotkey):()=>!1,n=e.onInput?t5(e.onInput):()=>!1,r=e.ignoreIn?NI(e.ignoreIn):null,i=e.onlyIn?NI(e.onlyIn):null;function a(p,f,g){if(!o(p))return;let b=u(f.value);if(b)return c(b,p,f,g),!0}function s(p,f,g){if(p.inputType!=="insertText"||!n(p))return;let b=u(f.value);if(b)return c(b,p,f,g),!0}function c(p,f,g,b){let{value:v}=g,{startOffset:C}=v,w=0;return d(p,C).forEach(I=>{g.moveOffsetsTo(I.start,I.end).delete(),w+=I.total}),C-=w,g.moveOffsetsTo(C,C),g.call(t,f,p,b),f.preventDefault(),!0}function u(p){if(p.isExpanded)return null;let{startBlock:f}=p;if(!f)return null;let{type:g}=f;if(i&&!i(g)||r&&r(g))return null;let{startText:b,startOffset:v}=p;cr(b);let{text:C}=b,w=null,k=null;return e.after&&(w=C.slice(v).match(e.after)),e.before&&(k=C.slice(0,v).match(e.before)),e.before&&e.after&&!k&&(w=null),e.before&&e.after&&!w&&(k=null),!k&&!w?null:(w&&(w[0]=w[0].replace(/\s+$/,"")),k&&(k[0]=k[0].replace(/^\s+/,"")),{before:k,after:w})}function d(p,f){let{before:g,after:b}=p,v=[],C=0;if(g){let w=g[0],k=0,I=0;g.slice(1,g.length).forEach(_=>{_!==void 0&&(I=w.indexOf(_,I),k=f-C+I-w.length,v.push({start:k,end:k+_.length,total:_.length}),C+=_.length,I+=_.length)})}if(b){let w=b[0],k=0,I=0;b.slice(1,b.length).forEach(_=>{_!==void 0&&(I=w.indexOf(_,I),k=f-C+I,v.push({start:k,end:k+_.length,total:0}),C+=_.length,I+=_.length)})}return v}return{onKeyDown:a,onBeforeInput:s}}function t5(e){if(typeof e=="string")return t=>!!(t.data&&t.data===e);if(typeof e=="function")return e;if(e instanceof RegExp)return t=>!!(t.data&&t.data.match(e));throw new Error("Invalid onInput option")}function NI(e){if(Array.isArray(e))return t=>e.includes(t);if(typeof e=="string")return t=>t===e;if(typeof e=="function")return e;throw new Error("Invalid matcher type")}var Or=e5;var o5=Or({onlyIn:[le],onInput:"*",before:/\*\*[^*]+?\*$/,transform:(e,t,o)=>{if(Ic(e.value,[vn,Jt])||eg(e.value))return e.insertText("*");let n=o.before[0].slice(2).slice(0,-1);return od(e.value,n,[Jt,bn])?e.insertText("*"):e.deleteBackward(n.length+3).addMark(vn).insertText(n).removeMark(vn)}}),n5=Or({onlyIn:[le],onInput:"_",before:/\b_[^_]+?$/,transform:(e,t,o)=>{if(Ic(e.value,[bn,Jt])||eg(e.value))return e.insertText("_");let n=o.before[0].slice(1);return od(e.value,n,[vn,Jt])?e.insertText("_"):e.deleteBackward(n.length+1).addMark(bn).insertText(n).removeMark(bn)}}),r5=Or({onlyIn:[le],onInput:"~",before:/\~\~[^*]+?\~$/,transform:(e,t,o)=>{if(Ic(e.value,[ur,Jt])||eg(e.value))return e.insertText("~");let n=o.before[0].slice(2).slice(0,-1);return od(e.value,n,[ur,Jt])?e.insertText("~"):e.deleteBackward(n.length+3).addMark(ur).insertText(n).removeMark(ur)}}),i5=Or({onlyIn:[le],onInput:/`/,before:/`[^`]+?$/,transform:(e,t,o)=>{if(Ic(e.value,Jt))return e.insertText("`");let n=o.before[0].slice(1);return od(e.value,n,[vn,bn])?e.insertText("`"):e.deleteBackward(n.length+1).addMark(Jt).insertText(n).removeMark(Jt)}}),a5=Or({onlyIn:[le],onInput:"$",before:/\$\$[^*]+?\$$/,transform:(e,t,o)=>{if(Ic(e.value,Jt)||eg(e.value))return e.insertText("$");let n=o.before[0].slice(2).slice(0,-1);if(od(e.value,n,[vn,Jt,bn]))return e.insertText("$");e.deleteBackward(n.length+3);let r=Ms.createMathInline(n);return e.insertInline(r),e}}),s5=Or({onlyIn:[le],onHotkey:"enter",before:/^\$\$$/,transform:(e,t,o)=>{let n=Ms.createMathBlock();return BI(e,n)}}),l5=Or({onlyIn:[le],onInput:" ",before:/^(-|\*)$/,transform:e=>AI(e.value)?e:tt.wrapInList(e,Bo)}),c5=Or({onlyIn:le,onInput:" ",before:/^(([1-9]{1}\d*)\.)$/,transform:(e,t,o)=>{if(AI(e.value))return e;let n=parseInt(o.before[1],10);return tt.wrapInList(e,Et,n&&n!==1?{start:n}:{})}}),u5=Or({onlyIn:le,onInput:"]",before:/^(\[[ xX])$/,transform:(e,t,o)=>{let n=tt.getCurrentList(e.value);if(n)e.setNodeByKey(n.key,{type:Qt});else{if(!e.value.isEmpty)return e.insertText(`${o.before[0]}]`);e=tt.wrapInList(e,Qt)}let r=tt.getCurrentItem(e.value),i=o.before[0][1]!==" ";return r?tt.checkTaskItem(e,r.key,i):e}}),d5=Or({onlyIn:le,onHotkey:"enter",before:/^(```\S*\s*)$/,transform:(e,t,o)=>{let[n]=o.before,r=n.replace(/^```/,"").trim(),i=Tm(r),a=po.createCodeBlock("",{syntax:i.key});return BI(e,a)}}),m5=Or({onlyIn:le,onInput:" ",before:/^(>)$/,transform:(e,t,o)=>e.wrapBlock(bt)});function AI(e){let{startBlock:t,document:o}=e;if(!t)return!1;let n=o.getParent(t.key);return(n==null?void 0:n.type)===At}var p5=[Te,Le,He],f5=Or({onlyIn:le,onInput:" ",before:/^(#{1,3})$/,transform:(e,t,o)=>{let[n]=o.before,r=n.length,i=p5[r-1];return e.setBlocks({type:i})}});function Ic(e,t){let o=typeof t=="string"?[t]:t;return e.marks.some(n=>o.includes(n.type))}function od(e,t,o){let{startText:n,startOffset:r}=e;if(!n)return!1;let i=r-t.length,{leaf:a}=n.searchLeafAtOffset(i);return a?Ic(a,o):!1}function eg(e){let{startText:t,startOffset:o}=e;if(!t)return!1;let n=t.text.slice(0,o);return!(!n||n.match(/^[^`]+$/))}function BI(e,t){let{startBlock:o}=e.value;if(o)return e.insertBlock(t).collapseToStartOf(t).removeNodeByKey(o.key)}var zI=[o5,n5,r5,i5,l5,c5,u5,f5,a5,s5,d5,m5];l();var hv=x(R());l();var ti=x(R());z();var tg={[le]:E.ICON_S,[Te]:E.ICON_XL,[Le]:E.ICON_L,[He]:E.ICON_S};function VI(e){let{node:t,attributes:o,isSelected:n,parent:r}=e,i=t.data.toFrozenObject();return ti.createElement(ti.Suspense,{fallback:ti.createElement(g5,{selected:n,attributes:o,parentType:r.type})},ti.createElement(h5,{reference:i.ref,selected:n,attributes:o,parentType:r.type}))}function g5(e){let{selected:t,attributes:o,parentType:n}=e,[,r]=O(WI),[,i]=O(N),a=t?i.primaryStandout:i.text,s=tg[n||le]||tg[le];return ti.createElement(y,{style:[r.mention,t&&r.mentionSelected],...o},ti.createElement(me,{size:s,style:a}))}function h5(e){let{reference:t,selected:o,attributes:n,parentType:r}=e,[,i]=O(WI),[,a]=O(N),s=B.useInteractiveState(),c=io(t),u=tg[r||le]||tg[le],d=o?a.primaryStandout:a.text;return ti.createElement(Pe,{...s.events,...Ja(c)},ti.createElement(ee,{tag:"span",style:[i.mention,s.hovered&&i.mentionHovered,o&&i.mentionSelected,h.directionRow,h.alignCenter],...n},c.secondaryIcon?ti.createElement(c.secondaryIcon,{size:u,style:[d,i.mentionIcon]}):null,ti.createElement(D,{style:[d,a.Bold]},c.title)))}var WI=L.create({mention:e=>({borderRadius:e.radiuses.medium,paddingHorizontal:m.xsmall/2}),mentionHovered:e=>({backgroundColor:e.colors.background.muted}),mentionSelected:e=>({backgroundColor:e.colors.primary.muted}),mentionIcon:{marginRight:m.xsmall/2}});l();var cs=x(R());function FI(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s,symbol:c}=t.data.toObject(),u=cs.useRef(null),d=dt(s),{contentReferenceContext:p,logAnalyticsEvent:f}=cs.useContext(re),g=ne(u);return Qm(()=>{if(!g.opened&&a.value.isFocused){let b=v=>{a.change(C=>{let w=ce.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+d.current.length+1});C.insertInlineAtRange(w,{type:cu,data:{ref:v},isVoid:!0}).focus()}),f({type:"edit_page_document_insert_mention",kind:v.kind})};g.open(qa(nn(b,{...p,document:a.value.document},{withSearch:!1,accept:c==="@"?["user"]:["url","anchor","page","space","collection","file"]}),s))}},150),cs.useEffect(()=>{g.opened&&g.typeQuery(s)},[g,s]),cs.createElement(ot,{ref:u,...r},i)}var qI="mentionContext",y5=/(^|\s)(@|#)(\w*)$/,GI={renderMark:C5,renderNode:b5,decorateValue:v5};function v5(e){let{selection:t}=e,o=S5(e),n=[];return ce.isTextRange(t)&&o!==null&&n.push(ce.create({anchorKey:t.startKey,anchorOffset:t.startOffset-o.value.length-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:qI,data:{value:o.value,symbol:o.symbol}}],isAtomic:!0})),n}function b5(e){let{node:t}=e;switch(t.type){case cu:return hv.createElement(VI,{...e})}}function C5(e){let{mark:t}=e;switch(t.type){case qI:return hv.createElement(FI,{...e})}}function S5(e){if(!e.isCollapsed)return null;let{document:t,startText:o,startBlock:n,selection:r}=e;if(!ce.isTextRange(r)||!o||!n||!ua({document:t,block:n},cu))return null;let{startOffset:i}=r,a=o.text.slice(0,i),s=y5.exec(a);return s?{symbol:s[2],value:s[3]}:null}l();var oi=x(R());z();l();function og(e,t,o=[]){return pt(e,t,[{key:"types",commands:()=>{let n=e.value.document.assertBlock(t),r=e.value.document.getParent(t);if(!r)return[];let i=a=>{e.change(s=>{s.setNodeByKey(n.key,{type:a}).focus()})};return[{key:le,title:"Paragraph",selected:n.type===le,icon:S.Paragraph,trigger:()=>{i(le)}},ke(r,Te)?{key:Te,title:"Heading 1",selected:n.type===Te,icon:S.Heading1,trigger:()=>{i(Te)}}:null,ke(r,Le)?{key:Le,title:"Heading 2",selected:n.type===Le,icon:S.Heading2,trigger:()=>{i(Le)}}:null,ke(r,He)?{key:He,title:"Heading 3",selected:n.type===He,icon:S.Heading3,trigger:()=>{i(He)}}:null].filter(de)}},...o])}function HI(e){let{editor:t,node:o,parent:n,children:r,attributes:i}=e,[,a]=O(N),[,s]=O(x5),c=oi.useContext($a),u=oi.useContext(Fn),d=k5(n),p=[a.Body,a.text,s[c],s[u]],f=oi.createElement(D,{selectable:!0,style:p},r),g=oi.useMemo(()=>og(t,o.key),[t,o.key]),b=uu(o);return w5(n)?!t.readOnly&&b?oi.createElement(__,{...e,placeholder:d},f):oi.createElement(ye,{...e,palette:g},f):oi.createElement(ee,{...i},!t.readOnly&&d&&b&&im(n)?oi.createElement(ee,{editable:!1,pointerEvents:"none",style:[q.absoluteFill]},oi.createElement(D,{selectable:!0,style:[p,a.textMuted]},d)):null,f)}function w5(e){return e.type===Ah||e.type===Dh||e.type===Ps?!0:!(e.object==="fragment"||e.type===At)}function k5(e){return e.type===p1?"Parameter description (optional)":e.type===Ah?"Response description (optional)":e.type===Dh?"Operation description (optional)":e.type===sa?"Title":e.type===Ps?"Expandable content":e.type===Ai?"Annotate this text":e.type===Dn?"Tab content":""}var x5=L.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},quote:e=>({color:e.colors.text.mid}),swaggerParameter:e=>({color:e.colors.text.mid,...xe.Label}),swaggerResponse:e=>({color:e.colors.text.mid}),caption:e=>({...xe.Caption,color:e.colors.text.muted}),expandableTitle:e=>({...xe.Heading3,color:e.colors.text.main})});l();var nd=x(mi());var XI={onKeyDown:O5};function O5(e,t){if((0,nd.default)("enter",e)||(0,nd.default)("shift+enter",e))return R5(e,t);if((0,nd.default)("backspace",e))return KI(e,t)}function R5(e,t){let{value:o}=t;if(o.isExpanded)return;let{startBlock:n,startOffset:r,endOffset:i}=o;if(n){if(n.isVoid){let{document:a}=o,s=a.getParent(n.key);cr(s);let c=s.getChildIndex(n.key),u=mo.create({type:le,nodes:[su.create("")]});return t.insertNodeByKey(s.key,c+1,u).moveToRangeOf(u)}if(n.type===le){if((0,nd.default)("shift+enter",e))return t.insertText(`
`)}else{let a=n.text.length;if(r===0&&a===0)return KI(e,t);if(i===a)return e.preventDefault(),t.splitBlock().setBlocks({type:le,data:{}})}}}function KI(e,t){let{value:o}=t;if(o.isExpanded||o.startOffset>0)return;let{startBlock:n,startText:r}=o;if(!(!n||!(n.getFirstText()===r))){if(n.type===le){let a=o.document.getParent(n.key);return a&&ve.isSwaggerFragment(a)&&a.getChildIndex(n.key)===0?t:void 0}if(!(n.type===An||n.type===qr))return e.preventDefault(),n.isVoid?t.removeNodeByKey(n.key):t.setNodeByKey(n.key,{type:le,isVoid:!1})}}l();var ng=x(R());function jI(e){let{children:t,isFocused:o,editor:n}=e,{readOnly:r}=n,[,i]=O(_5);return ng.default.createElement(ye,{tag:"blockquote",...e,contentProps:{style:i.blockQuote}},ng.default.createElement(Fn.Provider,{value:"quote"},t),!r&&o?ng.default.createElement(Sc,{style:i.blockExitHint}):null)}var _5=L.create({blockQuote:e=>({position:"relative",color:e.colors.text.mid,paddingLeft:Tu,borderLeftWidth:Eu,borderLeftColor:e.colors.border.mid}),blockExitHint:{position:"absolute",bottom:m.small,right:m.small}});l();var ka=x(R());z();l();var rd={info:{title:"Info",color:j.primary.base,icon:S.InfoCircle},warning:{title:"Warning",color:j.orange.base,icon:S.Warning},success:{title:"Success",color:j.green.base,icon:S.CheckCircle},danger:{title:"Danger",color:j.scarlet.base,icon:S.Alert}};l();function UI(e,t){let o=["info","warning","danger","success"];return pt(e,t,[{key:"levels",commands:()=>{let n=e.value.document.assertBlock(t),r=n.data.get("style");return o.map(i=>({key:i,selected:r===i,title:rd[i].title,icon:rd[i].icon,trigger:()=>{e.change(a=>{a.setNodeByKey(n.key,{data:{style:i}})})}}))}}])}function YI(e){let{node:t,children:o,editor:n,isFocused:r}=e,{readOnly:i}=n,a=t.data.toFrozenObject(),[,s]=O(I5),c=rd[a.style],u=()=>{let C=["info","warning","danger","success"],w=a.style===C[C.length-1]?C[0]:C[C.indexOf(a.style)+1];n.change(k=>k.setNodeByKey(t.key,{data:{style:w}}))},d=ka.useMemo(()=>UI(n,t.key),[n,t.key]),p=t.nodes.first(),f=Qr(p,t),g=E.ICON_L,b=f.paddingTop+(xn(p)-g)/2,v=ka.createElement(c.icon,{size:g,style:{color:c.color}});return ka.createElement(ye,{...e,palette:d,contentProps:{style:[s.blockHint,h.directionRow,{borderColor:c.color}]}},ka.createElement(y,{style:[s.blockHintIconSpacer,h.directionRow,h.justifyContentCenter,{paddingTop:b}]},i?v:ka.createElement(Pe,{onPress:u},v)),ka.createElement(y,{style:h.flex1},o),!i&&r?ka.createElement(Sc,{style:s.blockExitHint}):null)}var I5=L.create({blockHint:e=>({position:"relative",width:"100%",backgroundColor:e.colors.background.muted,paddingRight:m.large,borderLeftWidth:Mu,borderRadius:e.radiuses.medium}),blockHintIconSpacer:{width:Lu},blockExitHint:{position:"absolute",bottom:m.small,right:m.small}});l();var rg=x(mi());var ZI={onKeyDown:M5},P5=(0,rg.isKeyHotkey)("backspace"),E5=(0,rg.isKeyHotkey)("enter"),T5=(0,rg.isKeyHotkey)("mod+enter");function M5(e,t,o){let{value:n}=t;if(P5(e)&&n.isCollapsed)return L5(e,t);if(E5(e))return N5(e,t);if(T5(e))return D5(e,t);if(e.key===">")return A5(e,t)}function L5(e,t){let{value:o}=t,{startOffset:n,selection:r}=o;if(!ce.isTextRange(r)||n>0)return;let i=yv(o);if(!i)return;let a=r.anchorKey?i.getClosestBlock(r.anchorKey):null;if(!(!a||!r.isAtStartOf(a))&&i.nodes.size===1)return e.preventDefault(),t.unwrapBlock(i.type)}function N5(e,t){let{value:o}=t,{startBlock:n,selection:r}=o;if(!ce.isTextRange(r))return;let i=yv(o);if(i&&!(n&&n.text.length!==0))return e.preventDefault(),t.unwrapBlock(i.type)}function D5(e,t){let{value:o}=t,n=yv(o);if(n)return e.preventDefault(),Ct(t,n),t}function A5(e,t){let{value:o}=t,{selection:n}=o;if(ce.isTextRange(n)&&!(n.startOffset!==0||n.isCollapsed))return e.preventDefault(),t.wrapBlock(bt),t}function yv(e,t=null){let{document:o,selection:n}=e;if(!ce.isTextRange(n))return null;if(!t){if(!n.startKey)return null;t=e.startBlock}let r=t?o.getParent(t.key):null;return r&&B5(r)?r:null}function B5(e){return"type"in e&&(e.type===bt||e.type===$t)}l();function $I(e,t,o){if(!e.selection)return[];let{anchorOffset:n,focusOffset:r,isAtomic:i,isBackward:a,isFocused:s}=e.selection;return[ce.create({anchorKey:t,anchorOffset:n,focusKey:o,focusOffset:r,isAtomic:i,isBackward:a,isFocused:s,data:{userId:e.userId,userName:e.name,userColor:e.color}})]}l();var vv=x(R());l();var On=x(R());z();var Pc=2,z5=250;function QI(e){let{selection:t}=e,o=t.data.get("userName"),n=t.data.get("userColor"),[r,i]=On.useState(!1),a=ui(()=>new Qe.Value(r?1:0)),s={"data-cursor":!0},c={backgroundColor:n};return On.useEffect(()=>{Qe.timing(a.current,{toValue:r?1:0,delay:mt.TRANSITION_DURATION_SHORT,useNativeDriver:!1}).start()},[r]),On.createElement(ee,{tag:"span",...s,style:[id.cursor]},On.createElement(Va,{wrapper:Kr,onOpen:()=>i(!0),onClose:()=>i(!1),anchor:({ref:u,open:d,close:p})=>On.createElement(B.WithInteractiveState,{onHoverIn:d,onHoverOut:p},({events:f})=>On.createElement(y,{ref:u,...f,style:[id.carret,c]},On.createElement(y,{style:[id.carretTop,c]})))},On.createElement(Qe.View,{style:[id.bubble,{opacity:a.current.interpolate({inputRange:[0,1],outputRange:[0,1]})}]},On.createElement(y,{style:[id.bubbleContent,c,m.Padding.smallHorizontal]},On.createElement(Cn,{theme:{color:Ym(n)}},On.createElement(V5,{userName:o}))))))}function V5({userName:e}){let[,t]=O(N);return On.createElement(D,{numberOfLines:1,style:[t.Body,t.text]},e)}var id=q.create({cursor:{position:"absolute"},carret:{userSelect:"none",width:Pc,top:3,height:"1.2em"},carretTop:{position:"absolute",top:-Pc*3,left:-Pc,borderRadius:100,width:Pc*3,height:Pc*3},bubble:{position:"absolute",left:-Pc,top:"-1.2em",width:z5},bubbleContent:{position:"absolute",borderRadius:E.RADIUS_M}});l();var JI=x($d()),eP=x(R());function tP(e){let{children:t,selection:o}=e,n=o.data.get("userColor");return eP.createElement(ot,{...{"data-cursor":!0},style:[{backgroundColor:W5(n,.2)}]},t)}function W5(e,t){let o=Math.round((0,JI.default)(t||1,0,1)*255);return e+o.toString(16).toUpperCase()}l();var oP="focus",nP="range";var rP={renderSelection:F5};function F5(e){let{type:t}=e;switch(t){case oP:return vv.createElement(QI,{...e});case nP:return vv.createElement(tP,{...e})}}l();var Ve=x(R());l();var Rr=x(R());function iP(e){let{editor:t,node:o}=e,{contentReferenceContext:n}=Rr.useContext(re),r=dt(n),i=Rr.useMemo(()=>pt(t,o.key,[{key:"edit",commands:[{key:"edit_ref",title:"Edit link target",icon:S.PageLink,trigger:()=>nn(a=>{t.change(s=>{s.setDataByKey(o.key,["ref"],a)})},r.current,{accept:["page","space","collection"]})}]}]),[t,o.key,r]);return Rr.createElement(ye,{...e,palette:i},Rr.createElement(zt,{...e},Rr.createElement(Rr.Suspense,{fallback:Rr.createElement(Fi,{icon:me,title:""})},Rr.createElement(q5,{contentRef:o.data.get("ref")}))))}function q5(e){let{contentRef:t}=e,o=io(t);return Rr.createElement(Fi,{title:o.title,icon:o.icon||o.secondaryIcon,...Ja(o)})}l();var us=x(R());z();function aP(e){let{ancestors:t,node:o,children:n,attributes:r}=e,i=o.data.toFrozenObject(),{blockLayoutComponent:a}=us.useContext(re),s=qe(),c=yc({ancestors:t,node:o.blockNodes.first(),diff:!0});return us.createElement(a,{renderMode:c.renderMode},us.createElement(Sa.View,{isPDF:s},us.createElement(y,{style:c.blockStyle},us.createElement(y,{...r},c.diffLine?us.createElement(Ef,{diff:i,...c.diffLine}):null,n))))}l();var sP=x(R());z();function lP(e){let{mark:t,attributes:o,children:n}=e;return sP.createElement(ot,{style:G5[t.type],...o},n)}var G5=q.create({[em]:{color:$s.added},[tm]:{color:$s.deleted,textDecorationLine:"line-through"},[om]:{color:$s.modified}});l();var De=x(R());l();var Ho=x(R());z();l();var ho=x(R());function cP(e){let{onClose:t}=e,[o,n]=en(),r=ho.useRef(null),[i,a]=ho.useState(!1),s=dt(i),c=dt(t),u=dt(o),d=ho.useCallback(()=>{u.current||n(()=>c.current())},[c,u]);return ho.useEffect(()=>Hm("editor-block-modal"),[]),yr({[ze.EDITOR_SAVE]:p=>{d()}},"editor-block-modal",[]),ho.useEffect(()=>{let p=null,f=g=>{g.key==="Escape"&&(s.current?(p&&clearTimeout(p),d()):(a(!0),p=setTimeout(()=>{a(!1)},2e3)))};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f),p&&clearTimeout(p)}},[s,d]),ho.useEffect(()=>{var p,f;i?(p=r.current)==null||p.open():(f=r.current)==null||f.close()},[i,r]),ho.createElement(A,{tooltipRef:r,icon:S.X,disabled:o,onPress:d,title:i?ho.createElement(ho.Fragment,null,"Press ",ho.createElement(Vn,{shortcut:"ESC"})," again to save & close"):ho.createElement(ho.Fragment,null,"Save & Close ",ho.createElement(Vn,{shortcut:ze.EDITOR_SAVE})),tooltipPreferredPlacement:"left"})}l();l();l();var uP=Pm("05ab87fa95f4c5a09220a4e1067733011498ba1a47c8b145f5ec78dcb9ffe75d",()=>import("https://app.gitbook.com/public/app/chunks/excalidraw.lazy-PMRYL5TJ.min.js"));var tl=uP;async function dP(e){let{default:{exportToSvg:t}}=await tl.load(),o=await t({appState:{exportEmbedScene:!0},elements:e.elements,files:e.files});return new XMLSerializer().serializeToString(o)}l();var bv=Gr({getValue:async e=>{if(!e)return{elements:[],files:{}};let{default:{loadFromBlob:t}}=await tl.load(),n=await(await fetch(e)).blob(),r=await t(n,null,null);return{elements:r.elements,files:r.files}}}),mP=Gr({getValue:async({downloadURL:e,theme:t})=>{let{default:{exportToSvg:o}}=await tl.load(),n=await bv.readAsync(e),r=await o({appState:{viewBackgroundColor:"transparent",exportWithDarkMode:t==="dark"},elements:n.elements,files:n.files});return r.style.maxWidth="100%",r.removeAttribute("width"),r.removeAttribute("height"),r}});function pP(e){let{blockData:t,onClose:o}=e,[,n]=O(K5),r=Ho.useRef(),i=fr(mt.fade),a=fr(mt.pop,{onEnd:()=>{var s;(s=r.current)==null||s.refresh()}});return Ho.createElement(tn,null,Ho.createElement(y,{ref:i,style:[L.absoluteFill,n.modalBackdrop]},Ho.createElement(y,{ref:a,style:n.modalBody},Ho.createElement(Ho.Suspense,{fallback:Ho.createElement(Ht,{size:"large"})},Ho.createElement(H5,{blockData:t,onClose:o,excalidrawRef:r})))))}function H5(e){var g,b;let{excalidrawRef:t,blockData:o,onClose:n}=e,r=Vl(),i=xo(),{Excalidraw:a,useExcalidrawStyle:s}=tl.loadSuspense().default;s();let u=(b=(g=io(o.ref).resolution)==null?void 0:g.extra)==null?void 0:b.file,{result:d,error:p}=bv.readSafe((u==null?void 0:u.downloadURL)||null),f=async()=>{let v=t.current;if(!v){n(void 0);return}let C=v.getSceneElements(),w=v.getFiles();if(d&&d.elements&&!X5(d.elements,C)){n(void 0);return}let k=await dP({elements:C,files:w});n(new File([new Blob([k])],(u==null?void 0:u.name)||"file.excalidraw.svg",{type:"image/svg+xml"}))};return Ho.useEffect(()=>{p&&i.notify({kind:"danger",icon:S.Warning,title:"Error loading drawing",details:p.expose?p.message:"An unexpected error occurred while loading the drawing"})},[p]),Ho.createElement(y,{style:[L.absoluteFill]},Ho.createElement(a,{ref:t,initialData:{...d,scrollToContent:!0},theme:r.color,UIOptions:{canvasActions:{export:!1,loadScene:!1,saveToActiveFile:!1,toggleTheme:!1,saveAsImage:!1,changeViewBackgroundColor:!1,clearCanvas:!1}},renderTopRightUI:(v,C)=>Ho.createElement(y,null,Ho.createElement(cP,{onClose:f}))}))}function X5(e,t){return e.length!==t.length?!0:e.some((o,n)=>{let r=t[n];return o.version!==r.version})}var K5=L.create({modalBackdrop:e=>({backgroundColor:e.colors.backdrop.background}),modalBody:e=>({position:"absolute",top:m.large,bottom:m.large,right:m.xlarge,left:m.xlarge,borderRadius:E.RADIUS_L,backgroundColor:e.colors.background.main,overflow:"hidden"})});l();var Kt=x(R());z();var gP=Kt.forwardRef(function(t,o){let{readOnly:n,contentRef:r}=t,i=Kt.useRef(null),a=Vl(),s=lc(),[,c]=O(hP),[u,d]=Kt.useState(null),f=io(r).href,g=u;return r&&!f&&(g=new wl.NotFound("Drawing file not found, the file may have been deleted")),Kt.useImperativeHandle(o,()=>({openInGallery:()=>{s.open([{url:f}])}})),Kt.useEffect(()=>{let b=!0;return mP.readAsync({downloadURL:f,theme:a.color}).then(v=>{let C=i.current;C&&v&&b&&(C.innerHTML="",C.appendChild(v.cloneNode(!0)))},v=>{b&&d(v)}),()=>{b=!1}},[f,a.color]),g?Kt.createElement(fP,{kind:"danger",icon:S.Warning,message:g.expose?g.message:"An error occurred while rendering this drawing file."}):Kt.createElement(y,{style:c.wrapper},f?Kt.createElement("div",{ref:i},Kt.createElement("img",{src:f,style:{width:"100%"}})):Kt.createElement(fP,{icon:S.EditDrawing,message:n?"Drawing file not found":"Double click to start sketching out your thoughts."}))});function fP(e){let{icon:t,message:o,kind:n="default"}=e,[,r]=O(hP),[,i]=O(N);return Kt.createElement(y,{style:[r.fallback,m.Padding.large,h.alignCenter,h.justifyContentCenter]},Kt.createElement(y,null,Kt.createElement(t,{size:E.ICON_XL,style:n==="danger"?i.danger:i.textMuted})),Kt.createElement(y,{style:m.Margin.mediumTop},Kt.createElement(D,{style:[n==="danger"?i.danger:i.textMuted,i.Body]},o)))}var hP=L.create({wrapper:{},fallback:e=>({height:200,borderWidth:1,backgroundColor:e.colors.background.main,borderColor:e.colors.border.mid,borderRadius:E.RADIUS_M,borderStyle:"dashed"})});var yP=B.createInteractiveHandle("drawing-block");function vP(e){let{node:t,editor:o,isSelected:n}=e,{readOnly:r}=o,i=Bt(),{uploadFiles:a,updateFile:s}=De.useContext(re),[c,u]=De.useState(null),[d,p]=en(),f=De.useRef(),g=De.useRef(null),b=t.data.toFrozenObject(),v=()=>{var T;(T=C.current)==null||T.close(),u("edit")},C=De.useRef(null),w=De.useRef(null);De.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);let k=ep(v),I=T=>{var V,K,U;r?(V=g.current)==null||V.openInGallery():(w.current&&clearTimeout(w.current),k(T)?(K=C.current)==null||K.close():((U=C.current)==null||U.open(),w.current=setTimeout(()=>{var F;(F=C.current)==null||F.close()},1e3)))},_=T=>{f.current=T?URL.createObjectURL(T):void 0,T&&p(async()=>{let V=b.ref;b.ref&&V?await s(V,T):V=(await a([T]))[0],Hd(V,b.ref)&&o.change(K=>{K.setDataByKey(t.key,["ref"],V)})}),u(null)},P=async()=>{let[T]=await i.prompt({title:"Replace drawing file",acceptURL:!1,accept:"drawings"});(T==null?void 0:T.kind)==="file"&&o.change(V=>{V.insertDataByKey(t.key,["ref"],T)})},M=pt(o,t.key,[{key:"types",commands:[{key:"edit",title:"Edit drawing",icon:S.EditDrawing,trigger:()=>{v()}},{key:"files",title:"Replace file\u2026",icon:S.Replace,trigger:()=>{P()}}]}]);return De.createElement(De.Fragment,null,De.createElement(ye,{...e,palette:M},De.createElement(zt,{...e},De.createElement(B.TouchableOpacity,{onPress:I},De.createElement(B.View,{handle:yP},De.createElement(De.Suspense,{fallback:De.createElement(Xn,null)},De.createElement(gP,{ref:g,readOnly:r,contentRef:f.current&&d?{kind:"url",url:f.current}:b.ref})),r?null:De.createElement(Cn,{theme:{color:"dark"}},De.createElement(jr,{ref:C,preferredPlacement:"left",tooltip:"Double click to edit!"},(T,V)=>De.createElement(j5,{ref:V,saving:d,isSelected:n,palette:M})))))),De.createElement(ss,{...e})),De.createElement(it,null,c==="edit"?De.createElement(pP,{blockData:b,onClose:_}):null))}var j5=De.forwardRef(function(t,o){let{isSelected:n,saving:r,palette:i}=t,[,a]=O(U5);return De.createElement(B.View.Child,{ref:o,descendantOf:yP,style:[a.blockToolbar,h.directionRow],inactiveStyle:n||r?se.visible:se.hidden,activeStyle:se.visible},r?De.createElement(A,{size:"small",icon:me},"Saving"):i.groups.map(s=>Array.isArray(s.commands)?s.commands:[]).flat().map((s,c,u)=>De.createElement(A,{key:s.key,title:s.title,size:"small",icon:s.icon,style:[c<u.length-1?m.Margin.smallRight:null],onPress:()=>{var d;(d=s.trigger)==null||d.call(s,i)}})))}),U5=L.create({blockToolbar:e=>({position:"absolute",top:m.small,right:m.small,padding:m.small,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.mid,...e.shadows.base})});l();var Ki=x(R());function bP(e){let{node:t,editor:o}=e,n=Bt(),r=async()=>{let[a]=await n.prompt({title:"Replace file"});(a==null?void 0:a.kind)==="file"&&o.change(s=>{s.insertDataByKey(t.key,["ref"],a)})},i=pt(o,t.key,[{key:"types",commands:()=>[{key:"files",title:"Replace file\u2026",icon:S.Paperclip,trigger:()=>{r()}}]}]);return Ki.createElement(ye,{...e,palette:i},Ki.createElement(zt,{...e},Ki.createElement(Ki.Suspense,{fallback:Ki.createElement(Fi,{icon:me,title:""})},Ki.createElement(Y5,{...e,onReplace:r}))),Ki.createElement(ss,{...e}))}function Y5(e){var u,d;let{node:t,editor:o,onReplace:n}=e,{ref:r}=t.data.toFrozenObject(),a=(d=(u=io(r).resolution)==null?void 0:u.extra)==null?void 0:d.file,s=()=>{a?ha(ma(a.downloadURL)):o.readOnly||n()},c=Gt(gc,{file:a},[a]);return Ki.createElement(Fi,{onPress:s,icon:c,title:a?a.name:"File has been deleted",subtitle:a?Su(a.size):void 0,details:a?fx(a):void 0})}l();var an=x(R());l();var ds=x(R());z();function CP(e){let{node:t,editor:o,onClose:n}=e,r=um(t.text),[i,a]=ds.useState(()=>t.data.get("id")||""),s=u=>{let d=um(u);d.length===u.length?a(d):a(u)},c=()=>{o.change(u=>{i?u.setDataByKey(t.key,["id"],um(i)):u.removeDataByKey(t.key,["id"])}),n()};return ds.createElement(wt,{size:"small",title:"Edit heading anchor",footer:ds.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},ds.createElement(A,{kind:"secondary",onPress:n,style:m.Margin.smallRight},"Close"),ds.createElement(A,{kind:"primary",onPress:c},"Save")),onClose:n},ds.createElement(Xt,{autoFocus:!0,size:"large",icon:S.Hash,label:"Anchor",labelDescription:"Edit this anchor to customize a nice looking url for this heading.",value:i,onChangeText:s,onSubmit:c,placeholder:r}))}var Z5=G.createResponsiveComponent(ee);function SP(e){let{editor:t,node:o,parent:n,children:r}=e,[,i]=O(N),[,a]=O(Q5),[s,c]=an.useState(null),u=an.useContext($a),d=an.useContext(Fn),p=an.useMemo(()=>og(t,o.key,[{key:"edit",commands:[{key:"edit",title:"Edit anchor",icon:S.Link,trigger:()=>{c("edit")}}]}]),[t,o.key]),{anchorElement:f,anchoredBlockId:g,anchoredBlockInteractiveState:b,onAnchoredBlockPress:v}=Ff(o,{accessibilityLabel:"Direct link to heading",anchorIconSize:t3[o.type]}),C=n.type===bt;return an.createElement(an.Fragment,null,an.createElement(ye,{...e,palette:p},an.createElement(Z5,{tag:$5(o.type),nativeID:g,onClick:C?()=>{}:()=>v(),...b.events,style:[h.directionRow,h.alignEnd]},an.createElement(G.Text,{selectable:!0,mobileStyle:[e3[o.type]],desktopStyle:[J5[o.type]],nativeID:`text-${g}`,style:[i.text,a[u],a[d]]},r,C?null:f))),an.createElement(it,null,s==="edit"?an.createElement(CP,{node:o,editor:t,onClose:()=>c(null)}):null))}function $5(e){switch(e){case Te:return"h2";case Le:return"h3";case He:return"h4";default:throw new Error(`invalid node type (${e}) for heading`)}}var Q5=L.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},caption:{},quote:{},swaggerParameter:{}}),J5={[Te]:eo.Heading1,[Le]:eo.Heading2,[He]:eo.Heading3},e3={[Te]:eo.Heading2,[Le]:eo.Heading3,[He]:eo.Body},t3={[Te]:E.ICON_L,[Le]:E.ICON_S,[He]:E.ICON_XXS};l();var ig=x(R());function wP(e){let{node:t,children:o,style:n,attributes:r}=e,{sections:i}=ig.useContext($r),a=i.get(t.key);return ig.createElement("div",{id:a,...r,style:n},o)}l();var Cv=x(R());z();function kP(e){let{node:t,editor:o,children:n}=e,{align:r="center"}=t.data.toFrozenObject(),i=Bt(),a=c=>{o.change(u=>{u.insertDataByKey(t.key,["align"],c)})},s=pt(o,t.key,[{key:"types",commands:()=>[{key:"files",title:"Add images\u2026",icon:S.Image,trigger:()=>{i.prompt({accept:"images",title:"Select image",acceptURL:!0}).then(c=>{o.change(u=>{c.forEach(d=>{u.appendNodeByKey(t.key,Vo.createImageBlock(d))})})})}}]},{key:"align",commands:[{key:"left",title:"Left align",selected:r==="left",icon:S.AlignTextLeft,trigger:()=>a("left")},{key:"center",title:"Center",selected:r==="center",icon:S.AlignTextCenter,trigger:()=>a("center")},{key:"right",title:"Right align",selected:r==="right",icon:S.AlignTextRight,trigger:()=>a("right")}]}]);return Cv.createElement(ye,{palette:s,...e},Cv.createElement(G.View,{style:[h.directionRow,r==="center"&&h.justifyContentCenter,r==="left"&&h.justifyContentStart,r==="right"&&h.justifyContentEnd,o3.imagesWrapper],mobileStyle:[h.wrap,h.justifyContentCenter]},n))}var o3=q.create({imagesWrapper:{columnGap:m.medium,rowGap:m.medium}});l();var Ze=x(R());z();l();var bi=x(R());z();function ag(e){let{node:t,editor:o,onClose:n}=e,[r,i]=bi.useState(()=>Vo.getImageAltText(t)||""),a=()=>{o.change(s=>{s.insertDataByKey(t.key,["alt"],r)}),n()};return bi.createElement(wt,{title:"Set image alt text",onClose:n,footer:bi.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},bi.createElement(A,{kind:"secondary",onPress:n,style:m.Margin.smallRight},"Cancel"),bi.createElement(A,{kind:"primary",onPress:a},"Save"))},bi.createElement(y,{style:[m.Margin.largeBottom]},bi.createElement(y,{style:[m.Margin.mediumBottom]},bi.createElement(Mm,null,"This will be read out by screen readers when the image is encountered. Describe the image in detail \u2013 it's how visually impaired readers know what's in front of them.")),bi.createElement(Xt,{autoFocus:!0,size:"large",value:r,placeholder:"Edit alt text",onChangeText:i,onSubmit:a})))}async function n3(e,t){let o=e.nodes.toArray().map(i=>{let{ref:a}=i.data.toFrozenObject();return a}),n={url:"",broken:!0},r=o.map(i=>vR(i,t).then(({uri:a})=>typeof a!="string"||a===""?n:{url:a,broken:!1}).catch(()=>n));return Promise.all(r)}function xP(e){let{node:t,parent:o,isSelected:n,attributes:r,editor:i}=e,{readOnly:a}=i,{ref:s}=t.data.toFrozenObject(),c=Af(i,t.key),{contentReferenceContext:u}=Ze.useContext(re),d=rf(s,u),[,p]=O(Sv),f=lc(),g=B.useInteractiveState(),b=o.nodes.size>1,[{dragging:v},C]=Gi({type:"block",item:{id:t.key,type:"block",blockType:t.type,previewLabel:"Move image"},canDrag:()=>!a,collect:V=>({dragging:V.isDragging()})}),w=B.useInteractiveState(),[k,I]=Ze.useState(null),_=Vo.getImageAltText(t),P=()=>{I("alt")},M=()=>{I(null)},T=async()=>{if(!d||!d.uri)return;let V=await n3(o,u),K=o.getChildIndex(t.key);f.open(V,K)};return Ze.createElement(Ze.Fragment,null,Ze.createElement(it,null,k==="alt"?Ze.createElement(ag,{...e,onClose:M}):null),Ze.createElement(y,{style:[p.imageWrapper],...g.events,...r},Ze.createElement(zt,{...e},d?Ze.createElement(B.TouchableOpacity,{onPress:T},Ze.createElement(ko,{source:d,accessibilityLabel:_,loading:c?"priority":"lazy",style:[p.image,v&&se.translucent]})):Ze.createElement(r3,{accessibilityLabel:_})),a?null:Ze.createElement(Cn,{theme:{color:"dark"}},(n||g.hovered)&&!v?Ze.createElement(i3,{...e,openAltTextModal:P}):null,b?Ze.createElement(y,{ref:C,style:[p.imageDragHandle,{display:(g.hovered||w.hovered)&&!v?"flex":"none"}],...w.events},Ze.createElement(S.GrabberVertical,{size:E.ICON_S,style:[p.imageDragHandleIcon]})):null)),Ze.createElement(ss,{...e,isSelected:e.isSelected||g.hovered}))}function r3(e){let{style:t,...o}=e,[,n]=O(N),[,r]=O(Sv);return Ze.createElement(y,{style:[h.alignCenter,h.justifyContentCenter,r.brokenImage,m.Padding.large,t],...o},Ze.createElement(y,null,Ze.createElement(S.CloudOff,{size:E.ICON_L,style:[n.textMuted]})),Ze.createElement(y,{style:[m.Margin.mediumTop]},Ze.createElement(D,{style:[n.Caption,n.textMuted]},"Could not load image")))}function i3(e){let{editor:t,node:o,isSelected:n,openAltTextModal:r}=e,[,i]=O(Sv),a=Bt(),s=async()=>{let[c]=await a.prompt({title:"Replace image",accept:"images",acceptURL:!0});c&&t.change(u=>{u.insertDataByKey(o.key,["ref"],c)})};return Ze.createElement(Ze.Fragment,null,Ze.createElement(y,{style:[i.imageToolbar,h.directionRow]},Ze.createElement(A,{title:"ALT text",size:"small",icon:S.AltText,style:[m.Margin.smallRight],onPress:r}),n?Ze.createElement(A,{title:"Replace",size:"small",icon:S.Replace,style:[m.Margin.smallRight],onPress:()=>s()}):null))}var Sv=L.create({imageWrapper:{position:"relative",borderRadius:E.RADIUS_M},imageCaption:{position:"relative",textAlign:"center"},image:{borderRadius:E.RADIUS_M,maxWidth:"100%"},imageToolbar:e=>({position:"absolute",top:m.small,right:m.small,padding:m.small,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.mid,...e.shadows.base}),imageDragHandle:{position:"absolute",top:m.small,left:m.small,cursor:"grab"},imageDragHandleIcon:{textShadowColor:j.BLACK,textShadowRadius:3,color:j.WHITE},brokenImage:e=>({borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.muted})});l();var Oe=x(R());z();function OP(e){let{editor:t,node:o,parent:n,ancestors:r}=e,i=Af(t,o.key),a=Oe.useRef(null),s=xn(n.object==="block"?n:null),[,c]=O(RP),u=r.some(p=>p.object==="inline"&&p.type===wo),d=p=>Oe.createElement(kc,{...p,...e,style:c.inlineFrame},Oe.createElement(Oe.Suspense,{fallback:Oe.createElement(me,{size:E.ICON_S})},Oe.createElement(a3,{node:o,parentLineHeight:s,ref:a,withPriorityLoading:i})));return t.readOnly?d(u?{}:{onPress:()=>{var p;(p=a.current)==null||p.openInGallery()}}):Oe.createElement(l3,{...e,anchor:d})}var a3=Oe.forwardRef(function(t,o){let{node:n,parentLineHeight:r,withPriorityLoading:i}=t,a=n.data.get("ref"),s=n.data.get("size","original"),c=Vo.getImageAltText(n),{contentReferenceContext:u}=Oe.useContext(re),d=rf(a,u),p=lc();Oe.useImperativeHandle(o,()=>({openInGallery:()=>{d!=null&&d.uri&&p.open([{url:d.uri}])}}),[d==null?void 0:d.uri]);let f={};s==="original"?f={maxWidth:300}:f={maxHeight:r};let g=Oe.createElement(s3,{accessibilityLabel:c});return d?Oe.createElement(ko,{accessibilityLabel:c,source:d,style:f,errorFallback:g,loading:i?"priority":"lazy"}):g});function s3(e){let[,t]=O(RP),[,o]=O(N);return Oe.createElement(y,{style:t.brokenImage,...e},Oe.createElement(S.CloudOff,{size:E.ICON_M,style:o.textMuted}))}function l3(e){let{node:t,anchor:o,isFocused:n,editor:r}=e,i=Oe.useRef(null),a=Bt(),[s,c]=Oe.useState(null),u=n&&r.value.selection.isCollapsed,[d,p]=Oe.useState(!1);Oe.useEffect(()=>{if(u){p(!0);return}let C=setTimeout(()=>{p(!1)},300);return()=>{clearTimeout(C)}},[u]);let f=()=>{r.change(C=>{C.collapseToStartOf(t).focus()})},g=C=>{r.change(w=>{w.insertDataByKey(t.key,["size"],C),w.collapseToStartOf(t).focus()})},b=()=>{r.change(C=>{Vo.replaceInlineImageWithBlock(C,t)})},v=async()=>{let[C]=await a.prompt({title:"Replace image",accept:"images",acceptURL:!0});C&&r.change(w=>{w.insertDataByKey(t.key,["ref"],C)})};return Ba(()=>{var C;(C=i.current)==null||C.updatePosition()},[t.data]),Oe.createElement(Oe.Fragment,null,Oe.createElement(it,null,s==="alt"?Oe.createElement(ag,{...e,onClose:()=>c(null)}):null),Oe.createElement(Bi,{ref:i,opened:u||d,anchor:({ref:C})=>o({ref:C,onPress:f})},Oe.createElement(on,{kind:"tooltip"},Oe.createElement(y,{style:[h.directionRow,m.Padding.xsmall]},Oe.createElement(A,{size:"small",title:"Inline size",kind:"default_inverted",onPress:()=>g("line"),icon:S.ImageSizeSmall}),Oe.createElement(A,{size:"small",title:"Original size",kind:"default_inverted",onPress:()=>g("original"),icon:S.ImageSizeLarge}),Oe.createElement(A,{size:"small",title:"Convert to block",kind:"default_inverted",onPress:b,icon:S.ImageSizeBlock}),Oe.createElement(A,{size:"small",kind:"default_inverted",title:"Replace",onPress:v,icon:S.Replace}),Oe.createElement(A,{size:"small",kind:"default_inverted",title:"ALT text",onPress:()=>c("alt"),icon:S.AltText})))))}var RP=L.create({brokenImage:e=>({padding:m.xsmall,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.muted}),inlineFrame:{maxWidth:"100%"}});l();var _P=x(R());function IP(e){let{children:t,attributes:o}=e;return _P.createElement(ot,{tag:"strong",style:eo.Bold,...o},t)}l();var PP=x(R());function EP(e){let{children:t,attributes:o}=e;return PP.createElement(ot,{tag:"em",style:eo.Italic,...o},t)}l();var TP=x(R());function MP(e){let{children:t,attributes:o}=e;return TP.createElement(ot,{tag:"span",style:eo.Strikethrough,...o},t)}l();var LP=x(R());function NP(e){let{children:t,attributes:o}=e,[,n]=O(c3);return wS(),LP.createElement(ot,{tag:"code",style:[n.markCode],...o},t)}var c3=L.create({markCode:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.medium,paddingLeft:m.xsmall,paddingRight:m.xsmall,fontFamily:Cm})});l();var DP=x(R());function AP(e){let{children:t,mark:o,attributes:n}=e,r=o.data.toObject(),i=Hr(),a=r.background&&r.background!=="default",s=r.text&&r.text!=="default",c=a&&i.color==="dark"?{color:j.lightModeText.base}:null;s&&(c=fp.find(d=>d.key===r.text)||null);let u=a?gp.find(d=>d.key===r.background):null;return DP.createElement(ot,{tag:"mark",style:[{color:c?c.color:"inherit",backgroundColor:u?u.color:"inherit"}],...n},t)}l();var ji=x(R());z();l();var Io=x(R());z();function sg(e){let{node:t,anchor:o,isSelected:n,isOnlyNodeSelected:r,isFocused:i,editor:a}=e,{formula:s}=t.data.toFrozenObject(),c=Io.useRef(null),[u,d]=Io.useState(!1),[p,f]=Io.useState(!1),[g,b]=Da(s,[s]),[,v]=O(N),C=()=>{d(!1),f(!1)},w=()=>{u||(a.change(P=>{P.collapseToStartOf(t).focus()}),d(!0))};Io.useEffect(()=>{var P;u&&((P=c.current)==null||P.focus())},[u]),Io.useEffect(()=>{r&&w()},[r]);let k=P=>{b(P),f(!1)},I=()=>{C(),a.change(P=>{P.blur(),P.insertDataByKey(t.key,["formula"],t.object==="inline"?g.replace(/\n/g," "):g)})},_=()=>{C(),a.change(P=>{var M;if(P.blur(),P.insertDataByKey(t.key,["formula"],t.object==="inline"?g.replace(/\n/g," "):g),t.object==="block")Ct(P);else{let T=(M=t.getFirstText())==null?void 0:M.key;if(T){let V=P.value.document.getNextText(T);V&&P.collapseToStartOf(V)}}P.focus()})};return a.readOnly?o({formula:s}):Io.createElement(Xw,{opened:u,onClose:I,wrapper:fS,anchor:({ref:P})=>o({ref:P,isFocused:n&&i||u,onPress:w,formula:g,onError:()=>{f(!0)}})},Io.createElement(on,{kind:"tooltip"},Io.createElement(y,null,Io.createElement(Xt,{ref:c,multiline:!0,numberOfLines:3,autoFocus:!0,selectTextOnFocus:!0,value:g,onChangeText:k,placeholder:"Enter your TeX formula",onSubmit:_,kind:"inverted",textStyle:p?[v.danger]:void 0}),Io.createElement(D,{style:[v.Label,v.textInverted,BP.blockExitHint]},"Exit with ",Io.createElement(Vn,{kind:"muted",shortcut:"enter"})),p?Io.createElement(jr,{tooltip:"There is an error in your math formula",preferredPlacement:"bottom"},(P,M)=>Io.createElement(y,{ref:M,style:BP.blockErrortBadge,...P.events},Io.createElement(to,{icon:S.ExclamationCircle,kind:"danger"}))):null)))}var BP=q.create({blockExitHint:{position:"absolute",bottom:m.small,right:m.small},blockErrortBadge:{position:"absolute",bottom:m.small,left:m.small}});l();var lg=Em("f1a718ae5a0b5d0a680254c13fabc0ed4b38f7b4037704dda83756645a7f1027",()=>import("https://app.gitbook.com/public/app/chunks/MathTeXView.lazycomponent.legacy-SJVCHXIY.min.js"));function zP(e){return ji.createElement(sg,{anchor:({formula:t,onError:o,...n})=>ji.createElement(ye,{...e},ji.createElement(zt,{...e,...n},ji.createElement(ji.Suspense,{fallback:ji.createElement(Xn,null)},ji.createElement(zr,{horizontal:!0,showsVerticalScrollIndicator:!1,contentContainerStyle:u3.container},ji.createElement(lg,{formula:t,inline:!1,onError:o}))))),...e})}var u3=q.create({container:{marginLeft:"auto",marginRight:"auto"}});l();var ms=x(R());function VP(e){return ms.createElement(sg,{anchor:({formula:t,onError:o,...n})=>ms.createElement(kc,{...e,...n},ms.createElement(ms.Suspense,{fallback:ms.createElement(me,{size:E.ICON_S})},ms.createElement(lg,{formula:t,inline:!0,onError:o}))),...e})}l();var Ut=x(R());l();var WP=x(R()),cg=WP.createContext(new Map);l();l();var xv=x(R());l();l();var wv=x(R());z();var FP={title:"Checkbox",description:"A single checkbox that can be checked or unchecked.",IconComponent:S.ColumnTypeCheckbox,ValueComponent:d3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":t&&o(!1);break;case"enter":o(!t);break}}};function d3(e){let{value:t,readOnly:o,onValueChange:n,style:r}=e;return wv.default.createElement(y,{style:[r,h.flex1,h.directionRow,h.alignCenter]},wv.default.createElement(Fa,{value:t,onValueChange:n,readOnly:o}))}l();var Rn=x(R());z();var qP={title:"Link",description:"Reference another page, file, space or collection.",IconComponent:S.PageLink,ValueComponent:m3};function m3(e){let{value:t,selected:o,readOnly:n,displayMode:r,style:i,onValueChange:a}=e,s=Rn.default.useRef(null),c=ne(s),{contentReferenceContext:u}=Rn.default.useContext(re),d=()=>{c.open(nn(a,u,{accept:["page","file","space","collection","anchor","url"]}))};return Rn.default.createElement(y,{ref:s,style:[h.directionRow,h.wrap,h.flex1,h.alignCenter,i]},Rn.default.createElement(Rn.default.Suspense,{fallback:Rn.default.createElement(me,null)},t?Rn.default.createElement(y,{style:[h.flex1,h.directionRow]},Rn.default.createElement(p3,{contentRef:t})):null,(r==="block"||o)&&!n?Rn.default.createElement(A,{icon:S.MoreVertical,title:r!=="block"?"Select target":null,kind:"secondary",size:"small",onPress:d},r==="block"?"Select target":null):null))}function p3(e){let{contentRef:t}=e,{contentReferenceContext:o}=Rn.default.useContext(re),[n]=Hy([t],o),[,r]=O(N);return n?Rn.default.createElement(y,{style:[h.directionRow,h.alignCenter]},n.icon?Rn.default.createElement(y,{style:[m.Margin.smallRight]},Rn.default.createElement(n.icon,{size:E.ICON_M,style:[r.textMuted]})):null,Rn.default.createElement(zi,{url:n.href,onPress:i=>{i.preventDefault(),n.open()},style:[r.Body]},n.title)):null}l();var Yn=x(R());z();var GP={title:"Files",description:"Attachments allow you to add images, documents, or other files which can then be viewed or downloaded.",IconComponent:S.ColumnTypeFile,ValueComponent:f3};function f3(e){let{value:t,selected:o,readOnly:n,displayMode:r,onValueChange:i,style:a}=e,s=Bt(),c=async()=>{let d=await s.prompt({title:"Select file"});i([...t,...d.filter(p=>p.kind==="file").map(p=>p.file)])},u=d=>{let p=[...t];p.splice(d,1),i(p)};return Yn.default.createElement(y,{style:[h.directionRow,h.wrap,h.flex1,t.length>0?h3.filesList:null,a]},Yn.default.createElement(Yn.default.Suspense,{fallback:Yn.default.createElement(me,null)},t.map((d,p)=>Yn.default.createElement(g3,{key:d,fileId:d,readOnly:n,onRemove:()=>u(p)}))),(r==="block"||o)&&!n?Yn.default.createElement(A,{icon:S.Plus,title:"Add attachment",kind:"secondary",size:"small",onPress:c},r==="block"?"Add file":null):null)}function g3(e){var p,f;let{fileId:t,readOnly:o,onRemove:n}=e,[,r]=O(N),i=B.useInteractiveState(),a=Yn.default.useRef(null),s=ne(a),c=io({kind:"file",file:t}),u=(f=(p=c.resolution)==null?void 0:p.extra)==null?void 0:f.file;return Yn.default.createElement(Pe,{onPress:()=>{o?c.href&&ha(c.href):s.open(te({groups:[{key:"file",commands:[{key:"remove",title:"Remove",icon:S.Trashcan,trigger:()=>{n()}},u?{key:"download",title:"Download",icon:S.Download,trigger:()=>{ha(c.href)}}:null].filter(de)}]}))},...i.events},Yn.default.createElement(y,{ref:a,style:[h.directionRow,h.alignCenter,m.Margin.smallRight]},Yn.default.createElement(y,{style:[m.Margin.smallRight]},Yn.default.createElement(gc,{file:u,size:E.BUTTON_S})),Yn.default.createElement(y,null,Yn.default.createElement(D,{style:[r.Body,i.active||s.opened?r.primary:r.text]},(u==null?void 0:u.name)||"Deleted"))))}var h3=q.create({filesList:{gap:m.small}});l();var kv=x(R());z();var HP={title:"Number",description:"",IconComponent:S.Numbers,ValueComponent:y3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":o(null);break;case"enter":typeof t!="number"&&o(0);break}}};function y3(e){let{readOnly:t,value:o,onValueChange:n,onSelectionChange:r,style:i}=e,[,a]=O(N),s=[a.Body,v3.numberInput,a.textMid,i],c=()=>{r(!0)};return t?kv.default.createElement(D,{style:s},typeof o=="number"?String(o):""):kv.default.createElement(Ln,{style:s,value:typeof o=="number"?String(o):"",onChangeText:u=>n(Number(u)),onFocus:c})}var v3=q.create({numberInput:{height:"auto",padding:0,width:"100%",borderWidth:0}});l();var ol=x(R());z();var b3=8,C3={info:j.primary.light,merge:j.violet.light,upgrade:j.fuchsia.light,danger:j.scarlet.light},XP={title:"Rating",description:"",IconComponent:S.ColumnTypeRating,ValueComponent:w3,commands:S3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":o(0);break;case"enter":break}}};function S3(e){let{definition:t,setDefinition:o}=e;return[{key:"rating",commands:[{key:"rating.max_value",title:"Max",icon:S.MaximumValue,descendant:()=>te({search:"Select max rating\u2026",groups:[{key:"max_values",commands:[...Array(5).keys()].map(n=>({key:`${n+1}`,title:`${n+1}`,selected:t.max===n+1,trigger:()=>{o({...t,max:n+1})}}))}]})}]}]}function w3(e){let{value:t,definition:o,definitionColorKind:n,onValueChange:r,readOnly:i,style:a}=e,[s,c]=O(x3),[u,d]=ol.default.useState(0),p=[...Array(o.max+1).keys()].slice(1),f=C=>{r(C===t?null:C)},g=C=>{i||d(C)},b=c.circleBase,v=n?{backgroundColor:C3[n]}:c.circleActiveDefault;return ol.default.createElement(y,{style:[h.directionRow,h.flex1,h.alignCenter,a]},p.map(C=>ol.default.createElement(B.WithInteractiveState,{key:String(C),onHoverIn:()=>g(C),onHoverOut:()=>g(0)},({events:w})=>ol.default.createElement(Pe,{...w,onPress:()=>f(C)},ol.default.createElement(k3,{size:b3+2*(C-1),style:[u===0&&t&&t>=C||u>=C?v:b,{marginRight:m.xsmall}]})))))}function k3({size:e,style:t}){return ol.default.createElement(y,{style:[{width:e,height:e,borderRadius:e/2},t]})}var x3=L.create({circleBase:e=>({backgroundColor:e.colors.background.standout}),circleActiveDefault:()=>({backgroundColor:j.primary.light})});l();var KP=x(QT()),sn=x(R());z();var jP={title:"Select",description:"Select allows you to select an option from predefined options in a dropdown.",IconComponent:S.ColumnTypeSelect,ValueComponent:_3,commands:O3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":t.length>0&&o([]);break}}};function O3(e){let{definition:t,setDefinition:o}=e;return[{key:"select",commands:[{key:"select.allow_multiple",title:"Allow multiple",icon:S.OptionAdd,enabled:t.multiple,trigger:()=>{let[n]=o({...t,multiple:!t.multiple});return n}},{key:"select.options",title:"Manage options",icon:S.OptionManage,descendant:()=>UP(e)}]}]}function UP(e){let{definition:t,setDefinition:o,openModal:n}=e,{options:r}=t,i=r.map((a,s)=>{let c=u=>{let d=[...r];d[s]={...a,label:u},o({...t,options:d})};return{key:a.value,title:a.label,descendant:()=>te({groups:[{key:"select.options.manageOption",commands:[{key:"editOption",title:"Edit option",icon:S.Edit,trigger:()=>{n(u=>sn.default.createElement(R3,{...u,option:a,onSave:c}))}},{key:"deleteOption",title:"Delete option",icon:S.Trashcan,trigger:()=>{let u=[...r];u.splice(s,1),o({...t,options:u})}}]}]})}});return te({search:"Search options or type to add",groups:[{key:"select.options.manage",commands:a=>{let s=a.query.text.trim();return a.query.text&&!i.find(c=>c.title===s)?[{key:"add_new_option",title:s,icon:S.Plus,trigger:()=>{let u={value:Zd(),label:s,color:"blue"},[,d]=o({...t,options:[...r,u]});return UP(d)}},...i]:i}}]})}function R3(e){let{option:t,definition:o,onSave:n,onClose:r}=e,{options:i}=o,a=[...i].filter(g=>g.label!==t.label),[s,c]=sn.default.useState(t),u=g=>g.length===0?"The label can not be empty":a.filter(v=>v.label===g).length>0?"Another option already exists with this label":null,d=()=>{n(s.label),r()},p=g=>{c({...s,label:g})},f=u(s.label);return sn.default.createElement(wt,{title:"Edit option",footer:sn.default.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},sn.default.createElement(A,{kind:"secondary",onPress:r,style:m.Margin.smallRight},"Cancel"),sn.default.createElement(A,{kind:"primary",onPress:d,disabled:!!f},"Save")),onClose:r},sn.default.createElement(y,null,sn.default.createElement(Xt,{autoFocus:!0,value:s.label,label:"Label",onChangeText:p,feedback:f?{type:"danger",message:f}:void 0})))}function _3(e){let{value:t,selected:o,definition:n,onValueChange:r,definitionColorKind:i,readOnly:a,displayMode:s,style:c}=e,u=sn.default.useRef(null),d=ne(u,{width:"small"}),[,p]=O(N),f=()=>{d.open(I3(n,t,r))},g=sn.default.createElement(y,{style:[h.directionRow,h.wrap,h.flex1,t.length>0?P3.optionsList:null]},t.map(b=>{let v=n.options.find(C=>C.value===b);return v?sn.default.createElement(Dm,{key:v.value,deletable:!a&&n.multiple,kind:i!=null?i:"info",onPress:()=>n.multiple?r(t.filter(C=>C!==v.value)):null,size:"small"},v.label):null}));return a||s==="inline"&&!o?g:sn.default.createElement(Pe,{ref:u,onPress:f,style:[c]},sn.default.createElement(y,{style:[h.directionRow,h.flex1,h.alignCenter]},g,s==="inline"?sn.default.createElement(y,{style:[m.Margin.smallLeft]},sn.default.createElement(S.ChevronDown,{size:E.ICON_XS,style:p.textMuted})):null))}function I3(e,t,o){return te({search:"Find an option\u2026",groups:[{key:"options",commands:e.options.map(n=>{let r=t.includes(n.value);return{key:n.value,title:n.label,selected:e.multiple?r:void 0,trigger:()=>{o(r?t.filter(i=>i!==n.value):(0,KP.default)(e.multiple?[...t,n.value]:[n.value]))}}})}]})}var P3=q.create({optionsList:{gap:m.small}});l();var ug=x(R());z();var YP={title:"Text",description:"",IconComponent:S.ColumnTypeText,ValueComponent:T3,commands:E3};function E3(e){return[{key:"text.alignment",commands:[{key:"text.alignment",title:"Alignment",descendant:()=>ZP(e)}]}]}function ZP(e){let{definition:t,setDefinition:o}=e;return te({groups:[{key:"text.alignment.select",commands:[{label:"Left",value:"left",icon:S.AlignTextLeft},{label:"Center",value:"center",icon:S.AlignTextCenter},{label:"Right",value:"right",icon:S.AlignTextRight}].map(n=>({key:`text.alignment.${n.value}`,title:n.label,selected:t.textAlignment===n.value,icon:n.icon,trigger:()=>{let[,r]=o({...t,textAlignment:n.value});return ZP(r)}}))}]})}function T3(e){let{value:t,definition:o,style:n,readOnly:r}=e;return t==null?null:ug.default.createElement(y,{style:[h.flex1,!r&&M3.editableFragment,n]},ug.default.createElement($a.Provider,{value:o.textAlignment},ug.default.createElement(wn,{fragment:t})))}var M3=q.create({editableFragment:{cursor:"text"}});l();var ln=x(R());z();var $P={title:"Users",description:"A user field lets you add collaborators to your records.",IconComponent:S.Users,ValueComponent:N3,commands:L3};function L3(e){let{definition:t,setDefinition:o}=e;return[{key:"users",commands:[{key:"users.allow_multiple",title:"Allow multiple",icon:S.Team,enabled:t.multiple,trigger:()=>{let[n]=o({...t,multiple:!t.multiple});return n}}]}]}function N3(e){let{value:t,selected:o,readOnly:n,displayMode:r,definition:i,onValueChange:a,style:s}=e,c=ln.default.useRef(null),u=ne(c,{width:"small"}),d=g=>{let b=[...t];b.splice(g,1),a(b)},p=()=>{u.open(te({search:"Search users\u2026",groups:[{key:"users",commands:g=>ya.read({query:g.query.text,types:["users"]}).map(v=>v.index!=="users"?null:{key:v.object.objectID,title:v.object.displayName,icon:({size:C})=>ln.default.createElement(va,{user:v.object,size:C}),trigger:()=>{a([...t,v.object.objectID])}}).filter(de)}]}))},f=i.multiple?"Add users":"Replace";return ln.default.createElement(y,{style:[h.flex1,h.directionRow,s]},ln.default.createElement(y,{style:[h.directionRow,h.wrap,h.flex1,t.length>0?A3.filesList:null]},ln.default.createElement(ln.default.Suspense,{fallback:null},t.map((g,b)=>ln.default.createElement(D3,{key:g,userId:g,readOnly:n,onRemove:()=>d(b)})))),(r==="block"||o)&&!n?ln.default.createElement(A,{ref:c,icon:i.multiple?S.Plus:S.ChevronDown,title:r==="block"?void 0:f,kind:"secondary",size:"small",onPress:p,active:u.opened},r==="block"?f:null):null)}function D3(e){let{userId:t,readOnly:o,onRemove:n}=e,[,r]=O(N),i=B.useInteractiveState(),a=ln.default.useRef(null),s=ne(a,{width:"small"}),[c]=Wn([xl(t)]);return ln.default.createElement(Pe,{onPress:()=>{s.open(te({groups:[{key:"user",commands:[o?null:{key:"remove",title:"Remove",icon:S.Trashcan,trigger:()=>{n()}}].filter(de)}]}))},...i.events},ln.default.createElement(y,{ref:a,style:[h.directionRow,h.alignCenter,m.Margin.smallRight]},c?ln.default.createElement(y,{style:[m.Margin.smallRight]},ln.default.createElement(va,{user:c,size:E.BUTTON_S})):null,ln.default.createElement(y,null,ln.default.createElement(D,{style:[r.Body,i.active||s.opened?r.primary:r.text]},(c==null?void 0:c.displayName)||"Deleted"))))}var A3=q.create({filesList:{gap:m.small}});var _r={checkbox:FP,number:HP,text:YP,files:GP,select:jP,users:$P,rating:XP,"content-ref":qP},QP=["text","number","checkbox","select","users","files","content-ref","rating"];function xa(e){return e.title||_r[e.type].title}function Ec(e){let{record:t,definition:o,readOnly:n,displayMode:r="inline",editor:i,nodeKey:a,selected:s,definitionColorKind:c,style:u}=e,{ValueComponent:d}=_r[e.definition.type],p=b=>{i.change(v=>{Y.setRecordValue(v,a,t.key,o.id,b)})},f=b=>{b&&i.change(v=>{Y.moveTableSelection(v,a,{recordId:t.key,definitionId:o.id})})},g=xv.createElement(d,{editor:i,nodeKey:a,readOnly:n,displayMode:r,selected:s,value:t.value.values[o.id],definitionColorKind:c,definition:o,onValueChange:p,onSelectionChange:f,style:u});return o.type==="text"?g:xv.createElement(ee,{style:h.flex1,onClick:b=>{b.stopPropagation(),f(!0)}},g)}l();function Oa(e,t={}){return te({search:"Select column type",groups:[{key:"types",commands:QP.map(o=>{let n=_r[o];return{key:o,icon:n.IconComponent,title:n.title,selected:t.selectedType?t.selectedType===o:void 0,trigger:()=>{e(o)}}})}]})}l();var ps=x(R());z();function JP(e){return e.readOnly?ps.createElement(B3,{...e}):ps.createElement(z3,{...e})}function B3(e){let{definition:t,style:o}=e,[,n]=O(N);return ps.createElement(D,{style:[h.directionRow,t.type==="text"?dg[t.textAlignment]:null,n.Body,n.textMid,n.Medium,dg.columnHeader,o],selectable:!0},xa(t))}function z3(e){let{editor:t,nodeKey:o,definition:n,style:r}=e,[i,a]=O(N),s=f=>{t.change(g=>{Y.renameColumn(g,o,n.id,f)})},c=n.title||"",u=xa(n),d=ps.useMemo(()=>q.flatten([r,a.Body,a.textMid,a.Medium,dg.columnHeader,n.type==="text"?dg[n.textAlignment]:null]),[r,n]),p=ps.useMemo(()=>Lm(c||u||"",d),[c,u,d]);return ps.createElement(gr,{component:Ln,value:c,placeholder:u,placeholderTextColor:i.colors.text.muted,onChangeText:s,style:[d,p===void 0?{}:{width:p,maxWidth:"100%"}]})}var dg=q.create({columnHeader:{wordWrap:"anywhere"},left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}});l();var t0=x(R()),e0=["info","merge","upgrade","danger"];function V3(e,t){let{definitionColorsKindsMap:o}=t.reduce((n,r)=>{let i=e[r];if(i.type==="rating"||i.type==="select"){let a=e0[n.colorIndexToBeClaimed];n.definitionColorsKindsMap[r]=a,n.colorIndexToBeClaimed=(n.colorIndexToBeClaimed+1)%e0.length}return n},{colorIndexToBeClaimed:0,definitionColorsKindsMap:{}});return o}function o0(e,t){return t0.default.useMemo(()=>V3(e,t),[e])}l();var Ir=x(R());l();l();l();var Ov=x(R());function n0(e){return Ov.default.createElement(Ov.default.Fragment,null)}l();l();function Tc(e,t,o={}){let{selected:n=[],search:r="Select columns\u2026",multiple:i=!1,filterDefinition:a=()=>!0}=o;return te({search:r,groups:[{key:"columns",commands:Object.entries(e).filter(([s,c])=>a(c)).map(([s,c])=>{let u=_r[c.type],d=n.includes(s);return{key:s,title:xa(c),icon:u.IconComponent,selected:d,trigger:()=>t(i?d?n.filter(p=>p!==s):[...n,s]:d?[]:[s])}})}]})}l();function Xo(e,t,o,n){let{focus:r="end",definition:i,record:a}=n;if(!o.selection.definitionId)return!1;let s=o.records.findIndex(p=>p.key===o.selection.recordId),c=o.view.columns.indexOf(o.selection.definitionId),u=o.records["relative"in a?s+a.relative:a.absolute],d=o.view.columns["relative"in i?c+i.relative:i.absolute];return!d||!u?!1:(Y.moveTableSelection(e,t,{recordId:u.key,definitionId:d},r),!0)}function nl(e,t,o,n){let r=o.records.findIndex(a=>a.key===o.selection.recordId),i=o.records["relative"in n?r+n.relative:n.absolute];return i?(Y.moveTableSelection(e,t,{recordId:i.key,definitionId:void 0}),!0):!1}var r0=(e,t,o,n)=>{if(!o.selection.definitionId&&o.selection.recordId)return F3(e,t,o,n);if(o.selection.definitionId&&o.selection.recordId)return W3(e,t,o,n)},W3=(e,t,o,n)=>{let r=o.view.cardSize==="medium"?3:2;switch(e){case"move-up":case"move-down":{Xo(n,t,o,{definition:{relative:e==="move-up"?-1:1},record:{relative:0},focus:e==="move-up"?"end":"start"})||Xo(n,t,o,{definition:{absolute:e==="move-up"?o.view.columns.length-1:0},record:{relative:e==="move-up"?-r:r},focus:e==="move-up"?"end":"start"})||(e==="move-up"?El(n,t):Ct(n,t));break}case"move-left":case"move-right":{Xo(n,t,o,{definition:{absolute:0},record:{relative:e==="move-left"?-1:1},focus:e==="move-left"?"end":"start"});break}case"tab":case"enter":{if(!Xo(n,t,o,{definition:{relative:1},record:{relative:0},focus:"end"})&&!Xo(n,t,o,{definition:{absolute:0},record:{relative:1},focus:"end"})){let i=Y.insertEmptyRecord(n,t.key);Y.moveTableSelection(n,t,{recordId:i,definitionId:o.view.columns[0]},"start")}break}case"backspace":{Xo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:"end"})||Y.moveTableSelection(n,t,{recordId:o.selection.recordId,definitionId:void 0});break}}},F3=(e,t,o,n)=>{let r=o.view.cardSize==="medium"?3:2;switch(e){case"tab":{nl(n,t,o,{relative:1});break}case"shift+tab":{nl(n,t,o,{relative:-1});break}case"move-left":case"move-right":{nl(n,t,o,{relative:e==="move-left"?-1:1})||(e==="move-left"?El(n,t):Ct(n,t));break}case"move-up":case"move-down":{nl(n,t,o,{relative:e==="move-up"?-r:r})||(e==="move-up"?El(n,t):Ct(n,t));break}case"backspace":{nl(n,t,o,{relative:-1})||nl(n,t,o,{relative:1}),Y.removeRecord(n,t.key,o.selection.recordId);break}case"enter":{Xo(n,t,o,{definition:{absolute:0},record:{relative:0},focus:"start"});break}}};l();var _a=x(R());l();var mg=x(R());function i0(e){let{editor:t,nodeKey:o,defaultTextDefinitionId:n}=e,[,r]=O(q3),[,i]=O(N),a=()=>{t.change(s=>{let c=Y.insertEmptyRecord(s,o);Y.moveTableSelection(s,o,{recordId:c,definitionId:n})})};return mg.createElement(B.TouchableOpacity,{style:[h.flex1,r.cardPlaceholder,h.directionRow,h.alignCenter,h.justifyContentCenter,m.Padding.medium],activeStyle:r.cardPlaceholderActive,onPress:a},mg.createElement(B.Text.Child,{style:[i.Body,i.textMuted],activeStyle:i.primary},mg.createElement(S.Plus,{size:E.ICON_M,style:[m.Margin.smallRight]}),"New card"))}var q3=L.create({cardPlaceholder:e=>({borderRadius:e.radiuses.large,borderColor:e.colors.border.mid,borderWidth:1,borderStyle:"dashed"}),cardPlaceholderActive:e=>({borderColor:e.colors.primary.main})});l();var Ci=x(R());z();l();var Ra=x(R());z();function a0(e){var w;let{nodeKey:t,editor:o,record:n,style:r,view:i,visible:a,onExpand:s}=e,c=Ra.useRef(null),u=Bt(),d=ne(c),{contentReferenceContext:p}=Ra.useContext(re),f=i.coverDefinition?((w=n.value.values[i.coverDefinition])==null?void 0:w.length)>0:!1,g=i.targetDefinition?!!n.value.values[i.targetDefinition]:!1,b=async()=>{let[k]=await u.prompt({title:"Select file",accept:"images",acceptURL:!1});!k||k.kind!=="file"||o.change(I=>{Y.cards.setCardCoverForRecord(I,t,n.key,k)})},v=()=>nn(k=>{o.change(I=>{Y.cards.setCardTargetForRecord(I,t,n.key,k)})},p,{accept:["page","file","space","collection","anchor","url"]}),C=k=>{k.preventDefault(),k.stopPropagation(),d.open(te({groups:[{key:"actions",commands:[{key:"actions.target",icon:S.PageLink,...g?{title:"Target link",descendant:()=>te({groups:[{key:"target",commands:[{key:"target.set",title:"Replace target",icon:S.Replace,trigger:()=>v()},{key:"target.remove",title:"Remove target",icon:S.Trashcan,trigger:()=>{o.change(I=>{Y.cards.removeCardTargetForRecord(I,t,n.key)})}}]}]})}:{title:"Add target link",trigger:()=>v()}},{key:"actions.cover",icon:S.Image,...f?{title:"Cover",descendant:()=>te({groups:[{key:"cover",commands:[{key:"cover.set",title:"Replace cover",icon:S.Replace,trigger:()=>{b()}},{key:"cover.remove",title:"Remove cover",icon:S.Trashcan,trigger:()=>{o.change(I=>{Y.cards.removeCardCoverForRecord(I,t,n.key)})}}]}]})}:{title:"Add cover",trigger:()=>{b()}}},{key:"actions.delete",title:"Delete record",icon:S.Trashcan,trigger:()=>{o.change(I=>{Y.removeRecord(I,t,n.key)})}}]}]}))};return Ra.createElement(ut,{onPressIn:k=>{k.preventDefault(),k.stopPropagation()}},Ra.createElement(B.View,{descendantOf:di.interactiveHandle,inactiveStyle:d.opened||a?"visible":"hidden",activeStyle:"visible",style:[h.directionRow,r]},Ra.createElement(A,{kind:"secondary",size:"small",rounded:!0,icon:S.Maximize,style:[m.Margin.smallRight],onPress:s,title:"Open card",tooltipDelay:300}),Ra.createElement(A,{ref:c,kind:"secondary",size:"small",rounded:!0,icon:S.MoreVertical,onPress:C,title:"Edit card",tooltipDelay:300})))}l();var Rv=x(R());z();function s0(e){var a,s;let{coverRef:t}=e,[,o]=O(G3),n=io(t),r=(s=(a=n.resolution)==null?void 0:a.extra)==null?void 0:s.file,i=n&&r&&Na(r)?pi(r.downloadURL,{width:371}):null;return i?Rv.createElement(y,{style:o.cardCover},Rv.createElement(EC,{source:{uri:i},style:o.cardImage})):null}var G3=L.create({cardCover:e=>({backgroundColor:e.colors.background.muted}),cardImage:{width:"100%",aspectRatio:16/9}});function l0(e){var v,C;let{nodeKey:t,definition:o,editor:n,readOnly:r,record:i,view:a,selected:s,onExpand:c}=e,[,u]=O(H3),[,d]=O(N),p=a.targetDefinition?i.value.values[a.targetDefinition]:void 0,f=io(p),g=()=>{n.change(w=>{Y.moveTableSelection(w,t,{recordId:i.key}),w.focus()})},b=Ci.createElement(y,{style:[h.flex1,m.Padding.medium,!r&&u.editableArea]},a.columns.map((w,k)=>{let I=o[w],_=Ci.createElement(Ec,{record:i,selected:!1,definition:I,nodeKey:t,editor:n,readOnly:r});return Ci.createElement(y,{key:w,style:[k<a.columns.length-1?m.Margin.smallBottom:null]},a.hideColumnTitle?null:Ci.createElement(y,null,Ci.createElement(D,{style:[d.Label,d.textMid]},I.title)),_)}));return Ci.createElement(uv,{style:[h.flex1],readOnly:r,selected:s,onSelect:g},Ci.createElement(di,{style:[h.flex1,h.directionColumn],...p?{component:B.TouchableOpacity,href:r?f.href:void 0,onPress:w=>{w.preventDefault(),f==null||f.open()}}:{component:B.View}},a.coverDefinition&&((v=i.value.values[a.coverDefinition])!=null&&v[0])?Ci.createElement(s0,{coverRef:{kind:"file",file:(C=i.value.values[a.coverDefinition])==null?void 0:C[0]}}):null,r?b:Ci.createElement(ut,{onPressIn:w=>{w.preventDefault(),w.stopPropagation()}},b),r?null:Ci.createElement(a0,{nodeKey:t,editor:n,record:i,view:a,style:u.controlButton,visible:s,onExpand:c})))}var H3=L.create({controlButton:{position:"absolute",top:m.small,right:m.small},editableArea:{cursor:"text"}});function c0(e){let{nodeKey:t,editor:o,readOnly:n,definition:r,records:i,view:a,selection:s,openRecord:c}=e,u=_a.useMemo(()=>a.columns.find(f=>r[f].type==="text")||void 0,[a.columns,r]),d=_a.useMemo(()=>{switch(a.cardSize){case"medium":return{mobile:1,tablet:2,desktop:3};case"large":return{mobile:1,tablet:1,desktop:2};default:Pt(a.cardSize)}},[a.cardSize]),p=_a.useCallback(({item:f})=>f.key==="new"?_a.createElement(i0,{editor:o,nodeKey:t,defaultTextDefinitionId:u}):_a.createElement(l0,{nodeKey:t,editor:o,readOnly:n,definition:r,record:f,view:a,selected:!s.definitionId&&s.recordId===f.key,onExpand:()=>c(f.key)}),[t,o,n,r,a,s.recordId,!!s.definitionId,u,c]);return _a.createElement(CS,{data:n?i:[...i,{key:"new"}],renderItem:p,numColumnsPerScreen:d,columnSpacing:m.medium,rowSpacing:m.medium})}var u0={IconComponent:S.Cards3Columns,title:"Cards",recordName:"card",selectableView:!1,ViewComponent:c0,DefinitionSettingsComponent:n0,commands:X3,onKeyDown:r0};function X3(e){let{view:t,setView:o}=e;return[{key:"cards.definitions",commands:[{key:"cards.selectCover",title:"Cover image",icon:S.Image,descendant:()=>K3(e)},{key:"cards.selectTarget",title:"Target link",icon:S.PageLink,descendant:()=>j3(e)}]},{key:"cards.size",commands:[{key:"cards.size.medium",title:"Medium",icon:S.Cards3Columns,selected:t.cardSize==="medium",trigger:()=>{let[n]=o({...t,cardSize:"medium"});return n}},{key:"cards.size.large",title:"Large",icon:S.Cards2Columns,selected:t.cardSize==="large",trigger:()=>{let[n]=o({...t,cardSize:"large"});return n}}]},{key:"cards.options",commands:[{key:"cards.hideColumnTitle",title:"Show labels",icon:S.EyeOff,enabled:!t.hideColumnTitle,trigger:()=>{let[n]=o({...t,hideColumnTitle:!t.hideColumnTitle});return n}},{key:"cards.definitions",title:"Columns",icon:S.EyeOff,descendant:()=>d0(e)}]}]}function K3(e){let{view:t,definition:o,setView:n}=e;return Tc(o,r=>{n({...t,coverDefinition:r[0]})},{multiple:!1,search:"Select column for cover\u2026",selected:t.coverDefinition?[t.coverDefinition]:[],filterDefinition:r=>r.type==="files"})}function j3(e){let{view:t,definition:o,setView:n}=e;return Tc(o,r=>{n({...t,targetDefinition:r[0]})},{multiple:!1,search:"Select column for target\u2026",selected:t.targetDefinition?[t.targetDefinition]:[],filterDefinition:r=>r.type==="content-ref"})}function d0(e){let{view:t,definition:o,setView:n}=e;return Tc(o,r=>{let[,i]=n({...t,columns:r});return d0(i)},{multiple:!0,search:"Select visible columns\u2026",selected:t.columns})}l();l();var ad=x(R());l();var p0=x($d()),Rt=x(R());z();var Ia=Rt.createContext(new Map),f0=Rt.forwardRef((e,t)=>{let{nodeKey:o,editor:n,view:r,children:i}=e,{readOnly:a}=n,[,s]=O(g0),[c]=Sa.useDimensions(),u=qe(),d=u?c.width:c.width-2,{widths:p,totalWidth:f}=Rt.useMemo(()=>Mf(r,d,u),[d,r.columns,r.columnWidths]),[g,b]=Rt.useState({left:!1,right:!1});Rt.useEffect(()=>{b(I=>({left:f>d?I.left:!1,right:f>d?I.right:!1}))},[f,d]);let v=dt(g),C=Rt.useCallback(I=>{let{contentOffset:_,contentSize:P,layoutMeasurement:M}=I.nativeEvent,T=_.x>0,V=_.x<P.width-M.width;v.current.left===T&&v.current.right===V||b({left:T,right:V})},[]),w=Rt.useCallback((I,_)=>{let P=p.get(I);cr(P),n.change(M=>{M.setDataByKey(o,["view","columnWidths",I],(0,p0.default)(P.width+_,Tf,Uu),{normalize:!1}),M.setDataByKey(o,["view","useNewSizing"],!0,{normalize:!1})})},[p]),k=(I,_)=>{n.change(P=>{Y.moveColumn(P,o,_.id,I)})};return Rt.createElement(y,{ref:t},Rt.createElement(Ia.Provider,{value:p},Rt.createElement(zr,{horizontal:!0,style:s.tableScrollWrapper,onScroll:C,scrollEventThrottle:100,contentContainerStyle:s.tableWrapper},i,a?null:[...r.columns].reverse().reduce((I,_,P,M)=>{let T=p.get(_);return cr(T),Rt.createElement(U3,{key:_,columnId:_,columnAfterId:M[P-1],tableKey:o,controller:T.controller,width:T.animated,onResizeComplete:w,onDropBefore:V=>k(_,V)},I)},null))),!u&&g.left?Rt.createElement(y,{style:s.tableScrollIndicatorLeft,pointerEvents:"none"}):null,!u&&g.right?Rt.createElement(y,{style:s.tableScrollIndicatorRight,pointerEvents:"none"}):null)});function U3(e){let{tableKey:t,columnId:o,columnAfterId:n,controller:r,width:i,children:a,onDropBefore:s,onResizeComplete:c}=e,[u,d]=O(g0),p=Rt.useMemo(()=>Ad.create({onStartShouldSetPanResponder:(v,C)=>!1,onStartShouldSetPanResponderCapture:(v,C)=>!1,onMoveShouldSetPanResponder:(v,{dx:C})=>!0,onMoveShouldSetPanResponderCapture:(v,C)=>!1,onPanResponderGrant:(v,{dx:C})=>{},onPanResponderMove:(v,{dx:C})=>{r.setValue(C)},onPanResponderTerminationRequest:(v,C)=>!1,onPanResponderRelease:(v,{dx:C})=>{c(o,C)},onPanResponderTerminate:(v,C)=>{}}),[o,r,c]),f=B.useInteractiveState(p.panHandlers),[g,b]=gi({accept:"table-definition",drop:(v,C)=>{C.didDrop()||s(v)},canDrop:v=>o!==v.id&&n!==v.id&&t===v.blockKey,collect:v=>({highlighted:v.isOver({shallow:!0})&&v.canDrop()})},[o,n,t]);return Rt.createElement(Qe.View,{ref:b,style:[d.columnLine,{left:i}]},Rt.createElement(y,{style:d.blockGrabber,...f.events},Rt.createElement(y,{style:[d.blockGrabberBar,(f.hovered||f.dragging||g.highlighted)&&{backgroundColor:u.colors.primary.main}]})),a)}var pg=10,m0=3,g0=L.create({tableScrollWrapper:{borderWidth:0},tableScrollIndicatorLeft:e=>({position:"absolute",left:-1,top:0,bottom:0,width:1,shadowColor:j.BLACK,shadowOffset:{width:5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableScrollIndicatorRight:e=>({position:"absolute",right:-1,top:0,bottom:0,width:1,shadowColor:j.BLACK,shadowOffset:{width:-5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableWrapper:{position:"relative",overflow:"hidden",flexDirection:"column"},columnLine:{position:"absolute",top:0,bottom:0},blockGrabber:{position:"absolute",top:0,right:-(pg/2),bottom:0,width:pg,cursor:"ew-resize"},blockGrabberBar:{position:"absolute",top:0,right:pg/2-m0/2,bottom:0,width:m0,borderRadius:E.RADIUS_M},blockGrabberPlus:{position:"absolute",top:m.small,left:-(E.BUTTON_XS/2)+pg/2}});function h0(e){var a;let{view:t,columnId:o,setView:n}=e,r=ad.default.useContext(Ia);function i(s){var c;if(s){let{[o]:u,...d}=t.columnWidths||{};n({...t,useNewSizing:!0,columnWidths:d})}else n({...t,useNewSizing:!0,columnWidths:{...t.columnWidths,[o]:((c=r.get(o))==null?void 0:c.width)||ns}})}return ad.default.createElement(ad.default.Fragment,null,ad.default.createElement(Nm,{value:typeof((a=t.columnWidths)==null?void 0:a[o])>"u",onValueChange:i,label:"Fill available space",labelDescription:"Expand this column to fill the available horizontal space"}))}l();var y0=(e,t,o,n)=>{let r=(i=o.selection.definitionId)=>{if(!i)return;let a=o.records.findIndex(d=>d.key===o.selection.recordId),s=o.records[a],c=o.records[a+1],u=Y.insertEmptyRecord(n,t.key,{before:s.value.orderIndex,after:c==null?void 0:c.value.orderIndex});Y.moveTableSelection(n,t,{recordId:u,definitionId:i},"start")};switch(e){case"move-up":case"move-down":{Xo(n,t,o,{definition:{relative:0},record:{relative:e==="move-up"?-1:1},focus:e==="move-up"?"end":"start"})||(e==="move-up"?El(n,t):Ct(n,t));break}case"tab":case"move-right":{let i=e==="tab"?"select":"start";Xo(n,t,o,{definition:{relative:1},record:{relative:0},focus:i})||!Xo(n,t,o,{definition:{absolute:0},record:{relative:1},focus:i})&&e==="tab"&&r(o.view.columns[0]);break}case"shift+tab":case"move-left":{let i=e==="shift+tab"?"select":"end";Xo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:i})||Xo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:i});break}case"enter":{r();break}case"backspace":{if(Xo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:"end"}))break;o.selection.recordId&&Y.isRowEmpty(t,o.selection.recordId)?(Xo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:"end"}),Y.removeRecord(n,t.key,o.selection.recordId)):Xo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:"end"});break}}};l();var un=x(R());z();l();var ni=x(R());l();var fg=m.Padding.mediumLeft;l();var _n=x(R());z();var gg=_n.default.forwardRef(function(t,o){let{recordKey:n,columnId:r,selected:i,width:a,children:s,header:c=!1,isFirstColumn:u=!1,isFirstRow:d=!1,isLastColumn:p=!1,isLastRow:f=!1,onPress:g,readOnly:b,...v}=t,C=_n.default.useRef(null),w=Aa(C,o),[,k]=O(Y3);_n.default.useEffect(()=>{i&&C.current&&ap(C.current,{behavior:"smooth",scrollMode:"if-needed"})},[i]);let I=_n.default.createElement(Qe.View,{ref:w,style:[k.cell,h.directionRow,h.alignCenter,u?k.farLeftCell:{},d?k.topCell:{},f?k.bottomCell:{},d&&u?k.topLeftCell:{},d&&p?k.topRightCell:{},f&&u?k.bottomLeftCell:{},f&&p?k.bottomRightCell:{},c?k.columnHeader:{},d?eo.Bold:{},{width:a}]},s,i?_n.default.createElement(_n.default.Fragment,null,_n.default.createElement(y,{style:[k.cellSelectionBorderTop,k.cellSelectedBorder]}),_n.default.createElement(y,{style:[k.cellSelectionBorderBottom,k.cellSelectedBorder]}),_n.default.createElement(y,{style:[k.cellSelectionBorderRight,k.cellSelectedBorder]}),_n.default.createElement(y,{style:[k.cellSelectionBorderLeft,k.cellSelectedBorder]})):null);return _n.default.createElement(ee,{style:[k.unsetDefaultTH,h.directionRow,h.justifyContentCenter],tag:c?"th":"td"},b?_n.default.createElement(_n.default.Fragment,null,I):_n.default.createElement(ut,{...v},I))}),cn=1,Y3=L.create({unsetDefaultTH:{textAlign:"left"},cell:e=>({position:"relative",paddingVertical:m.small,paddingHorizontal:m.medium,borderLeftWidth:1,borderTopWidth:1,borderColor:e.colors.border.mid}),cellSelectionBorderTop:{position:"absolute",top:-Math.floor(cn/2),left:-Math.floor(cn/2),right:-Math.floor(cn/2),height:cn},cellSelectionBorderBottom:{position:"absolute",bottom:-Math.floor(cn/2),left:-Math.floor(cn/2),right:-Math.floor(cn/2),height:cn},cellSelectionBorderRight:{position:"absolute",bottom:-Math.floor(cn/2),top:-Math.floor(cn/2),right:-Math.floor(cn/2),width:cn},cellSelectionBorderLeft:{position:"absolute",bottom:-Math.floor(cn/2),top:-Math.floor(cn/2),left:-Math.floor(cn/2),width:cn},cellSelectedBorder:e=>({backgroundColor:e.colors.primary.main}),topCell:{borderTopWidth:0},farLeftCell:{borderLeftWidth:0},topLeftCell:{},bottomLeftCell:{},topRightCell:{},bottomRightCell:{},bottomCell:{borderBottomWidth:1},columnHeader:e=>({backgroundColor:"transparent"})});var b0=ni.memo(function(t){let{editor:o,nodeKey:n,readOnly:r,definition:i,view:a}=t,s=ni.useContext(Ia),[,c]=O(Q3);return ni.createElement(ee,{tag:"thead"},ni.createElement(ee,{style:[h.directionRow,c.background],tag:"tr"},a.columns.map((u,d)=>{let p=i[u],f=s.get(u);return cr(f),ni.createElement($3,{key:u,columnId:u,editor:o,nodeKey:n,columnDef:p,view:a,readOnly:r,width:f.animated,isFirstColumn:d===0,isLastColumn:d===a.columns.length-1,isFirstRow:!0,header:!0})})))}),v0=B.createInteractiveHandle("table-column"),Z3=B.createInteractiveComponent(ee);function $3(e){let{columnDef:t,readOnly:o,editor:n,nodeKey:r,view:i,...a}=e;return ni.createElement(Z3,{handle:v0},ni.createElement(gg,{focusable:!1,readOnly:o,...a},ni.createElement(JP,{editor:n,nodeKey:r,definition:t,readOnly:o,style:[h.flex1,a.isFirstColumn&&!o?fg:null]}),o?null:ni.createElement(hg,{editor:n,nodeKey:r,view:i,definition:t,descendantOf:v0,icon:S.GrabberVertical,rounded:!0})))}var Q3=L.create({background:e=>({backgroundColor:e.colors.background.mid,borderBottomColor:e.colors.border.mid,borderBottomWidth:2})});l();var _t=x(R());z();var C0=B.createInteractiveHandle("table-row"),J3=B.createInteractiveComponent(ee),k0=_t.memo(_t.forwardRef(function(t,o){let{nodeKey:n,editor:r,readOnly:i,record:a,definition:s,view:c,isFirstRow:u,isLastRow:d,beforeOrderIndex:p,afterOrderIndex:f,selectedColumnId:g,definitionColorKinds:b,openRecord:v,style:C}=t,w=_t.useContext(Ia),k={id:a.key,type:"table-record",blockKey:n,previewLabel:"Move record",previewIcon:"TableRecord"},[{dragging:I},_]=Gi({type:k.type,item:k,canDrag:()=>!i,collect:F=>({dragging:F.isDragging()})}),P=(F,H)=>{r.change(Q=>{Y.moveRecord(Q,n,F.id,H)})},M=_t.useRef(null),T=ne(M),V=()=>{T.open(te({search:"Select action\u2026",groups:[{key:"table.row",commands:[{key:"table.row.open",title:"Open row",icon:S.Maximize,trigger:()=>{v(a.key)}},{key:"table.row.insertAbove",title:"Insert above",icon:S.TableInsertRowAbove,trigger:()=>{r.change(F=>{Y.insertEmptyRecord(F,n,{after:a.value.orderIndex,before:p})})}},{key:"table.row.insertBelow",title:"Insert below",icon:S.TableInsertRow,trigger:()=>{r.change(F=>{Y.insertEmptyRecord(F,n,d?{before:a.value.orderIndex}:{after:a.value.orderIndex,before:f})})}},{key:"table.row.addColumn",icon:S.TableInsertColumn,title:"Add column",trigger:()=>{r.change(F=>{Y.insertColumn(F,n,Y.createColumnFromType("text"))})},descendant:()=>Oa(F=>{r.change(H=>{Y.insertColumn(H,n,Y.createColumnFromType(F))})})},{key:"table.row.remove",title:"Delete row",icon:S.Trashcan,trigger:()=>{r.change(F=>{Y.removeRecord(F,n,a.key)})}}]}]}))},[,K]=O(x0),U=_t.createElement(J3,{ref:o,handle:C0,style:[h.directionRow,I&&se.translucent,C],tag:"tr"},c.columns.map((F,H)=>{let Q=s[F],ae=g===F,Be=b[F],at=_t.createElement(Ec,{definitionColorKind:Be,record:a,selected:ae,definition:Q,nodeKey:n,editor:r,readOnly:i}),Tn=w.get(F);return cr(Tn),_t.createElement(gg,{key:F,recordKey:a.key,columnId:F,width:Tn.animated,selected:ae,isFirstColumn:H===0,isLastColumn:H===c.columns.length-1,isFirstRow:u,isLastRow:d,onPressIn:No=>{No.type!=="keydown"&&(No.preventDefault(),r.change(co=>{Y.moveTableSelection(co,n,{recordId:a.key,definitionId:F})}))},readOnly:i},H>0||i?at:_t.createElement(_t.Fragment,null,_t.createElement(B.View.Child,{descendantOf:C0,ref:_,style:[h.justifyContentCenter,K.rowGrabber],inactiveStyle:T.opened?{}:se.hidden,activeStyle:se.visible},_t.createElement(A,{ref:M,size:"xsmall",rounded:!0,kind:"grey",active:T.opened,title:`Click for options.
Drag to move.`,icon:S.GrabberVertical,onPress:V})),_t.createElement(y,{style:[h.flex1,h.justifyContentCenter,fg]},at)))}));return i?U:_t.createElement(y,null,U,_t.createElement(S0,{currentItem:k,position:"before",onDrop:F=>P(F,{before:p,after:a.value.orderIndex})}),d?_t.createElement(S0,{currentItem:k,position:"after",onDrop:F=>P(F,{before:a.value.orderIndex,after:f})}):null)}));function S0(e){let{currentItem:t,position:o,onDrop:n}=e,r=B.useInteractiveState(),[,i]=O(x0),{logAnalyticsEvent:a}=_t.useContext(re),[s,c]=gi({accept:"table-record",drop:(u,d)=>{d.didDrop()||(a({type:"edit_page_document_move_block",method:"dnd",blockType:"table-row",toParent:"table",fromParent:"table"}),n(u))},canDrop:u=>t.id!==u.id&&t.blockKey===u.blockKey,collect:u=>({highlighted:u.isOver()&&u.canDrop()})});return _t.createElement(y,{ref:c,style:[i.insertionLineWrapper,o==="after"?i.insertionLineAfter:i.insertionLineBefore],...r.events},_t.createElement(y,{style:[i.insertionLineBar,(r.hovered&&r.dragging||s.highlighted)&&i.insertionLineBarHovered]}))}var yg=10,w0=3,x0=L.create({insertionLineWrapper:{position:"absolute",left:0,right:0,height:yg},insertionLineBefore:{top:-(yg/2)},insertionLineAfter:{bottom:-(yg/2)},insertionLineBar:{position:"absolute",left:0,right:0,top:yg/2-w0/2,height:w0,borderRadius:E.RADIUS_M},insertionLineBarHovered:e=>({backgroundColor:e.colors.primary.main}),rowGrabber:{position:"absolute",left:m.xsmall,bottom:"auto",zIndex:10}});var e8=20;function O0(e){let{view:t,editor:o,nodeKey:n}=e,[r,i]=un.useState(),a=un.useCallback(s=>{s!==null&&i(s)},[]);return un.createElement(f0,{editor:o,nodeKey:n,view:t,ref:a},un.createElement(t8,{...e,parentRef:r}))}function t8(e){let{selection:t,records:o,definition:n,view:r,readOnly:i,editor:a,nodeKey:s,parentRef:c,openRecord:u}=e,{mode:d}=un.useContext(Oo),p=a.value.document.getNode(s),f=un.useContext(Ia),g=ES({enabled:d==="app"&&o.length>e8,parentRef:c?{current:c}:void 0,getEstimatedItemHeight:w=>lv(p,String(w.key),f),list:o.map(w=>({key:w.key}))}),b=o0(n,r.columns),C=!(r.hideHeader||i&&Y.isHeaderEmpty({definition:n,view:r,records:{}}))||!!t.recordId;return un.createElement(ee,{tag:"table"},C?un.createElement(b0,{definition:n,view:r,editor:a,nodeKey:s,readOnly:i}):null,un.createElement(ee,{tag:"tbody"},g.map(([w,k,I],_)=>{let P=o[_],M=_>0?o[_-1]:void 0,T=o[_+1];return k?un.createElement(k0,{key:P.key,ref:w.nodeRef,selectedColumnId:t.recordId===P.key?t.definitionId:void 0,record:P,definition:n,view:r,readOnly:i,editor:a,nodeKey:s,isFirstRow:!C&&_===0,isLastRow:_===o.length-1,beforeOrderIndex:M==null?void 0:M.value.orderIndex,afterOrderIndex:T==null?void 0:T.value.orderIndex,definitionColorKinds:b,openRecord:u,...w.nodeProps}):un.createElement(y,{key:P.key,style:{height:I},ref:w.nodeRef},un.createElement(D,null,Y.getTableRowPlainText(p,P.value)))})))}var R0={IconComponent:S.Table,title:"Table",recordName:"row",selectableView:!0,ViewComponent:O0,DefinitionSettingsComponent:h0,commands:n8,definitionCommands:o8,onKeyDown:y0};function o8(e){var i;let{view:t,definition:o,setView:n}=e,r=typeof((i=t.columnWidths)==null?void 0:i[o.id])>"u";return[{key:"grid",commands:[{key:"grid.autoSize",title:"Auto size",icon:S.AutoSize,enabled:r,trigger:()=>{if(r)n({...t,useNewSizing:!0,columnWidths:{...t.columnWidths,[o.id]:ns}});else{let{[o.id]:a,...s}=t.columnWidths||{};n({...t,useNewSizing:!0,columnWidths:s})}}}]}]}function n8(e){let{view:t,setView:o}=e;return[{key:"grid",commands:[{key:"grid.toggleHeader",title:"Show header",enabled:!t.hideHeader,trigger:()=>{let[n]=o({...t,hideHeader:!t.hideHeader});return n}},{key:"grid.resetSizing",title:"Reset column sizing",trigger:()=>{let{columnWidths:n,...r}=t;o({...r,useNewSizing:!0})}},{key:"grid.columns",title:"Hide Columns",icon:S.EyeOff,descendant:()=>_0(e)}]}]}function _0(e){let{view:t,definition:o,setView:n}=e;return Tc(o,r=>{let[,i]=n({...t,columns:r});return _0(i)},{multiple:!0,search:"Select visible columns",selected:t.columns})}var Si={grid:R0,cards:u0};function hg(e){let{nodeKey:t,editor:o,view:n,definition:r,descendantOf:i,icon:a,rightIcon:s,rounded:c}=e,u={id:r.id,type:"table-definition",blockKey:t,previewLabel:xa(r)},[,d]=O(r8),p=Ir.useRef(null),f=ne(p),g=B.useInteractiveState(),[,b]=Zp({type:u.type,item:u,canDrag:()=>!0}),[v,C]=Ir.useState(null),w=V=>{o.change(K=>{Y.setColumnDefinition(K,t,r.id,V)})},k=()=>{let K=o.value.document.assertBlock(t).data.toFrozenObject(),U=K.definition[r.id];return[_(K.view,U),I(K.view,U)]},I=(V,K)=>({definition:K,view:V,setView:U=>(o.change(F=>{Y.setView(F,t,U)}),k()),setDefinition:U=>(w(U),k()),openModal:U=>{C({type:"command",modal:Ir.createElement(U,{definition:K,onClose:()=>C(null)})})}}),_=(V,K)=>{let U=_r[K.type],F=Si[V.type],H=I(V,K);return te({search:"Select action\u2026",groups:[{key:"definition.type",commands:[{key:"definition.type.change",title:U.title,icon:U.IconComponent,descendant:()=>Oa(Q=>{C({type:"change_type",columnType:Q})},{selectedType:K.type})}]},...U.commands?U.commands(H):[],...F.definitionCommands?F.definitionCommands(H):[],{key:"definition.danger",commands:[{key:"definition.add",title:"Add column",icon:S.TableInsertColumn,trigger:()=>{o.change(Q=>{let ae=[...V.columns].findIndex(Be=>K.id===Be);Y.insertColumn(Q,t,Y.createColumnFromType("text"),ae+1)})},descendant:()=>Oa(Q=>{let ae=[...V.columns].findIndex(Be=>K.id===Be);o.change(Be=>{Y.insertColumn(Be,t,Y.createColumnFromType(Q),ae+1)})})},{key:"definition.hide",title:"Hide column",icon:S.EyeOff,trigger:()=>{o.change(Q=>{Y.hideColumn(Q,t,K.id)})}},{key:"definition.delete",title:"Delete column",icon:S.Trashcan,trigger:()=>{C({type:"delete"})}}]}]})},P=()=>{f.open(_(n,r))},M=V=>{C(null),V&&o.change(K=>{Y.removeColumn(K,t,r.id)})},T=V=>{C(null),V&&(v==null?void 0:v.type)==="change_type"&&w(Y.changeColumnType(r,v.columnType))};return Ir.createElement(Ir.Fragment,null,(v==null?void 0:v.type)==="delete"?Ir.createElement(gu,{kind:"danger",title:"Delete column",confirmButtonText:"Delete",onComplete:M},"Do you really want to delete this column and all of its data?"):null,(v==null?void 0:v.type)==="change_type"?Ir.createElement(gu,{title:"Change column type",confirmButtonText:"Change",onComplete:T},"You are about to change this column type from ",r.type," to"," ",v.columnType,". We will try to convert any value automatically, but you may lose data if we cannot convert them."):null,(v==null?void 0:v.type)==="command"?v.modal:null,Ir.createElement(B.View.Child,{...g.events,descendantOf:i,ref:b,style:[h.justifyContentCenter,d.columnGrabber],inactiveStyle:f.opened||g.focused?{}:se.hidden,activeStyle:se.visible,focusStyle:se.translucent},Ir.createElement(A,{kind:"grey",size:"small",ref:p,title:`Click for options.
Drag to move.`,active:f.opened,icon:a,rightIcon:s,rounded:c,onPress:P})))}var r8=L.create({columnGrabber:{position:"absolute",right:m.xsmall,bottom:"auto"}});function vg(e,t){let o=t.data.toFrozenObject(),n=Si[o.view.type],r=n.commands?n.commands(I0(e,o,t.key)):[];return{...pt(e,t.key,[{key:"views",commands:Object.entries(Si).map(([i,a])=>({key:i,title:a.title,icon:a.IconComponent,selected:i===o.view.type,trigger:()=>{e.change(c=>{Y.setView(c,t.key,{type:i})});let s=e.value.document.assertBlock(t.key);return vg(e,s)}}))},{key:"table",commands:[{key:"addColumn",icon:S.ArrowRight,title:"Add column",trigger:()=>{e.change(i=>{Y.insertColumn(i,t.key,Y.createColumnFromType("text"))})},descendant:()=>Oa(i=>{e.change(a=>{Y.insertColumn(a,t.key,Y.createColumnFromType(i))})})},{key:"insertRow",icon:S.ArrowDown,title:`Insert ${n.recordName}`,trigger:()=>{e.change(i=>{Y.insertEmptyRecord(i,t.key)})}}]},...r]),search:"Select action\u2026"}}function I0(e,t,o){return{view:t.view,definition:t.definition,setView:n=>{e.change(i=>{Y.setView(i,o,n)});let r=e.value.document.assertBlock(o);return[vg(e,r),I0(e,r.data.toFrozenObject(),o)]}}}l();var E0=x(S1()),jt=x(R());z();l();var rl=x(R());z();var P0=B.createInteractiveHandle("record-column-value-line");function _v(e){let{nodeKey:t,editor:o,readOnly:n,record:r,view:i,definition:a,style:s}=e,[,c]=O(i8);return rl.createElement(B.View,{handle:P0,style:s},rl.createElement(y,{style:[h.directionRow,h.alignCenter,m.Margin.xsmallBottom]},rl.createElement(y,{style:[h.flex1]},rl.createElement(Hl,null,xa(a))),n?null:rl.createElement(hg,{nodeKey:t,editor:o,view:i,definition:a,descendantOf:P0,icon:_r[a.type].IconComponent,rightIcon:S.ChevronDown})),rl.createElement(Ec,{nodeKey:t,editor:o,readOnly:n,record:r,definition:a,selected:!1,displayMode:"block",style:[c.recordValueBox,m.Padding.smallVertical,m.Padding.mediumHorizontal]}))}var i8=L.create({recordValueBox:e=>({borderWidth:1,borderColor:e.colors.border.mid,backgroundColor:e.colors.background.main,borderRadius:e.radiuses.large,minHeight:E.BUTTON_L})});function T0(e){let{nodeKey:t,editor:o,readOnly:n,record:r,records:i,view:a,definition:s,openRecord:c,onClose:u}=e,[,d]=O(N),[,p]=O(a8),[f,g]=jt.useState(!1),b=Si[a.type],v=a.columns,C=jt.useMemo(()=>(0,E0.default)(Object.keys(s),v),[v,a,s]),w=jt.useMemo(()=>i.findIndex(_=>_.key===r.key),[i,r.key]),k=i[w-1],I=i[w+1];return jt.createElement(wt,{title:`Edit ${b.recordName}`,size:"large",footer:jt.createElement(y,{style:[h.directionRow,h.alignCenter,h.justifySpaceBetween]},n?null:jt.createElement(A,{icon:S.Trashcan,kind:"secondary",size:"medium",onPress:()=>{o.change(_=>{Y.removeRecord(_,t,r.key)}),u()}},`Delete ${b.recordName}`),jt.createElement(y,{style:[h.directionRow,h.alignCenter]},jt.createElement(A,{icon:S.ChevronLeft,kind:"secondary",size:"medium",title:`Previous ${b.recordName}`,disabled:!k,onPress:()=>{k&&c(k.key)}}),jt.createElement(y,{style:[m.Padding.mediumHorizontal]},jt.createElement(D,{style:[d.Body,d.textMuted]},`${w+1} of ${i.length}`)),jt.createElement(A,{icon:S.ChevronRight,kind:"secondary",size:"medium",title:`Next ${b.recordName}`,disabled:!I,onPress:()=>{I&&c(I.key)}}))),onClose:u},jt.createElement(y,null,v.map((_,P)=>jt.createElement(_v,{key:_,nodeKey:t,editor:o,readOnly:n,view:a,record:r,definition:s[_],style:[P<v.length-1?m.Margin.mediumBottom:null]}))),C.length>0||!n?jt.createElement(y,{style:[h.directionRow,h.justifySpaceBetween,m.Margin.mediumTop]},C.length>0?jt.createElement(A,{icon:f?S.ChevronUp:S.ChevronDown,kind:"grey",size:"medium",onPress:()=>{g(_=>!_)}},f?"Hide":"Show hidden columns"):null,n?null:jt.createElement(Bm,{icon:S.Plus,kind:"grey",size:"medium",palette:()=>Oa(_=>{o.change(P=>{Y.insertColumn(P,t,Y.createColumnFromType(_))})})},"Add column")):null,f?jt.createElement(y,{style:[p.hiddenColumnsGroup,m.Margin.mediumTop,m.Padding.mediumTop]},C.map((_,P)=>jt.createElement(_v,{key:_,nodeKey:t,editor:o,readOnly:n,view:a,record:r,definition:s[_],style:[P<C.length-1?m.Margin.mediumBottom:null]}))):null)}var a8=L.create({hiddenColumnsGroup:e=>({borderTopWidth:1,borderTopColor:e.colors.border.mid,borderTopStyle:"dashed"})});l();function M0(e){return Y.defaultRecordSortedKeys(e).map(o=>({key:o,value:e.records[o]}))}function L0(e){let{node:t,editor:o,isFocused:n}=e,r=t.data.toFrozenObject(),i=Ut.useMemo(()=>M0(r),[r]),[a,s]=Ut.useState(null),c=Ut.useMemo(()=>a===null?null:i.find(b=>b.key===a),[i,a]),u=Ut.useCallback(b=>{s(b)},[s]),d=Ut.useMemo(()=>o.readOnly?{}:Y.getTableSelection(o.value,t),[i,t,o.readOnly,o.value.selection]),p={view:r.view,definition:r.definition,records:i,selection:d},f=Ut.useContext(cg);f.set(t.key,p),Ut.useEffect(()=>()=>{f.delete(t.key)},[f,t.key]);let g=Si[p.view.type];return Ut.createElement(Ut.Fragment,null,Ut.createElement(ye,{...e,palette:vg(o,t)},Ut.createElement(zt,{...e,selectable:g.selectableView,isFocused:n&&!d.definitionId&&!d.recordId,onSelect:()=>{o.change(b=>{Y.moveTableSelection(b,t,{}),b.focus()})}},Ut.createElement(PS,{readOnly:!!c},Ut.createElement(g.ViewComponent,{editor:e.editor,nodeKey:t.key,readOnly:o.readOnly,openRecord:u,...p})))),c?Ut.createElement(T0,{editor:e.editor,nodeKey:t.key,readOnly:o.readOnly,view:p.view,records:p.records,definition:p.definition,record:c,openRecord:u,onClose:()=>{s(null)}}):null)}l();var il=x(mi()),Cg=x(R());var N0=(0,il.isKeyHotkey)("enter"),s8=(0,il.isKeyHotkey)("shift+enter"),D0=(0,il.isKeyHotkey)("mod+enter"),Iv=(0,il.isKeyHotkey)("tab"),bg=(0,il.isKeyHotkey)("shift+tab"),A0=(0,il.isKeyHotkey)("backspace");function B0(){let e=Cg.useContext(cg);return[Cg.useMemo(()=>({onKeyDown:(...o)=>l8(e,...o)}),[e])]}function l8(e,t,o,n){if(t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowRight"&&t.key!=="ArrowLeft"&&!(N0(t)&&!s8(t))&&!D0(t)&&!A0(t)&&!Iv(t)&&!bg(t))return;let{selection:r}=o.value;if(c1.isBlockRange(r)||!r.isCollapsed&&!Iv(t)&&!bg(t))return;let i=Y.getCurrentTable(o.value);if(!i)return;let{table:a,fragment:s}=i;if(i.ancestorBlocks&&i.ancestorBlocks.size>0)return;if(D0(t))return t.preventDefault(),Ct(o,a),o;let c=e.get(a.key);if(!c||!c.selection.recordId&&!c.selection.definitionId)return;let u=a.data.toFrozenObject(),d=c.selection.recordId?u.records[c.selection.recordId]:null,p=c.selection.definitionId?u.definition[c.selection.definitionId]:null,f=Si[c.view.type],g=p?_r[p.type]:null,b=C=>{if(!g||!g.onKeyDown||!d||!p)return!1;let w=!1;return g.onKeyDown(C,d.values[p.id],k=>{w=!0,Y.setRecordValue(o,a.key,c.selection.recordId,c.selection.definitionId,k)}),w},v=C=>{f.onKeyDown&&f.onKeyDown(C,a,c,o)};if(N0(t)){if(s&&!r.hasAnchorAtEndOf(s))return;t.preventDefault(),b("enter")||v("enter")}else if(A0(t)){if(s&&!r.hasAnchorAtStartOf(s))return;t.preventDefault(),b("backspace")||v("backspace")}else if(Iv(t)||bg(t))t.preventDefault(),v(bg(t)?"shift+tab":"tab");else if(t.key==="ArrowDown"){if(s&&!u8(s,r))return;t.preventDefault(),v("move-down")}else if(t.key==="ArrowUp"){if(s&&!c8(s,r))return;t.preventDefault(),v("move-up")}else if(t.key==="ArrowRight"){if(s&&!r.hasAnchorAtEndOf(s))return;t.preventDefault(),v("move-right")}else if(t.key==="ArrowLeft"){if(s&&!r.hasAnchorAtStartOf(s))return;t.preventDefault(),v("move-left")}return o}function c8(e,t){let o=e.nodes.first();return o?t.hasAnchorIn(o):!1}function u8(e,t){let o=e.nodes.last();return o?t.hasAnchorIn(o):!1}l();var Yt=x(R());z();l();var z0=x(R());z();function Pv(e){let{children:t}=e,[,o]=O(d8);return z0.default.createElement(y,{style:o.blockTabsBody},t)}var d8=L.create({blockTabsBody:e=>({border:`1px solid ${e.colors.border.main}`,backgroundColor:e.colors.background.main,paddingHorizontal:Vy,borderRadius:e.radiuses.medium,borderTopLeftRadius:0,"@media print":{padding:0,border:0}})});l();var Sg=x(R());z();function Ev(e){let{children:t}=e,[,o]=O(m8);return Sg.default.createElement(y,{style:o.blockTabsHeader},Sg.default.createElement(Fl,{style:o.blockTabsHeaderContainer},Sg.default.createElement(y,{style:o.blockTabsHeaderContent},t)))}var m8=L.create({blockTabsHeader:{position:"relative",display:"flex",flexDirection:"row",width:"100%",alignItems:"center",whiteSpace:"nowrap",marginBottom:-1,"@media print":{display:"none"},zIndex:1},blockTabsHeaderContainer:{maxWidth:"100%",display:"flex"},blockTabsHeaderContent:e=>({maxWidth:"100%",display:"flex",flexDirection:"row",borderTopRightRadius:e.radiuses.medium,borderTopLeftRadius:e.radiuses.medium,pointerEvents:"auto"})});l();var lo=x(R()),n7=x(J0());z();l();var Mc=x(R());z();var o7=Mc.default.forwardRef(function(t,o){let{active:n,editor:r,tab:i,isLast:a,onDropBefore:s,onDropAfter:c,onInsertLeft:u,onInsertRight:d,onDelete:p,children:f,...g}=t;return Mc.default.createElement(y,{style:[t7.tabItemControls,n&&t7.tabItemControlsActive],...g,ref:o},Mc.default.createElement(e7,{position:"before",onDrop:s,onInsert:u}),f,a?Mc.default.createElement(e7,{position:"after",onDrop:c,onInsert:d}):null)});function e7(e){let{position:t,onDrop:o,onInsert:n}=e,[r,i]=gi({accept:["tab"],drop:(a,s)=>{s.didDrop()||a.type==="tab"&&o(a.id)},canDrop:a=>a.type==="tab",collect:a=>({hovered:a.isOver({shallow:!0})&&a.canDrop()})});return Mc.default.createElement(vu,{ref:i,dropHovered:r.hovered,position:t==="before"?"left":"right",button:{kind:"default",size:"xsmall",icon:S.Plus,onPress:n}})}var t7=q.create({tabItemControls:{position:"relative",flexShrink:1},tabItemControlsActive:{flexShrink:0},tabItemInsertionLine:{flex:1,opacity:0,display:"flex",alignItems:"center",justifyContent:"center"},tabItemInsertionLineHovered:{opacity:1}});function Dv(e){let{editor:t,tab:o,index:n,active:r,isFirst:i,isLast:a,onSelect:s}=e,{readOnly:c}=t,u=o.data?o.data.get("title"):"Untitled",[{isDragging:d},p]=Gi({type:"tab",item:{type:"tab",id:o.key,previewLabel:"Move tab"},canDrag:()=>!c,collect:C=>({isDragging:C.isDragging()})}),f=C=>{t.change(w=>{let k=w.value.document.getParent(o.key);if(!k)return;let I=ci.createTabsItem("Untitled");w.insertNodeByKey(k.key,n+C,I);let _=w.value.document.getDescendant(I.key);_&&w.collapseToStartOf(_).focus(),s(I)})},g=C=>{t.change(w=>{w.setNodeByKey(o.key,{data:o.data.merge({title:C})})})},b=(C,w)=>{t.change(k=>{w==="before"?k.moveBeforeNodeByKey(C,o.key):k.moveAfterNodeByKey(C,o.key);let I=k.value.document.getDescendant(C);I&&k.collapseToStartOf(I).focus()})},v=()=>{t.change(C=>{C.removeNodeByKey(o.key)})};return c?lo.default.createElement(ut,{onPress:()=>s(o)},lo.default.createElement(Nv,{title:u,active:r,isFirst:i,isLast:a,isEditable:!1,withOptions:!1,editor:t,tab:o})):lo.default.createElement(ut,{onPress:()=>s(o)},lo.default.createElement(o7,{onInsertLeft:()=>f(0),onInsertRight:()=>f(1),onDropBefore:C=>b(C,"before"),onDropAfter:C=>b(C,"after"),onDelete:v,...e},lo.default.createElement(Nv,{title:u,active:r,isFirst:i,isLast:a,isEditable:r,onTitleChange:g,editor:t,tab:o,withOptions:!0,isDragging:d,dragHandleRef:p})))}var Nv=lo.default.forwardRef((e,t)=>{let{title:o,titlePlaceholder:n="Untitled",active:r=!1,isFirst:i=!1,isLast:a=!1,isDragging:s=!1,isEditable:c,withOptions:u,onTitleChange:d,editor:p,tab:f,dragHandleRef:g,...b}=e,[v,C]=lo.default.useState(o),[w,k]=O(k8),I=d?()=>{d(v||"")}:void 0;lo.default.useEffect(()=>{C(o)},[o]);let _=lo.default.useRef(null),P=Aa(_,g),M=ne(_,{width:"small"}),T=()=>{M.open(te({groups:[{key:"tab",commands:[{key:"delete",title:"Delete",icon:S.Trashcan,trigger:()=>{p.change(V=>{ci.removeTab(V,f.key)})}}]}]}))};return lo.default.createElement(B.View,{ref:t,style:[k.blockTabsBodyItem,m.Padding.xsmallVertical,r&&k.blockTabsBodyItemActive,i&&k.blockTabsBodyItemFirst,a&&k.blockTabsBodyItemLast],...b},lo.default.createElement(y,{style:k.flexPadding}),lo.default.createElement(y,{style:[k.blockTabsBodyItemTitleContainer,s&&se.translucent,m.Padding.xsmallVertical]},c?lo.default.createElement(lo.default.Fragment,null,lo.default.createElement(n7.default,{value:v,inputStyle:{...xe.Label,color:w.colors.text.main,backgroundColor:"transparent",border:"none",...km.Bold,padding:0,margin:0,lineHeight:"22px"},title:v,placeholder:n,onChange:V=>C(V.target.value),onBlur:I})):lo.default.createElement(D,{style:[eo.Label,k.blockTabsBodyItemReadonlyTitle,r&&k.blockTabsBodyItemTitleReadonlyActive]},v||n)),u?lo.default.createElement(B.View.Child,{style:[k.tabItemOptions],inactiveStyle:M.opened||c?se.visible:se.hidden,activeStyle:se.visible},lo.default.createElement(A,{ref:P,kind:"grey",size:"small",rounded:!0,active:M.opened,onPress:T,icon:S.GrabberVertical,title:`Click for options.
Drag to move.`})):null,lo.default.createElement(y,{style:k.flexPadding}))});Nv.displayName="TabItem";var k8=L.create({blockTabsBodyItem:e=>({flexGrow:0,flexShrink:1,flexBasis:"auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,borderWidth:1,borderColor:e.colors.border.main,borderLeftColor:"transparent",backgroundColor:e.colors.background.muted,flexDirection:"row",cursor:"pointer"}),blockTabsBodyItemFirst:e=>({borderLeftColor:e.colors.border.main,borderTopLeftRadius:e.radiuses.medium}),blockTabsBodyItemLast:e=>({borderTopRightRadius:e.radiuses.medium}),blockTabsBodyItemActive:e=>({flexGrow:0,flexShrink:0,flexBasis:"auto",cursor:"auto",backgroundColor:e.colors.background.main,borderBottomColor:e.colors.background.main}),flexPadding:{minWidth:8,width:16,flexGrow:1,flexShrink:1,flexBasis:"16px"},blockTabsBodyItemTitleContainer:{flexGrow:0,flexShrink:1,flexBasis:"auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexDirection:"row"},blockTabsBodyItemReadonlyTitle:e=>({color:e.colors.text.muted,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),blockTabsBodyItemTitleReadonlyActive:e=>({color:e.colors.text.main}),tabItemOptions:{marginLeft:m.medium,display:"flex",alignItems:"center",justifyContent:"center"}});l();var i7=x(R());z();function Av(e){let{active:t,children:o,...n}=e;return i7.default.createElement(y,{style:[r7.blockTabsItem,t&&r7.blockTabsItemActive],...n},o)}var r7=q.create({blockTabsItem:{display:"none",pageBreakInside:"avoid"},blockTabsItemActive:{display:"flex"}});l();var ld=x(R());var x8=5,a7={activeKeys:{},activeTitles:[]},O8=$o({key:"tabsAtom",default:a7,effects:[XS.recoilEffect("@recoil/tabsAtom",a7)]});function s7(e){let{sections:t,selected:o}=ld.useContext($r),n=ld.useMemo(()=>{let u=new Map;return e.blockNodes.forEach(d=>{let p=Tl();[...t.entries()].filter(([f])=>d.getNode(f)).forEach(([f,g])=>{p.set(f,g)}),u.set(d.key,p)}),u},[t,e]),[r,i]=Qo(O8),[a,s]=Da(!1,[o]),c=Gl();return ld.useMemo(()=>{let{value:u,readOnly:d}=c;return[(d?null:_8(u,e))||R8(r,e,a,n,o)||(d?I8(r,e):null)||e.blockNodes.first(),f=>{let g=f.data.get("title");s(!0),i(b=>({activeKeys:{...b.activeKeys,[e.key]:f.key},activeTitles:g?b.activeTitles.filter(v=>v!==g).concat([g]).slice(-x8):b.activeTitles}))}]},[c,r,i,a,n,o])}function R8(e,t,o,n,r){let i=e.activeKeys[t.key];return o&&i?t.blockNodes.find(a=>a.key===i):t.blockNodes.find(a=>{var s;return[...((s=n.get(a.key))==null?void 0:s.values())||[]].includes(r||"")})}function _8(e,t){if(e.selection.isFocused)return t.blockNodes.find(o=>ce.isTextRange(e.selection)&&(e.selection.hasAnchorIn(o)||e.selection.hasFocusIn(o)))}function I8(e,t){return t.blockNodes.map(o=>{let n=o.data.get("title");return{node:o,score:e.activeTitles.indexOf(n)}}).filter(({score:o})=>o>=0).sortBy(({score:o})=>-o).map(({node:o})=>o).first()||void 0}function l7(e){let{node:t,children:o,editor:n}=e,[r,i]=s7(t),a=t.getChildIndex(r.key),s=qe(),c=Yt.default.useRef(null),u=Yt.default.useRef(null),d=Yt.default.useCallback(g=>{let b=c.current;b&&b.measureInWindow((v,C)=>{u.current=C}),n.readOnly||n.change(v=>{v.blur()}),i(g)},[n,i]);Yt.default.useEffect(()=>{let{current:g}=u;g&&(u.current=null,window.requestAnimationFrame(()=>{let b=c.current;b&&b.measureInWindow((v,C)=>{window.scrollBy(0,C-g)})}))},[r]);let p=t.blockNodes.map((g,b)=>Yt.default.createElement(Dv,{key:g.key,editor:n,tab:g,index:b,active:b===a,isFirst:b===0,isLast:b===t.nodes.size-1,onSelect:v=>d(v)})),f=Yt.default.Children.map(o,(g,b)=>Yt.default.createElement(Av,{key:g&&typeof g=="object"&&"key"in g?g.key:b,active:b===a},g));return s?Yt.default.createElement(ye,{...e},Yt.default.createElement(y,{ref:c,style:Bv.blockTabs},Yt.default.Children.map(o,(g,b)=>{let v=t.nodes.toArray()[b];return Yt.default.createElement(ye,{key:v.key,...e},Yt.default.createElement(y,{ref:c,style:Bv.blockTabs},Yt.default.createElement(Ev,null,Yt.default.createElement(Dv,{editor:n,key:v.key,tab:v,index:b,active:!0,isFirst:!0,isLast:!1,onSelect:()=>{}})),Yt.default.createElement(Pv,null,Yt.default.createElement(Av,{active:!0},g))))}))):Yt.default.createElement(ye,{...e},Yt.default.createElement(y,{ref:c,style:Bv.blockTabs},Yt.default.createElement(Ev,null,p),Yt.default.createElement(Pv,null,f)))}var Bv=q.create({blockTabs:{}});l();var zv=x(R());z();function u7(e){let{attributes:t,children:o,editor:n,isFocused:r}=e,{readOnly:i}=n;return zv.default.createElement(y,{...t,style:[c7.blockTabsItem]},o,!i&&r&&P8(n.value)?zv.default.createElement(Sc,{style:c7.blockExitHint}):null)}function P8(e){let{startBlock:t}=e;if(!t)return!1;let o=e.document.getAncestors(t.key);return o?o.skipUntil(n=>n.object==="block"&&n.type===Dn).skip(1).every(n=>n.object==="block"&&nm.includes(n.type)):!1}var c7=q.create({blockTabsItem:{},blockExitHint:{position:"absolute",bottom:-m.medium,right:-m.medium}});l();var cd=x(mi());var d7={onKeyDown:E8};function E8(e,t){let{value:o}=t;return(0,cd.default)("backspace",e)&&o.isCollapsed?T8(e,t):(0,cd.default)("enter",e)?M8(e,t):(0,cd.default)("mod+enter",e)?L8(e,t):(0,cd.default)("mod+a",e)?N8(e,t):null}function T8(e,t){let{value:o}=t,n=ci.getCurrentTab(o);return!n||!uu(n)?null:(e.preventDefault(),ci.removeTab(t,n.key))}function M8(e,t){let{value:o}=t,n=ci.getCurrentTab(o);if(!n||n.nodes.size<=1||!uu(n.blockNodes.last()))return null;let r=o.document.getClosest(o.startKey,u=>"type"in u&&u.type===yn);if(!r)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter is pressed twice");let i=o.document.getParent(r.key);if(!i)throw new Error("Could not find parent of tab while exiting tab when enter is pressed twice");let a=i.getChildIndex(r.key);if(a<0)throw new Error("Could not find child of parent while exiting tab when enter is pressed twice");e.preventDefault();let s=n.blockNodes.last();s&&t.removeNodeByKey(s.key);let c=mo.create({type:le,nodes:[su.create("")]});return t.insertNodeByKey(i.key,a+1,c).collapseToStartOf(c)}function L8(e,t){let{value:o}=t;if(!ci.getCurrentTab(o))return null;let r=o.document.getClosest(o.startKey,c=>"type"in c&&c.type===yn);if(!r)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter are pressed twice");let i=o.document.getParent(r.key);if(!i)throw new Error("Could not find parent of tab while exiting tab on mod+enter");let a=i.getChildIndex(r.key);if(a<0)throw new Error("Could not find child of parent while exiting tab on mod+enter");e.preventDefault();let s=mo.create({type:le,nodes:[su.create()]});return t.insertNodeByKey(i.key,a+1,s).collapseToStartOf(s)}function N8(e,t){let{value:o}=t,n=ci.getCurrentTab(o);return n?(e.preventDefault(),t.collapseToStartOf(n).extendToEndOf(n)):null}var m7={renderNode:D8,renderVirtualNode:A8,renderMark:B8,estimateNodeSize:(e,t)=>{let o=Qr(e,t);return{height:Qs(e,t,{blockSpacing:o})}}};function D8(e){if(mo.isBlock(e.node)&&!Lh.isInline(e.parent)){let t=e;switch(e.node.type){case le:return Ve.createElement(HI,{...t,node:e.node,parent:e.parent});case Bo:case Et:case Qt:return Ve.createElement(TI,{...t,node:e.node,parent:e.parent});case At:return Ve.createElement(MI,{...t,node:e.node,parent:e.parent});case Te:case Le:case He:return Ve.createElement(SP,{...t,node:e.node,parent:e.parent});case An:return Ve.createElement(L0,{...t,node:e.node,parent:e.parent});case li:return Ve.createElement(H_,{...t,node:e.node,parent:e.parent});case qr:return Ve.createElement(j_,{...t,node:e.node,parent:e.parent});case Li:return Ve.createElement(kP,{...t,node:e.node,parent:e.parent});case _s:return Ve.createElement(xP,{...t,node:e.node,parent:e.parent});case aa:return Ve.createElement(bP,{...t,node:e.node,parent:e.parent});case Nn:return Ve.createElement($_,{...t,node:e.node,parent:e.parent});case zo:return Ve.createElement(i_,{...t,node:e.node,parent:e.parent});case $t:return Ve.createElement(YI,{...t,node:e.node,parent:e.parent});case bt:return Ve.createElement(jI,{...t,node:e.node,parent:e.parent});case yn:return Ve.createElement(l7,{...t,node:e.node,parent:e.parent});case Dn:return Ve.createElement(u7,{...t,node:e.node,parent:e.parent});case Is:return Ve.createElement(zP,{...t,node:e.node,parent:e.parent});case Pl:return Ve.createElement(aP,{...t,node:e.node,parent:e.parent});case la:return Ve.createElement(iP,{...t,node:e.node,parent:e.parent});case Ni:return Ve.createElement(sI,{...t,node:e.node,parent:e.parent});case ia:return Ve.createElement(vP,{...t,node:e.node,parent:e.parent});case Di:return Ve.createElement(J_,{...t,node:e.node,parent:e.parent})}}if(Lh.isInline(e.node)&&!Rl.isDocument(e.parent))switch(e.node.type){case wo:return Ve.createElement(RI,{...e,node:e.node,parent:e.parent});case Il:return Ve.createElement(OP,{...e,node:e.node,parent:e.parent});case _l:return Ve.createElement(VP,{...e,node:e.node,parent:e.parent});case Jd:return Ve.createElement(q_,{...e,node:e.node,parent:e.parent})}return null}function A8(e){switch(e.node.type){case Te:case Le:case He:return Ve.createElement(wP,{...e})}}function B8(e){switch(e.mark.type){case vn:return Ve.createElement(IP,{...e});case bn:return Ve.createElement(EP,{...e});case ur:return Ve.createElement(MP,{...e});case Jt:return Ve.createElement(NP,{...e});case lu:return Ve.createElement(AP,{...e});case em:case om:case tm:return Ve.createElement(lP,{...e})}return null}var p7=$e.forwardRef(function(t,o){var ar,So;let{value:n,baseValue:r,participants:i=[],onChange:a,onActivity:s,placeholder:c,contentReferenceContext:u,uploadFiles:d,updateFile:p,logAnalyticsEvent:f,readOnly:g=!1,style:b,sectionIDs:v,selectedSection:C,isDiff:w,blockLayoutComponent:k,rightGutterComponent:I,integrationBlocksRemote:_,integrationBlocks:P,onBlockHover:M}=t,{mode:T}=$e.useContext(Oo),V=$e.useRef(null),K=Aa(V,o),U=$e.useMemo(()=>({...Fy,...k?{blockLayoutComponent:k}:{},...I?{rightGutterComponent:I}:{},onBlockHover:M,integrationBlocks:P||{}}),[u==null?void 0:u.space,u==null?void 0:u.revision,u==null?void 0:u.page,M,P]);u&&(U.contentReferenceContext=u),d&&(U.uploadFiles=d),p&&(U.updateFile=p),f&&(U.logAnalyticsEvent=f),U.integrationBlocksRemote=_;let[,F]=O(N),H=T_(U),[Q]=B0(),ae=tI(P),Be=PI(U),at=RS(n.document,li),Tn=$e.useMemo(()=>[m7,Q,M_,U_,ZI,d7,XI,LI,Be,...zI,GI,aI,wI,ae,oI,lI,G_,at,rP,H,A_,y_,L_],[H,Be,at]),No=qe(),co=$e.useRef(null),Nr=st=>{let W=st.value,Z=n.document!==W.document;s&&Z&&(co.current?clearTimeout(co.current):s({typing:!0}),co.current=setTimeout(()=>{co.current=null,s({typing:!1})},2e3)),a(st)},rr=dr(n.document),Dr=$e.useMemo(()=>{let st=i.map(W=>{if(!W.selection||!W.selection.anchorPath||!W.selection.focusPath)return;let Z=n.document.getNodeAtPath(W.selection.anchorPath),X=n.document.getNodeAtPath(W.selection.focusPath);if(!(!Z||!X))return $I(W,Z.key,X.key)}).filter(de).flat();return Yd.create(st)},[i,n.document]);$e.useEffect(()=>{var st,W;if((st=V.current)!=null&&st.value.isFocused)return Hm((W=V.current)!=null&&W.value.selection.isCollapsed?"editor-selection-collapsed":"editor-selection-expanded")},[(ar=V.current)==null?void 0:ar.value.isFocused,(So=V.current)==null?void 0:So.value.selection.isCollapsed]);let[ir,uo]=$e.useState(null),Do=$e.useMemo(()=>({sections:v||Tl(),active:ir,selected:C,setActive:uo}),[v,ir]),Ar=r===null?null:r===void 0?void 0:r.document;return $e.createElement(b_,{original:Ar,modified:n.document},$e.createElement($r.Provider,{value:Do},$e.createElement(re.Provider,{value:U},$e.createElement(Sa.View,{style:[Lc.editor,b],isPDF:No},g?null:$e.createElement(ut,{onPress:()=>{var st;(st=V.current)==null||st.change(W=>zh(W,"DOCUMENT_START"))}},$e.createElement(y,{style:[Lc.editorFocusArea,Lc.editorFocusAreaTop]})),rr&&c&&!n.isFocused&&!g?$e.createElement(U.blockLayoutComponent,{renderMode:"centered"},$e.createElement(y,{style:[Lc.placeholder]},$e.createElement(D,{style:[F.Body,F.textMuted]},c))):null,$e.createElement(TS,{ref:K,testID:"page.contentEditor",value:n,onChange:Nr,readOnly:g,selections:Dr,plugins:Tn,virtualize:T==="app",enableBlockContainment:g&&!w},g?null:$e.createElement(yI,{value:n})),g?null:$e.createElement(ut,{onPress:()=>{var st;(st=V.current)==null||st.change(W=>zh(W,"DOCUMENT_END"))}},$e.createElement(y,{style:[Lc.editorFocusArea,Lc.editorFocusAreaBottom]}))))))}),Lc=q.create({editor:{position:"relative"},editorFocusArea:{position:"absolute",cursor:"text",right:0,left:0},editorFocusAreaTop:{height:m.large,top:-m.large},editorFocusAreaBottom:{height:m.large,bottom:-m.large},placeholder:{position:"absolute",top:m.small}});l();var Ui=x(R());l();var f7=Em("0dc87861cc2f97f4b8aa90517de6c6f7d7add292c36eff9ffb4a127ad3126faa",()=>import("https://app.gitbook.com/public/app/chunks/ShareModalBody.lazycomponent.legacy-OEFSYYRM.min.js"));function g7(e){let{selectedTab:t,changeSelectedTab:o,opened:n,close:r}=qk(D1);return Ui.createElement(it,null,n?Ui.createElement(wt,{size:"xlarge",onClose:r},Ui.createElement(Ui.Suspense,{fallback:Ui.createElement(qS,{sidebar:Ui.createElement(Ht,{size:"large"})},Ui.createElement(Ht,{size:"large"}))},Ui.createElement(f7,{tab:t||"invite",onChangeTab:o,...e}))):null)}l();var In=x(R());l();l();var bd=x(R());l();var Yi=x(R());l();var dn=x(R());l();var al="right-scroll-bar-position",sl="width-before-scroll-bar",Vv="with-scroll-bars-hidden",Wv="--removed-body-scroll-bar-size";l();l();function h7(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}l();var y7=x(R());function v7(e,t){var o=(0,y7.useState)(function(){return{value:e,callback:t,facade:{get current(){return o.value},set current(n){var r=o.value;r!==n&&(o.value=n,o.callback(n,r))}}}})[0];return o.callback=t,o.facade}l();function ud(e,t){return v7(t||null,function(o){return e.forEach(function(n){return h7(n,o)})})}l();l();l();function b7(e){return e}function C7(e,t){t===void 0&&(t=b7);var o=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(i){var a=t(i,n);return o.push(a),function(){o=o.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(n=!0;o.length;){var a=o;o=[],a.forEach(i)}o={push:function(s){return i(s)},filter:function(){return o}}},assignMedium:function(i){n=!0;var a=[];if(o.length){var s=o;o=[],s.forEach(i),a=o}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),o={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),o}}}};return r}function dd(e,t){return t===void 0&&(t=b7),C7(e,t)}function ll(e){e===void 0&&(e={});var t=C7(null);return t.options=Ao({async:!0,ssr:!1},e),t}l();var S7=x(R()),w7=function(e){var t=e.sideCar,o=xs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S7.createElement(n,Ao({},o))};w7.isSideCarExport=!0;function cl(e,t){return e.useMedium(t),w7}var wg=ll();var Fv=function(){},kg=dn.forwardRef(function(e,t){var o=dn.useRef(null),n=dn.useState({onScrollCapture:Fv,onWheelCapture:Fv,onTouchMoveCapture:Fv}),r=n[0],i=n[1],a=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,f=e.sideCar,g=e.noIsolation,b=e.inert,v=e.allowPinchZoom,C=e.as,w=C===void 0?"div":C,k=xs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=f,_=ud([o,t]),P=Ao(Ao({},k),r);return dn.createElement(dn.Fragment,null,d&&dn.createElement(I,{sideCar:wg,removeScrollBar:u,shards:p,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:o}),a?dn.cloneElement(dn.Children.only(s),Ao(Ao({},P),{ref:_})):dn.createElement(w,Ao({},P,{className:c,ref:_}),s))});kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kg.classNames={fullWidth:sl,zeroRight:al};l();l();PC();var gt=x(R());l();var md="data-focus-lock",xg="data-focus-lock-disabled",k7="data-no-focus-lock",x7="data-autofocus-inside",O7="data-no-autofocus";var I7=x(R());l();var Nc=x(R());var Dc={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},R7=function(t){var o=t.children;return Nc.createElement(Nc.Fragment,null,Nc.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Dc}),o,o&&Nc.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Dc}))};R7.propTypes={};R7.defaultProps={children:null};l();var Og=dd({},function(e){var t=e.target,o=e.currentTarget;return{target:t,currentTarget:o}}),Rg=dd(),_7=dd(),_g=ll({async:!0});var V8=[],qv=gt.forwardRef(function(t,o){var n,r=gt.useState(),i=r[0],a=r[1],s=gt.useRef(),c=gt.useRef(!1),u=gt.useRef(null),d=t.children,p=t.disabled,f=t.noFocusGuards,g=t.persistentFocus,b=t.crossFrame,v=t.autoFocus,C=t.allowTextSelection,w=t.group,k=t.className,I=t.whiteList,_=t.hasPositiveIndices,P=t.shards,M=P===void 0?V8:P,T=t.as,V=T===void 0?"div":T,K=t.lockProps,U=K===void 0?{}:K,F=t.sideCar,H=t.returnFocus,Q=t.focusOptions,ae=t.onActivation,Be=t.onDeactivation,at=gt.useState({}),Tn=at[0],No=gt.useCallback(function(){u.current=u.current||document&&document.activeElement,s.current&&ae&&ae(s.current),c.current=!0},[ae]),co=gt.useCallback(function(){c.current=!1,Be&&Be(s.current)},[Be]);(0,I7.useEffect)(function(){p||(u.current=null)},[]);var Nr=gt.useCallback(function(So){var st=u.current;if(st&&st.focus){var W=typeof H=="function"?H(st):H;if(W){var Z=typeof W=="object"?W:void 0;u.current=null,So?Promise.resolve().then(function(){return st.focus(Z)}):st.focus(Z)}}},[H]),rr=gt.useCallback(function(So){c.current&&Og.useMedium(So)},[]),Dr=Rg.useMedium,ir=gt.useCallback(function(So){s.current!==So&&(s.current=So,a(So))},[]),uo=bl((n={},n[xg]=p&&"disabled",n[md]=w,n),U),Do=f!==!0,Ar=Do&&f!=="tail",ar=ud([o,ir]);return gt.createElement(gt.Fragment,null,Do&&[gt.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:Dc}),_?gt.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:Dc}):null],!p&&gt.createElement(F,{id:Tn,sideCar:_g,observed:i,disabled:p,persistentFocus:g,crossFrame:b,autoFocus:v,whiteList:I,shards:M,onActivation:No,onDeactivation:co,returnFocus:Nr,focusOptions:Q}),gt.createElement(V,bl({ref:ar},uo,{className:k,onBlur:Dr,onFocus:rr}),d),Ar&&gt.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:Dc}))});qv.propTypes={};qv.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var P7=qv;l();function Gv(e){var t=window,o=t.setImmediate;typeof o<"u"?o(e):setTimeout(e,1)}var E7=P7;l();var Ig=ll(),Pg="data-focus-on-hidden";var T7=Yi.forwardRef(function(e,t){var o=Yi.useState(!1),n=o[0],r=o[1],i=e.children,a=e.autoFocus,s=e.shards,c=e.enabled,u=c===void 0?!0:c,d=e.scrollLock,p=d===void 0?!0:d,f=e.focusLock,g=f===void 0?!0:f,b=e.returnFocus,v=b===void 0?!0:b,C=e.inert,w=e.allowPinchZoom,k=e.sideCar,I=e.className,_=e.shouldIgnore,P=e.style,M=e.as,T=xs(e,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),V=k,K=n.onActivation,U=n.onDeactivation,F=xs(n,["onActivation","onDeactivation"]),H=Ao(Ao({},F),{sideCar:k,shards:s,allowPinchZoom:w,as:M,inert:C,style:P,enabled:u&&p});return Yi.createElement(Yi.Fragment,null,Yi.createElement(E7,{ref:t,sideCar:k,disabled:!(n&&u&&g),returnFocus:v,autoFocus:a,shards:s,onActivation:K,onDeactivation:U,className:I,whiteList:_,lockProps:H,as:kg},i),u&&Yi.createElement(V,Ao({},T,{sideCar:Ig,setLockProps:r,shards:s})))});l();l();l();var $7=x(R());l();l();l();function pd(e,t){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pd(e,t)}function Hv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pd(e,t)}jT();var Eg=x(R());function W8(e,t){function o(n){return n.displayName||n.name||"Component"}return function(r){var i=[],a;function s(){a=e(i.map(function(u){return u.props})),t(a)}var c=function(u){Hv(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a};var p=d.prototype;return p.componentDidMount=function(){i.push(this),s()},p.componentDidUpdate=function(){s()},p.componentWillUnmount=function(){var g=i.indexOf(this);i.splice(g,1),s()},p.render=function(){return Eg.default.createElement(r,this.props)},d}(Eg.PureComponent);return IC(c,"displayName","SideEffect("+o(r)+")"),c}}var M7=W8;l();l();l();l();var mn=function(e){for(var t=Array(e.length),o=0;o<e.length;++o)t[o]=e[o];return t},fd=function(e){return Array.isArray(e)?e:[e]};l();var F8=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},L7=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},N7=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},q8=function(e,t){return!e||N7(e)||!F8(e)&&t(L7(e))},Xv=function(e,t){var o=e.get(t);if(o!==void 0)return o;var n=q8(t,Xv.bind(void 0,e));return e.set(t,n),n},G8=function(e,t){return e&&!N7(e)?X8(e)?t(L7(e)):!1:!0},Kv=function(e,t){var o=e.get(t);if(o!==void 0)return o;var n=G8(t,Kv.bind(void 0,e));return e.set(t,n),n},jv=function(e){return e.dataset},H8=function(e){return e.tagName==="BUTTON"},D7=function(e){return e.tagName==="INPUT"},Uv=function(e){return D7(e)&&e.type==="radio"},A7=function(e){return!((D7(e)||H8(e))&&(e.type==="hidden"||e.disabled))},X8=function(e){var t=e.getAttribute(O7);return![!0,"true",""].includes(t)},gd=function(e){var t;return Boolean(e&&((t=jv(e))===null||t===void 0?void 0:t.focusGuard))},Ac=function(e){return!gd(e)},B7=function(e){return Boolean(e)};l();var K8=function(e,t){var o=e.tabIndex-t.tabIndex,n=e.index-t.index;if(o){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return o||n},Yv=function(e,t,o){return mn(e).map(function(n,r){return{node:n,index:r,tabIndex:o&&n.tabIndex===-1?(n.dataset||{}).focusGuard?0:-1:n.tabIndex}}).filter(function(n){return!t||n.tabIndex>=0}).sort(K8)};l();l();var z7=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var Zv=z7.join(","),j8="".concat(Zv,", [data-focus-guard]"),V7=function(e,t){var o;return mn(((o=e.shadowRoot)===null||o===void 0?void 0:o.children)||e.children).reduce(function(n,r){return n.concat(r.matches(t?j8:Zv)?[r]:[],V7(r))},[])},Tg=function(e,t){return e.reduce(function(o,n){return o.concat(V7(n,t),n.parentNode?mn(n.parentNode.querySelectorAll(Zv)).filter(function(r){return r===n}):[])},[])},W7=function(e){var t=e.querySelectorAll("[".concat(x7,"]"));return mn(t).map(function(o){return Tg([o])}).reduce(function(o,n){return o.concat(n)},[])};var $v=function(e,t){return mn(e).filter(function(o){return Xv(t,o)}).filter(function(o){return A7(o)})},Qv=function(e,t){return t===void 0&&(t=new Map),mn(e).filter(function(o){return Kv(t,o)})},hd=function(e,t,o){return Yv($v(Tg(e,o),t),!0,o)},Jv=function(e,t){return Yv($v(Tg(e),t),!1)},F7=function(e,t){return $v(W7(e),t)},fs=function(e,t){return e.shadowRoot?fs(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:mn(e.children).some(function(o){return fs(o,t)})};l();var U8=function(e){for(var t=new Set,o=e.length,n=0;n<o;n+=1)for(var r=n+1;r<o;r+=1){var i=e[n].compareDocumentPosition(e[r]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(r),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter(function(a,s){return!t.has(s)})},q7=function(e){return e.parentNode?q7(e.parentNode):e},Bc=function(e){var t=fd(e);return t.filter(Boolean).reduce(function(o,n){var r=n.getAttribute(md);return o.push.apply(o,r?U8(mn(q7(n).querySelectorAll("[".concat(md,'="').concat(r,'"]:not([').concat(xg,'="disabled"])')))):[n]),o},[])};l();var G7=function(e){return e.activeElement?e.activeElement.shadowRoot?G7(e.activeElement.shadowRoot):e.activeElement:void 0},zc=function(){return document.activeElement?document.activeElement.shadowRoot?G7(document.activeElement.shadowRoot):document.activeElement:void 0};var Y8=function(e){return e===document.activeElement},Z8=function(e){return Boolean(mn(e.querySelectorAll("iframe")).some(function(t){return Y8(t)}))},Mg=function(e){var t=document&&zc();return!t||t.dataset&&t.dataset.focusGuard?!1:Bc(e).some(function(o){return fs(o,t)||Z8(o)})};l();var eb=function(){var e=document&&zc();return e?mn(document.querySelectorAll("[".concat(k7,"]"))).some(function(t){return fs(t,e)}):!1};l();l();l();var $8=function(e,t){return t.filter(Uv).filter(function(o){return o.name===e.name}).filter(function(o){return o.checked})[0]||e},Lg=function(e,t){return Uv(e)&&e.name?$8(e,t):e},H7=function(e){var t=new Set;return e.forEach(function(o){return t.add(Lg(o,e))}),e.filter(function(o){return t.has(o)})};l();var tb=function(e){return e[0]&&e.length>1?Lg(e[0],e):e[0]},ob=function(e,t){return e.length>1?e.indexOf(Lg(e[t],e)):t};var nb="NEW_FOCUS",X7=function(e,t,o,n){var r=e.length,i=e[0],a=e[r-1],s=gd(o);if(!(o&&e.indexOf(o)>=0)){var c=o!==void 0?t.indexOf(o):-1,u=n?t.indexOf(n):c,d=n?e.indexOf(n):-1,p=c-u,f=t.indexOf(i),g=t.indexOf(a),b=H7(t),v=o!==void 0?b.indexOf(o):-1,C=v-(n?b.indexOf(n):c),w=ob(e,0),k=ob(e,r-1);if(c===-1||d===-1)return nb;if(!p&&d>=0)return d;if(c<=f&&s&&Math.abs(p)>1)return k;if(c>=g&&s&&Math.abs(p)>1)return w;if(p&&Math.abs(C)>1)return d;if(c<=f)return k;if(c>g)return w;if(p)return Math.abs(p)>1?d:(r+d+p)%r}};l();var Q8=function(e){return function(t){var o,n=(o=jv(t))===null||o===void 0?void 0:o.autofocus;return t.autofocus||n!==void 0&&n!=="false"||e.indexOf(t)>=0}},K7=function(e,t,o){var n=e.map(function(i){var a=i.node;return a}),r=Qv(n.filter(Q8(o)));return r&&r.length?tb(r):tb(Qv(t))};l();var ib=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&ib(e.parentNode.host||e.parentNode,t),t},rb=function(e,t){for(var o=ib(e),n=ib(t),r=0;r<o.length;r+=1){var i=o[r];if(n.indexOf(i)>=0)return i}return!1},Ng=function(e,t,o){var n=fd(e),r=fd(t),i=n[0],a=!1;return r.filter(Boolean).forEach(function(s){a=rb(a||s,s)||a,o.filter(Boolean).forEach(function(c){var u=rb(i,c);u&&(!a||fs(u,a)?a=u:a=rb(u,a))})}),a},j7=function(e,t){return e.reduce(function(o,n){return o.concat(F7(n,t))},[])};var J8=function(e,t){var o=new Map;return t.forEach(function(n){return o.set(n.node,n)}),e.map(function(n){return o.get(n)}).filter(B7)},U7=function(e,t){var o=document&&zc(),n=Bc(e).filter(Ac),r=Ng(o||e,e,n),i=new Map,a=Jv(n,i),s=hd(n,i).filter(function(f){var g=f.node;return Ac(g)});if(!(!s[0]&&(s=a,!s[0]))){var c=Jv([r],i).map(function(f){var g=f.node;return g}),u=J8(c,s),d=u.map(function(f){var g=f.node;return g}),p=X7(d,c,o,t);return p===nb?{node:K7(a,d,j7(n,i))}:p===void 0?p:u[p]}};l();var ab=function(e){var t=Bc(e).filter(Ac),o=Ng(e,e,t),n=new Map,r=hd([o],n,!0),i=hd(t,n).filter(function(a){var s=a.node;return Ac(s)}).map(function(a){var s=a.node;return s});return r.map(function(a){var s=a.node,c=a.index;return{node:s,index:c,lockItem:i.indexOf(s)>=0,guard:gd(s)}})};l();var eD=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},sb=0,lb=!1,Y7=function(e,t,o){o===void 0&&(o={});var n=U7(e,t);if(!lb&&n){if(sb>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lb=!0,setTimeout(function(){lb=!1},1);return}sb++,eD(n.node,o.focusOptions),sb--}};var cb=Y7;var tD=function(){return document&&document.activeElement===document.body},oD=function(){return tD()||eb()},Wc=null,Vc=null,Fc=null,yd=!1,nD=function(){return!0},rD=function(t){return(Wc.whiteList||nD)(t)},iD=function(t,o){Fc={observerNode:t,portaledElement:o}},aD=function(t){return Fc&&Fc.portaledElement===t};function Z7(e,t,o,n){var r=null,i=e;do{var a=n[i];if(a.guard)a.node.dataset.focusAutoGuard&&(r=a);else if(a.lockItem){if(i!==e)return;r=null}else break}while((i+=o)!==t);r&&(r.node.tabIndex=0)}var sD=function(t){return t&&"current"in t?t.current:t},lD=function(t){return t?Boolean(yd):yd==="meanwhile"},cD=function e(t,o,n){return o&&(o.host===t&&(!o.activeElement||n.contains(o.activeElement))||o.parentNode&&e(t,o.parentNode,n))},uD=function(t,o){return o.some(function(n){return cD(t,n,n)})},Dg=function(){var t=!1;if(Wc){var o=Wc,n=o.observed,r=o.persistentFocus,i=o.autoFocus,a=o.shards,s=o.crossFrame,c=o.focusOptions,u=n||Fc&&Fc.portaledElement,d=document&&document.activeElement;if(u){var p=[u].concat(a.map(sD).filter(Boolean));if((!d||rD(d))&&(r||lD(s)||!oD()||!Vc&&i)&&(u&&!(Mg(p)||d&&uD(d,p)||aD(d,u))&&(document&&!Vc&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=cb(p,Vc,{focusOptions:c}),Fc={})),yd=!1,Vc=document&&document.activeElement),document){var f=document&&document.activeElement,g=ab(p),b=g.map(function(v){var C=v.node;return C}).indexOf(f);b>-1&&(g.filter(function(v){var C=v.guard,w=v.node;return C&&w.dataset.focusAutoGuard}).forEach(function(v){var C=v.node;return C.removeAttribute("tabIndex")}),Z7(b,g.length,1,g),Z7(b,-1,-1,g))}}}return t},Q7=function(t){Dg()&&t&&(t.stopPropagation(),t.preventDefault())},Ag=function(){return Gv(Dg)},J7=function(t){var o=t.target,n=t.currentTarget;n.contains(o)||iD(n,o)},dD=function(){return null},mD=function(t){var o=t.children;return $7.createElement("div",{onBlur:Ag,onFocus:J7},o)};mD.propTypes={};var eE=function(){yd="just",setTimeout(function(){yd="meanwhile"},0)},pD=function(){document.addEventListener("focusin",Q7),document.addEventListener("focusout",Ag),window.addEventListener("blur",eE)},fD=function(){document.removeEventListener("focusin",Q7),document.removeEventListener("focusout",Ag),window.removeEventListener("blur",eE)};function gD(e){return e.filter(function(t){var o=t.disabled;return!o})}function hD(e){var t=e.slice(-1)[0];t&&!Wc&&pD();var o=Wc,n=o&&t&&t.id===o.id;Wc=t,o&&!n&&(o.onDeactivation(),e.filter(function(r){var i=r.id;return i===o.id}).length||o.returnFocus(!t)),t?(Vc=null,(!n||o.observed!==t.observed)&&t.onActivation(),Dg(!0),Gv(Dg)):(fD(),Vc=null)}Og.assignSyncMedium(J7);Rg.assignMedium(Ag);_7.assignMedium(function(e){return e({moveFocusInside:cb,focusInside:Mg})});var tE=M7(gD,hD)(dD);var mPe=cl(_g,tE);l();l();var ht=x(R());l();l();var Bg=x(R());l();l();l();var rE=x(R());l();l();var oE;var nE=function(){if(oE)return oE;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nE();return t&&e.setAttribute("nonce",t),e}function vD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ub=function(){var e=0,t=null;return{add:function(o){e==0&&(t=yD())&&(vD(t,o),bD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var db=function(){var e=ub();return function(t,o){rE.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&o])}};var ul=function(){var e=db(),t=function(o){var n=o.styles,r=o.dynamic;return e(n,r),null};return t};l();var CD={left:0,top:0,right:0,gap:0},mb=function(e){return parseInt(e||"",10)||0},SD=function(e){var t=window.getComputedStyle(document.body),o=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[mb(o),mb(n),mb(r)]},pb=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CD;var t=SD(e),o=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-o+t[2]-t[0])}};var wD=ul(),kD=function(e,t,o,n){var r=e.left,i=e.top,a=e.right,s=e.gap;return o===void 0&&(o="margin"),`
  .`.concat(Vv,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),o==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),o==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(al,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(sl,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(al," .").concat(al,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sl," .").concat(sl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(Wv,": ").concat(s,`px;
  }
`)},fb=function(e){var t=e.noRelative,o=e.noImportant,n=e.gapMode,r=n===void 0?"margin":n,i=Bg.useMemo(function(){return pb(r)},[r]);return Bg.createElement(wD,{styles:kD(i,!t,r,o?"":"!important")})};l();var gb=!1;if(typeof window<"u")try{vd=Object.defineProperty({},"passive",{get:function(){return gb=!0,!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch(e){gb=!1}var vd,dl=gb?{passive:!1}:!1;l();var xD=function(e){return e.tagName==="TEXTAREA"},iE=function(e,t){var o=window.getComputedStyle(e);return o[t]!=="hidden"&&!(o.overflowY===o.overflowX&&!xD(e)&&o[t]==="visible")},OD=function(e){return iE(e,"overflowY")},RD=function(e){return iE(e,"overflowX")},hb=function(e,t){var o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var n=aE(e,o);if(n){var r=sE(e,o),i=r[1],a=r[2];if(i>a)return!0}o=o.parentNode}while(o&&o!==document.body);return!1},_D=function(e){var t=e.scrollTop,o=e.scrollHeight,n=e.clientHeight;return[t,o,n]},ID=function(e){var t=e.scrollLeft,o=e.scrollWidth,n=e.clientWidth;return[t,o,n]},aE=function(e,t){return e==="v"?OD(t):RD(t)},sE=function(e,t){return e==="v"?_D(t):ID(t)},PD=function(e,t){return e==="h"&&t==="rtl"?-1:1},lE=function(e,t,o,n,r){var i=PD(e,window.getComputedStyle(t).direction),a=i*n,s=o.target,c=t.contains(s),u=!1,d=a>0,p=0,f=0;do{var g=sE(e,s),b=g[0],v=g[1],C=g[2],w=v-C-i*b;(b||w)&&aE(e,s)&&(p+=w,f+=b),s=s.parentNode}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(d&&(r&&p===0||!r&&a>p)||!d&&(r&&f===0||!r&&-a>f))&&(u=!0),u};var zg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cE=function(e){return[e.deltaX,e.deltaY]},uE=function(e){return e&&"current"in e?e.current:e},ED=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MD=0,qc=[];function dE(e){var t=ht.useRef([]),o=ht.useRef([0,0]),n=ht.useRef(),r=ht.useState(MD++)[0],i=ht.useState(function(){return ul()})[0],a=ht.useRef(e);ht.useEffect(function(){a.current=e},[e]),ht.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var v=zC([e.lockRef.current],(e.shards||[]).map(uE),!0).filter(Boolean);return v.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var s=ht.useCallback(function(v,C){if("touches"in v&&v.touches.length===2)return!a.current.allowPinchZoom;var w=zg(v),k=o.current,I="deltaX"in v?v.deltaX:k[0]-w[0],_="deltaY"in v?v.deltaY:k[1]-w[1],P,M=v.target,T=Math.abs(I)>Math.abs(_)?"h":"v";if("touches"in v&&T==="h"&&M.type==="range")return!1;var V=hb(T,M);if(!V)return!0;if(V?P=T:(P=T==="v"?"h":"v",V=hb(T,M)),!V)return!1;if(!n.current&&"changedTouches"in v&&(I||_)&&(n.current=P),!P)return!0;var K=n.current||P;return lE(K,C,v,K==="h"?I:_,!0)},[]),c=ht.useCallback(function(v){var C=v;if(!(!qc.length||qc[qc.length-1]!==i)){var w="deltaY"in C?cE(C):zg(C),k=t.current.filter(function(P){return P.name===C.type&&P.target===C.target&&ED(P.delta,w)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var I=(a.current.shards||[]).map(uE).filter(Boolean).filter(function(P){return P.contains(C.target)}),_=I.length>0?s(C,I[0]):!a.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),u=ht.useCallback(function(v,C,w,k){var I={name:v,delta:C,target:w,should:k};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(_){return _!==I})},1)},[]),d=ht.useCallback(function(v){o.current=zg(v),n.current=void 0},[]),p=ht.useCallback(function(v){u(v.type,cE(v),v.target,s(v,e.lockRef.current))},[]),f=ht.useCallback(function(v){u(v.type,zg(v),v.target,s(v,e.lockRef.current))},[]);ht.useEffect(function(){return qc.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,dl),document.addEventListener("touchmove",c,dl),document.addEventListener("touchstart",d,dl),function(){qc=qc.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,dl),document.removeEventListener("touchmove",c,dl),document.removeEventListener("touchstart",d,dl)}},[]);var g=e.removeScrollBar,b=e.inert;return ht.createElement(ht.Fragment,null,b?ht.createElement(i,{styles:TD(r)}):null,g?ht.createElement(fb,{gapMode:"margin"}):null)}var n0e=cl(wg,dE);l();var Fg=x(R());l();var LD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gc=new WeakMap,Vg=new WeakMap,Wg={},yb=0,ND=function(e,t,o,n){var r=Array.isArray(e)?e:[e];Wg[o]||(Wg[o]=new WeakMap);var i=Wg[o],a=[],s=new Set,c=new Set(r),u=function(p){!p||s.has(p)||(s.add(p),u(p.parentNode))};r.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(s.has(f))d(f);else{var g=f.getAttribute(n),b=g!==null&&g!=="false",v=(Gc.get(f)||0)+1,C=(i.get(f)||0)+1;Gc.set(f,v),i.set(f,C),a.push(f),v===1&&b&&Vg.set(f,!0),C===1&&f.setAttribute(o,"true"),b||f.setAttribute(n,"true")}})};return d(t),s.clear(),yb++,function(){a.forEach(function(p){var f=Gc.get(p)-1,g=i.get(p)-1;Gc.set(p,f),i.set(p,g),f||(Vg.has(p)||p.removeAttribute(n),Vg.delete(p)),g||p.removeAttribute(o)}),yb--,yb||(Gc=new WeakMap,Gc=new WeakMap,Vg=new WeakMap,Wg={})}},mE=function(e,t,o){o===void 0&&(o="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),r=t||LD(e);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),ND(n,r,o,"aria-hidden")):function(){return null}};l();var pE=x(R());var DD=ul(),AD=`
 [`+Pg+`] {
   pointer-events: none !important;
 }
`,fE=function(){return pE.createElement(DD,{styles:AD})};var gs=x(R()),gE=function(e){return"current"in e?e.current:e};function hE(e){var t=e.setLockProps,o=e.onEscapeKey,n=e.onClickOutside,r=e.shards,i=e.onActivation,a=e.onDeactivation,s=e.noIsolation,c=(0,gs.useState)(void 0),u=c[0],d=c[1],p=(0,gs.useRef)(null),f=(0,gs.useRef)(0);return Fg.useEffect(function(){var g=function(w){w.defaultPrevented||(w.code==="Escape"||w.key==="Escape"||w.keyCode===27)&&o&&o(w)},b=function(w){w.defaultPrevented||w.target===p.current||w instanceof MouseEvent&&w.button!==0||r&&r.map(gE).some(function(k){return k&&k.contains(w.target)||k===w.target})||n&&n(w)},v=function(w){b(w),f.current=w.touches.length},C=function(w){f.current=w.touches.length};if(u)return document.addEventListener("keydown",g),document.addEventListener("mousedown",b),document.addEventListener("touchstart",v),document.addEventListener("touchend",C),function(){document.removeEventListener("keydown",g),document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",v),document.removeEventListener("touchend",C)}},[u,n,o]),(0,gs.useEffect)(function(){if(u)return i&&i(u),function(){a&&a()}},[!!u]),(0,gs.useEffect)(function(){var g=function(){return null},b=!1,v=function(w){s||(g=mE(BC([w],(r||[]).map(gE)),document.body,Pg)),d(function(){return w})},C=function(){g(),b||d(null)};return t({onMouseDown:function(w){p.current=w.target},onTouchStart:function(w){p.current=w.target},onActivation:v,onDeactivation:C}),function(){b=!0,t(!1)}},[]),Fg.createElement(fE,null)}var yE=cl(Ig,hE);var BD=function(e){return bd.createElement(yE,Ao({},e))},vb=bd.forwardRef(function(e,t){return bd.createElement(T7,Ao({},e,{ref:t,sideCar:BD}))});z();var IE=x(_E());function PE(e){let t=In.useRef(null),[o,n]=Qo(ky),{medias:r,currentIndex:i}=o,a=()=>{n({medias:[],currentIndex:0})},s=()=>{n(d=>({...d,currentIndex:Math.max(d.currentIndex-1,0)}))},c=()=>{n(d=>({...d,currentIndex:Math.min(d.currentIndex+1,d.medias.length-1)}))},u=d=>{n(p=>({...p,currentIndex:d}))};return Xr({opened:r.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},t),yr(r.length?{Left:()=>s(),Right:()=>c()}:{},"all",[n,!r.length]),r.length?In.createElement(tn,{ref:t},In.createElement(vb,null,In.createElement(y,{style:Xc.imagesZoonPortal},In.createElement(IE.default,{imageUrls:r.map(d=>({url:d.url})),index:i,renderIndicator:d=>In.createElement(y,{style:Xc.indactor},In.createElement(y,{style:Xc.indicatorElement}),In.createElement(y,{style:[Xc.indicatorElement,h.alignCenter,h.justifyContentCenter]},In.createElement(D,{style:Xc.indicatorText},`${d}/${r.length}`)),In.createElement(y,{style:[Xc.indicatorElement,h.alignEnd,h.justifyContentCenter]},In.createElement(A,{icon:S.X,defaultTextStyle:{color:j.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>In.createElement(A,{icon:S.ChevronLeft,defaultTextStyle:{color:j.WHITE},onPress:()=>s()}),renderArrowRight:()=>In.createElement(A,{icon:S.ChevronRight,defaultTextStyle:{color:j.WHITE},onPress:()=>c()}),onChange:d=>u(d||0),onCancel:()=>a(),enableSwipeDown:!0})))):null}var Xc=q.create({imagesZoonPortal:{position:"fixed",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:j.WHITE}});l();var EE=x(R());function TE(e){let t=Yl(),{navigate:o}=Ce(),n=xo(),r=aw(),i=cw(e),a=lw(e),s=dt(i),c=Gh(a,"create-space"),u=Gh(a,"create-collection")&&JD(e,r);return EE.default.useMemo(()=>({createSpace:c?async(d=!0)=>{let p=new Wr("startSpace",{sampleRate:1});p.label("User",t.uid),p.label("Owner type",e.user?"user":"organization"),p.label("Owner",e.user?e.user:e.organization),e.collection&&p.label("Collection",e.collection),p.label("Perm",a);let[{space:f},g]=$h(b=>s1(b,{user:t.uid,owner:e,at:Ph(s.current.spaces),perm:a}));return p.wrapPromise(g),g.catch(b=>{n.notify({title:"Error while creating space",details:Mi(b),kind:"danger"})}),J(St(f,{type:"space_create"})),d&&o({screen:{type:"space",space:f.key,organization:f.organization,page:""}}),f}:void 0,createCollection:u?async(d=!0)=>{let p=new Wr("startCollection");p.label("User",t.uid),p.label("Owner type",e.user?"user":"organization"),p.label("Owner",e.user?e.user:e.organization),e.collection&&p.label("Collection",e.collection),p.label("Perm",a);let[f,g]=$h(b=>ZC(b,{title:"New Collection",owner:e,at:Ph(s.current.collections),createdBy:t.uid,perm:a}));return p.wrapPromise(g),J(K1(f,{type:"collection_create",collection:f.key,restricted:!1})),d&&o({screen:{type:"collection",collection:f.key,organization:f.organization}}),f}:void 0}),[e.user,e.collection,e.organization,t.uid,s,o,c,u])}function JD(e,t){let o=0,n=e.collection;for(;n;){let r=t.collections.find(i=>i.key===n);n=r?r.collection:void 0,o++}return o<YC}l();var Rb=x(R());function ME(e){let{active:t=!0,interactive:o=!1,size:n,rating:r}=e,[,i]=O(t4),a=e4[r];return Rb.createElement(B.View,{style:[i.ratingIcon,{width:n,height:n,borderRadius:n}],inactiveStyle:t?i[r]:i.inactiveButton,activeStyle:o?i[r]:null},Rb.createElement(a.Child,{size:.75*n,activeStyle:o?i.activeIcon:null,style:t&&i.activeIcon}))}var e4={["ok"]:B.createInteractiveComponent(S.FeedbackOk),["good"]:B.createInteractiveComponent(S.FeedbackGood),["bad"]:B.createInteractiveComponent(S.FeedbackBad)},t4=L.create({ratingIcon:{borderRadius:E.BUTTON_S,alignItems:"center",justifyContent:"center"},inactiveButton:e=>({backgroundColor:e.colors.background.mid,color:e.colors.text.mid}),activeIcon:e=>({color:e.colors.primary.textInside}),["ok"]:e=>({backgroundColor:e.colors.warning.main}),["good"]:e=>({backgroundColor:e.colors.success.main}),["bad"]:e=>({backgroundColor:e.colors.danger.main})});l();var wd=x(R());l();var Zn=x(R());z();function LE(e){let{sources:t,pickSource:o,withGitSyncAction:n,onClose:r}=e,[,i]=O(NE),{navigate:a}=Ce(),s=()=>{r(),a({screen:c=>c.type!=="space"?c:{sideSheet:{type:"gitsync"}}})};return Zn.createElement(Ga,{size:"large",onClose:r,title:"Import your content",subtitle:"Choose a file type or platform below to get started importing your data.",footer:Zn.createElement(zn,{icon:S.GitHub,kind:"default",title:"Need to stay in sync?",details:n?"Set up GitHub or GitLab Sync and link a repo for two-way syncing.":"Start a new space, set up GitHub or GitLab Sync, and link a repo for two-way syncing.",actions:n?[{label:"Set up now",onPress:s}]:void 0})},Zn.createElement(y,{style:[i.cardsWrapper]},t.map(({title:c,name:u,source:d,icon:p})=>Zn.createElement(o4,{key:c,title:u,onPress:()=>o(d),icon:p}))))}function o4(e){let{title:t,description:o,icon:n,onPress:r,style:i}=e,[,a]=O(N),[,s]=O(NE);return Zn.createElement(B.TouchableOpacity,{style:[h.directionRow,h.alignCenter,m.Padding.smallVertical,m.Padding.smallRight,s.importCard,i],onPress:r},Zn.createElement(y,{style:m.Margin.smallLeft},typeof n=="function"?Zn.createElement(n,{size:E.ICON_L}):Zn.createElement(ko,{source:n,style:s.importCardImage})),Zn.createElement(y,{style:m.Margin.smallLeft},Zn.createElement(y,null,Zn.createElement(B.Text.Child,{style:[a.Label,a.text],activeStyle:a.primary},t)),Zn.createElement(y,null,Zn.createElement(B.Text.Child,{style:[a.Body,a.textMuted],activeStyle:a.primary},o))))}var NE=L.create({importCard:e=>({borderWidth:1,borderColor:e.colors.border.main,borderRadius:4,flexShrink:0,flexGrow:0,flexBasis:"32%",padding:m.small,marginRight:m.small,marginBottom:m.small}),importCardImage:{width:E.ICON_L,height:E.ICON_L},cardsWrapper:{flexWrap:"wrap",flexDirection:"row",marginRight:-m.small}});l();var jg=x(R());l();var Pr=x(R());l();var $n=x(R());z();l();var wi=x(R());z();l();var ys=x(R());z();function DE(e){let{fileIcon:t,files:o,setFiles:n}=e,[,r]=O(N),i=Gt(t,{style:r.primary},[t]),a=ys.useCallback(({item:s})=>{let c=()=>{n(u=>u.filter(d=>d.key!==s.key))};return ys.createElement(ga,{layout:"wide",icon:i,title:s.file.name,buttons:[s.uploaded||s.failed?null:ys.createElement(me,{size:E.ICON_M}),s.failed?ys.createElement(A,{tint:j.scarlet.base,icon:S.Alert,title:"Failed to upload. Please try again.",onPress:c}):null,ys.createElement(A,{icon:S.X,title:"Remove",onPress:c})]})},[t,n]);return ys.createElement(Dd,{data:o,renderItem:a})}function Xg(e){let{getSpace:t,files:o,setFiles:n,fileIcon:r,fileExtension:i,limitWarning:a=!1,fileUploadsLimit:s=1/0}=e,[,c]=O(N),u=xo(),d=(b,v)=>{n(C=>C.map(w=>w.key===b?{...w,...v}:w))},p=async b=>{let v=await t();try{let C=await z1({kind:"space_import",space:v.key},b.file);d(b.key,{uploaded:C})}catch(C){throw u.notify({kind:"danger",title:"Error while uploading files",details:"Please try again or contact support if the problem persists.",icon:S.Alert}),d(b.key,{failed:!0}),C}},f=b=>{let v=[];for(let C of b){if(o.length>=s){u.notify({kind:"danger",title:"Cannot upload file",details:`You can only upload ${s} file for this operation`,timeout:5e3});break}if(C.size>209715200){u.notify({kind:"danger",title:`Your file must be less than ${Su(209715200)}`,details:`Please try a different file that's below ${Su(209715200)}`,timeout:5e3});continue}let w={key:Zd(),file:C};v.push(w)}n(C=>C.concat(v)),v.forEach(C=>p(C))};return wi.createElement(wi.Fragment,null,wi.createElement(y,null,wi.createElement(Zw,{icon:r,onDropFiles:f,onPress:async()=>{let b=await Cw();f(b)},hint:`Drop your ${i} file here or choose a file`})),a?wi.createElement(y,{style:m.Margin.smallTop},wi.createElement(D,{style:[c.Caption,c.textMuted]},"GitBook has limits for imported content,"," ",wi.createElement(zi,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))):null,o.length>0?wi.createElement(y,{style:[m.Margin.mediumTop]},wi.createElement(DE,{fileIcon:r,files:o,setFiles:n})):null)}function Zi(e){let{getSpace:t,title:o,subtitle:n,fileIcon:r,fileExtension:i,steps:a=[],startImport:s,onClose:c,limitWarning:u=!1,fileUploadsLimit:d}=e,[,p]=O(N),[f,g]=$n.useState([]),v=f.some(w=>!w.uploaded)||f.length===0,C=async()=>{if(!v){let w=await t();s(f.map(k=>{var I;return(I=k.uploaded)==null?void 0:I.downloadURL}).filter(de),w)}};return $n.createElement(Ga,{title:o,subtitle:n,footer:$n.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},$n.createElement(A,{kind:"secondary",onPress:c,style:m.Margin.smallRight},"Back"),$n.createElement(A,{kind:"primary",disabled:v,onPress:C},"Start import")),onClose:c},a.length>0?$n.createElement(y,{style:[m.Margin.mediumBottom]},a.map((w,k)=>$n.createElement(y,{key:k,style:[h.directionRow]},$n.createElement(y,{style:[m.Margin.smallRight]},$n.createElement(D,{style:[p.Body,p.textMid]},`${k+1}.`)),$n.createElement(y,{style:h.flex1},$n.createElement(D,{style:[p.Body,p.textMid]},w))))):null,$n.createElement(Xg,{getSpace:t,files:f,setFiles:g,fileIcon:r,fileExtension:i,limitWarning:u,fileUploadsLimit:d}))}l();var Wt=x(R());z();l();var ki=x(R());z();function BE(e){let{url:t,setURL:o,placeholder:n="e.g: https://mysite.com/a_file",supportedFormats:r=[],validate:i=Fr}=e,[,a]=O(N),s=i(t);return ki.createElement(ki.Fragment,null,ki.createElement(y,null,ki.createElement(Xt,{size:"large",placeholder:n,value:t,cleareable:!0,onChangeText:o,feedback:t&&!s?{type:"danger",message:"URL is invalid. It must be a valid absolute URL starting with https:// or http://"}:{type:"none"}})),r.length>1?ki.createElement(y,{style:[m.Margin.smallTop,h.directionRow,h.alignCenter]},ki.createElement(y,null,ki.createElement(S.InfoCircle,{size:E.ICON_S,style:a.info})),ki.createElement(y,{style:[m.Margin.smallLeft,h.flex1]},ki.createElement(D,{style:[a.Caption,a.info]},`Supported formats: ${r.join(", ")}`))):null)}function zE(e){let{getSpace:t,title:o,subtitle:n,fileIcon:r,fileExtension:i,steps:a=[],startImport:s,onClose:c,limitWarning:u=!1,fileUploadsLimit:d}=e,[,p]=O(N),[f,g]=Wt.useState([]),[b,v]=Wt.useState(""),[C,w]=Wt.useState("files"),k=f.some(M=>!M.uploaded),I=M=>Fr(M),_=(k||f.length===0)&&(!b||!I(b)),P=async()=>{if(!_){let M=await t();s(C==="files"?f.map(T=>{var V;return(V=T.uploaded)==null?void 0:V.downloadURL}).filter(de):[b],M)}};return Wt.createElement(Ga,{title:o,subtitle:n,footer:Wt.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},Wt.createElement(A,{kind:"secondary",onPress:c,style:m.Margin.smallRight},"Back"),Wt.createElement(A,{kind:"primary",disabled:_,onPress:P},"Start import")),onClose:c},a.length>0?Wt.createElement(y,{style:[m.Margin.mediumBottom]},a.map((M,T)=>Wt.createElement(y,{key:T,style:[h.directionRow]},Wt.createElement(y,{style:[m.Margin.smallRight]},Wt.createElement(D,{style:[p.Body,p.textMid]},`${T+1}.`)),Wt.createElement(y,{style:h.flex1},Wt.createElement(D,{style:[p.Body,p.textMid]},M))))):null,Wt.createElement(y,{style:[h.flex1,h.directionRow,h.alignCenter]},Wt.createElement(Ha,null,Wt.createElement(Ha.Tab,{active:C==="files",onPress:()=>w("files")},"Files"),Wt.createElement(Ha.Tab,{active:C==="url",onPress:()=>w("url")},"URL"))),Wt.createElement(y,{style:[h.directionColumn,m.Margin.smallTop]},C==="files"?Wt.createElement(Xg,{getSpace:t,files:f,setFiles:g,fileIcon:r,fileExtension:i,limitWarning:u,fileUploadsLimit:d}):null,C==="url"?Wt.createElement(BE,{url:b,validate:I,setURL:v,placeholder:"https://myapi.io/swagger.yaml",supportedFormats:["JSON","YAML"]}):null))}l();var Kg=x(R());function VE(e,t){let{createSpace:o}=TE({organization:e}),n=Kg.useRef();return Kg.useCallback(async()=>{if(t)return n.current=t,Promise.resolve(t);if(n.current)return Promise.resolve(n.current);if(o)return n.current=await o(!1),n.current},[])}l();var Po=x(R());z();function _b(e){let{title:t="Import a Website",subtitle:o="Enter a link to a web page below to import it into your space.",onSubmit:n,onClose:r}=e,[i,a]=Po.useState(""),[,s]=O(N),c=i?Fr(i):!1,u=()=>{c&&n(i)};return Po.createElement(Ga,{title:t,subtitle:o,footer:Po.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},Po.createElement(A,{kind:"secondary",onPress:r,style:m.Margin.smallRight},"Back"),Po.createElement(A,{kind:"primary",onPress:u},"Start import")),onClose:r},Po.createElement(y,{style:[m.Margin.smallBottom]},Po.createElement(gr,{label:"URL",labelDescription:"We\u2019ll crawl your site and pull in as much of your content as possible.",placeholder:"https://docs.mycompany.com",value:i,onChangeText:a,onSubmit:u,feedback:i?{type:c?"success":"danger",message:c?"":"URL is not valid"}:void 0})),Po.createElement(y,{style:m.Margin.mediumBottom},Po.createElement(D,{style:[s.Caption,s.textMuted]},"GitBook has limits for imported content,"," ",Po.createElement(zi,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))),i&&c?Po.createElement(Po.Suspense,{fallback:null},Po.createElement(n4,{url:i})):null)}function n4(e){let{url:t}=e,[o]=Cp(t);return o.data?Po.createElement(y,{style:[m.Margin.mediumBottom]},Po.createElement(Fi,{title:o.data.title,details:o.data.site,icon:Je(Bn,{source:{uri:o.data.icon||void 0}}),onPress:()=>{ha(t)}})):null}function WE(e){let{sourceInfo:t,startImport:o,organization:n,space:r,setSource:i,onBack:a}=e,s=VE(n,r),{source:c}=t!=null?t:{};if(t===void 0||c===void 0)return null;switch(c){case"website":return Pr.createElement(_b,{title:t.title,subtitle:t.subtitle,onSubmit:async u=>{let d=await s();o([u],d)},onClose:()=>{i(null)}});case"github-wiki":return Pr.createElement(_b,{title:t.title,subtitle:t.subtitle,onSubmit:async u=>{let d=await s();o([u],d)},onClose:()=>{i(null)}});case"docx":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"markdown":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"html":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"zip":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"dropbox-paper":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"google-docs":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"confluence":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"quip":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"notion":return Pr.createElement(Zi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"open-api":return Pr.createElement(zE,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,fileUploadsLimit:1,limitWarning:!0});default:Pt(c)}}l();var Re=x(R());z();l();var Ib="https://app.gitbook.com/public/app/assets/confluence-XZRVQN7T.png";var Pb="https://app.gitbook.com/public/app/assets/dropbox-paper-F627BIKK.png";var Eb="https://app.gitbook.com/public/app/assets/google-docs-T6C75XLR.png";var Tb="https://app.gitbook.com/public/app/assets/openapi-H4Y5H3P5.png";var Mb="https://app.gitbook.com/public/app/assets/quip-SHLUXOMG.png";function FE(){let[e]=O(),[,t]=O(N),o=Gt(S.FileCode,{style:t.primary}),n=Gt(S.FileText,{style:{color:j.scarlet.light}}),r=Gt(S.FileWord,{style:{color:j.primary.light}}),i=Gt(S.FileCode,{style:{color:j.violet.light}}),a=Gt(S.FileZIP,{style:{color:j.orange.light}}),s=Gt(S.GitHub,{style:{color:e.colors.text.main}}),c=Gt(S.Notion,{style:{color:e.colors.text.main}}),u=Gt(Bn,{source:{uri:Ib}}),d=Gt(Bn,{source:{uri:Mb}}),p=Gt(Bn,{source:{uri:Pb}}),f=Gt(Bn,{source:{uri:Eb}}),g=Gt(Bn,{source:{uri:Tb}});return[{name:"Website",title:"Import a Website",subtitle:"Enter a link to a web page below to import it into your space.",source:"website",icon:o,type:"application"},{name:"Markdown",title:"Import a Markdown file",source:"markdown",icon:n,subtitle:"Drag and drop your .md file below to start the import.",fileIcon:S.FileText,fileExtension:".md",type:"file"},{name:"MS Word",title:"Import a Word document",source:"docx",icon:r,subtitle:"Drag and drop your .docx file below to start the import.",fileIcon:S.FileWord,fileExtension:".docx",type:"application"},{name:"HTML",title:"Import a HTML file",source:"html",subtitle:"Drag and drop your .html file below to start the import.",icon:i,fileIcon:S.FileCode,fileExtension:".html",type:"file"},{name:"ZIP",title:"Import a ZIP file",source:"zip",subtitle:"Drag and drop your .zip file below to start the import.",icon:a,fileIcon:S.FileZIP,fileExtension:".zip",type:"file"},{name:"Confluence",title:"Import from Confluence",icon:u,source:"confluence",type:"application",subtitle:"Export your space as ZIP to bring your content from Confluence.",fileExtension:".zip",fileIcon:S.FileZIP,steps:[Re.createElement(Re.Fragment,null,"Go to ",Re.createElement(D,{style:[t.Bold,t.text]},"Space Settings")," for the space you're looking to export and select the"," ",Re.createElement(D,{style:[t.Bold,t.text]},"Content tools")," section."),Re.createElement(Re.Fragment,null,"Click on the ",Re.createElement(D,{style:[t.Bold,t.text]},"Export")," tab, and select"," ",Re.createElement(D,{style:[t.Bold,t.text]},"HTML"),", then hit"," ",Re.createElement(D,{style:[t.Bold,t.text]},"Next, and Export"),"."),Re.createElement(Re.Fragment,null,"Choose ",Re.createElement(D,{style:[t.Bold,t.text]},"Normal Export")," unless you want to choose specific pages to export.")]},{name:"Notion",title:"Import from Notion",icon:c,source:"notion",type:"application",subtitle:"Export your workspace as Markdown to bring your content from Notion.",steps:[Re.createElement(Re.Fragment,null,"Go to the Workspace you're looking to export and select the"," ",Re.createElement(D,{style:[t.Bold,t.text]},"\u2026")," button in the top right."),Re.createElement(Re.Fragment,null,"Choose ",Re.createElement(D,{style:[t.Bold,t.text]},"Export All as Markdown"))],fileIcon:S.FileText,fileExtension:".md"},{name:"GitHub Wiki",title:"Import from GitHub Wiki",subtitle:"Enter a link to a GitHub Wiki below to import it into your space.",icon:s,source:"github-wiki",type:"application"},{name:"Quip",title:"Import from Quip",icon:d,source:"quip",fileIcon:S.FileText,fileExtension:".md",type:"application"},{name:"Dropbox Paper",title:"Import from Dropbox Paper",icon:p,source:"dropbox-paper",steps:[Re.createElement(Re.Fragment,null,`Click "\u2026" (ellipsis) in the Paper doc you're viewing.`),Re.createElement(Re.Fragment,null,"Click ",Re.createElement(D,{style:[t.Bold,t.text]},"Export"),"."),Re.createElement(Re.Fragment,null,"Select ",Re.createElement(D,{style:[t.Bold,t.text]},".docx")," and click"," ",Re.createElement(D,{style:[t.Bold,t.text]},"Download"),"."),Re.createElement(Re.Fragment,null,"Drag your downloaded files to the box below to import.")],fileIcon:S.FileWord,fileExtension:".docx",type:"application"},{name:"Google docs",title:"Import from Google Docs",icon:f,source:"google-docs",type:"application",subtitle:"Export your documents as .docx or webpage to bring your content from Google Docs.",steps:[Re.createElement(Re.Fragment,null,"Click on ",Re.createElement(D,{style:[t.Bold,t.text]},"File ",">"," Download"),"."),Re.createElement(Re.Fragment,null,"Choose between ",Re.createElement(D,{style:[t.Bold,t.text]},"Microsoft Word")," or"," ",Re.createElement(D,{style:[t.Bold,t.text]},"Web Page"),".")],fileIcon:S.FileWord,fileExtension:".docx"},{name:"OpenAPI",title:"Import from OpenAPI",icon:g,source:"open-api",type:"application",subtitle:"Provide an OpenAPI specification file or URL to import your API.",fileIcon:S.FileText,fileExtension:".yaml or .json",fileUploadsLimit:1}]}function qE({target:e,onStartImport:t,onComplete:o,onBack:n}){let[r,i]=jg.useState(null),a=FE(),s=xo(),{page:c,space:u,changeRequest:d,organization:p}=e||{},f=C=>{C&&(u?J(St(u,{type:"edit_pick_import",source:C})):p&&J(X1(p,{type:"templates_pick_import",source:C}))),i(C)},g=async(C,w)=>{if(!r)return;let k=await jl(),I={url:C,source:r};return c&&d?k.spaces.importContentInChangeRequestPageById(w.key,d.key,c,I):c?k.spaces.importContentInPageById(w.key,c,I):d!=null&&d.key?k.spaces.importContentInChangeRequest(w.key,d.key,I):k.spaces.importContent(w.key,I)},b=async(C,w)=>{if(r){J(j1(w,void 0,{type:"edit_import",source:r})),t?t(w):n();try{(await s.notifyProgress(Promise.all(C.map(async _=>{let P=await g(_,w);return P?P.data:void 0})),{title:"Importing docs",details:"We are importing your docs, this might take a while."})).some(_=>_&&_.totalResources!==_.importedResources)?s.notify({kind:"warning",title:"Incomplete import",timeout:0,icon:S.Alert,details:"Some of your docs were not imported due to file limits, try splitting them into several imports."}):(s.notify({icon:S.CheckCircle,kind:"success",title:"Imported docs",details:"Docs have been successfully imported. Enjoy!"}),o&&o(w))}catch(k){throw s.notify({kind:"danger",title:"Error while importing docs",details:Mi(k,"Please try again or contact support if the problem persists."),icon:S.Alert}),k}}},v=a.find(({source:C})=>C===r);return{modals:jg.createElement(WE,{sourceInfo:v,startImport:b,space:u,organization:p,setSource:i,onBack:n}),source:r,sources:a,onSelectSource:f}}function GE(e){let{target:t,onStartImport:o,onComplete:n,onClose:r}=e,{modals:i,source:a,sources:s,onSelectSource:c}=qE({onStartImport:u=>{o?o(u):r()},onComplete:n,onBack:()=>c(null),target:t});return wd.createElement(wd.Fragment,null,a?i:wd.createElement(LE,{withGitSyncAction:!!t.space,sources:s,pickSource:c,onClose:r}))}l();var Ug=x(R());z();var Lb="<gb-search-highlight>",Nb="</gb-search-highlight>";function Db(e){let{value:t}=e,o=c4(t),[,n]=O(N);return Ug.default.createElement(Ug.default.Fragment,null,o.map((r,i)=>Ug.default.createElement(D,{key:i,style:[r.isHighlighted?[n.primary,n.Medium]:null]},r.value)))}function c4(e){let t=e.split(Lb),o=t.shift(),n=o?[{value:o,isHighlighted:!1}]:[];return t.forEach(r=>{let i=r.split(Nb);n.push({value:i[0],isHighlighted:!0}),i[1]!==""&&n.push({value:i[1],isHighlighted:!1})}),n}l();l();l();var Qn=x(R());l();var Ab=x(R()),HE=Ab.createContext(()=>{}),u4=Ab.createContext([]);l();var d4=Os();function XE(){let e=Yl();return Bb(e.uid)}function Bb(e){return`${e}-${d4}`}l();var KE=x(R());function jE(){return KE.useContext(HE)}l();var fl=x(R());var m4=fl.createContext({updateRevision:()=>{throw new Error("useUpdateRevision was called outside the UpdateRevisionProvider")},notifyEditing:()=>{throw new Error("useNotifyEditing was called outside the UpdateRevisionProvider")}});function Ft(){let e=fl.useContext(m4);if(!e)throw new Error("useUpdateRevision was called outside the UpdateRevisionProvider");return e.updateRevision}l();var qb=x(R());l();l();var p4=Ue("edits"),UE=({onSet:e})=>{e(t=>{p4.debug("state",t)})};l();l();function Kc(e,t,o,n,r){var c,u,d,p,f,g;let i=(u=(c=e[t])==null?void 0:c[o])==null?void 0:u.pages[n],a=typeof r=="function"?r(i):r;function s(b){var v;return{...e,[t]:{...e[t],[o]:{...(v=e[t])==null?void 0:v[o],pages:b}}}}if(a===void 0){let b={...(p=(d=e[t])==null?void 0:d[o])==null?void 0:p.pages};return delete b[n],s(b)}return s({...(g=(f=e[t])==null?void 0:f[o])==null?void 0:g.pages,[n]:a})}function jc(e,t,o=()=>!0,n=()=>!0){for(let r in e)if(o(r)){for(let i in e[r])if(n(r,i)){for(let a in e[r][i].pages)if(t(r,i,a,e[r][i].pages[a])===!1)return}}}function kd(e,t,o,n){var r,i;return(i=(r=e[t])==null?void 0:r[o])==null?void 0:i.pages[n]}function ri(e){return!e.initialSheet||!e.value?!1:!e.initialSheet.value.document.equals(e.value.document)}function ZE(e,t,o,n){let r=e?ri(e):!1,a={initialSheet:e!=null&&e.initialSheet&&r&&e.initialSheet.beforeSaveKey===n?e.initialSheet:{key:n,value:o},value:t,save:e==null?void 0:e.save,restored:r||e==null?void 0:e.restored,modifiedOnce:(e==null?void 0:e.modifiedOnce)||!1};return a.modifiedOnce=a.modifiedOnce||ri(a),a}function zb(e,t){return Boolean(e.restored&&e.restored.initialSheetKey===t)}function $E(e,t,o){return e.restored?{initialSheet:{key:o,value:t},value:e.restored.value,restored:void 0,modifiedOnce:!0}:e}function QE(e){if(!e.restored)return e}function JE(e,t){if(!e.value)throw new Error("Cannot mark a page as saved without a value");return{initialSheet:t,value:e.value,save:"saved",modifiedOnce:e.modifiedOnce}}var YE=new WeakMap;function xd(e,t=void 0){if(!t){let r=YE.get(e);if(r)return r}let o=new Set;jc(e,(r,i,a,s)=>{if(s.save==="failed")return o.add("crashed"),!1;s.save==="saving"?o.add("saving"):ri(s)?o.add("modified"):s.save==="saved"&&o.add("saved")},r=>!t||t.spaceKey===r,(r,i)=>!t||t.spaceKey===r&&(t.changeRequestKey||"root")===i);let n="untouched";return o.has("crashed")?n="crashed":o.has("modified")?n="modified":o.has("saving")?n="saving":o.has("saved")&&(n="saved"),t||YE.set(e,n),n}var Od=Ue("edits:backup"),Vb=new J1("edits-backup");Vb.version(1).stores({pages:"++id"});var Yg=Vb.table("pages"),e6=xm(2e3,{maxWait:1*60*1e3,concurrent:!1}),t6=({setSelf:e,onSet:t})=>{t((o,n)=>{let r=xd(n instanceof si?{}:n),i=xd(o);r!==i&&Od.debug("status is going from",r,"to",i);let a=()=>g4(o);i==="saved"&&r!=="saved"?(e6.cancel(),a()):e6(a)}),e(f4())};async function f4(){let e={},t=await Yg.limit(200).toArray();if(t.length===0)return Od.info("No backups stored"),e;Od.info(`Loading ${t.length} backup pages: ${t.map(n=>n.pageKey).join(",")}`);let o=new Wr("edits:load-backup",{sampleRate:1});return o.label("Entries",t.length),o.wrapSync(()=>(t.forEach(n=>{let r;try{let i=u1(JSON.parse(n.value));if(Qd.isValue(i))r=i;else throw new Error("invalid JSON in local database, not an editor value")}catch(i){Od.warning("Error while reading entry from edits backup database:",i);return}e=Kc(e,n.spaceKey,n.changeRequestKey,n.pageKey,{modifiedOnce:!1,restored:{value:r,initialSheetKey:n.initialSheetKey}})}),e))}async function g4(e){let t=new Wr("edits:flush-backup");await t.wrap(async()=>{let o=[];jc(e,(n,r,i,a)=>{if(ri(a)&&a.value){let s=k1(a.value);o.push({spaceKey:n,changeRequestKey:r,pageKey:i,value:JSON.stringify(Nh(s)),initialSheetKey:a.initialSheet.key})}else a.restored&&o.push({spaceKey:n,changeRequestKey:r,pageKey:i,value:JSON.stringify(Nh(a.restored.value)),initialSheetKey:a.restored.initialSheetKey})}),t.label("Entries",o.length),await Vb.transaction("rw",Yg,async n=>{await Yg.clear(),o.length>0&&await Yg.bulkPut(o)}),Od.info(`Backup ${o.length} pages: (${o.map(n=>n.pageKey).join(", ")})`)})}l();l();var Zg=60*1e3;function o6(e,t,o){let n=fw(jm(e,t||"root",o)),r=aS(Zg),i=XE();return n&&n.participantId!==i&&n.lockedAt>r-Zg?n:null}var n6=Ue("edits:lock"),r6=({onSet:e})=>{let t=new Map,o=new Map,n=(r,i,a,s)=>{let c=jm(r,i,a),{currentUser:u}=lr.auth();if(!u)return;let d=u.uid,p=Bb(d);if(s){let f=0,g=()=>{f+=1;let v={userId:d,participantId:p,lockedAt:Date.now()};n6.info(`Locking page ${r}/${i}/${a} for ${p} (${f})`,v),c.set(v)};if(g(),!t.has(c.toString())){let v=c.onDisconnect();v.remove(),t.set(c.toString(),v)}let b=setInterval(()=>{g()},Zg/2);o.set(c.toString(),b)}else{n6.info(`Removing lock for page ${r}/${i}/${a} for ${p}`),c.transaction(b=>b&&b.participantId!==p?b:null);let f=t.get(c.toString());f&&(f.cancel(),t.delete(c.toString()));let g=o.get(c.toString());g&&(clearInterval(g),o.delete(c.toString()))}};e((r,i)=>{jc(r,(a,s,c,u)=>{let d=kd(i instanceof si?{}:i,a,s,c),p=ri(u),f=d?ri(d):!1;p!==f&&n(a,s,c,p)}),jc(i instanceof si?{}:i,(a,s,c)=>{kd(r,a,s,c)||n(a,s,c,!1)})})};l();var Uc=Ue("edits:save"),h4=xm(5e3,{maxWait:3*60*1e3,concurrent:!1}),i6=({onSet:e,setSelf:t})=>{e(o=>{h4(()=>y4(o,t))})};async function y4(e,t){let o=Object.entries(e).flatMap(([n,r])=>Object.entries(r).flatMap(([i,a])=>{let s=[],c=Object.entries(a.pages).filter(([d,p])=>ri(p));if(c.length===0)return;c.forEach(([d])=>{s.push([n,i,d])}),t(d=>Wb(e,d instanceof si?{}:d,s,"saving"));let u=i==="root"?void 0:i;return v4(n,u,c).then(d=>(t(p=>Wb(e,p instanceof si?{}:p,s,"saved",d.sheets)),[n,u,d.revision]),()=>(t(d=>Wb(e,d instanceof si?{}:d,s,"failed")),[n,u,null]))})).filter(de);return o.length===0?[]:await Promise.all(o)}function Wb(e,t,o,n,r=new Map){let i={...t};return o.forEach(([a,s,c])=>{i=Kc(i,a,s,c,u=>{if(!u)return;let d=kd(e,a,s,c);if(!d||!d.value||!u.value)return;let p=r.get(c);if(n==="saved"){if(!p){Uc.warning(`Could not find sheet for page ${a}/${s}/${c}. Page was probably deleted, removing it from state.`);return}return JE(u,p)}return d.value.document!==u.value.document?u:{...u,save:n}})}),i}async function v4(e,t,o){let{currentUser:n}=lr.auth(),r=new Wr("edits:saveSpace",{sampleRate:1});r.label("Space",e),r.label("Change Request",t),r.label("Pages",o.length);let i=new Map;try{if(!n)throw new Error(`Attempted to save locally changed space ${e} ${t?`with change request ${t} `:""}but user is not logged in`);let a=await r.wrap(async()=>(Uc.info(`starting save of ${o.length} pages in space ${e} ${t?`(change request: ${t}) `:""}`),bw(e,t,(s,c)=>{o.forEach(([u,d])=>{pr(s,u,p=>{if(p.kind!=="sheet"||!d.value)return p;let f=x1({document:d.value.document,users:[n.uid],revision:s.key,page:u});return f.previous=p.sheet,O1(c,e,f),Uc.debug("Updating page",u,"with sheet",f.key),d.initialSheet.key!==p.sheet&&Uc.warning(`sheet in page "${u}" has been modified since the edits started, expected sheet "${d.initialSheet.key}" but got "${p.sheet}". Potential changes will be replaced.`),i.set(u,{key:f.key,beforeSaveKey:p.sheet,value:d.value}),{...p,sheet:f.key}})})})));return Uc.info(`Saved ${o.length} page(s) (${o.map(s=>s[0]).join(", ")}) to new revision ${a.key} in ${t?`change request ${t} in `:""}space ${e}`),{sheets:i,revision:a}}catch(a){throw Uc.error(`Couldn't save ${o.length} locally stored pages (${o.map(s=>s[0]).join(", ")}) in ${t?`change request ${t} in `:""}space ${e}`,a.stack),a}}var $g=$o({key:"globalPageEditsAtom",default:{},effects:[i6,t6,r6,UE]}),a6=zd({key:"pageEditsSelector",get:([e,t,o])=>({get:n})=>{var i,a;return(a=(i=n($g)[e])==null?void 0:i[t])==null?void 0:a.pages[o]},set:([e,t,o])=>({set:n},r)=>{r instanceof si||n($g,i=>Kc(i,e,t,o,r))}});l();var b4=zd({key:"editsStatusSelector",get:e=>({get:t})=>{let o=t($g);return xd(o,e)}});function s6(e){return oa(b4(e))}l();var _d=x(R());l();var Qg=x(R());var Rd=Qg.createContext({baseRevision:null,pages:[],diffs:new Map,diffMode:null});l();var l6=x(R());function c6(e){let t=Object.keys(e.integrations||{}).sort(),o=Wn(t.map(n=>Bl(n)));return l6.useMemo(()=>{let n={};return o.forEach(r=>{r&&(n[r.name]=(r.blocks||[]).map(i=>({...i,icon:i.icon||r.iconURL})))}),n},[...o])}l();var gl=x(R());var u6=gl.createContext({pages:[],setContentDiffPage:e=>{}});function Jg(e,t,o=!1){let{diffs:n,diffMode:r}=_d.useContext(Rd),i=r==="full"?n.get(t.key):null,a=(i==null?void 0:i.type)==="modified"&&i.before.page.kind==="sheet"?i.before.page.sheet:null,s=Uk(t.sheet?{spaceKey:e,sheetKey:t.sheet}:null,`${e}-${t.key}`);if(t.sheet&&!s)throw new Error(`Sheet "${t.sheet}" not found`);let[c]=Cy([a?{spaceKey:e,sheetKey:a}:null]);if(a&&!c)throw new Error(`Original sheet "${a}" not found`);return[_d.useMemo(()=>{let d=o&&!i?"conflicts":"document",p=s?Fb(s,d):Vh(t.key);if(i){let f=c?Fb(c,d):Vh(t.key);return Qd.create({document:g1(f.document,p.document)})}return p},[s,t.key,i,c,o]),s]}function m6(e,t){let{baseRevision:o,diffMode:n}=_d.useContext(Rd),r=n==="quick"?o==null?void 0:o.pages[t.key]:null,i=r&&r.kind==="sheet"?r.sheet:null,[a]=Cy([i?{spaceKey:e,sheetKey:i}:null]);if(i&&!a)throw new Error(`Original sheet "${i}" not found`);if(n!==null)return a?Fb(a,"document"):null}var d6=new WeakMap;function Fb(e,t){let o=t!=="conflicts",n=d6.get(e),r=o&&n?n:Nl(e.body,t);if(o&&d6.set(e,r),dr(r.document)){let i=r.change();return i.focus(),i.value}return r}var Id=Ue("edits:page");function p6({revision:e,changeRequest:t,page:o,analyticsContext:n}){let r=xo(),[i,a]=Jg(e.space,o,e.conflicts&&o.key in e.conflicts.pages),s=s6({spaceKey:e.space,changeRequestKey:(t==null?void 0:t.key)||null}),[c,u]=Qo(a6([e.space,(t==null?void 0:t.key)||"root",o.key]));qb.useEffect(()=>{var b,v;if(!(c!=null&&c.restored))return;let f=()=>{u(C=>C&&$E(C,i,a==null?void 0:a.key))},g=()=>{u(C=>C&&QE(C))};if(zb(c,a==null?void 0:a.key))Id.info(`performing a fast-forward restore on sheet ${(v=c==null?void 0:c.restored)==null?void 0:v.initialSheetKey}`),f(),r.close("restore-page-edits"),r.notify({id:"restore-page-edits",kind:"info",title:"Previous session restored",details:"We\u2019ve automatically restored the latest unsaved changes you've made.",timeout:3500});else{Id.info(`user has changes made against sheet ${(b=c==null?void 0:c.restored)==null?void 0:b.initialSheetKey} that cannot be fast-forwarded as current sheet is ${a==null?void 0:a.key}. prompting user for their desired action`);let C=r.notifyOrUpdate({id:"restore-page-edits",kind:"info",title:"Unsaved changes found",details:"We have found unsaved changes you've previously made on this page. Restoring these changes will overwrite the current content. Would you like to restore them?",timeout:0,actions:[{label:"Restore",onPress:()=>{Id.info("user restored changes from the non-fast-forward backup"),f(),C()}},{label:"Discard",onPress:()=>{Id.info("user discarded changes from the non-fast-forward backup"),g(),C()}}]});return C}},[c,i,a,u,r]);let[d,p]=C4(c,i,a==null?void 0:a.key);return qb.useEffect(()=>{Id.info(`resolved page value with resolution ${p}`)},[p]),{value:d,onChange:f=>{u(g=>{let b=ZE(g,f.value,i,a==null?void 0:a.key);return b.modifiedOnce&&!(g!=null&&g.modifiedOnce)&&J({...n,page:o.key,type:"edit_page_document_start",collaborators:0}),b})},crashed:s==="crashed"}}function C4(e,t,o){var n;if(!e)return[t,"no-local-edits-or-backup"];if(ri(e)){if(!e.value)throw new Error("Should never be modified and value being null");return[e.value,"local-edits"]}return!e.value&&e.restored?zb(e,o)?[e.restored.value,"backup-fast-forward"]:[t,"backup-no-ff"]:e.value&&((n=e.initialSheet)==null?void 0:n.beforeSaveKey)===o?[e.value,"local-no-edits-post-save"]:e.value?[t.merge({history:e.value.history,decorations:e.value.decorations,selection:e.value.selection.normalize(t.document)}),"local-no-edits-selection-only"]:[t,"local-no-edits"]}var S4=B.createInteractiveComponent(S.EmojiReaction);function f6(e){let{analyticsContext:t,page:o,size:n,readOnly:r=!0}=e,i=Qn.useRef(null),[,a]=O(N),s=Ft(),[c,u]=en(),d=async p=>{var f;(f=i.current)==null||f.close(),p!==o.emoji&&(await u(()=>s(g=>{pr(g,o.key,{emoji:p})})),J({...t,...p?{type:"edit_pick_page_emoji",pageKind:o.kind,emoji:p}:{type:"edit_remove_page_emoji",pageKind:o.kind}}))};return r?o.emoji?Qn.createElement(Wo,{code:o.emoji,size:n}):null:Qn.createElement(Va,{ref:i,wrapper:Kr,anchor:({ref:p,opened:f,toggle:g})=>Qn.createElement(B.TouchableOpacity,{ref:p,onPress:g},c?Qn.createElement(me,{size:n}):Qn.createElement(Qn.Fragment,null,o.emoji?Qn.createElement(Wo,{code:o.emoji,size:n}):Qn.createElement(S4.Child,{size:n,style:f?a.textMid:a.textMuted,activeStyle:a.textMid})))},Qn.createElement(on,{kind:"wide",preferredAlignment:"middle"},Qn.createElement(yp,{onPick:d,onRemove:o.emoji?()=>d(void 0):void 0})))}l();var ie=x(R());z();l();var xi=x(R());z();l();function g6(e){let{screen:t}=Vi(),[,o]=O(w4),n=oa(wy);if(!e)return null;let r=t.type==="space"&&t.comments?t.comments.node:null,i=n&&n.highlighting&&n.node!==r?n.node:null;return r===e?o.highlightOpened:i===e?o.highlightHovered:null}var w4=L.create({container:{position:"relative"},highlightHovered:e=>({backgroundColor:e.colors.background.muted}),highlightOpened:(e,t)=>({backgroundColor:t.color==="light"?j.primary.xxxlight:e.colors.background.muted})});l();var $i=x(R());z();var h6=x(mS());var y6=e=>{let{nodeKey:t,visible:o,buttonSize:n,style:r,shortcutsActive:i}=e,a=$i.useContext(_y),{navigate:s}=Ce(),c=$i.useMemo(()=>a(t),[t]),u=(0,h6.useSubscription)(c),d=$i.useMemo(()=>(u!=null?u:[]).reduce((C,w)=>{let k=Object.values(w.replies).reduce((I,_)=>I+_.count,0);return 1+C+k},0),[u]),p=d>0,f=u==null?void 0:u[0],g=()=>{var C;f&&s({screen:{type:"space",space:f.space,sideSheet:void 0,comments:{node:(C=f.node)!=null?C:void 0,comment:f.key}}})},b=()=>{s({screen:{comments:{node:t,context:"post",comment:void 0}}})},v=()=>p&&f?g():b();return yr(i?{[ze.EDITOR_COMMENT]:v}:{},["editor-selection-collapsed","editor-selection-expanded"],[i,f]),$i.createElement(ee,{editable:!1,style:[o||p?se.visible:se.hidden,r,p?Gb.commentsButtonWithComments:null]},$i.createElement(Uw,{kind:"secondary",size:"small",style:h.justifyContentEnd},$i.createElement(A,{icon:S.Comment,title:p?`${d} Comment${d>1?"s":""}`:"Comment",onPress:v,size:n,style:[Gb.commentButton]},p?d:null),p?$i.createElement(A,{icon:S.Plus,size:n,title:"Leave another comment",onPress:b,style:[Gb.commentButton]}):null))},Gb=q.create({commentButton:{width:"fit-content"},commentsButtonWithComments:{right:-48-m.xlarge}});var pn={};_C(pn,{COMMENTS_COLUMN_EXPANDED_WIDTH:()=>th,MAX_PAGE_OUTLINE_WIDTH:()=>vs,PAGE_BODY_DESKTOP_H_PADDING:()=>yt,PAGE_BODY_DESKTOP_WIDTH:()=>eh,PAGE_BODY_MAX_WIDTH:()=>Jn,PAGE_BODY_MOBILE_H_PADDING:()=>vo,PAGE_OUTLINE_WIDTH:()=>Kb,PUBLIC_DESKTOP_HEADER_HEIGHT:()=>k4,PUBLIC_MOBILE_HEADER_HEIGHT:()=>x4,SPACE_HEADER_HEIGHT:()=>Hb,TOC_DESKTOP_WIDTH:()=>Xb,columnsWidthThreadhold:()=>hl,getPageOutlineWrapperWidth:()=>jb,getToCWrapperDesktopWidth:()=>v6,pageSwitchThreadhold:()=>bs});l();var Hb=E.L,Jn=750,yt=110,vo=m.medium,eh=Jn+2*yt,Xb=300,th=300,Kb=220,vs=300,k4=E.XL,x4=E.L;function hl(e,t=0){let o=t+Xb+eh+Kb;return e===2||(o+=th-vo),o}function bs(e=0){return e+eh}function v6(e){let t=`(100vw - ${eh}px) / 2 - ${e||0}px`;return`max(${Xb}px, calc(${t}))`}function jb(e,t){let o=`100vw - ${v6(e)} - ${Jn}px - ${yt}px - ${typeof t>"u"?yt:t||0}px - ${e||0}px`;return`max(${Kb}px, calc(${o}))`}function O4(e){let{children:t,renderMode:o,isDiffViewEnabled:n,isCommentMarginVisible:r,isFullPage:i,isPDF:a,node:s,interactive:c}=e,{desktopSidebarWidth:u}=xi.useContext(vr),{customBreakpointsPageBodyStyles:d}=xi.useMemo(()=>({customBreakpointsPageBodyStyles:{[hl(2,u)]:h.justifyContentCenter}}),[u]),p=g6(s);return o==="unstyled"?xi.createElement(y,{...c==null?void 0:c.events},t):xi.createElement(G.View,{style:[a?Qi.pdfContainer:null,p,h.flex1,h.directionRow,i?h.justifyContentCenter:h.justifyContentEnd],mobileStyle:[o==="full-width"||o==="centered"?Qi.pageBodyMobileRightPadding:void 0,h.justifyContentCenter],desktopStyle:[o==="full-width"||o==="centered"?a?Qi.pageBodyPDFRightPadding:Qi.pageBodyDesktopRightPadding:void 0],customBreakpointsStyles:d,...c==null?void 0:c.events},xi.createElement(y,{style:o==="centered"||o==="marginless-centered"?[h.flex1,Qi.pageBody,(r||n)&&Qi.pageBodyWithComments]:[h.flex1]},xi.createElement(G.View,{mobileStyle:[o==="full-width"||o==="centered"?Qi.pageBodyMobileLeftMargin:void 0,n?Qi.pageBodyMobileWithDiff:null],desktopStyle:o==="full-width"||o==="centered"?a?Qi.pageBodyPDFLeftMargin:Qi.pageBodyDesktopLeftMargin:void 0},t)))}function b6(e){let{isCommentMarginVisible:t,isDiffViewEnabled:o,isFullPage:n}=e,r=qe();return xi.useMemo(()=>[i=>xi.createElement(O4,{...i,isPDF:r,isDiffViewEnabled:o,isCommentMarginVisible:t,isFullPage:n}),r||!t?void 0:y6],[o,n,t,r])}var Qi=q.create({pdfContainer:{breakInside:"avoid",breakBefore:"auto"},pageBody:{maxWidth:Jn+2*yt},pageBodyWithComments:{maxWidth:Jn+yt,paddingRight:0},pageBodyMobileWithDiff:{marginLeft:vo*2},pageBodyDesktopLeftMargin:{marginLeft:yt},pageBodyDesktopRightPadding:{paddingRight:yt},pageBodyMobileLeftMargin:{marginLeft:vo},pageBodyMobileRightPadding:{paddingRight:vo},pageBodyPDFLeftMargin:{marginLeft:vo},pageBodyPDFRightPadding:{paddingRight:vo}});l();var pe=x(R());z();l();var Ub=x($T()),et=x(R());z();function C6(e){let{analyticsContext:t,parentPages:o,childPages:n,onClose:r,revision:i,page:a}=e,[,s]=O(I4),[c,u]=en(),d=Ft(),p=async(f=!0)=>{await u(async()=>{await d(g=>{if(f){[a,...o,...n].forEach(b=>{du(g,b.key)});return}du(g,a.key)}),await J({...t,type:"edit_conflicts_keep_page",pageKind:a.kind})}),r()};return et.createElement(wt,{title:"Keep page",onClose:r,footer:et.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},et.createElement(A,{kind:"secondary",onPress:()=>{},style:m.Margin.smallRight,disabled:c},"Cancel"),et.createElement(fa,{kind:"secondary",onPress:()=>p(!1),style:m.Margin.smallRight},"Keep only this page"),et.createElement(fa,{kind:"merge",onPress:()=>p()},"Keep"))},(0,Ub.default)(o)?null:et.createElement(y,{style:[(0,Ub.default)(n)?null:s.parentPages]},et.createElement(R4,{revision:i,pages:o,onClose:r})),et.createElement(_4,{revision:i,pages:n,onClose:r}))}function R4(e){let{pages:t,revision:o}=e,{conflicts:n}=o,[,r]=O(N),i=t.length;return t.length?et.createElement(y,{style:[m.Margin.mediumTop]},et.createElement(y,{style:[h.directionRow,m.Margin.smallBottom]},et.createElement(to,{kind:"warning",icon:S.Warning}),et.createElement(D,{style:[m.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",i>1?"are":"is"," ",t.length," conflicted parent"," ",et.createElement(hr,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",et.createElement(hr,{count:i,singular:"it",plural:"all of them"}))),et.createElement(y,null,t.map(a=>{let s=n==null?void 0:n.pages[a.key];return et.createElement(ga,{key:a.key,layout:"wide",icon:()=>s==="deleted-in-head-subtree-modified-in-base"||s==="deleted-in-base-subtree-modified-in-head"?et.createElement(to,{kind:"warning",icon:S.Conflict}):et.createElement(to,{kind:"danger",icon:S.Trashcan}),title:a.title})}))):null}function _4(e){let{pages:t,revision:o}=e,{conflicts:n}=o,[,r]=O(N),i=t.length;return t.length?et.createElement(y,{style:[m.Margin.mediumTop]},et.createElement(y,{style:[h.directionRow,m.Margin.smallBottom]},et.createElement(to,{kind:"warning",icon:S.Warning}),et.createElement(D,{style:[m.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",t.length>1?"are":"is"," ",t.length," nested"," ",et.createElement(hr,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",et.createElement(hr,{count:i,singular:"it",plural:"all of them"}))),et.createElement(y,null,t.map(a=>{let s=n==null?void 0:n.pages[a.key];return et.createElement(ga,{key:a.key,layout:"wide",icon:()=>s==="deleted-in-head-subtree-modified-in-base"||s==="deleted-in-base-subtree-modified-in-head"?et.createElement(to,{kind:"warning",icon:S.Conflict}):et.createElement(to,{kind:"danger",icon:S.Trashcan}),title:a.title})}))):null}var I4=L.create({parentPages:e=>({borderBottomColor:e.colors.border.mid,borderBottomWidth:1,marginBottom:m.large,paddingBottom:m.large})});l();var vt=x(R());z();l();var er=x(R());z();var S6=4;function w6(e){let{space:t,page:o,readOnly:n,...r}=e,[i,a]=er.useState(!1),s=Zb(t,o),c=Yb();if(s.length===0)return null;let u=i?s:s.slice(0,S6),d=s.length-S6,p=!i&&d>0;return er.createElement(y,{...r,style:[h.directionRow,h.wrap]},u.map(f=>er.createElement(y,{key:f.key,style:[m.Margin.mediumRight,m.Margin.mediumTop]},er.createElement(A,{kind:"default",size:"small",icon:S.ArrowDownLeft,onPress:()=>c(f)},f.page.title))),p?er.createElement(y,{style:[m.Margin.mediumTop]},er.createElement(A,{kind:"grey",size:"small",onPress:()=>a(!0),title:er.createElement(er.Fragment,null,"Show ",d," more"," ",er.createElement(hr,{count:d,singular:"backlink",plural:"backlinks"}))},`+${d} more`)):null)}function Yb(){let{navigate:e}=Ce();return er.useCallback(t=>{let{page:o,revision:n}=t;if(o.kind==="link")return;let r=Ye(n,o.key);e({screen:i=>i.type==="space"&&n.space===i.space?{page:r}:{type:"space",space:n.space,page:r,changeRequest:void 0,revision:void 0}})},[])}function Zb(e,t){return P4([{kind:"page",page:t.key},{kind:"page",page:t.key,space:e.key}]).filter(n=>n.page.key!==t.key||n.revision.space!==e.key)}function P4(e){let t=e.map(r=>Xd(r)),[o]=Wn([Rw(t)]),n=uw(o.map(r=>({space:r.space,revision:r.revision})));return o.map((r,i)=>{var c;let a=(c=n[i])==null?void 0:c.result;return a?Object.keys(r.pages).filter(u=>Object.keys(r.pages[u].references).some(d=>t.includes(d))).map(u=>({key:`${a.space}-${u}`,revision:a,page:a.pages[u]})):null}).filter(de).flat().sort((r,i)=>r.page.key<i.page.key?-1:r.page.key>i.page.key?1:0)}function oh(e){let{space:t,analyticsContext:o,page:n,onClose:r,revision:i}=e,[,a]=O(N),s=Ft(),c=async u=>{u&&(await s(d=>{E1(d,n.key,{deleteEmptyGroupParent:!0})}),J({...o,type:"edit_remove_page",pageKind:n.kind})),r()};return vt.createElement(gu,{title:n.kind==="group"?"Delete group":"Delete page",kind:"danger",confirmButtonText:"Delete",onComplete:c},vt.createElement(y,null,vt.createElement(D,{style:[a.Body,a.text]},"Confirming will delete all the content; however, it will still be available in the version history.")),vt.createElement(vt.Suspense,{fallback:null},vt.createElement(E4,{space:t,page:n,onClose:r})),n.kind!=="link"&&vt.createElement(T4,{revision:i,page:n,onClose:r}))}function E4(e){let{space:t,page:o,onClose:n}=e,[,r]=O(N),i=Yb(),a=Zb(t,o);return a.length===0?null:vt.createElement(y,{style:[m.Margin.mediumTop]},vt.createElement(y,null,vt.createElement(D,{style:[r.Label,r.textMuted]},"Deleting this page will break links in the following ",a.length," pages:")),vt.createElement(y,{style:[h.directionRow,h.wrap]},a.map(s=>vt.createElement(y,{key:s.key,style:[m.Margin.smallRight,m.Margin.smallTop]},vt.createElement(A,{kind:"secondary",size:"small",icon:S.ArrowDownLeft,onPress:()=>{n(),i(s)}},s.page.title)))))}function T4(e){let{page:t,revision:o,onClose:n}=e,[,r]=O(N),{navigateToPage:i}=Qa(),s=au(o,t.key).map(u=>{var d;return((d=o.conflicts)==null?void 0:d.pages[u.key])==="deleted-in-base"?u:null}).filter(Boolean),c=s.length;return c?vt.createElement(y,{style:[m.Margin.mediumTop]},vt.createElement(y,{style:[h.directionRow,m.Margin.mediumBottom]},vt.createElement(to,{kind:"warning",icon:S.Warning}),vt.createElement(D,{style:[m.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",c>1?"are":"is"," ",s.length," nested"," ",vt.createElement(hr,{count:Object.keys(s.length).length,singular:"page",plural:"pages"})," ","deleted in the primary content but modified in your change request.",vt.createElement("br",null),"Deleting the current page, you would delete ",c>1?"all of them":"it",".")),vt.createElement(y,null,s.map(u=>vt.createElement(ga,{key:u.key,layout:"wide",icon:()=>vt.createElement(to,{kind:"danger",icon:S.Trashcan}),title:u.title,buttons:[vt.createElement(A,{size:"medium",kind:"secondary",onPress:()=>{n(),i(o,u.key)}},"Open")]})))):null}function k6(e){let{page:t,document:o,conflictType:n,pageWithComments:r,pageIsDiff:i}=e,[,a]=O(N4),s=Ft(),[c,u]=en(),d=xo(),p=mr.getDocumentConflicts(o),f=p.isEmpty(),g=()=>{f&&u(async()=>{let v=await s(C=>{du(C,t.key)});v&&!o1(v)&&d.notify({kind:"success",icon:S.CheckCircle,title:"All conflicts have been resolved",details:"You can now merge this change request."})})},b=()=>{switch(n){case"deleted-in-head":case"deleted-in-base":case"deleted-in-base-subtree-modified-in-head":case"deleted-in-head-subtree-modified-in-base":return pe.createElement(L4,{conflictType:n,onPressMarkAsResolved:g,loading:c,...e});default:return typeof n=="boolean"?pe.createElement(M4,{conflictNodes:p,canBeResolved:f,loading:c,onPressMarkAsResolved:g,...e}):null}};return pe.createElement(y,{style:[h.directionRow,h.justifyContentCenter,m.Margin.mediumBottom,a.alert]},pe.createElement(y,{style:[h.flex1,r||i?a.alertWithComments:a.alertFullWidth]},pe.createElement(y,{style:[h.directionRow,h.alignCenter,m.Padding.mediumVertical,m.Padding.mediumHorizontal,a.alertInner]},b())))}var M4=e=>{let{hasBeenResolved:t,canBeResolved:o,loading:n,conflictNodes:r,onPressMarkAsResolved:i}=e,[,a]=O(N),s=pe.useRef(),c=f=>{let g=Wa(f);g&&ek(g)},u=f=>{var C;let b=(s.current?r.findIndex(w=>w.key===s.current):-1)+f;b<0?b=r.size-1:b>=r.size&&(b=0);let v=(C=r.get(b))==null?void 0:C.key;v&&(s.current=v,c(v))},d=()=>{u(1)},p=()=>{u(-1)};return pe.createElement(pe.Fragment,null,pe.createElement(y,{style:m.Margin.mediumRight,testID:"conflictBanner.badge"},t?pe.createElement(to,{kind:"success",size:"large",icon:S.Check}):pe.createElement(to,{kind:"merge",size:"large",icon:S.Conflict})),pe.createElement(y,{style:[h.flex1]},pe.createElement(D,{style:[a.Label,a.textMid],testID:"conflictBanner.message"},t?"All conflicts with the primary content have been resolved for this page.":pe.createElement(pe.Fragment,null,"This page has ",o?"no":r.size," unresolved"," ",pe.createElement(hr,{count:r.size,singular:"conflict",plural:"conflicts"})," ","with the primary content."," ",o?"Confirm by marking this page as resolved.":"Resolve them by editing this document."))),t?null:pe.createElement(y,{style:[m.Margin.mediumLeft,h.directionRow]},o?null:pe.createElement(pe.Fragment,null,pe.createElement(A,{size:"medium",rightIcon:S.ChevronUp,onPress:p,testID:"conflictBanner.prevButton"},"Prev"),pe.createElement(A,{size:"medium",rightIcon:S.ChevronDown,onPress:d,style:m.Margin.smallRight,testID:"conflictBanner.nextButton"},"Next")),pe.createElement(A,{size:"medium",kind:"secondary",title:o?"Confirm resolution of all conflicts in this page":"You need to first resolve conflicts in the document",disabled:n||!o,icon:n?me:S.Check,onPress:i,testID:"conflictBanner.resolveButton"},"Mark as resolved")))},L4=e=>{let{hasBeenResolved:t,loading:o,onPressMarkAsResolved:n,page:r,space:i,analyticsContext:a,revision:s,conflictType:c}=e,[u,d]=pe.useState(!1),[p,f]=pe.useState(!1),[,g]=O(N),b=au(s,r.key).filter(P=>{var M,T;return((M=s==null?void 0:s.conflicts)==null?void 0:M.pages[P.key])==="deleted-in-head"||((T=s==null?void 0:s.conflicts)==null?void 0:T.pages[P.key])==="deleted-in-base"}),v=()=>{let P="Do you want to keep the modified page or delete it?",M=b.length>1?"pages":"page";switch(c){case"deleted-in-base":return`This page has been deleted in the primary content, but has been modified in this change request. ${P}`;case"deleted-in-head":return`This page has been deleted in this change request, but has been modified in the primary content ${P}`;case"deleted-in-base-subtree-modified-in-head":return`This page has been deleted in the primary content but has ${b.length} conflicted child ${M}. Do you want to keep or delete it?`;case"deleted-in-head-subtree-modified-in-base":return`This page has been deleted in your change request but has ${b.length} conflicted child ${M}. Do you want to keep or delete it?`}},w=(P=>{let M=[];function T(V){var U;let K=Object.values(s.pages).find(F=>{var H;return(H=F==null?void 0:F.pages)==null?void 0:H.includes(V.key)});K&&((U=s.conflicts)!=null&&U.pages[K.key])&&(M.push(K),T(K))}return T(P),M})(r),k=au(s,r.key),I=()=>f(!0),_=()=>{if(w.length||k.length){d(!0);return}n()};return pe.createElement(pe.Fragment,null,pe.createElement(pe.Fragment,null,pe.createElement(y,{style:m.Margin.mediumRight,testID:"conflictBanner.badge"},t?pe.createElement(to,{kind:"success",size:"large",icon:S.Check}):c==="deleted-in-base-subtree-modified-in-head"||c==="deleted-in-head-subtree-modified-in-base"?pe.createElement(to,{kind:"warning",size:"large",icon:S.Conflict}):pe.createElement(to,{kind:"danger",size:"large",icon:S.Trashcan})),pe.createElement(y,{style:[h.flex1]},pe.createElement(D,{style:[g.Label,g.textMid],testID:"conflictBanner.message"},t?"All conflicts with the primary content have been resolved for this page.":v())),t?null:pe.createElement(y,{style:[m.Margin.mediumLeft,h.directionRow]},pe.createElement(y,{style:[m.Margin.mediumLeft,h.directionRow]},pe.createElement(A,{size:"medium",icon:o?me:S.Copy,onPress:_,testID:"conflictBanner.keepButton"},"Keep"),pe.createElement(A,{size:"medium",icon:o?me:S.Trashcan,onPress:I,testID:"conflictBanner.deleteButton"},"Delete")))),pe.createElement(it,null,u?pe.createElement(C6,{page:r,revision:s,analyticsContext:a,onClose:()=>d(!1),parentPages:w,childPages:k}):null),pe.createElement(it,null,p?pe.createElement(oh,{space:i,page:s.pages[r.key],revision:s,analyticsContext:a,onClose:()=>f(!1)}):null))},N4=L.create({alert:e=>({position:"sticky",top:-E.RADIUS_L,right:0,left:0,zIndex:1}),alertInner:e=>({borderRadius:E.RADIUS_L,borderWidth:1,borderColor:e.colors.border.mid,backgroundColor:e.colors.background.main,...e.shadows.tight}),alertFullWidth:{maxWidth:Jn+2*yt},alertWithComments:{maxWidth:Jn+yt}});l();var _e=x(R());z();var O6=op({width:1448,height:240}),A4=B.createInteractiveComponent(O6.View);function R6(e){let{page:t}=e;return Kd(t)?_e.createElement(_e.Suspense,{fallback:_e.createElement(B4,null)},_e.createElement(z4,{...e})):null}function B4(e){return _e.createElement(y,{style:[Ea.pageCover]},_e.createElement(_6,null))}function z4(e){let{page:t,revision:o,readOnly:n,analyticsContext:r}=e,[i,a]=_e.useState(!1),s=Bt(),c=Ft(),u=qe(),[d,p]=en(),f=x6(),g=null;if(t.cover){let P=t.cover.kind==="file"?o.files[t.cover.file]:null;f=(t.cover.kind==="file"?P?ma(P==null?void 0:P.downloadURL):null:t.cover.url)||f,P!=null&&P.dimensions&&(g=P.dimensions)}let b=t.coverY||0,v=_e.useMemo(()=>new Qe.Value(b),[t.key,t.coverY]),C=_e.useRef(b);_e.useEffect(()=>{let P=v.addListener(({value:M})=>{C.current=M});return()=>{v.removeListener(P)}},[v]);let w=async()=>{a(!1),await c(P=>{pr(P,t.key,{coverY:C.current})}),J({...r,type:"edit_reposition_cover"})},k=()=>{a(!1),v.flattenOffset(),v.setValue(b)},I=_e.useRef(null),_=ne(I);return WS(()=>{if(n)return;let P=async()=>{let[M]=await s.prompt({title:"Select cover image",accept:"images",acceptURL:!0});M&&(await p(()=>c(T=>{pm(T,t.key,M)})),J({...r,type:"edit_upload_cover"}))};return{key:"pageCover",title:"Page cover",commands:[{key:"pageCover.select",icon:S.Image,title:"Select image",trigger:()=>{P()}},{key:"pageCover.reposition",icon:S.ArrowsMove,title:"Reposition",trigger:()=>{a(!0)}},{key:"pageCover.remove",icon:S.Trashcan,title:"Remove",trigger:async()=>{await c(M=>{P1(M,t.key)}),J({...r,type:"edit_remove_cover"})}}]}},[r,t.key,n]),_e.createElement(A4,{style:[Ea.pageCover],isPDF:u},_e.createElement(V4,{coverUrl:f,animatedY:v,repositioning:i,isPDF:u,coverFileDimensions:g}),d?_e.createElement(_6,null):null,n||u?null:_e.createElement(B.View.Child,{style:[Ea.pageCoverButton,h.directionRow],activeStyle:"visible",inactiveStyle:i||_.opened?"visible":"hidden"},i?_e.createElement(_e.Fragment,null,_e.createElement(A,{kind:"secondary",size:"medium",style:[m.Margin.smallRight],onPress:k},"Cancel"),_e.createElement(A,{kind:"primary",size:"medium",onPress:w},"Save")):_e.createElement(_e.Fragment,null,t.cover?null:_e.createElement(tk,{icon:S.Image,command:"pageCover.select",kind:"secondary",size:"medium",style:[m.Margin.smallRight]},"Change cover"),_e.createElement(A,{ref:I,icon:S.MoreVertical,rounded:!0,size:"medium",kind:"secondary",active:_.opened,onPress:()=>{_.open(["pageCover"])}}))))}function V4(e){let{coverUrl:t,animatedY:o,repositioning:n,isPDF:r,coverFileDimensions:i}=e,a=Hr(),s=_e.useRef(null),[c,u]=_e.useState(i),[d,p]=O6.useDimensions(),f=c?W4(d,c):0,g=_e.useMemo(()=>Ad.create({onStartShouldSetPanResponder:(k,I)=>!1,onStartShouldSetPanResponderCapture:(k,I)=>!1,onMoveShouldSetPanResponder:(k,{dx:I})=>n,onMoveShouldSetPanResponderCapture:(k,I)=>!1,onPanResponderGrant:(k,{dx:I})=>{o.extractOffset()},onPanResponderMove:(k,{dy:I})=>{o.setValue(I/f)},onPanResponderTerminationRequest:(k,I)=>!0,onPanResponderRelease:(k,{dy:I})=>{o.flattenOffset()}}),[f,n]),b=c?c.width*f:0,v=c?c.height*f:0,C=(d.height-v)/2,w=!!c&&p;return _e.createElement(y,{...g.panHandlers,style:[q.absoluteFill,Ea.pageCoverInner,n&&F4.pageCoverRepositioning]},!r&&_e.createElement(y,{style:[Ea.pageCoverOverlay,a.color==="dark"&&Ea.pageCoverOverlayDark,w&&Ea.pageCoverOverlayReady]}),_e.createElement(cS,{ref:s,source:{uri:t},loading:"priority",style:[Ea.pageCoverImage,b&&v?{top:r?0:Qe.diffClamp(Qe.add(C,Qe.multiply(o,f)),-(v-d.height),0),left:(d.width-b)/2,width:b,height:v}:{width:"100%",top:o}],onLoad:()=>{var k,I,_,P;u({width:(I=(k=s.current)==null?void 0:k.width)!=null?I:0,height:(P=(_=s.current)==null?void 0:_.height)!=null?P:0})}}))}function _6(){return _e.createElement(y,{style:Ea.pageCoverLoadingOverlay},_e.createElement(me,{size:E.ICON_L}))}function W4(e,t){let o=e.width/t.width,n=e.height/t.height;return t.height*o<e.height?n:o}var F4=q.create({pageCoverRepositioning:{cursor:"grab"}}),Ea=q.create({pageCoverOverlay:{position:"absolute",inset:0,opacity:1,zIndex:1,transitionDelay:"200ms",transition:"opacity 500ms ease-in, z-index 1000ms ease-in",backgroundColor:"rgba(255,255,255,.2)",backdropFilter:"blur(10px)"},pageCoverOverlayDark:{backgroundColor:"rgba(0,0,0,.2)"},pageCoverOverlayReady:{zIndex:-1,opacity:0},pageCover:{position:"relative",height:240,backgroundColor:j.GREY_BLUE_LIGHT},pageCoverInner:{overflow:"hidden"},pageCoverImage:{position:"absolute",left:0,right:0,objectFit:"cover",pointerEvents:"none"},pageCoverButton:{position:"absolute",bottom:m.medium,right:m.medium},pageCoverLoadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:j.GREY_BLUE_LIGHT,justifyContent:"center",alignItems:"center"}});l();var Ae=x(R());z();l();var To=x(R());z();l();var Eo=x(R());l();var We=x(R());z();function I6(e){let{revision:t,analyticsContext:o,page:n,onClose:r}=e,i=We.useRef(null),[,a]=O(N),[s,c]=We.useState(n.title),[u,d]=We.useState(n.emoji),[p,f]=We.useState("path"in n&&n.path?n.path:""),[g,b]=We.useState("ref"in n?n.ref:void 0),v=Ft(),C=iu(t,n.key),w=C?Ye(t,C.key):"",k=n.kind!=="link"?a1(t,n.key,s):"",I=async()=>{await v(M=>{let T=n.kind!=="link"?{title:s,emoji:u,path:p?Th(p):void 0}:{title:s,emoji:u,ref:g};pr(M,n.key,T)}),n.title!==s&&J({...o,type:"edit_page_title",pageKind:n.kind}),p&&n.path!==p&&J({...o,type:"edit_page_path",pageKind:n.kind}),n.emoji!==u&&J({...o,...u?{type:"edit_pick_page_emoji",pageKind:n.kind,emoji:u}:{type:"edit_remove_page_emoji",pageKind:n.kind}}),r()},_=M=>{var T;(T=i.current)==null||T.close(),d(M)},P=We.useMemo(()=>u?Je(Wo,{code:u}):null,[u]);return We.createElement(wt,{title:"Edit page",onClose:r,footer:We.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},We.createElement(A,{kind:"secondary",onPress:r,style:m.Margin.smallRight},"Cancel"),We.createElement(fa,{kind:"primary",onPress:I},"Save"))},We.createElement(y,{style:[m.Margin.largeBottom]},We.createElement(y,{style:[m.Margin.smallBottom]},We.createElement(Hl,null,"Title")),We.createElement(y,{style:[h.directionRow,h.alignEnd]},We.createElement(y,{style:[m.Margin.mediumRight]},We.createElement(Va,{ref:i,wrapper:Kr,anchor:({ref:M,opened:T,toggle:V})=>We.createElement(A,{ref:M,active:T,onPress:V,kind:"secondary",size:"large",icon:P||S.EmojiReaction})},We.createElement(on,{kind:"wide"},We.createElement(yp,{onPick:_,onRemove:u?()=>_(void 0):void 0})))),We.createElement(y,{style:[h.flex1]},We.createElement(Xt,{size:"large",value:s,onChangeText:c,onSubmit:I})))),n.kind==="link"?We.createElement(y,null,We.createElement(of,{label:"Reference",size:"large",value:g,context:{space:t.space,revision:t.key},onChangeValue:b})):We.createElement(y,null,We.createElement(Xt,{label:"Slug",size:"large",prefix:`${w}/`,value:p,placeholder:k,onChangeText:f,onSubmit:I,feedback:p&&!XC(p)?{type:"warning",message:We.createElement(We.Fragment,null,"The page slug contains unsupported characters for an URL. Saving will replace it by"," ",We.createElement(D,{style:[a.Bold]},Th(p)),".")}:void 0})))}l();var bo=x(R());z();l();var $b="https://app.gitbook.com/public/app/assets/docs-page.raw-MB3QTRCE.svg";var Qb="https://app.gitbook.com/public/app/assets/editorial-post.raw-527V74B3.svg";var Jb="https://app.gitbook.com/public/app/assets/landing-page.raw-EDHVYRIQ.svg";var X4=225,K4=200,j4=112,eC=E.ICON_XL,U4=[{type:"docs",name:"Docs page",description:"A standard page, with table of contents and an outline.",icon:Je(Bn,{source:{uri:$b}})},{type:"editorial",name:"Editorial post",description:"No table of contents, but visible page outline. Great for blogs!",icon:Je(Bn,{source:{uri:Qb}})},{type:"landing",name:"Landing page",description:"A full-width page, with no table of contents and no outline.",icon:Je(Bn,{source:{uri:Jb}})}];function P6(e){let{page:t,page:{layout:o=ra(t)},analyticsContext:n,onClose:r}=e,[i,a]=bo.useState(o),s=Ft(),c=d=>{a(d)},u=async()=>{o!==i&&(await s(d=>{pr(d,t.key,{layout:i})}),J({...n,type:"edit_page_layout",pageKind:t.kind,pageLayout:i})),r()};return bo.createElement(wt,{size:"xlarge",title:"Page Layout",subtitle:"Customize this page by selecting a layout. Some layouts include changes that only apply to public content.",onClose:r,footer:bo.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},bo.createElement(A,{kind:"secondary",onPress:r,style:m.Margin.smallRight},"Cancel"),bo.createElement(fa,{kind:"primary",onPress:u},"Save"))},bo.createElement(y,{style:[h.directionRow,h.justifySpaceBetween,m.Margin.mediumVertical]},U4.map(({name:d,description:p,type:f,icon:g})=>bo.createElement(Y4,{key:f,type:f,name:d,description:p,icon:g,selected:f===i,onSelect:c}))))}function Y4({type:e,name:t,description:o,onSelect:n,selected:r,style:i,icon:a}){let[,s]=O(Z4),[,c]=O(N);return bo.createElement(y,null,r?bo.createElement(y,{style:[s.checkCircle]},bo.createElement(hS,{kind:"primary",size:eC,icon:S.Check})):null,bo.createElement(B.TouchableOpacity,{style:[s.layoutOptionCardWrapper,h.flexGrow1,r&&s.optionSelected,i],onPress:()=>n(e)},bo.createElement(y,{style:[s.layoutOptionCardIllustrationWrapper]},bo.createElement(a,{size:64})),bo.createElement(y,{style:[s.layoutOptionCardContentWrapper,m.Padding.smallVertical,m.Padding.mediumHorizontal,h.flex1]},bo.createElement(y,{style:[h.directionRow,h.alignCenter]},bo.createElement(D,{style:[c.Heading3,c.text]},t)),bo.createElement(D,{style:[c.Label,c.textMid]},o))))}var Z4=L.create({layoutOptionCardWrapper:e=>({width:X4,minHeight:K4,flexDirection:"column",backgroundColor:e.colors.background.muted,borderRadius:E.RADIUS_XL,borderWidth:1,borderColor:e.colors.border.main,overflow:"hidden"}),layoutOptionCardIllustrationWrapper:e=>({justifyContent:"center",alignItems:"center",height:j4}),layoutOptionCardContentWrapper:e=>({backgroundColor:e.colors.secondary.main,borderTopWidth:1,borderTopColor:e.colors.border.main}),checkCircle:()=>({position:"absolute",left:"50%",top:-eC/2,transform:[{translateX:-eC/2}],zIndex:1}),optionSelected:e=>({borderColor:e.colors.primary.main})});l();var Pn=x(R());l();var Oi=x(R());z();function E6(e){let{revision:t,onClose:o,onSubmit:n}=e,[r,i]=Oi.useState(""),[a,s]=Oi.useState(),c=async()=>{a?await n(e1(a,r)):o()};return Oi.createElement(wt,{title:"Insert link",onClose:o,subtitle:"Insert a link to external content in your content navigation, this link will open in a new tab.",footer:Oi.createElement(y,{style:[h.directionRow,h.justifyContentEnd]},Oi.createElement(A,{kind:"secondary",onPress:o,style:m.Margin.smallRight},"Cancel"),Oi.createElement(fa,{kind:"primary",onPress:c,disabled:!a},"Insert"))},Oi.createElement(y,{style:[m.Margin.largeBottom]},Oi.createElement(Xt,{autoFocus:!0,label:"Title",size:"large",placeholder:"Enter title to display",value:r,onChangeText:i})),Oi.createElement(of,{label:"To",size:"large",placeholder:"Paste in or type a url",value:a,onChangeValue:s,context:{space:t.space,revision:t.key}}))}l();var tC=x(R());function Yc(e){let{space:t,changeRequest:o,analyticsContext:n,page:r,onClose:i}=e;return Ur({screen:"space_import",...n},[t.key,o==null?void 0:o.key]),tC.createElement(tn,null,tC.createElement(GE,{target:{page:r,space:t,changeRequest:o},onClose:i}))}function T6(e){let{space:t,revision:o,changeRequest:n,analyticsContext:r,parent:i}=e,{navigateToPagePath:a}=Qa(),[s,c]=Pn.useState(null),u=Ft(),d=Pn.useCallback(async v=>{let C=await u(w=>{mm(w,i,v)});C&&(J({...r,type:"edit_create_page",pageKind:v.kind}),v.kind!=="link"&&a(Ye(C,v.key)))},[u]),p=Pn.useCallback(async()=>{let v=t1({title:jd(o,"Group")}),C=Mh({title:jd(o,"Page")}),w=await u(k=>{mm(k,i,v),mm(k,v.key,C)});w&&(J({...r,type:"edit_create_page",pageKind:v.kind}),a(Ye(w,C.key)))},[o,u]),f=Pn.useMemo(()=>te({groups:[{key:"insertPage",commands:[{key:"insertPage.sheet",icon:S.Page,title:"New document page",trigger:async()=>{await d(Mh({title:jd(o)}))}},i?null:{key:"insertPage.group",icon:S.AddPageGroup,title:"New group",trigger:async()=>{await p()}},{key:"insertPage.link",icon:S.Link,title:"New link",trigger:()=>{c("link")}}].filter(de)},{key:"insertExisting",commands:[{key:"insertExisting.import",icon:S.Download,title:"Import new pages",trigger:()=>{c("import")}}].filter(de)}]}),[o,i,p,d]),g=()=>{c(null)};return[Pn.createElement(Pn.Fragment,null,Pn.createElement(it,null,s==="link"?Pn.createElement(E6,{revision:o,onClose:g,onSubmit:async v=>{await d(v),c(null)}}):null),Pn.createElement(it,null,s==="import"?Pn.createElement(Yc,{space:t,changeRequest:n,page:i,analyticsContext:r,onClose:g}):null)),f]}function oC(e){let{space:t,revision:o,changeRequest:n,page:r,analyticsContext:i,readOnly:a}=e,[s,c]=Eo.useState(null),u=Ft(),{getNavigationHref:d,navigateToPage:p}=Qa(),f=Eo.useContext(Oo),g=he(),b=bS(),[v,C]=T6({space:t,revision:o,changeRequest:n,parent:r.key,analyticsContext:i}),w=Object.keys(o.pages).length>1,k=r.kind==="sheet",I=Eo.useMemo(()=>{var P,M,T,V,K;return te({groups:[a?null:{key:"pageEdit",commands:[r.kind!=="link"?{key:"pageEdit.insert",icon:S.AddPageGroup,title:"Insert subpage",descendant:()=>C}:null,r.kind!=="link"?{key:"pageEdit.import",icon:S.Download,title:"Import subpages",trigger:()=>{c("import")}}:null,r.kind==="sheet"&&!Kd(r)?{key:"pageEdit.addCover",icon:S.Image,title:"Add cover",trigger:async()=>{await u(U=>{pm(U,r.key)}),J({...i,type:"edit_add_cover"})}}:null,{key:"pageEdit.edit",icon:S.Type,title:r.kind==="link"?"Edit":"Rename",trigger:()=>{c("edit")}},{key:"pageEdit.duplicate",icon:S.PageDuplicate,title:"Duplicate",trigger:async()=>{let U=Os(),F=await u(H=>L1(H,{newKey:U,originalPageKey:r.key}));F&&(J(vm(t,r,{...i,type:"edit_duplicate_page",pageKind:r.kind})),r.kind!=="link"&&p(F,U))}},w?{key:"pageEdit.delete",icon:S.Trashcan,title:"Delete",trigger:()=>{c("delete")}}:null].filter(de)},a?null:{key:"pagePublic",commands:[k?{key:"pagePublic.pageLayout",icon:S.Page,title:"Page Layout",trigger:()=>{c("layout")}}:null].filter(de)},{key:"pageRead",commands:[r.kind==="sheet"&&(t.hasPDFExport||f.mode!=="public-content")?{key:"pageRead.export",icon:S.PDF,title:g("export_pdf"),testID:"page.exportButton",trigger:()=>{p(o,r.key,{sideSheet:{type:"share",tab:"pdf"}})}}:null,r.kind!=="link"?{key:"pageRead.copyURL",icon:S.Link,title:g("copy_link"),trigger:()=>{let U=d(o,r.key),F=`${window.location.origin}${U}`;b.writeTextAndNotify(F,{title:"Page URL copied to clipboard"})}}:null,r.kind!=="link"&&t.showEditOnGitProvider&&((P=t.git)!=null&&P.url)&&((M=t.git)!=null&&M.installationProvider)&&((T=r.git)!=null&&T.filePath)&&f.mode==="public-content"?{key:"pageRead.editOnGitHub",icon:xw[(V=t.git)==null?void 0:V.installationProvider],title:g("edit_on_github",Ow[(K=t.git)==null?void 0:K.installationProvider]),trigger:()=>{var U,F;window.location.assign(`${(U=t.git)==null?void 0:U.url}/${(F=r.git)==null?void 0:F.filePath}`)}}:null].filter(de)}].filter(de)})},[a,t,o,r,w,f.mode,n]);Ur(s==="layout"?{...i,screen:"space_page_layout"}:null,[s]);let _=()=>{c(null)};return[Eo.createElement(Eo.Fragment,null,v,Eo.createElement(it,null,s==="edit"?Eo.createElement(I6,{revision:o,page:r,analyticsContext:i,onClose:_}):null),Eo.createElement(it,null,s==="delete"?Eo.createElement(oh,{space:t,page:r,revision:o,analyticsContext:i,onClose:_}):null),Eo.createElement(it,null,s==="import"?Eo.createElement(Yc,{space:t,changeRequest:n,page:r.key,analyticsContext:i,onClose:_}):null),Eo.createElement(it,null,s==="layout"&&r.kind==="sheet"?Eo.createElement(P6,{page:r,analyticsContext:i,onClose:_}):null)),I]}var $4=B.createInteractiveComponent(Sn),M6=To.memo(function(t){let[,o]=O(eA),[n,r]=oC(t);return To.createElement(To.Fragment,null,To.createElement(y,{style:[o.pageToolbar,m.Margin.largeBottom]},r.groups.map((i,a)=>Array.isArray(i.commands)?To.createElement(y,{key:i.key,style:[m.Padding.smallVertical,a===0&&m.Padding.noneTop,a===r.groups.length-1&&m.Padding.noneBottom]},i.commands.map(s=>To.createElement(Q4,{key:s.key,command:s}))):null)),n)});function Q4(e){let{command:t}=e,o=To.useRef(null),n=ne(o),[,r]=O(N),i=t.icon?B.createInteractiveComponent(t.icon):null;return To.createElement(B.TouchableOpacity,{ref:o,style:[h.directionRow,h.alignCenter,m.Padding.largeHorizontal,m.Padding.xsmallVertical,J4.pageActionItem],testID:t.testID,onPress:()=>{t.trigger?n.executeCommand(t):t.descendant&&n.open(t.descendant())}},i?To.createElement(y,{style:[m.Margin.smallRight]},To.createElement(i.Child,{size:E.ICON_S,style:[r.textMuted,n.opened&&r.primary],activeStyle:r.primary})):null,To.createElement($4.Child,{style:[r.Label,r.textMid,h.flex1,n.opened&&r.primary],activeStyle:r.primary},t.title))}function L6(e){let[t,o]=oC(e);return To.createElement(To.Fragment,null,t,To.createElement(Bm,{palette:o,icon:S.MoreVertical,kind:"grey",size:"large",title:"Page actions",rounded:!0,testID:"pageCompactToolbar.paletteButton"}))}var J4=q.create({pageActionItem:{width:"fit-content",maxWidth:"100%"}}),eA=L.create({pageToolbar:e=>({minWidth:196})});l();var Cs=x(R());z();function N6(e){let{lock:t}=e,[o]=Wn([xl(t.userId)]),[,n]=O(N),r=Gt(va,{user:o},[o]);return Cs.createElement(jr,{icon:o?r:void 0,tooltip:Cs.createElement(Cs.Fragment,null,Cs.createElement(D,{style:n.Bold},(o==null?void 0:o.displayName)||"Someone")," is editing this page.")},(i,a)=>Cs.createElement(y,{ref:a,...i.events},Cs.createElement(S.Lock,{size:E.ICON_M,style:n.textMid})))}var Zc={mobile:"MobileMainTitle",desktop:"MainTitle"},nA=G.createResponsiveComponent(gr),RNe=G.createResponsiveComponent(w6),rA=G.createResponsiveComponent(ot),A6=Ae.memo(function(t){let{space:o,revision:n,page:r,changeRequest:i,readOnly:a,onSubmitDescription:s,analyticsContext:c,lock:u,withDiff:d}=t,[p,f]=O(N),[,g]=O(aA),b=qe(),v=he(),C=Ae.useRef(null),w=[f.Description,f.textMuted],k=Ft(),{desktopSidebarWidth:I}=Ae.useContext(vr),_=Ae.useMemo(()=>({[hl(2,I)]:"visible"}),[I]),P=async K=>{await k(U=>{pr(U,r.key,{title:QC(K)})}),J({...c,type:"edit_page_title",pageKind:r.kind})},M=async K=>{await k(U=>{pr(U,r.key,{description:JC(K)})}),J({...c,type:"edit_page_description",pageKind:r.kind})},T=K=>{K.nativeEvent.key==="Enter"&&(K.preventDefault(),C.current&&C.current.focus())},V=K=>{K.nativeEvent.key==="Enter"&&(K.preventDefault(),s&&s())};return Ae.createElement(y,{style:[h.directionColumn,m.Padding.largeTop,m.Margin.largeBottom]},Ae.createElement(y,{style:[h.directionRow]},Ae.createElement(G.View,{style:[h.directionRow,h.justifyContentEnd,h.alignCenter],mobileStyle:g.emojiWrapperMobile,desktopStyle:g.emojiWrapperDesktop},r.emoji||!a?Ae.createElement(y,{style:[m.Padding.mediumHorizontal]},Ae.createElement(f6,{analyticsContext:c,page:r,readOnly:a,size:E.ICON_XL})):null),a?Ae.createElement(y,{style:[h.flex1]},Ae.createElement(rA,{testID:"page.title",tag:"h1",style:[f.text],selectable:!0,mobileStyle:f[Zc.mobile],desktopStyle:f[Zc.desktop]},r.title)):Ae.createElement(nA,{key:r.key,testID:"page.title",component:D6,value:r.title,maxLength:100,style:[f.text,h.flex1,f.Body],onChangeText:P,onKeyPress:T,placeholder:v("untitled_page"),placeholderTextColor:p.colors.text.muted,mobileStyle:f[Zc.mobile],desktopStyle:f[Zc.desktop]}),u?Ae.createElement(Ae.Suspense,{fallback:null},Ae.createElement(y,{style:[h.directionRow,h.alignCenter,m.Margin.mediumRight]},Ae.createElement(N6,{lock:u}))):null,b?null:Ae.createElement(G.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[h.directionRow,h.alignCenter],customBreakpointsStyles:_},Ae.createElement(L6,{space:o,changeRequest:i,revision:n,page:r,analyticsContext:c,readOnly:a}))),Ae.createElement(G.View,{style:[m.Margin.mediumTop],mobileStyle:g.pageBodyMobileLeftMargin,desktopStyle:g.pageBodyDesktopLeftMargin},a?r.description?Ae.createElement(y,null,Ae.createElement(D,{style:w,selectable:!0},r.description)):d?Ae.createElement(G.View,{style:iA.pageDescriptionDiffPlaceholder,mobileStyle:"hidden"}):null:Ae.createElement(gr,{key:r.key,ref:C,component:D6,value:r.description,style:w,maxLength:200,onChangeText:M,onSubmitEditing:s,onKeyPress:V,placeholder:v("page_description"),placeholderTextColor:p.colors.text.muted})),null,Ae.createElement(G.View,{mobileStyle:g.pageBodyMobileLeftMargin,desktopStyle:g.pageBodyDesktopLeftMargin}))}),D6=Ae.forwardRef(function(t,o){let{style:n,...r}=t,[i,a]=Ae.useState(void 0);return Ae.createElement(Ln,{ref:o,...r,multiline:!0,style:[n,typeof i<"u"?{height:i}:void 0],onContentSizeChange:c=>{c.nativeEvent.contentSize.height!==i&&a(c.nativeEvent.contentSize.height)}})}),iA=q.create({pageDescriptionDiffPlaceholder:{height:wm.mediumLarge}}),aA=L.create({emojiWrapperMobile:{minWidth:vo,width:"auto",height:xe[Zc.mobile].lineHeight},emojiWrapperDesktop:{width:yt,height:xe[Zc.desktop].lineHeight},pageBodyDesktopLeftMargin:{marginLeft:yt},pageBodyMobileLeftMargin:{marginLeft:vo}});l();var Dt=x(R());z();var B6=G.createResponsiveComponent(di),z6=B.createInteractiveComponent(Sn),V6=Dt.memo(function(t){let{space:o,revision:n,page:r,style:i}=t,{getNavigationLinkProps:a}=Ce(),[,s]=O(N),c=he(),u=qe(),d=B.useInteractiveComponent(S.ArrowLeft),p=B.useInteractiveComponent(S.ArrowRight),{desktopSidebarWidth:f}=Dt.useContext(vr),{nextPage:g,previousPage:b}=Dt.useMemo(()=>{let I=sA(n),_=I.findIndex(P=>P.key===r.key);return _===-1?{nextPage:null,previousPage:null}:{nextPage:nC(I,_,1),previousPage:nC(I,_,-1)}},[n,r.key]),{previousLinkProps:v,previousGroup:C,nextLinkProps:w,nextGroup:k}=Dt.useMemo(()=>({previousLinkProps:b?a({screen:{page:Ye(n,b.key),comments:void 0}}):void 0,previousGroup:b?iu(n,b.key):null,nextLinkProps:g?a({screen:{page:Ye(n,g.key),comments:void 0}}):void 0,nextGroup:g?iu(n,g.key):null}),[g,b]);return o.showPagination===!1||!g&&!b||u?null:Dt.createElement(G.View,{style:i,desktopStyle:h.directionRow,customBreakpointsStyles:{[bs(f)]:h.directionColumn}},b?Dt.createElement(B6,{...v,style:[h.alignCenter,m.Padding.medium,h.flex1],desktopStyle:g?m.Margin.smallRight:null,customBreakpointsStyles:g?{[bs(f)]:[m.Margin.noneRight,m.Margin.smallBottom]}:void 0},Dt.createElement(y,{style:[m.Margin.mediumRight]},Dt.createElement(d.Child,{size:E.XS,style:[s.textMuted],hoverStyle:s.primary})),Dt.createElement(y,{style:[h.flex1,h.alignEnd]},Dt.createElement(y,null,Dt.createElement(D,{style:[s.Caption,s.textMuted]},C&&C.kind==="group"?`${C.title} - `:"",c("previous"))),Dt.createElement(z6.Child,{style:[s.Body,s.Medium,s.text],activeStyle:s.primary},b.title))):null,g?Dt.createElement(B6,{...w,style:[h.alignCenter,m.Padding.medium,h.flex1],desktopStyle:b?m.Margin.smallLeft:null,customBreakpointsStyles:b?{[bs(f)]:[m.Margin.noneLeft,m.Margin.smallTop]}:void 0},Dt.createElement(y,{style:[h.flex1]},Dt.createElement(y,null,Dt.createElement(D,{style:[s.Caption,s.textMuted]},c("next"),k&&k.kind==="group"?` - ${k.title}`:"")),Dt.createElement(z6.Child,{style:[s.Body,s.Medium,s.text],activeStyle:s.primary},g.title)),Dt.createElement(y,{style:[m.Margin.mediumLeft]},Dt.createElement(p.Child,{size:E.XS,style:[s.textMuted],hoverStyle:s.primary}))):null)});function sA(e){let t=[];function o(n){var i;let r=e.pages[n];t.push(r),(i=r.pages)!=null&&i.length&&r.pages.forEach(o)}return e.rootPages.forEach(o),t}function nC(e,t,o){let n=e[t+o];if(n)return n.kind!=="sheet"?nC(e,t+o,o):n}l();var Co=x(R());z();var lA=G.createResponsiveComponent(di),cA=B.createInteractiveComponent(Sn);function W6(e){let{subPages:t,revision:o}=e,{desktopSidebarWidth:n}=Co.useContext(vr),r=he(),[,i]=O(N);return qe()?null:Co.createElement(y,null,Co.createElement(D,{style:[i.Body,i.text]},r("page_articles_section")),Co.createElement(G.View,{style:[m.Padding.largeTop,h.wrap],desktopStyle:h.directionRow,customBreakpointsStyles:{[bs(n)]:h.directionColumn}},t.map((s,c)=>Co.createElement(Co.Suspense,{fallback:Co.createElement(F6,{page:s,revision:o,index:c,totalPageNumber:t.length}),key:s.key},Co.createElement(uA,{page:s,revision:o,index:c,totalPageNumber:t.length})))))}function uA(e){let{page:t,revision:o}=e,n=qn(t.kind==="link"?t.ref:void 0,{space:o.space,revision:o.key});return Co.createElement(F6,{...e,contentRef:n})}function F6(e){let{page:t,revision:o,index:n,totalPageNumber:r,contentRef:i}=e,{desktopSidebarWidth:a}=Co.useContext(vr),{getNavigationLinkProps:s}=Ce(),[,c]=O(N),u=t.emoji?B.createInteractiveComponent(Je(Wo,{code:t.emoji})):null,d=B.createInteractiveComponent((i==null?void 0:i.secondaryIcon)||me),p=r%2===0;return Co.createElement(lA,{...t.kind==="link"?i?Ja(i):{}:s({screen:{page:Ye(o,t.key),comments:void 0}}),style:[h.alignCenter,m.Padding.medium,h.flex1,{minWidth:`calc(50% - ${m.small}px)`}],desktopStyle:[n%2===0?p?m.Margin.smallRight:null:m.Margin.smallLeft,n<r-(p?2:1)?m.Margin.smallBottom:null],customBreakpointsStyles:{[bs(a)]:[m.Margin.noneHorizontal,n<r-1?m.Margin.smallBottom:null]}},u?Co.createElement(y,{style:[m.Margin.mediumRight]},Co.createElement(u.Child,{size:E.XS,style:[c.textMuted],hoverStyle:c.primary})):null,Co.createElement(cA.Child,{style:[c.Body,c.Medium,c.text],activeStyle:c.primary},t.title),t.kind==="link"&&(!i||i.secondaryIcon)?Co.createElement(y,{style:[m.Margin.mediumLeft]},Co.createElement(d.Child,{size:E.XS,style:[c.textMuted],hoverStyle:c.primary})):null)}l();var Er=x(R());z();function q6(e){let{space:t,changeRequest:o,analyticsContext:n}=e,{navigate:r}=Ce(),[i,a]=O(dA),s=qe(),[c,u]=Er.useState(null);return s?null:Er.createElement(Er.Fragment,null,Er.createElement(it,null,c==="import"?Er.createElement(Yc,{space:t,changeRequest:o,analyticsContext:n,onClose:()=>{u(null)}}):null),Er.createElement(y,{style:[m.Padding.smallHorizontal,m.Padding.smallVertical,m.Margin.mediumTop,a.blankslateBox,h.directionRow,h.wrap]},Er.createElement(A,{icon:S.Download,size:"medium",style:m.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{u("import"),J({...n,type:"space_blank_slate_initiate",kind:"import"})}},"Import content"),Er.createElement(A,{icon:S.Page,size:"medium",style:m.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({overlay:{type:"template",space:t.key,organization:t.organization}}),J({...n,type:"space_blank_slate_initiate",kind:"template"})}},"Use a template"),Er.createElement(A,{icon:S.GitHub,size:"medium",style:m.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({screen:{sideSheet:{type:"gitsync"}}}),J({...n,type:"space_blank_slate_initiate",kind:"gitsync"})}},"Sync with GitHub / GitLab"),t.organization?Er.createElement(A,{icon:S.User,size:"medium",style:m.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({screen:{sideSheet:{type:"share",tab:"invite"}}}),J({...n,type:"space_blank_slate_initiate",kind:"invite-members"})}},"Add members"):null))}var dA=L.create({blankslateBox:e=>({borderRadius:E.RADIUS_L,borderWidth:1,borderColor:e.colors.border.mid})});l();var Ss=x(R());l();var Ri=x(R());z();var pA=B.createInteractiveComponent(Sn),fA={[Te]:null,[Le]:m.Margin.smallLeft,[zo]:null},v5e=Ri.memo(function(t){let{sections:o,activeSection:n}=t,[,r]=O(N),[,i]=O(G6),a=he();return Ri.createElement(y,{style:[i.pageOutline]},Ri.createElement(y,{style:[h.directionRow,h.alignCenter,m.Padding.largeHorizontal,m.Margin.smallBottom]},Ri.createElement(D,{style:[r.GroupTitle,r.textMuted,r.Bold]},a("outline"))),o.map(s=>Ri.createElement(gA,{key:s.key,section:s,active:n===s.key})))});function gA(e){let{section:t,active:o}=e,[,n]=O(N),[,r]=O(G6),{navigateToHash:i}=Ce();return Ri.createElement(B.TouchableOpacity,{style:[h.directionRow,m.Padding.largeHorizontal,r.sectionItem,o&&r.sectionItemActive],onPress:()=>{i(t.anchor)}},t.tag?Ri.createElement(Jo,{backgroundColor:js[t.tag]||j.orange.base,style:[r.sectionTag,m.Margin.xsmallRight,h.alignSelfCenter]},Ri.createElement(D,{style:[n.textInsideColor,n.MobileCaption,n.Bold,n.Uppercase]},t.tag)):null,Ri.createElement(pA.Child,{style:[n.Label,n.textMid,t.type&&fA[t.type],o&&n.primary],hoverStyle:n.primary},t.title))}var G6=L.create({pageOutline:e=>({borderLeftWidth:1,borderLeftColor:e.colors.border.main,maxWidth:vs}),sectionItem:{paddingTop:m.xsmall,paddingBottom:m.xsmall,marginLeft:-1,borderLeftWidth:2,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:e=>({borderLeftColor:e.colors.primary.main}),sectionTag:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:m.small,justifyContent:"center"}});function H6(e,t){let o=m.large,n=e.length,r=Math.floor(Math.log2(n)+1),i=0,a=n-1,s=Math.ceil((i+a)/2),c=-1,u=null;for(let d=0;d<r;d++){let p=e[s];if(!p)return null;let f=Wa(p.key),g=f?f.getBoundingClientRect().top-t:null;if(g===null||g>o)a=s,s=Math.floor((i+a)/2);else{if(g>=-o&&g<=o)return e[s].key;g<o&&((u===null||g>u)&&(u=g,c=s),i=s,s=Math.ceil((i+a)/2))}}return c!==-1?e[c].key:null}var X6=.9;function K6(e,t){let[o,n]=Ss.useState(null),r=ew(),i=Ss.useRef(0),a=Ss.useRef(null),s=Ss.useRef(new Map),c=e.length>1,u=hA(()=>{typeof i.current!="number"&&(i.current=t.current.getBoundingClientRect().top);let p=H6(e,i.current);p!==o&&n(p)},500),d=p=>{p.forEach(g=>{let b=g.target.getAttribute("data-key");b&&s.current.set(b,g.isIntersecting&&g.intersectionRatio>=X6)});let f=Array.from(s.current.entries()).find(([,g])=>g);f&&n(f[0])};return Ss.useEffect(()=>{var p;if(!(!(t!=null&&t.current)||!c)){if(!r)(p=t.current)==null||p.addEventListener("scroll",u);else{let f=e.map(g=>Wa(g.key)).filter(de);a.current=new IntersectionObserver(d,{rootMargin:`-${pn.PUBLIC_DESKTOP_HEADER_HEIGHT}px 0px -40% 0px`,threshold:X6}),f.forEach(g=>{var b;(b=a.current)==null||b.observe(g)})}return()=>{var f,g;(f=t.current)==null||f.removeEventListener("scroll",u),(g=a.current)==null||g.disconnect()}}},[t==null?void 0:t.current,c]),o}function hA(e,t){let o=!1;return(...n)=>{o||(e.apply(this,n),o=!0,setTimeout(()=>o=!1,t))}}var yA=Ue("sheet"),vA=G.createResponsiveComponent(ee);function nh(e){return e.readOnly?ie.createElement(bA,{...e}):ie.createElement(CA,{...e})}function bA(e){let[t]=Jg(e.space.key,e.page);return ie.createElement(j6,{...e,value:t,onChange:()=>{}})}function CA(e){var a;let{onChange:t,value:o,crashed:n}=p6(e),r=o6(e.space.key,(a=e.changeRequest)==null?void 0:a.key,e.page.key);return ie.createElement(j6,{...e,value:o,onChange:t,documentReadOnly:n||!!r,lock:r})}function j6(e){var kC,xC,OC;let{space:t,revision:o,page:n,changeRequest:r,readOnly:i=!0,withComments:a,value:s,onChange:c,lock:u,analyticsContext:d,withToC:p,outline:f,footer:g,withDiff:b,scrollRef:v,sideColumnStickyTop:C}=e,w=i||!!e.documentReadOnly,k=ie.useRef(null),I=jE(),{mode:_}=ie.useContext(Oo),{pages:P,setContentDiffPage:M}=ie.useContext(u6),T=c6(t),V=Vi(),K=Ft(),U=dx({spaceId:t.key}),F=he(),H=qe(),Q=ie.useRef(),{sections:ae,sectionIDs:Be}=ie.useMemo(()=>{let Ge=v1(s.document,Q.current),Mn=Ml(s.document,Ge).filter(Ti=>Ti.parentType==="document"&&Ti.type!==null&&[Te,Le,zo].includes(Ti.type));return{sectionIDs:Ge,sections:Mn}},[s.document,Q]);Q.current=Be;let at=V.screen.type==="space"?{commentKey:(kC=V.screen.comments)==null?void 0:kC.comment,nodeKey:(xC=V.screen.comments)==null?void 0:xC.node}:void 0;ie.useEffect(()=>{var Ge;at!=null&&at.commentKey&&(at!=null&&at.nodeKey)&&((Ge=Wa(at.nodeKey))==null||Ge.scrollIntoView())},[at==null?void 0:at.commentKey]);let Tn=Ge=>{I({pageKey:n.key,focus:"page",activity:Ge.typing?"typing":"viewing"})},No=ie.useRef(null),co=ie.useCallback(()=>{let Ge=No.current;if(!Ge)return;let Mn=Ge.value.change();dr(Mn.value.document)||Mn.collapseToStartOf(Ge.value.document),Mn.focus(),c(Mn)},[No]),Nr=ie.useMemo(()=>P.find(Ge=>Ge.page.key===n.key&&Ge.diff),[P,n.key]),rr=Ge=>{c(Ge),!Nr&&r&&!s.document.equals(Ge.value.document)&&M({diff:"modified",page:n})},Dr=co,ir=ae.length>1,uo=!f,Do=K6(ae,v),Ar=sw(),ar=ie.useMemo(()=>({space:t.key,revision:o.key,page:n.key}),[t.key,o.key,n.key]),So=Ge=>{J({...d,...Ge})},st=async Ge=>{let Mn=[],Ti=await K((Md,Ld,XT)=>{Mn=[],XT.forEach(KT=>{let RC=I1(KT,Ar.uid);Mn.push({kind:"file",file:RC.key}),M1(Md,RC)})},()=>qh({kind:"space_file",space:t.key},Ge));return Ti&&Mn.forEach((Md,Ld)=>{yA.info(`file ${Md.file} uploaded to revision ${Ti.key} (${Ld+1} / ${Mn.length})`)}),Mn},W=async(Ge,Mn)=>{await K((Ti,Md,Ld)=>{T1(Ti,Ge.file,Ld)},async()=>{let[Ti]=await qh({kind:"space_file",space:t.key},[Mn]);return Ti})},{desktopSidebarWidth:Z}=ie.useContext(vr),{customBreakpointsOutlineStyles:X,customBreakpointsPageBodyStyles:$}=ie.useMemo(()=>{let Ge=hl(2,Z);return{customBreakpointsOutlineStyles:{[Ge]:"hidden"},customBreakpointsPageBodyStyles:{[Ge]:h.justifyContentCenter}}},[Z]),be=jb(Z,th),Me=o.conflicts&&n.key in o.conflicts.pages,It=(OC=o.conflicts)==null?void 0:OC.pages[n.key],je=Me&&o.conflicts&&o.conflicts.pages[n.key],lt=dr(s.document),qt=lt&&Object.keys(o.pages).length===1&&!w,{diffs:gn}=ie.useContext(Rd),sr=gn.has(n.key),Br=m6(t.key,n),[ta,wh]=b6({isDiffViewEnabled:b,isCommentMarginVisible:a,isFullPage:p||uo}),ou=tx(),kh=ie.useCallback(Ge=>{Ge?ou.highlight(Ge,{highlighting:!1,postButton:!0}):ou.highlight(null)},[ou]),wC=!V.overlay&&lt&&!w;return ie.useEffect(()=>{wC&&co()},[n.key,wC,co]),ie.createElement(ie.Fragment,null,ie.createElement(R6,{revision:o,page:n,readOnly:i,analyticsContext:d}),ie.createElement(y,{ref:k,style:[h.flex1,h.directionRow]},ie.createElement(G.View,{style:[h.flex1,h.directionRow,h.justifyContentCenter]},ie.createElement(ee,{tag:"main",style:[h.flex1,h.directionColumn]},ie.createElement(G.View,{style:[h.directionRow,p||uo?h.justifyContentCenter:h.justifyContentEnd],mobileStyle:fn.pageBodyMobileRightPadding,desktopStyle:H?fn.pageBodyPDFRightPadding:fn.pageBodyDesktopRightPadding,customBreakpointsStyles:$},ie.createElement(y,{style:[h.flex1,fn.pageBody,(a||b)&&fn.pageBodyWithComments]},ie.createElement(A6,{space:t,revision:o,page:n,changeRequest:r,readOnly:i,onSubmitDescription:Dr,analyticsContext:d,lock:u,withDiff:b}))),ie.createElement(G.View,{desktopStyle:H?void 0:m.Padding.xlargeBottom},Me?ie.createElement(ta,{renderMode:"marginless-centered"},ie.createElement(k6,{space:t,page:n,revision:o,document:s.document,hasBeenResolved:!je,pageIsDiff:b,conflictType:It,analyticsContext:d})):null,w&&lt&&n.pages.length?ie.createElement(ta,{renderMode:"centered"},ie.createElement(W6,{subPages:n.pages.map(Ge=>o.pages[Ge]),revision:o})):ie.createElement(mx,{withComments:a,spaceKey:t.key,pageKey:n.key,changeRequestKey:r==null?void 0:r.key},ie.createElement(p7,{ref:No,value:s,baseValue:Br,onActivity:Tn,onChange:rr,readOnly:w,isDiff:sr,logAnalyticsEvent:So,contentReferenceContext:ar,uploadFiles:st,updateFile:W,placeholder:"Enter your content here\u2026",sectionIDs:Be,selectedSection:V.screen.hash||null,blockLayoutComponent:ta,rightGutterComponent:wh,integrationBlocks:T,integrationBlocksRemote:U,onBlockHover:kh}),qt?ie.createElement(ta,{renderMode:"centered"},ie.createElement(q6,{space:t,revision:o,analyticsContext:d,changeRequest:r})):null),qt?null:ie.createElement(G.View,{style:[m.Margin.largeTop,h.directionRow,p||uo?h.justifyContentCenter:h.justifyContentEnd],mobileStyle:fn.pageBodyMobileRightPadding,desktopStyle:H?fn.pageBodyPDFRightPadding:fn.pageBodyDesktopRightPadding,customBreakpointsStyles:$},ie.createElement(y,{style:[h.flex1,fn.pageBody,(a||b)&&fn.pageBodyWithComments]},ie.createElement(G.View,{mobileStyle:fn.pageBodyMobileLeftMargin,desktopStyle:H?fn.pageBodyPDFLeftMargin:fn.pageBodyDesktopLeftMargin},ie.createElement(V6,{analyticsContext:d,space:t,revision:o,page:n,style:m.Margin.largeBottom}),g||null)))))),H||uo?null:ie.createElement(vA,{tag:"aside",accessibilityLabel:F("page_outline"),testID:"page.outline",style:[fn.pageSideColumn,m.Margin.largeVertical,{top:C!==void 0?C:m.large,maxHeight:C!==void 0?`calc(100vh - ${C}px)`:`calc(100vh - ${Hb+m.large}px)`},_==="app"?fn.pageSideMaxWidth:fn.pageSidePublicMaxWidth],mobileStyle:"hidden",desktopStyle:{width:be},customBreakpointsStyles:X},ie.createElement(M6,{space:t,page:n,changeRequest:r,revision:o,analyticsContext:d,readOnly:i}),ir?ie.createElement(f,{sections:ae,activeSection:Do}):null)))}var fn=q.create({pageSideMaxWidth:{maxWidth:vs},pageSidePublicMaxWidth:{maxWidth:`max(50%, ${vs}px)`},pageSideColumn:{position:"sticky",overflowY:"auto",alignSelf:"flex-start"},pageBody:{maxWidth:Jn+2*yt},pageBodyWithComments:{maxWidth:Jn+yt,marginRight:0},pageBodyDesktopRightPadding:{paddingRight:yt},pageBodyMobileRightPadding:{paddingRight:vo},pageBodyPDFRightPadding:{paddingRight:vo},pageBodyDesktopLeftMargin:{marginLeft:yt},pageBodyMobileLeftMargin:{marginLeft:vo},pageBodyPDFLeftMargin:{marginLeft:vo}});l();var rC=x(R());z();function ih(e){let{withPageOutline:t=!0}=e;return rC.createElement(G.View,{style:[h.directionRow,h.justifyContentCenter],desktopStyle:[m.Padding.xxlargeTop,rh.pageSheetLoadingDesktop,t&&rh.pageSheetLoadingDesktopWithOutline],mobileStyle:[m.Padding.mediumTop,rh.pageSheetLoadingMobile]},rC.createElement(Ht,{size:"xlarge",style:rh.pageBody}))}var rh=q.create({pageSheetLoadingDesktop:{paddingRight:yt,paddingLeft:yt},pageSheetLoadingDesktopWithOutline:{paddingRight:vs+yt},pageSheetLoadingMobile:{paddingLeft:vo,paddingRight:vo},pageBody:{maxWidth:Jn+2*yt}});l();var iC=x(R());function ah(e,t,o){let n=qe(),r=Om();iC.useEffect(()=>{var i;!t.hash&&!n&&r.current&&((i=e==null?void 0:e.current)==null||i.scrollTo(0,0))},[o,!!t.hash,n]),iC.useEffect(()=>{if(t.hash&&!n){let i=window.document.getElementById(t.hash);i&&i.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}},[t.hash,n])}l();var Zt=x(R());z();var SA=Ue("app:crash");function Pd(e){let{children:t}=e,o=Zt.useCallback((n,r,i)=>{SA.emergency(`An error occured during rendering:

`,n,`

The error is located at:
`,r),J({type:"crash",crashType:aC(n),sentryEvent:i})},[]);return Zt.createElement(Wd,{fallback:n=>Zt.createElement(wA,{...n}),onError:o,beforeCapture:OA},t)}function wA(e){let{eventId:t,error:o}=e,[,n]=O(RA),r=()=>{VC({eventId:t||void 0})},i=()=>{window.location.reload()};Zt.useEffect(()=>{let s=document.querySelector(".gitbook-splashscreen");s==null||s.remove()},[]);let a=()=>{switch(aC(o)){case"network-crash":return Zt.createElement(xA,{onReload:i,...e});case"crash":default:return Zt.createElement(kA,{onShareFeedback:r,onReload:i,...e})}};return Zt.createElement(y,{style:[n.background]},a())}function kA(e){let t=he(),{onReload:o,onShareFeedback:n}=e;return Zt.createElement(pu,{title:t("something_wrong"),action:Zt.createElement(Zt.Fragment,null,Zt.createElement(A,{kind:"primary",size:"medium",onPress:o,style:m.Margin.smallRight},t("reload")),Zt.createElement(A,{kind:"secondary",size:"medium",onPress:n},t("let_us_know")))},t("we_have_been_notified"))}function xA(e){let{onReload:t}=e,o=he(),n=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return Zt.createElement(pu,{title:o("connection_lost"),icon:S.CloudOff,action:Zt.createElement(Zt.Fragment,null,Zt.createElement(A,{kind:"primary",size:"medium",onPress:t,style:m.Margin.smallRight},o("reload")),Zt.createElement(A,{size:"medium",icon:S.Link,onPress:n},o("network_troubleshooting")))},o("device_offline"))}function OA(e,t){switch(aC(t)){case"network-crash":e.setTag("error_category","network-crash");break;case"crash":default:e.setTag("error_category","react-crash")}}function aC(e){return e.name==="FirebaseError"&&e.code==="unavailable"?"network-crash":"crash"}var RA=L.create({background:e=>({backgroundColor:e.colors.background.main,minHeight:"100vh"})});l();var Lr=x(R());l();var sC=x(R());function sh(e){let{children:t,ssrRequestPath:o,ssrRouterContext:n}=e;return n?sC.createElement(Fk,{location:o,context:n},t):sC.createElement(vy,null,t)}l();var lh=x(R());function U6(e="https://policies.gitbook.com/privacy/cookies",t=!1){let o=xo(),n=he();lh.useEffect(()=>{if(!t)return;let r=!1;if(bm()!==null)return;let i=o.notify({title:n("cookies"),details:n("cookie_prompt",lh.createElement(zi,{url:e},n("cookie_policy"))),timeout:0,icon:S.Cookies,actions:[{label:n("reject_all"),onPress:()=>{r=!0,Hh(!1),i()}}],onClose:()=>{r||Hh(!0)}})},[])}l();var ue=x(R());z();l();var En=x(R());z();var{TOC_DESKTOP_WIDTH:_A}=pn,IA=G.createResponsiveComponent(Pe),PA=B.createInteractiveComponent(IA),lC=_A-m.large-m.large;function ch(e){var f;let{space:t,collection:o,mobileStyle:n,desktopStyle:r}=e,[,i]=O(N),{getNavigationLinkProps:a}=Ce(),s=(o?(o==null?void 0:o.publishedTitle)||(o==null?void 0:o.title):t.publishedTitle||t.title)||Rs,c=s.length>14,u=c?2:1,p=Mw(t)&&(f=o==null?void 0:o.logoURL)!=null?f:t.logoURL;return En.createElement(PA,{style:[h.directionRow,h.alignCenter],mobileStyle:n,desktopStyle:r,...a({screen:{space:t.key,page:""}}),testID:"public.headerHomeLink",accessibilityLabel:s},p?En.createElement(G.View,{style:[h.flex1,h.directionRow,h.alignCenter,Ed.headerDesktop],mobileStyle:Ed.logoMobile,desktopStyle:Ed.logoDesktop},En.createElement(G.View,{desktopStyle:"visible",mobileStyle:"hidden"},En.createElement(ko,{source:{uri:pi(p,{height:40,fit:"contain"})},loading:"priority",style:{maxHeight:40,maxWidth:lC,width:"auto",height:"auto"}})),En.createElement(G.View,{desktopStyle:"hidden",mobileStyle:"visible"},En.createElement(ko,{source:{uri:pi(p,{height:30,fit:"contain"})},style:{maxHeight:30,maxWidth:lC,width:"auto",height:"auto"}}))):En.createElement(y,{style:[Ed.headerDesktop,h.flex1,h.directionRow,h.justifyContentStart,h.alignCenter]},En.createElement(y,null,En.createElement(G.View,{mobileStyle:"hidden",desktopStyle:"visible"},En.createElement(Qh,{content:o||t,renderFor:"public-content",size:E.BUTTON_L,style:[m.Margin.mediumRight]})),En.createElement(G.View,{mobileStyle:"visible",desktopStyle:"hidden"},En.createElement(Qh,{content:o||t,renderFor:"public-content",size:E.ICON_XL,style:[m.Margin.mediumRight]}))),En.createElement(G.Text,{style:Ed.textOverflow,mobileStyle:[i.Heading3],desktopStyle:[c?i.Heading3:i.Heading2]},En.createElement(B.Text.Child,{numberOfLines:u,ellipsizeMode:"tail",inactiveStyle:i.text,activeStyle:e.space.headerTheme==="bold"?i.textStandout:i.primary},s))))}var Ed=q.create({textOverflow:{overflow:"hidden"},logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:lC}});l();var yl=x(R());z();l();l();var Tr=x(R());z();var EA=G.createResponsiveComponent(B.TouchableOpacity),TA=B.createInteractiveComponent(G.View);function uh(e){return`hsla(${oS(e.colors.text.primary).h}, 60%, 70%, 0.1)`}var Y6=Tr.forwardRef(function(t,o){let{isLast:n,leftIcon:r,icon:i,rightIcon:a,kind:s="primary",children:c,expanded:u=!1,onChevronPress:d,active:p=!1,onPress:f,textStyle:g,href:b}=t,v=B.useInteractiveState(),[C,w]=O(MA),[,k]=O(N),I=s==="primary"?k.textMid:k.textMuted,_=p?k.primary:I,P=f?EA:TA,M=u?S.ChevronDown:S.ChevronRight;return Tr.createElement(P,{ref:o,...v.events,style:[w.tocMenuItem,m.Padding.smallHorizontal,m.Margin.smallRight,n?null:m.Margin.xsmallBottom,p?{backgroundColor:uh(C)}:null],hoverStyle:f&&!p?w.tocMenuItemHovered:null,mobileStyle:w.tocMenuItemMobile,desktopStyle:w.tocMenuItemDesktop,onPress:f,href:b&&f?b:void 0},r?Tr.createElement(y,{style:[m.Margin.mediumRight]},Tr.createElement(r,{size:E.ICON_M,style:[_,g]})):null,i?Tr.createElement(y,{style:[m.Margin.mediumRight]},Tr.createElement(i,{size:E.ICON_M,style:[_,g]})):null,Tr.createElement(D,{style:[h.flex1,m.Padding.xsmallVertical,s==="group"?k.GroupTitle:k.Label,_,g,p?k.Bold:null]},c),d?Tr.createElement(Pe,{style:[h.directionRow,h.alignCenter],onPress:d},Tr.createElement(M,{size:E.ICON_S,style:_})):null,a?Tr.createElement(y,{style:w.tocMenuItemRightIcon},Tr.createElement(a,{size:E.ICON_M,style:k.textMuted})):null)}),MA=L.create({tocMenuItem:e=>({flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,borderRadius:e.radiuses.medium,minHeight:E.XS}),tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:e=>({backgroundColor:e.colors.background.standout}),tocMenuItemRightIcon:{marginLeft:m.small,marginRight:(E.S-E.ICON_M)/2}});l();var Qc=x(R());l();var Ii=x(R());z();l();var LA=750,NA=m.xxlarge,Z6=LA+2*NA,dh=300,DA=220;function $6(e=0){return e+dh+Z6+DA}function Q6(e){let t=`(100vw - ${Z6}px) / 2 - ${e||0}px`;return`max(${dh}px, calc(${t}))`}l();var Td=x(R());z();l();var Ko=x(R());z();function cC(e){return Ko.createElement(Ko.Suspense,{fallback:Ko.createElement(J6,{...e})},Ko.createElement(AA,{...e}))}function AA(e){let{revision:t,treePage:o}=e,{page:n}=o,r=qn(n.kind==="link"?n.ref:void 0,{space:t.space,revision:t.key});return Ko.createElement(J6,{...e,contentRef:r})}function J6(e){let{revision:t,treePage:o,parent:n,currentPage:r,contentRef:i,isLastPage:a}=e,{page:s}=o,{getNavigationHref:c,navigateToPage:u}=Qa(),d=r?r.key:null,p=d===s.key,f=!!d&&r1(t,s.key,d),[g,b]=Ko.useState(f),[,v]=O(BA),C=w=>{w.isDefaultPrevented()||w.nativeEvent.metaKey||w.nativeEvent.ctrlKey||(w.preventDefault(),s.kind==="sheet"?u(t,s.key):s.kind==="link"&&(i==null||i.open()))};return Ko.useEffect(()=>{f&&b(!0)},[f]),Ko.createElement(y,{style:[s.kind==="group"&&m.Margin.mediumVertical]},Ko.createElement(Y6,{isLast:a,kind:s.kind==="group"?"group":!n||n.kind==="group"?"primary":"secondary",icon:s.emoji?Je(Wo,{code:s.emoji}):void 0,rightIcon:s.kind==="link"?i?i.secondaryIcon:me:void 0,active:p,expanded:g,onPress:s.kind==="group"?void 0:C,href:(()=>s.kind==="link"?i==null?void 0:i.href:c(t,s.key))(),onChevronPress:o.pages.length>0&&s.kind==="sheet"?w=>{w.preventDefault(),b(k=>!k)}:void 0},s.title),(g||s.kind==="group")&&o.pages.length>0?Ko.createElement(y,{style:[v.tocItemChildren,...s.kind==="group"?[m.Margin.noneLeft]:[m.Margin.smallLeft,m.Margin.xsmallTop,m.Margin.smallBottom]]},o.pages.map((w,k)=>Ko.createElement(y,{style:s.kind==="group"?null:m.Margin.smallLeft,key:w.renderKey},Ko.createElement(cC,{...e,treePage:w,isLastPage:k===o.pages.length-1,parent:s}))),s.kind==="group"?null:Ko.createElement(y,{style:v.tocItemChildrenLine})):null)}var BA=L.create({tocItemChildren:{position:"relative"},tocItemChildrenLine:e=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:e.colors.border.main})});l();var _i=x(R());z();var eT=x(kk());var uC=40,zA=B.createInteractiveComponent(uS);function $c(e){return _i.createElement(Ns,null,_i.createElement(VA,{...e}))}function VA(e){let{space:t,floating:o}=e,[n,r]=O(WA),[,i]=O(N),a=he(),s=new URLSearchParams({utm_source:"content",utm_medium:"trademark",utm_campaign:t.key}),c=`https://${Vr.homepage.domain}/?${s.toString()}`,u=()=>{J(St(t,{type:"public_content_click_trademark"}))};return _i.createElement(y,{style:o&&r.floatingWrapper},o?_i.createElement(eT.default,{colors:[`${n.colors.background.main}00`,n.colors.background.main],style:r.floatingTopGradient}):null,_i.createElement(y,{style:o&&[m.Padding.mediumHorizontal,m.Padding.mediumBottom,r.floatingBackground]},_i.createElement(B.TouchableOpacity,{style:[h.directionRow,h.alignCenter,...o?[r.trademarkFloating,m.Padding.smallVertical,m.Padding.mediumHorizontal]:[r.tradeMarkDefault]],activeStyle:i.primary,onPress:u,href:c,target:"_blank"},_i.createElement(zA,{size:uC,style:i.textMuted,activeStyle:i.primary}),_i.createElement(y,{style:[h.flex1,m.Padding.mediumLeft]},_i.createElement(B.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",_i.createElement(V_,{style:i.Bold},"GitBook")))))))}var WA=L.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:m.medium},floatingBackground:e=>({backgroundColor:e.colors.background.main}),tradeMarkDefault:e=>({backgroundColor:"transparent"}),trademarkFloating:e=>({backgroundColor:e.colors.background.standout,borderRadius:e.radiuses.xlarge})});function mh(e){let{showingTrademark:t,revision:o}=e,n=Td.useMemo(()=>Jh(o.pages,o.rootPages),[o]);return Td.createElement(zr,{style:h.flex1,contentContainerStyle:[m.Padding.mediumVertical,t?FA.scrollviewWithTrademark:null]},n.map((r,i)=>Td.createElement(cC,{key:r.renderKey,...e,treePage:r,isLastPage:i===n.length-1})))}var FA=q.create({scrollviewWithTrademark:{paddingBottom:m.medium+uC+2*m.medium}});l();var Mo=x(R());z();l();var Ta=x(R());z();function tT(e){let[,{open:t}]=Zh(),o=he();return Ta.createElement(A,{icon:S.SearchPublic,size:"medium",kind:e.headerTheme==="bold"?"default_bold":"default",alignItems:"start",onPress:t,style:[m.Padding.noneHorizontal],accessibilityLabel:o("search")})}function ph(e){let{headerTheme:t}=e,[,{open:o}]=Zh(),n=he(),[,r]=O(N),[,i]=O(qA),a=Vl(),s=Hr(),c=t==="bold"?r.text:r.textMid,u=()=>t==="bold"?s.color==="light"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)":s.color==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.10)";return Ta.createElement(B.TouchableOpacity,{style:[{backgroundColor:u()},i.searchBarButton,h.directionRow,h.justifySpaceBetween,h.alignCenter,m.Padding.mediumLeft,m.Padding.smallRight],activeStyle:i.searchBarButtonActive,accessibilityLabel:n("search"),onPress:o},Ta.createElement(y,{style:[h.directionRow,h.alignCenter]},Ta.createElement(S.SearchPublic,{size:E.ICON_XS,style:[c,m.Margin.smallRight]}),Ta.createElement(B.Text.Child,{style:[r.Label,c],activeStyle:r.text},n("search"))),Ta.createElement(y,null,Ta.createElement(Cn,{theme:t==="bold"?a:s},Ta.createElement(Vn,{kind:"main",shortcut:ze.PALETTE_OPEN}))))}var qA=L.create({searchBarButton:e=>({width:"100%",height:E.BUTTON_L,borderRadius:e.radiuses.large,borderWidth:1,borderColor:"transparent"}),searchBarButtonActive:e=>({borderColor:e.colors.border.mid})});function fh(e){let{space:t,collection:o,collectionSpaces:n,currentPage:r,revision:i}=e,[,a]=O(dC),s=n&&(o==null?void 0:o.publishingType)==="variants"?Mo.createElement(gh,{key:"variants-picker",currentVariant:t,collection:o,variants:n,revision:i,currentPage:r}):null;return Mo.createElement(Mo.Fragment,null,Mo.createElement(GA,{key:"mobile-closing-bar",variantsSwitcher:s}),t.headerTheme==="none"?Mo.createElement(Mo.Fragment,null,Mo.createElement(HA,{key:"space-header",space:t,collection:o,variantsSwitcher:s}),Mo.createElement(G.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[a.searchBarSection,m.Padding.smallTop,m.Padding.mediumBottom,m.Padding.smallRight,m.Padding.noneLeft,h.directionRow]},Mo.createElement(ph,{key:"search-bar"}))):null)}function GA(e){let[,t]=O(dC),o=Kl(Qo(cc),Mo.useState(!1));return Mo.createElement(G.View,{style:[t.mobileClosingBar,m.Padding.smallHorizontal,h.justifySpaceBetween,h.alignCenter,h.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},Mo.createElement(A,{icon:S.X,size:"large",kind:"default",onPress:()=>o.closeMobile(),style:[h.alignSelfCenter,m.Padding.smallHorizontal],accessibilityLabel:"Close"}),e.variantsSwitcher)}function HA(e){let{space:t,collection:o,variantsSwitcher:n}=e,[,r]=O(dC);return Mo.createElement(G.View,{style:[r.spaceTitleWrapper,h.directionRow,h.justifyContentCenter,h.alignCenter],mobileStyle:"hidden",desktopStyle:"visible"},Mo.createElement(ch,{space:t,collection:o,desktopStyle:h.flex1}),Mo.createElement(y,{style:[h.alignSelfCenter,m.Margin.smallHorizontal]},n))}var dC=L.create({searchBarSection:e=>({borderColor:e.colors.border.mid,borderBottomWidth:1}),selectedTab:e=>({borderLeftColor:e.colors.primary.main,borderLeftWidth:2}),hoverTab:e=>({backgroundColor:e.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:E.BUTTON_M,lineHeight:E.BUTTON_M,borderRadius:0,paddingHorizontal:m.medium},mainBadge:{fontFamily:Z1,fontSize:Sm.xxsmall,lineHeight:E.BUTTON_M,...km.Bold,textTransform:"uppercase",letterSpacing:1},spaceTitleWrapper:e=>({height:E.L}),mobileClosingBar:e=>({height:E.L,borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main}),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:mC}=pn;function oT(e){let{space:t}=e,o=he(),n=Fd(t.headerTheme,t.themeMode),[,r]=O(XA[n]),{desktopSidebarWidth:i}=Ii.useContext(vr),a=Ii.useMemo(()=>({[$6(i)]:"visible"}),[i]),s=!t.hideTrademark;return Ii.createElement(G.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:a,style:[r.tocDesktopWrapper,h.directionRow,{width:Q6(i)},h.justifyContentEnd]},Ii.createElement(ee,{tag:"nav",accessibilityLabel:o("table_of_contents"),style:[KA.tocDesktop,h.directionColumn]},Ii.createElement(y,{style:[h.flex1,m.Padding.largeLeft]},Ii.createElement(fh,{...e}),Ii.createElement(mh,{...e,showingTrademark:s})),s?Ii.createElement($c,{floating:!0,space:t}):null))}var XA={none:L.create({tocDesktopWrapper:e=>({position:"sticky",top:0,height:"100vh",overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),light:L.create({tocDesktopWrapper:e=>({position:"sticky",top:m.xxlarge,height:`calc(100vh - ${mC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),dark:L.create({tocDesktopWrapper:e=>({position:"sticky",top:m.xxlarge,height:`calc(100vh - ${mC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),bold:L.create({tocDesktopWrapper:e=>({position:"sticky",top:m.xxlarge,height:`calc(100vh - ${mC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})})},KA=q.create({tocDesktop:{width:dh}});l();var tr=x(R());z();var jA=G.createResponsiveComponent(Qe.View),UA=G.createResponsiveComponent(Qe.createAnimatedComponent(Pe));function rT(e){let{currentPage:t,space:o}=e,n=he(),r=Kl(Qo(cc),tr.useState(!1)),{sidebarMobileLeft:i,showOverlay:a}=jS(r),[s,c]=O(YA);tr.useEffect(()=>{r.close()},[t==null?void 0:t.key]);let u=!o.hideTrademark;return tr.createElement(tn,null,tr.createElement(jA,{style:[c.sidebar,{left:i}],mobileStyle:"visible",desktopStyle:"hidden"},tr.createElement(ee,{tag:"nav",accessibilityLabel:n("table_of_contents"),style:[h.directionColumn,h.flex1]},tr.createElement(y,{style:h.flex1},tr.createElement(fh,{...e}),tr.createElement(y,{style:[m.Padding.mediumLeft,h.flex1,c.sidebarWrapper]},tr.createElement(mh,{...e,showingTrademark:u}))),u?tr.createElement($c,{floating:!0,space:o}):null)),tr.createElement(UA,{style:[c.screenOverlay,{backgroundColor:i.interpolate({inputRange:[-Vm.MOBILE_WIDTH,0],outputRange:[s.colors.backdrop.transparent,s.colors.backdrop.background]})}],mobileStyle:a?"visible":"hidden",desktopStyle:"hidden",onPress:r.closeMobile}))}var nT=10,YA=L.create({sidebar:e=>({backgroundColor:e.colors.background.main,width:Vm.MOBILE_WIDTH,maxWidth:"100%",height:"100%",flexDirection:"row",position:"fixed",top:0,bottom:0,zIndex:nT}),sidebarWrapper:e=>({borderRightWidth:1,borderRightColor:e.colors.border.mid}),sidebarCloseButton:{position:"absolute",width:E.BUTTON_M,height:E.BUTTON_M,top:(E.M-E.BUTTON_M)/2,left:Vm.MOBILE_WIDTH+E.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:nT-1}});function iT(e){return Qc.createElement(Qc.Fragment,null,Qc.createElement(oT,{...e}),Qc.createElement(rT,{...e}))}var pC=150,ZA=200,$A=150;function hh(e){let[,t]=O(aT);return yl.createElement(G.View,{style:t.wrapper,mobileStyle:[t.wrapperMobile,m.Margin.smallVertical,m.Margin.smallHorizontal],desktopStyle:[t.wrapperDesktop,m.Margin.smallVertical,m.Margin.xsmallHorizontal]},yl.createElement(zr,null,e.children))}function yh(e){let{title:t,kind:o="default",active:n=!1,onPress:r,isLast:i}=e,[a,s]=O(aT),[,c]=O(N);return yl.createElement(B.TouchableOpacity,{hoverStyle:s.menuItemHovered,style:[s.menuItem,m.Padding.xsmallVertical,m.Padding.smallHorizontal,i?null:m.Margin.xsmallBottom,n?{backgroundColor:uh(a)}:null],onPress:r},yl.createElement(y,{style:[h.directionRow,h.alignCenter,h.justifySpaceBetween]},yl.createElement(B.Text.Child,{hoverStyle:n?null:c.textStandout,style:[c.Label,o==="link"?c.SemiBold:null,...n?[c.primary,c.Bold]:[c.text]],numberOfLines:2,ellipsizeMode:"tail"},t),yl.createElement(y,{style:[m.Margin.mediumLeft]},e.rightElement)))}var aT=L.create({wrapper:e=>({backgroundColor:e.colors.background.main}),wrapperDesktop:{minWidth:pC,maxWidth:ZA,maxHeight:$A},wrapperMobile:{width:"auto",maxWidth:"100%",maxHeight:"100%"},menuItem:e=>({borderRadius:e.radiuses.large}),menuItemHovered:e=>({backgroundColor:e.colors.background.muted})});l();var jo=x(R());z();function gh(e){let{headerTheme:t,currentPage:o,collection:n,variants:r,currentVariant:i,revision:a}=e,{getNavigationLinkProps:s}=Ce(),c=he(),u=jo.useRef(null),[,d]=O(N),p=jo.useMemo(()=>o?Ye(a,o.key):"",[o]);return jo.createElement(Va,{ref:u,wrapper:Kr,closeOnClick:!0,closeOnOutsideClick:!0,anchor:({ref:f,toggle:g,opened:b})=>{let v=b?S.ChevronUp:S.ChevronDown;return jo.createElement(A,{ref:f,size:"medium",rightIcon:v,kind:t==="bold"?"default_bold":"default",alignItems:"start",onPress:g,style:[m.Padding.noneHorizontal]},jo.createElement(y,{style:[sT.variantsPicker]},jo.createElement(D,{numberOfLines:1,ellipsizeMode:"tail"},i.publishedTitle||i.title||Rs)))}},jo.createElement(on,{kind:"menu",preferredAlignment:"start"},jo.createElement(jo.Suspense,{fallback:jo.createElement(Ht,{size:"small"})},jo.createElement(hh,null,r.map((f,g,b)=>jo.createElement(yh,{key:f.key,title:f.title,active:f.key===i.key,isLast:g===b.length-1,rightElement:f.key===n.primarySpace?jo.createElement(D,{style:[d.textMuted,d.Uppercase,sT.mainLabel]},c("main")):null,...s({screen:{space:f.key,page:p}},()=>{var v;(v=u.current)==null||v.close()})}))))))}var sT=q.create({mainLabel:{letterSpacing:1.2},variantsPicker:{maxWidth:pC/2}});l();var lT=x(R());z();function cT(e){let{children:t,style:o}=e;return lT.createElement(y,{style:[QA.container,o]},t)}var QA=q.create({container:{display:"flex",flexDirection:"row",width:"100%",maxWidth:1510,marginHorizontal:"auto",paddingHorizontal:m.small}});var{PAGE_BODY_DESKTOP_H_PADDING:JA,TOC_DESKTOP_WIDTH:eB,PUBLIC_DESKTOP_HEADER_HEIGHT:dT,PUBLIC_MOBILE_HEADER_HEIGHT:mT}=pn,tB=G.createResponsiveComponent(A),oB=G.createResponsiveComponent(ee);function pT(e){let{space:t}=e,o=Fd(t.headerTheme,t.themeMode),n=Hr();cB(o);let r=ue.useMemo(()=>fR(n,o,t.primaryColor),[o,t.primaryColor,n]);return ue.createElement(Cn,{theme:r},t.headerTheme==="none"?ue.createElement(G.View,{desktopStyle:"hidden",mobileStyle:"visible"},ue.createElement(uT,{...e,headerTheme:o})):ue.createElement(uT,{...e,headerTheme:o}))}function uT(e){let{space:t,headerTheme:o,revision:n,collection:r,collectionSpaces:i,currentPage:a}=e,[,s]=O(sB[o]),c=Kl(Qo(cc),ue.useState(!1)),d=ra(a)==="docs",p=[ws.searchWrapper,m.Padding.largeLeft,m.Padding.smallRight];return ue.createElement(ue.Fragment,null,ue.createElement(oB,{tag:"header",desktopStyle:ws.desktopHeight,mobileStyle:ws.mobileHeight,style:[s.spaceHeader,h.directionRow,h.alignCenter]},ue.createElement(cT,{style:h.alignCenter},d?ue.createElement(tB,{desktopStyle:"hidden",mobileStyle:"visible",icon:S.Menu,style:m.Margin.smallRight,kind:"grey",rounded:!0,title:c.opened?"Hide Table of Content":"Show Table of Content",onPress:c.toggle}):null,ue.createElement(ch,{space:t,collection:r,mobileStyle:[ws.autoWidth,m.Padding.noneLeft,m.Padding.mediumRight,h.flexShrink1,h.justifyContentStart,d?null:m.Margin.smallLeft],desktopStyle:[ws.autoWidth,m.Padding.mediumLeft,m.Padding.largeRight,h.justifyContentStart]}),i&&(r==null?void 0:r.publishingType)==="variants"?ue.createElement(G.View,{mobileStyle:"hidden",desktopStyle:"visible"},ue.createElement(gh,{key:"variants-picker",headerTheme:o,currentPage:a,collection:r,revision:n,variants:i,currentVariant:t})):null,ue.createElement(nB,{space:t,revision:n}),ue.createElement(G.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[p,ws.searchBarContainer,h.flex1]},ue.createElement(ph,{headerTheme:o})),ue.createElement(G.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[p]},ue.createElement(tT,{headerTheme:o})))),ue.createElement(G.View,{mobileStyle:"visible",desktopStyle:"hidden"},ue.createElement(Cn,{theme:qd(t)},ue.createElement(aB,{space:t,revision:n}))))}function nB(e){let{space:t,revision:o}=e;return ue.createElement(G.View,{style:[h.directionRow,h.justifyContentEnd,h.alignCenter,h.flex1,m.Padding.mediumLeft],mobileStyle:"hidden"},(t.headerLinks||[]).map((n,r,i)=>n.title?ue.createElement(rB,{space:t,revision:o,headerLink:n}):null))}function rB(e){let{headerLink:t,space:o,revision:n}=e,r=B.useInteractiveState({hoverDelay:250}),i=B.useInteractiveState(),a=s=>{var c;return ue.createElement(Du,{ref:s.ref,style:[m.Padding.mediumHorizontal],kind:((c=e.space)==null?void 0:c.headerTheme)==="bold"?"bold":"default",title:t.title,contentRef:t.to,space:o,revision:n,...s.events})};return t.links&&t.links.length>0?ue.createElement(Bi,{opened:r.hovered||i.hovered,wrapper:Kr,anchor:({ref:s})=>a({ref:s,events:r.events})},ue.createElement(on,{kind:"menu",preferredAlignment:"start"},ue.createElement(y,{...i.events},ue.createElement(hh,null,t.links.map((s,c,u)=>ue.createElement(iB,{key:c,link:s,revision:n,isLast:c===u.length-1})))))):a({})}function iB(e){let{link:t,revision:o,isLast:n}=e,r=qn(t.to,{space:o.space,revision:o.key});return ue.createElement(yh,{kind:"link",title:t.title,isLast:n,onPress:i=>{i.nativeEvent.metaKey||i.nativeEvent.ctrlKey||(i.preventDefault(),r.open())}})}function aB(e){let{space:t,revision:o}=e,[n,r]=ue.useState(!1),[,{headerLinksMobile:i}]=O(lB),a=n?S.ChevronDown:S.ChevronRight;return!t.headerLinks||t.headerLinks.length===0?null:ue.createElement(y,{style:[ws.headerLinksMobile,i,h.justifyContentCenter,m.Padding.medium]},ue.createElement(y,{style:[ws.headerLinksMobileButton]},ue.createElement(A,{size:"large",rightIcon:a,alignItems:"start",onPress:()=>r(s=>!s),style:[m.Padding.noneHorizontal]},"Links")),n?ue.createElement(y,null,t.headerLinks.map((s,c,u)=>s.title?ue.createElement(fT,{space:t,revision:o,link:s,isLast:c===u.length-1}):null)):null)}function fT(e){var u;let{link:t,space:o,revision:n,isLast:r}=e,[i,a]=ue.useState(!1),s="links"in t?t.links||[]:[],c=i?S.ChevronDown:S.ChevronRight;return ue.createElement(y,{style:[h.directionColumn]},ue.createElement(y,{style:[h.directionRow,h.alignCenter]},ue.createElement(Du,{style:[m.Padding.smallTop,r?null:m.Padding.smallBottom],kind:((u=e.space)==null?void 0:u.headerTheme)==="bold"?"bold":"default",title:t.title,contentRef:t.to,space:o,revision:n}),s.length>0?ue.createElement(A,{size:"large",kind:"link",rightIcon:c,alignItems:"start",onPress:()=>a(d=>!d),style:[m.Padding.noneHorizontal]}):null),i?ue.createElement(y,{style:[m.Margin.smallLeft,m.Margin.smallBottom]},s.map((d,p,f)=>ue.createElement(fT,{key:p,space:o,revision:n,link:d,isLast:p===f.length-1}))):null)}var sB={none:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1})}),light:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})},lB=L.create({headerLinksMobile:e=>({backgroundColor:e.colors.background.main,borderBottomWidth:1,borderBottomColor:e.colors.border.main})}),ws=q.create({searchWrapper:{marginLeft:"auto"},searchBarContainer:{maxWidth:225},autoWidth:{width:"auto"},tocDesktop:{width:eB},headerLinks:{paddingHorizontal:JA-m.medium},headerLinksMobile:{minHeight:E.M},headerLinksMobileButton:{marginRight:"auto"},mobileHeight:{height:mT},desktopHeight:{height:dT}});function cB(e){let o=Wl()==="mobile";Ba(()=>{if(e!=="none"){let n=document.getElementsByTagName("html")[0];n.style.scrollPaddingTop=`${o?mT:dT}px`}},[e])}l();var Lo=x(R());l();var or=x(R());z();l();var Pi=x(R());z();function gT(e){let{space:t,revision:o,page:n,analyticsContext:r}=e,i=U1(),[,a]=O(N),s=he(),[{result:c,error:u}]=Gm([oy(t.key,n.key,i)]);if(u)return null;let d=p=>{p!==(c==null?void 0:c.rating)&&(J({...r,type:"public_content_page_feedback_post",rating:p}),GC(f=>{Nw(f,{space:t.key,page:n.key,revision:o.key,visitorId:i,rating:p,previousRating:c==null?void 0:c.rating})}))};return Pi.createElement(y,{style:[h.directionRow,h.alignCenter]},Pi.createElement(y,null,Pi.createElement(D,{style:[a.GroupTitle,a.textMuted]},s("was_it_helpful"))),Pi.createElement(y,{style:[h.directionRow,h.alignCenter]},Pi.createElement(fC,{tooltip:s("poor_content"),active:(c==null?void 0:c.rating)==="bad",rating:"bad",onPress:d}),Pi.createElement(fC,{tooltip:s("ok_content"),active:(c==null?void 0:c.rating)==="ok",rating:"ok",onPress:d}),Pi.createElement(fC,{tooltip:s("excellent_content"),active:(c==null?void 0:c.rating)==="good",rating:"good",onPress:d})))}function fC(e){let{active:t,tooltip:o,rating:n,onPress:r}=e;return Pi.createElement(jr,{tooltip:o},(i,a)=>Pi.createElement(Pe,{ref:a,onPress:()=>r(n),style:[m.Margin.smallLeft],accessibilityLabel:o,...i.events},Pi.createElement(ME,{active:t,interactive:!0,rating:n,size:E.BUTTON_S})))}function hT(e){let{space:t,revision:o,page:n,analyticsContext:r}=e,[,i]=O(N),[,a]=O(uB),s=he(),c=ru(n.edits),u=ra(n),d=!!c,p=t.hasPublicFeedback,f=!t.hideTrademark&&(u==="editorial"||u==="landing");if(!d&&!p)return null;let g=or.createElement(Kf,null,or.createElement(or.Suspense,{fallback:null},or.createElement(gT,{space:t,revision:o,page:n,analyticsContext:r})));return or.createElement(y,{style:[m.Padding.largeTop,a.footer]},or.createElement(G.View,{tabletStyle:h.directionColumn,desktopStyle:h.directionRow,style:[h.alignCenter,h.justifySpaceBetween]},d?or.createElement(G.View,{tabletStyle:m.Margin.mediumBottom,style:f?[]:[h.flex1]},or.createElement(D,{style:[i.textMuted,i.Label]},s("last_modified",or.createElement(FS,{value:c.updatedAt.toDate(),onlyDate:!1})))):null,f?or.createElement($c,{space:t,floating:!1}):null,p?or.createElement(G.View,{tabletStyle:f?"hidden":"visible",desktopStyle:"visible"},g):null),f&&p?or.createElement(G.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[h.directionRow,h.flex1,h.justifyContentCenter,m.Margin.largeTop]},g):null)}var uB=L.create({footer:e=>({borderTopColor:e.colors.border.mid,borderTopWidth:1})});l();var Ei=x(R());z();var dB=B.createInteractiveComponent(Sn),mB={[Te]:null,[Le]:m.Margin.smallLeft,[zo]:null},yT=Ei.memo(function(t){let{sections:o,activeSection:n}=t,[,r]=O(N),[,i]=O(vT),a=he();return Ei.createElement(y,{style:[i.pageOutline]},Ei.createElement(y,{style:[h.directionRow,h.alignCenter,m.Padding.largeHorizontal,m.Margin.smallBottom]},Ei.createElement(D,{style:[r.GroupTitle,r.textMuted,r.Bold]},a("outline"))),o.map(s=>s.type===null||s.type===He?null:Ei.createElement(pB,{key:s.key,section:s,active:n===s.key})))});function pB(e){let{section:t,active:o}=e,[,n]=O(N),[,r]=O(vT),{navigateToHash:i}=Ce();return Ei.createElement(B.TouchableOpacity,{style:[h.directionRow,m.Padding.largeHorizontal,r.sectionItem,o&&r.sectionItemActive],onPress:()=>{i(t.anchor)}},t.tag?Ei.createElement(Jo,{backgroundColor:js[t.tag]||j.orange.base,style:[r.sectionTag,m.Margin.xsmallRight,h.alignSelfCenter]},Ei.createElement(D,{style:[n.textInsideColor,n.MobileCaption,n.Bold,n.Uppercase]},t.tag)):null,Ei.createElement(dB.Child,{style:[n.Label,n.textMid,t.type&&mB[t.type],...o?[n.primary,n.Medium]:[]],hoverStyle:n.primary},t.title))}var vT=L.create({pageOutline:e=>({maxWidth:pn.MAX_PAGE_OUTLINE_WIDTH}),sectionItem:{marginTop:m.xsmall,marginBottom:m.xsmall,marginLeft:-1,borderLeftWidth:3,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:e=>({borderLeftColor:e.colors.primary.main}),sectionTag:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:m.small,justifyContent:"center"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:fB}=pn;function bT(e){var C;let{space:t,revision:o,screen:n,analyticsContext:r,collection:i,collectionSpaces:a,assetHostname:s,currentPage:c,scrollRef:u}=e,d=he(),[p,f]=O(gB);if(hx(t),pa(w=>{w.writeAsync([{type:"meta",name:"description",content:c&&"description"in c?c.description:""},{type:"meta",name:"og:description",content:c&&"description"in c?c.description:""},{type:"meta",name:"og:image",content:t.socialPreviewURL?pi(t.socialPreviewURL,{height:640,width:1280,fit:"contain"}):yB(t,o,c)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),t.visibility==="in-collection"?(w.setTitle(c?c.title:d("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||Rs),w.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(w.setTitle(c?c.title:d("page_not_found"),t.publishedTitle||t.title||Rs),w.writeAsync([{type:"meta",name:"robots",content:t.visibility!=="public"?"noindex, nofollow":"index"}]))}),Ur(c?vm(t,c,{screen:"space",visibility:t.visibility,pageLayout:ra(c),diffMode:!1}):null,[t.key,c==null?void 0:c.key]),Xk(t,(C=c==null?void 0:c.key)!=null?C:null),!c&&n.page){let[w]=Ul([_w(t.key,n.page)]);if(w&&o.pages[w.page])return Lo.default.createElement(gR,{to:Ye(o,w.page)})}let g=ra(c),b=g==="docs",v=g==="docs"||g==="editorial";return Lo.default.createElement(Lo.default.Fragment,null,Lo.default.createElement(vB,{space:i||t,assetHostname:s}),Lo.default.createElement(G.View,{style:[h.flex1],mobileStyle:h.directionColumn,desktopStyle:h.directionRow},b?Lo.default.createElement(iT,{space:t,revision:o,currentPage:(c==null?void 0:c.kind)==="sheet"?c:null,analyticsContext:r,collection:i,collectionSpaces:a}):null,Lo.default.createElement(Jo,{style:[f.spacePageBody],backgroundColor:p.colors.background.main},Lo.default.createElement(Lo.default.Suspense,{fallback:Lo.default.createElement(ih,{withPageOutline:(c==null?void 0:c.layout)!=="landing"})},c&&c.kind==="sheet"?Lo.default.createElement(nh,{key:hB(n,o,c),space:t,changeRequest:void 0,revision:o,page:c,readOnly:!0,withComments:!1,withToC:b,analyticsContext:r,scrollRef:u,outline:v?yT:void 0,footer:Lo.default.createElement(hT,{space:t,revision:o,page:c,analyticsContext:r}),sideColumnStickyTop:m.large+(t.headerTheme==="none"?0:fB)}):Lo.default.createElement(Z_,{statusCode:404},Lo.default.createElement(pu,{title:d("page_not_found"),action:Lo.default.createElement(QS,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:t.key,page:""}}},d("back_to_home"))},d("page_not_found_long")))))))}var gB=L.create({spacePageBody:{flex:1}});function hB(e,t,o){let n=e.space;return n+=`/${e.changeRequest||"main"}`,n+=`/${t.conflicts?"conflicts":"normal"}`,n+=`/${o.key}`,e.diff&&(n+="/diff"),e.revision&&(n+="/revision"),n}function yB(e,t,o){let n=o&&t.rootPages[0]!==o.key?`/page/${o.key}`:"",r=`color=${encodeURIComponent(e.primaryColor||"")}&logo=${encodeURIComponent(ma(e.logoURL||e.iconURL||""))}&theme=${encodeURIComponent(e.headerTheme||"")}`;return`https://${Vr.firebase.authDomain}/share/space/thumbnail/${e.key}${n}.png?${r}`}function vB(e){let{space:t,assetHostname:o}=e,n=F1(t,"public-content"),[r]=O(),[i,a]=Lo.default.useState(n.iconURL||(n.emoji?`${o}${W1(n.emoji)}`:null));return Lo.default.useEffect(()=>{if(i)return;let s=192,c=document.createElement("canvas"),u=c.getContext("2d");if(!u)return;c.width=s,c.height=s,u.fillStyle=r.colors.background.main,u.fillRect(0,0,s,s);let d=.7;u.fillStyle=r.colors.text.main,u.font=`400 ${s*d}px gitbook-content-font`,u.textAlign="center",u.fillText(t.title.slice(0,1),s/2,s*(1-d)/2),a(c.toDataURL("image/png"))},[t.title,a]),pa(s=>{s.writeAsync([{type:"link",rel:"icon",href:i?ma(i):`${o}/public/images/icon-512.png`}])}),null}l();var we=x(R());z();var bB=G.createResponsiveComponent(ee),CT=200,CB=4*(CT+m.small);function ST(e){let{space:t,collection:o,revision:n}=e,[,r]=O(N),[,i]=O(kB),a=we.useMemo(()=>(t==null?void 0:t.footer)||(o==null?void 0:o.footer),[t,o]);return we.createElement(we.Fragment,null,a?we.createElement(bB,{tag:"footer",style:[h.alignCenter,i.footer]},we.createElement(G.View,{desktopStyle:[Ji.desktopContainer]},we.createElement(G.View,{desktopStyle:h.directionRow,mobileStyle:h.directionColumn},a!=null&&a.logoURL?we.createElement(G.View,{style:[h.directionRow,h.alignStart,m.Padding.xlargeTop,a!=null&&a.copyright?null:m.Padding.xlargeBottom],desktopStyle:m.Margin.xxlargeHorizontal,mobileStyle:m.Margin.largeHorizontal},we.createElement(G.View,{desktopStyle:"visible",mobileStyle:"hidden"},we.createElement(ko,{source:{uri:a==null?void 0:a.logoURL},style:Ji.footerImageDesktop,loading:"lazy"})),we.createElement(G.View,{desktopStyle:"hidden",mobileStyle:"visible"},we.createElement(y,{style:m.Margin.largeLeft},we.createElement(ko,{source:{uri:a==null?void 0:a.logoURL},style:Ji.footerImageMobile,loading:"lazy"})))):null,a!=null&&a.linkGroups?we.createElement(G.View,{style:[m.Padding.xlargeTop,a.logoURL?h.alignStart:h.alignCenter,h.flex1,a!=null&&a.copyright?null:m.Padding.xlargeBottom],mobileStyle:h.alignStart,tabletStyle:m.Padding.largeLeft},we.createElement(G.View,{mobileStyle:"hidden",tabletStyle:"hidden",desktopStyle:a.linkGroups.length<3&&!a.logoURL?"visible":"hidden"},we.createElement(SB,{linkGroups:a.linkGroups,revision:n})),we.createElement(G.View,{mobileStyle:"visible",tabletStyle:"visible",desktopStyle:a.linkGroups.length>=3||a.logoURL?"visible":"hidden"},we.createElement(wB,{linkGroups:a.linkGroups,revision:n}))):null),a!=null&&a.copyright?we.createElement(G.View,{style:[h.flex1,m.Padding.xlargeVertical]},we.createElement(D,{style:[Ji.copyright,r.textMuted]},a==null?void 0:a.copyright)):null)):null)}function SB(e){let{linkGroups:t,revision:o}=e,[,n]=O(N),r=[],i=t==null?void 0:t.map(({title:a})=>a);return t==null||t.forEach(a=>{var s;(s=a==null?void 0:a.links)==null||s.forEach((c,u)=>{if(r[u]===void 0)return r[u]=[c];r[u].push(c)})}),we.createElement(y,{style:[h.flex1,h.justifyContentStart,h.directionRow]},we.createElement(y,{style:Ji.linkGroupColumnDesktop},we.createElement(y,{style:[h.flex1]},i==null?void 0:i.map((a,s)=>we.createElement(y,{key:a,style:[h.alignStart,s>0?m.Margin.smallTop:null]},we.createElement(D,{style:[n.text,n.Heading3]},a))))),r.map((a,s)=>we.createElement(y,{key:s,style:Ji.linkGroupColumnDesktop},we.createElement(wT,{links:a,revision:o,renderMode:"horizontal"}))))}function wB(e){let{linkGroups:t,revision:o}=e,[,n]=O(N);return we.createElement(G.View,{style:[h.flex1,h.justifyContentStart,h.directionRow],desktopStyle:[Ji.linkGroupColumnsDesktop,h.directionRow,h.wrap,h.flexShrink1],mobileStyle:h.directionColumn},t.map((r,i)=>we.createElement(G.View,{key:i,desktopStyle:[Ji.linkGroupColumnDesktop,m.Margin.xlargeTop],mobileStyle:[Ji.linkGroupColumnMobile,m.Margin.xlargeTop,m.Margin.largeLeft]},we.createElement(y,{style:h.alignStart},we.createElement(D,{style:[n.text,n.Heading3]},r.title)),we.createElement(wT,{links:r.links,revision:o,renderMode:"vertical"}))))}function wT(e){let{links:t,renderMode:o}=e,[,n]=O(N);return we.createElement(G.View,{style:[h.alignStart,h.flex1,h.directionColumn],desktopStyle:o==="vertical"?m.Margin.largeTop:null,mobileStyle:m.Margin.smallTop},(t||[]).map((r,i)=>{let a=i===t.length-1;return r.title?we.createElement(we.Suspense,{fallback:null,key:r.title},we.createElement(y,{style:[Ji.referenceLink,o==="horizontal"&&i>0?m.Margin.smallTop:null]},we.createElement(Du,{title:r.title,contentRef:r.to,style:[n.textMuted,n.Medium,o==="horizontal"?null:[m.Padding.smallTop,a?null:m.Padding.smallBottom]],...e}))):null}))}var kB=L.create({footer:e=>({backgroundColor:e.colors.background.mid})}),Ji=q.create({linkGroupColumnsDesktop:{maxWidth:CB,marginTop:-m.xlarge},linkGroupColumnDesktop:{width:CT,marginLeft:m.small,paddingRight:m.xlarge},linkGroupColumnMobile:{width:"auto"},desktopContainer:{maxWidth:1280,width:"100%"},copyright:{textAlign:"center"},mobileHeight:{height:"auto"},referenceLink:{maxWidth:"100%"},footerImageDesktop:{maxHeight:150,maxWidth:150,objectFit:"contain"},footerImageMobile:{maxHeight:30,maxWidth:30,objectFit:"contain"}});l();var Yo=x(R());l();var ai=x(R());z();l();var Mr=x(R());z();l();var Ee=x(R());z();l();var Uo=x(R());z();function kT(e){let{space:t,query:o,answer:n}=e,[r,i]=Uo.useState(!1),[a,s]=Uo.useState(!1),[,c]=O(OB);Uo.useEffect(()=>{if(r){s(!0);let p=setTimeout(()=>{s(!1)},2500);return()=>{clearTimeout(p)}}},[r]);let u=()=>{J(St(t,{type:"ai_search_upvote_answer",query:o,answer:n})),i(!0)},d=()=>{J(St(t,{type:"ai_search_downvote_answer",query:o,answer:n})),i(!0)};return Uo.createElement(y,{style:[c.feedbackWrapper,h.directionRow,h.alignCenter]},r?Uo.createElement(za,null,a?Uo.createElement(xB,null):null):Uo.createElement(Uo.Fragment,null,Uo.createElement(A,{size:"small",icon:S.ThumbsUp,title:"Mark as useful",onPress:u}),Uo.createElement(A,{size:"small",icon:S.ThumbsDown,title:"Mark as not relevant",onPress:d})))}function xB(e){let[,t]=O(N),o=fr(mt.fade);return Uo.createElement(y,{ref:o,style:[h.directionRow,h.alignCenter]},Uo.createElement(S.CheckCircle,{style:[t.textMuted,m.Margin.smallRight],size:E.ICON_XS}),Uo.createElement(D,{style:[t.Caption,t.textMuted]},"Thank you!"))}var OB=L.create({feedbackWrapper:e=>({height:E.BUTTON_S})});l();var ks=x(R());z();function Ma(e){let{icon:t,title:o,subtitle:n}=e,[,r]=O(N);return ks.createElement(y,{style:[h.directionColumn,h.alignCenter,h.justifyContentCenter,h.flex1,m.Padding.xlargeVertical,m.Padding.xxlargeHorizontal]},ks.createElement(y,{style:[h.directionRow,h.alignCenter,h.justifyContentCenter]},t?ks.createElement(t,{size:E.ICON_S,style:[r.textMuted,m.Margin.mediumRight]}):null,ks.createElement(y,null,ks.createElement(D,{style:[r.Body,r.textMuted]},o))),n?ks.createElement(y,{style:[h.directionRow,h.alignCenter,m.Margin.mediumTop]},ks.createElement(D,{style:[r.Label,r.textMuted,r.AlignCenter]},n)):null)}function xT(e){let{query:t,space:o,revision:n}=e,r=Ee.useCallback((i,a,s)=>{J(St(o,{type:"ai_search_crash",query:t}))},[t]);return Ee.createElement(Wd,{fallback:()=>Ee.createElement(EB,null),onError:r},Ee.createElement(Ee.Suspense,{fallback:Ee.createElement(IB,null)},Ee.createElement(RB,{space:o,revision:n,query:t})))}function RB(e){let{space:t,revision:o,query:n}=e,[,r]=O(OT),[,i]=O(N),[a,s]=Ee.useState(!1),c=US({operationId:"askQueryInSpace",params:{spaceId:t.key},query:{query:n}}),{answer:u}=c.data;return Ee.useEffect(()=>{J(St(t,{type:"ai_search_view_answer",query:n,hasAnswer:!!u}))},[n,!!u]),u?Ee.createElement(zr,{style:[h.flex1],contentContainerStyle:m.Padding.large},Ee.createElement(y,null,Ee.createElement(Xl,{markdown:u.text})),Ee.createElement(y,{style:[r.answerFooter,m.Margin.mediumTop,m.Padding.mediumHorizontal,m.Padding.smallVertical]},Ee.createElement(y,{style:[h.directionRow,h.alignCenter]},Ee.createElement(y,{style:m.Margin.smallRight},Ee.createElement(S.HelpCircle,{size:E.ICON_XS,style:i.textMuted})),Ee.createElement(y,{style:[h.flex1]},Ee.createElement(B.Text,{style:[i.Caption,i.textMid],activeStyle:i.primary,onPress:()=>{s(!a)}},"Answer based on ",u.pages.length," ",Ee.createElement(hr,{count:u.pages.length,singular:"page",plural:"pages"}),".")),Ee.createElement(kT,{space:t,query:n,answer:u.text})),a?Ee.createElement(_B,{space:t,revision:o,query:n,answer:u}):null)):Ee.createElement(PB,null)}function _B(e){let{space:t,revision:o,query:n,answer:r}=e,[,i]=O(N),{getNavigationLinkProps:a}=Ce();return Ee.createElement(y,{style:[h.directionRow,h.wrap,m.Margin.smallTop]},r.pages.map(s=>{let c=o.pages[s.page];if(!c)return null;let u=Ye(o,c.key);return Ee.createElement(B.TouchableOpacity,{key:c.key,style:[m.Margin.mediumRight,m.Padding.smallVertical,h.directionRow,h.alignCenter],...a({screen:{page:u||"",query:void 0}},()=>{J(St(t,{type:"ai_search_open_source",query:n}))})},Ee.createElement(S.Page,{size:E.ICON_XS,style:i.textMid}),Ee.createElement(B.Text.Child,{style:[i.Caption,i.textMid,m.Margin.smallLeft],activeStyle:i.primary},c.title))}))}function IB(e){let[,t]=O(OT),[o,n]=Ee.useState(!1);return Ee.useEffect(()=>{let r=setTimeout(()=>{n(!0)},3e3);return()=>{clearTimeout(r)}},[]),Ee.createElement(Ma,{icon:me,title:"Analysing the content to answer your question\u2026",subtitle:Ee.createElement(D,{style:[t.delayedText,o&&t.delayedTextVisible]},"It might take a few more seconds.")})}function PB(e){return Ee.createElement(Ma,{icon:S.Premium,title:"No answer found for your question.",subtitle:"It can indicate that no content is relevant to your question or answer cannot be evaluated with enough confidence."})}function EB(e){return Ee.createElement(Ma,{icon:S.Alert,title:"Unexpected error",subtitle:"Something went wrong. Please try again later."})}var OT=L.create({answerFooter:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large}),delayedText:{opacity:0,transition:`opacity ease ${mt.TRANSITION_DURATION_LONG}ms`},delayedTextVisible:{opacity:1}});l();var ii=x(R());z();function vh(e){let{icon:t,placeholder:o,query:n,onQueryChange:r,onClose:i,onSubmit:a,leftButton:s,rightButton:c}=e,u=ii.useRef(null),[d,p]=O(N),[,f]=O(TB);return ii.useEffect(()=>{let g=u.current;g&&g.select()},[]),ii.createElement(y,{style:[h.directionRow,h.alignCenter,f.searchInput]},s?ii.createElement(y,{style:[m.Margin.mediumLeft]},s):null,t?ii.createElement(y,{style:[m.Margin.largeLeft]},ii.createElement(t,{size:E.ICON_M,style:p.textMuted})):null,ii.createElement(y,{style:[h.flex1]},ii.createElement(Ln,{autoFocus:!0,ref:u,value:n,placeholder:o,placeholderTextColor:d.colors.text.muted,onChangeText:r,onSubmitEditing:a,onKeyPress:g=>{(g.nativeEvent.key==="Escape"||g.nativeEvent.key==="Backspace"&&!n)&&i()},style:[p.Body,p.text,f.searchTextInput,m.Padding.largeHorizontal,m.Padding.mediumLeft,m.Padding.mediumVertical]})),c?ii.createElement(y,{style:[m.Margin.mediumHorizontal]},c):null)}var TB=L.create({searchInput:e=>({backgroundColor:"transparent",borderRadius:e.radiuses.large,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomColor:e.colors.border.muted,borderBottomWidth:1}),searchTextInput:{outlineStyle:"none"}});function RT(e){let{space:t,revision:o,query:n,onQueryChange:r,onClose:i}=e,[a,s]=Mr.useState(n);Ur(St(t,{screen:"ai_search",query:a}),[a]);let c=()=>{s(n),J(St(t,{type:"ai_search_submit",query:n}))};return Mr.createElement(y,{style:[h.flex1,h.directionColumn]},Mr.createElement(vh,{query:n,onClose:i,onQueryChange:r,onSubmit:c,placeholder:"Ask a question...",leftButton:Mr.createElement(A,{icon:S.ArrowLeft,size:"medium",rounded:!0,kind:"grey",onPress:i}),rightButton:Mr.createElement(A,{rightIcon:S.ArrowEnter,size:"medium",kind:"primary",onPress:c},"Ask")}),a?Mr.createElement(Mr.Suspense,{fallback:Mr.createElement(Ht,null)},Mr.createElement(xT,{space:t,revision:o,query:a})):Mr.createElement(Ma,{title:"We'll answer the question with an AI model trained on the content."}))}l();var Fe=x(R());z();l();var nr=x(R());z();function gC(e){let{icon:t,action:o,nested:n,active:r,title:i,subtitle:a,body:s,onHoverItem:c,onFocusItem:u,onSelectItem:d,style:p}=e,[,f]=O(N),[,g]=O(MB),b=B.useInteractiveState({onHoverIn:c,onFocus:u});return nr.default.createElement(B.TouchableOpacity,{onPress:()=>d(),withFocusRing:!1,style:[h.directionRow,h.flex1,h.alignStart,g.searchEntryItem,m.Padding.small,r?g.searchEntryItemActive:null,p],...b.events},nr.default.createElement(y,{style:[m.Margin.smallRight,h.directionRow,g.searchEntryItemIcon]},n?nr.default.createElement(S.ArrowCurveDownRight,{size:E.ICON_XS,style:[f.textMuted,m.Margin.xsmallRight]}):null,nr.default.createElement(t,{size:E.ICON_XS,style:[r?f.text:f.textMid]})),nr.default.createElement(y,{style:[h.directionColumn,h.flex1]},i?nr.default.createElement(D,{numberOfLines:1,style:[f.Label,r?[f.text]:[f.textMid]]},nr.default.createElement(Db,{value:i})):null,a?nr.default.createElement(D,{numberOfLines:1,style:[f.Caption,f.textMuted]},a):null,s?nr.default.createElement(D,{numberOfLines:1,style:[i?f.Caption:f.Label,f.textMid,i?m.Padding.smallLeft:null,i?m.Padding.xsmallTop:null,i?m.Margin.xsmallTop:null,i?g.blurb:null]},nr.default.createElement(Db,{value:s})):null),r?nr.default.createElement(y,{style:[g.actionIndicator,m.Padding.mediumRight,m.Padding.xsmallLeft,m.Margin.smallTop,h.directionRow]},nr.default.createElement(S.ArrowEnter,{size:E.ICON_XS,style:[m.Margin.xsmallTop,m.Margin.smallRight]}),nr.default.createElement(D,{style:[f.Label,f.Medium,f.primary]},o)):null)}var MB=L.create({searchEntryItem:e=>({borderRadius:e.radiuses.large}),searchEntryItemActive:e=>({backgroundColor:e.colors.background.muted}),searchEntryItemIcon:{marginTop:(xe.Label.lineHeight-E.ICON_XS)/2,marginLeft:(E.ICON_S-E.ICON_XS)/2},actionIndicator:e=>({position:"absolute",top:0,right:0,color:e.colors.primary.main}),blurb:e=>({borderLeftColor:e.colors.border.muted,borderLeftWidth:2})});l();var hC=x(R());function _T(e,t,o){let n=hC.default.useMemo(()=>ya.read({query:e,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:o.space}],highlighting:{preTag:Lb,postTag:Nb}}),[e,o.space]);return hC.default.useMemo(()=>{let r=NB(LB(o,n)),i={entries:[],groups:[]};return r.reduce((a,s)=>{let c=[];return s.results.forEach(u=>{c.push({...u.pageResult,type:"page",key:u.page.key,result:u.pageResult,page:u.page,ancestors:u.ancestors}),u.sectionsResult.forEach(d=>{c.push({type:"section",key:d.objectID,result:d,page:u.page})})}),a.entries=a.entries.concat(c),a.groups.push({group:s.pageGroup,data:c}),a},i)},[n,o,e,t.hasAISearch])}function LB(e,t){let o=new Map;return t.forEach(n=>{if(n.index!=="pages"&&n.index!=="sections")return null;let r=e.pages[n.object.page];if(!r)return null;let i=o.get(r.key)||{score:0,ancestors:n1(e,r.key),pageResult:void 0,sectionsResult:[]};n.index==="sections"?(i.sectionsResult.push(n.object),i.score+=1):(i.pageResult=n.object,i.score+=3),o.set(r.key,i)}),Array.from(o.entries()).map(([n,{score:r,ancestors:i,pageResult:a,sectionsResult:s}])=>{let c=e.pages[n];return c?{page:c,score:r,ancestors:i,pageResult:a,sectionsResult:s}:null}).filter(de).sort((n,r)=>r.score-n.score)}function NB(e){let t=new Map;return e.forEach(o=>{let n=o.ancestors.find(i=>i.kind==="group")||null,r=t.get(n)||{score:0,results:[]};r.score+=o.score,r.results.push(o),t.set(n,r)}),Array.from(t.entries()).map(([o,{results:n,score:r}])=>({pageGroup:o,results:n,score:o===null?Number.MAX_SAFE_INTEGER:r})).filter(de).sort((o,n)=>n.score-o.score)}function IT(e){let{space:t,revision:o,query:n,onQueryChange:r,onClose:i,onOpenAISearch:a}=e,s=Fe.default.useRef(null),c=Fe.default.useDeferredValue(n),u=he();return tc(),Xr({opened:!0,closeOnEsc:!0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:i},s),Ur(St(t,{screen:"search"}),[]),Fe.default.useEffect(()=>{if(!n)return;let d=setTimeout(()=>{J(St(t,{type:"public_content_search_type",query:n}))},700);return()=>{clearTimeout(d)}},[n]),Fe.default.createElement(y,{style:h.flex1},Fe.default.createElement(vh,{icon:S.Search,query:n,placeholder:u("search_placeholder"),onQueryChange:r,onClose:i,rightButton:t.hasAISearch?Fe.default.createElement(A,{rightIcon:S.AI,size:"medium",kind:"grey",onPress:a},"or Ask a Question"):null}),c?Fe.default.createElement(Fe.default.Suspense,{fallback:Fe.default.createElement(Ht,null)},Fe.default.createElement(DB,{space:t,query:c,revision:o})):Fe.default.createElement(PT,{query:c,hasAISearch:!!t.hasAISearch}))}function DB(e){var C;let{query:t,space:o,revision:n}=e,{navigate:r}=Ce(),{groups:i,entries:a}=_T(t,o,n),s=Fe.default.useRef(null),c=Fe.default.useCallback(async(w,k)=>{J(St(o,{type:"public_content_search_open_result",resultType:w.type,resultIndex:k.index})),w.type==="page"?r({screen:{type:"space",space:n.space,page:Ye(n,w.key),hash:void 0,query:void 0}}):w.type==="section"&&r({screen:{type:"space",space:n.space,page:Ye(n,w.page.key),hash:w.result.anchor,query:void 0}})},[o]),u=Fe.default.useCallback(w=>{let k=-1;return{sectionIndex:i.findIndex(_=>(k=_.data.findIndex(P=>P.key===w),k>=0)),itemIndex:k,viewPosition:.5}},[i]),d=Fe.default.useCallback(w=>{var k;return(k=s.current)==null?void 0:k.scrollToLocation(u(w.key))},[u]),p=cp({active:!0,startAtFirst:!0,items:a,onSelect:c,scrollTo:d}),f=Fe.default.useCallback(w=>{p.hoverItem(w)},[p.hoverItem]),g=Fe.default.useCallback(w=>{p.setCursor(w)},[p.setCursor]),b=Fe.default.useCallback(({section:w})=>w.group?Fe.default.createElement(AB,{group:w.group}):null,[]),v=Fe.default.useCallback(({item:w,index:k})=>{var _;let I=w.key===((_=p.cursor.current)==null?void 0:_.key);return w.type==="page"?Fe.default.createElement(BB,{item:w,onHoverItem:()=>f(w),onFocusItem:()=>g(w),onSelectItem:()=>c(w,{index:k}),active:I}):w.type==="section"?Fe.default.createElement(zB,{item:w,onHoverItem:()=>f(w),onFocusItem:()=>g(w),onSelectItem:()=>c(w,{index:k}),active:I}):null},[(C=p.cursor.current)==null?void 0:C.key,g,f,o]);return Fe.default.createElement(y,{style:[h.flex1]},a.length>0?Fe.default.createElement(Cl,{ref:s,sections:i,extraData:p.cursor,renderItem:v,renderSectionHeader:b,contentContainerStyle:[m.Margin.mediumHorizontal,m.Margin.mediumVertical]}):null,a.length===0?Fe.default.createElement(PT,{query:t,hasAISearch:!!o.hasAISearch}):null)}function AB(e){let{group:t}=e,[,o]=O(N),[,n]=O(VB);return Fe.default.createElement(y,{style:[m.Padding.smallTop,m.Padding.smallBottom,m.Margin.smallLeft,h.flex1,n.pageGroupHeader]},Fe.default.createElement(D,{numberOfLines:1,style:[o.Label,o.text,o.Bold]},t.title))}function BB(e){let{item:t,active:o,onHoverItem:n,onFocusItem:r,onSelectItem:i}=e,a=he(),s=t.result?t.result._highlightResult.title.value||t.result.title:t.page.title,c=t.ancestors.filter(u=>u.kind!=="group"&&u.key!==t.page.key).map(u=>u.title).join(" \u203A ");return Fe.default.createElement(gC,{icon:S.Page,onSelectItem:i,onHoverItem:n,onFocusItem:r,active:o,title:s,subtitle:c,action:a("search_goto_page"),body:null})}function zB(e){let{item:t,onHoverItem:o,onFocusItem:n,onSelectItem:r,active:i}=e,a=he(),s=t.result?t.result._highlightResult.title.value||t.result.title:null,c=t.result?t.result._highlightResult.body.value||t.result.body:null;return Fe.default.createElement(gC,{icon:S.Hash,nested:!0,onSelectItem:r,onHoverItem:o,onFocusItem:n,active:i,title:s,subtitle:null,body:c,action:a("search_goto_section"),style:[m.Margin.mediumLeft]})}function PT(e){let{query:t,hasAISearch:o}=e,[,n]=O(N),r=he();return t?Fe.default.createElement(Ma,{title:r("search_blankslate_query",[Fe.default.createElement(D,{style:[n.text,n.SemiBold]},t)])}):Fe.default.createElement(Ma,{title:r("search_blankslate"),subtitle:o?r("search_blankslate_ai"):null})}var VB=L.create({pageGroupHeader:e=>({backgroundColor:e.colors.background.main})});var WB=G.createResponsiveComponent(Jo);function ET(e){let[t,{open:o,close:n,setQuery:r}]=JS(),i=t!==void 0;return yr({[ze.PALETTE_OPEN]:()=>{o()},"/":()=>{o()}},["all"],[]),ai.default.createElement(za,null,i?ai.default.createElement(FB,{query:t,onQueryChange:r,onClose:n,...e}):null)}function FB(e){let{space:t,revision:o,query:n,onQueryChange:r,onClose:i}=e,a=ai.default.useRef(null),s=fr(mt.fade),c=fr(mt.pop),[u,d]=O(qB),[p,f]=ai.default.useState("search"),g=Rm("OUTSIDE_CLICK");tc(),Xr({opened:!0,closeOnEsc:!0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:i},a);let b=()=>{f("ask"),J(St(t,{type:"ai_search_open",query:n}))};return ai.default.createElement(tn,{ref:a},ai.default.createElement(ut,{onPressIn:()=>{g&&i()}},ai.default.createElement(y,{ref:s,style:[d.searchBackdrop]},ai.default.createElement(ut,{onPress:v=>v.preventDefault()},ai.default.createElement(WB,{ref:c,backgroundColor:u.colors.background.main,style:[d.search],mobileStyle:d.searchMobile,desktopStyle:d.searchDesktop,onStartShouldSetResponder:()=>!0},p==="ask"?ai.default.createElement(RT,{space:t,revision:o,query:n,onQueryChange:r,onClose:()=>{f("search")}}):ai.default.createElement(IT,{space:t,revision:o,query:n,onQueryChange:r,onOpenAISearch:b,onClose:i}))))))}var qB=L.create({searchBackdrop:e=>({position:"fixed",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:e.colors.backdrop.background,backdropFilter:"blur(2px)"}),search:e=>({borderRadius:e.radiuses.xlarge,borderColor:e.colors.border.main,borderWidth:1,overflow:"hidden",...e.shadows.pop}),searchDesktop:{marginTop:m.xxlarge,marginHorizontal:m.large,width:"100%",maxWidth:680,maxHeight:`calc(min(640px, 100% - ${2*m.xxlarge}px))`},searchMobile:{position:"absolute",margin:0,top:m.small,left:m.small,right:m.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"}});l();var bh=x(R());var Jc=new Map;typeof window<"u"&&(window.GitBook=window.GitBook||{addEventListener:(e,t)=>{Jc.has(e)||Jc.set(e,[]),Jc.get(e).push(t)},removeEventListener:(e,t)=>{if(!Jc.has(e))return;let o=Jc.get(e),n=o.indexOf(t);n!==-1&&o.splice(n,1)}});function TT(e,...t){let o=Jc.get(e);o&&o.forEach(n=>{n(...t)})}function MT(e){if(bh.useContext(Oo).mode!=="public-content")throw new Error("useInjectIntegrationsScripts can only be used in public-content mode");bh.useEffect(()=>(TT("load"),()=>{TT("unload")}),[e.key])}function Ch(e){let{space:t,assetHostname:o,collection:n,collectionSpaces:r,usesCookies:i}=e,{locale:a}=Yo.useContext(Oo),{screen:s}=Vi(),c=zw(),u=Kk(t.key,s),d=s.type==="space"&&typeof s.changeRequest=="string";if(d&&!u)throw new wl.NotFound("Change request not found");let p=s.type==="space"&&s.revision,f=d&&u?u.revisionCurrent:p&&s.revision||t.revision,g=Zl({space:t.key,revision:f});if(!g)throw d?new wl.NotFound("Change request not found"):s.type==="space"&&s.revision?new wl.NotFound("Revision not found"):new Error("Expected revision");ix(t),MT(t);let b=Yo.useMemo(()=>St(t,{}),[t.key,t.organization,t.collection]);if(s.type!=="space"||s.space!==t.key)throw new Error("screen should be the space we render");Yo.useEffect(()=>{if(t.searchKey)return iw(t.searchKey)},[t.searchKey]),pa(w=>{w.write({type:"font",font:t.font||"Inter",fontFamilyName:"gitbook-content-font"}),(s.revision||s.changeRequest||s.sideSheet)&&w.write({type:"meta",name:"robots",content:"noindex"}),w.setLang(a)}),U6(t.privacyPolicyURL,Py(t)||i);let[v,C]=pw(g,s);return ah(c,s,C==null?void 0:C.key),Yo.createElement(Yo.Fragment,null,v?Yo.createElement(Fm,{to:{screen:v}}):null,Yo.createElement(pT,{space:t,revision:g,collection:n,currentPage:C,collectionSpaces:r}),Yo.createElement(bT,{space:t,revision:g,screen:s,analyticsContext:b,collection:n,collectionSpaces:r,assetHostname:o,currentPage:C,scrollRef:c}),Yo.createElement(ST,{space:t,revision:g,collection:n}),Yo.createElement(ET,{space:t,revision:g}),Yo.createElement(PE,null),Yo.createElement(g7,{content:t,contentRef:hn(t.key)}))}l();var yC=x(R());l();function eu(e){return e?e.endsWith("/")?e:`${e}/`:""}function LT(e,t){return o=>{let n=`/${eu(e.basePath)}`;switch(o.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"quickstart":case"root":case"join":case"account_verification":case"integrations":case"import":case"template":case"welcome":case"contentkit_builder":throw new Error(`Cannot navigate to ${o.type} on public content`);case"home":{if(o.organization){let i=Bs.read({type:"organization",organization:o.organization});n=mu(i);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let i=Bs.read({type:"user",user:o.user});n=mu(i);break}case"collection":{let i=Bs.read({type:"collection",collection:o.collection});n=mu(i);break}case"space":{let i=Bs.read({type:"space",space:o.space});i.hostname===e.hostname&&(!e.basePath||i.pathname.startsWith(e.basePath))||t?(e.shareLink&&(n+=eu(e.shareLink)),i.pathname!==e.basePath&&(e.basePath?n+=eu(UC(i.pathname,eu(e.basePath))):n+=eu(i.pathname))):n=mu(i),n+=GB(o);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:Pt(o)}let r;if(typeof o.query=="string"){let i=new URLSearchParams;i.set("q",o.query),r=`?${i.toString()}`}return{pathname:n,hash:o.hash,search:r}}}function GB(e){let t="";return e.revision&&(t+=`~/revisions/${e.revision}/`),e.changeRequest&&(t+=`~/changes/${e.changeRequest}/`),t+=`${e.page[0]==="/"?e.page.slice(1):e.page}`,e.sideSheet&&(t=`${eu(t)}~/${e.sideSheet.type}${"tab"in e.sideSheet?`/${e.sideSheet.tab}`:""}`),t}l();function NT(e,t,o,n=[]){return r=>{let{spaceKey:i,pathname:a}=$C({currentSpaceKey:t,collectionSpaces:n,collection:o,pathname:r.pathname,paths:e}),s={type:"space",space:i,page:""};HB(s,A1(a)),r.hash&&(s.hash=r.hash.replace(/^#/,""));let u=new URLSearchParams(r.search).get("q");return typeof u=="string"&&(s.query=u),s}}function HB(e,t){Fh(t,[{path:`/~/revisions/:revision/:page${fm}`,onMatch:o=>{Object.assign(e,{page:o.params.page,revision:o.params.revision}),tu(e,o,t)}},{path:"/~/revisions/:revision",onMatch:o=>{Object.assign(e,{revision:o.params.revision,page:""}),tu(e,o,t)}},{path:`/~/changes/:changeRequest/:page${fm}`,onMatch:o=>{Object.assign(e,{changeRequest:o.params.changeRequest,revision:void 0,page:o.params.page}),tu(e,o,t)}},{path:"/~/changes/:changeRequest",onMatch:o=>{Object.assign(e,{changeRequest:o.params.changeRequest,revision:void 0,page:""}),tu(e,o,t)}},{path:`/:page${fm}`,onMatch:o=>{Object.assign(e,{page:o.params.page,diff:!1}),tu(e,o,t)}},{path:"/",onMatch:o=>{Object.assign(e,{diff:!1,page:""}),tu(e,o,t)}}])}function tu(e,t,o){Fh(o,[{path:"/~/share/pdf",onMatch:n=>{Object.assign(e,{sideSheet:{type:"share",tab:"pdf"}})}}],{prefix:t.path})}function Sh(e,t,o,n,r){let i=Gk(),a=(0,yC.useMemo)(()=>NT(e,o,n,r),[e.hostname,e.basePath,e.shareLink,o,n,r]),s={hostname:e.hostname,pathname:e.basePath},c=(0,yC.useMemo)(()=>LT({hostname:s.hostname,basePath:s.pathname,shareLink:e.shareLink},t),[e.hostname,e.basePath,e.shareLink]);return{forceHardNavigation:!i,getNavigationScreenFromLocation:a,getLocationForNavigationScreen:c}}function DT(e){let{space:t,ssrRequestPath:o,ssrRouterContext:n,basePath:r,hostname:i,customToken:a,shareLink:s,assetHostname:c,preview:u=!1,usesCookies:d=!1}=e,p=Sh({hostname:i,basePath:r,shareLink:s},u,t.key);return Lr.createElement(hu,{mode:"public-content",preview:u,locale:t.language},Lr.createElement(Ns,{primaryColor:t.primaryColor},Lr.createElement(Pd,null,Lr.createElement(sh,{ssrRequestPath:o,ssrRouterContext:n},Lr.createElement(Wm,{persist:!1,...p},Lr.createElement(Lr.Suspense,{fallback:Lr.createElement(Ht,{size:"large"})},Lr.createElement(bp,null,a&&typeof window>"u"?Lr.createElement(Ht,{size:"large"}):Lr.createElement(Ch,{space:t,assetHostname:c,usesCookies:d}))))))))}l();var Zo=x(R());function AT(e){let{collection:t,basePath:o,hostname:n,customToken:r,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:s,shareLink:c,assetHostname:u,preview:d=!1,usesCookies:p=!1}=e,f=Sh({hostname:n,basePath:o,shareLink:c},d,void 0,t,i);if(!d&&t.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return Zo.createElement(hu,{mode:"public-content",preview:d,locale:t.language},Zo.createElement(Ns,{primaryColor:t.primaryColor},Zo.createElement(Pd,null,Zo.createElement(sh,{ssrRequestPath:a,ssrRouterContext:s},Zo.createElement(Wm,{persist:!1,...f},Zo.createElement(Zo.Suspense,{fallback:Zo.createElement(Ht,{size:"large"})},Zo.createElement(bp,null,r&&typeof window>"u"?Zo.createElement(Ht,{size:"large"}):Zo.createElement(XB,{collection:t,collectionSpaces:i,assetHostname:u,usesCookies:p}))))))))}function XB(e){let{screen:t}=Vi();if(t.type!=="space")throw new Error("screen should be a space");let[o]=Wn([hn(t.space)]);if(!o)throw new Error("the space should exist");return Zo.createElement(hu,{locale:o.language},Zo.createElement(Ns,{primaryColor:o.primaryColor},Zo.createElement(Pd,null,Zo.createElement(Ch,{...e,space:o}))))}l();var ea=x(R());z();l();var vl=x(R());var vC=Ue("preview:child");function BT(e,t){let[o,n]=vl.useState(e),[r,i]=vl.useState(void 0);return KB(o.footer),vl.useEffect(()=>{t&&(window.addEventListener("message",a=>{if(a.data.source!=="gitbook-preview-parent"||(vC.info("receive message",a.origin,a.data),a.origin!=="http://localhost:5000"&&a.origin!=="http://localhost:5001"&&a.origin!==`https://${Vr.firebase.authDomain}`))return;let s=HC(a.data.payload),c=a.data.previewID;vC.debug("update content with",s),n(s),i(c),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),vC.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[t]),[o,r]}function KB(e){let t=vl.useRef(e);Ba(()=>{e&&e!==t.current&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),t.current=e},[e])}l();var zT=x(R());function VT(){zT.useEffect(()=>{typeof window>"u"},[])}function bC(e){let t="collection"in e?e.collection:e.space,[o,n]=BT(t,!!e.preview);VT();let r=qd(o);return ea.createElement(LC,null,ea.createElement(Cn,{theme:r},ea.createElement(rS,{theme:r},ea.createElement(MR,null,ea.createElement(Ik,{...vx},ea.createElement($1,{enabled:!0},"collection"in e?ea.createElement(AT,{...e,collection:o}):ea.createElement(DT,{...e,space:o})),n?ea.createElement(y,{testID:n}):null)))))}l();function CC(e){let t=new URLSearchParams(window.location.search),o=window.location.hash;if(t.has("jwt_token")){t.delete("jwt_token");let i=t.toString();window.history.replaceState({},"",`${window.location.pathname}${i?`?${i}`:""}${o||""}`)}let{dsn:n,tracesSampling:r}={...Vr.sentry,...Vr.sentry.publicContent};WC({dsn:n,release:AC,projectId:Vr.firebase.projectId,tracesSampling:r}),window.location.hostname!=="localhost"&&V1(e.hostname),Ek({customToken:e.customToken,waitUserReady:!1})}l();function WT(e){e!=null&&e.firestore&&As.fromJS(e.firestore),e!=null&&e.head&&eS.cache.fromJS(e.head),e!=null&&e.contentURLs&&Bs.fromJS(e.contentURLs),e!=null&&e.contentRefs&&yi.fromJS(e.contentRefs),e!=null&&e.screenToContentRefs&&ef.fromJS(e.screenToContentRefs),e!=null&&e.swaggers&&Zs.fromJS(e.swaggers)}l();var FT=Ue("browser-compatibility");function qT(){let e=["webcache.googleusercontent.com","translate.googleusercontent.com","translate.google.com"];return!window.location.hostname||e.includes(window.location.hostname)?(FT.warning("The application is served over an unsupported hostname and has been made static."),!1):jB()?!0:(FT.warning("Your browser is missing required features, the application has been made static."),!1)}function jB(){try{if("\u212B".normalize("NFKD")!=="A\u030A")return!1}catch(e){return!1}return!(!window.Intl||![].flat)}l();function GT(e){document.readyState==="interactive"||document.readyState==="complete"?e():document.addEventListener("DOMContentLoaded",()=>{e()})}l();var HT=x(xy());function SC(e){return new Wr("ssr.deserializeFromHTML").wrapSync(()=>{let o=HT.default.decompress(e);return o?JSON.parse(o):null})}qT()&&GT(()=>{UB()});async function UB(){let e=window.__GITBOOK_INITIAL_PROPS__,t=SC(e);CC(t),window.__GITBOOK_LAZY_MODULES__&&await xS(window.__GITBOOK_LAZY_MODULES__);let o=window.__GITBOOK_INITIAL_STATE__,n=SC(o);n?(WT(n),xh.registerComponent("PublicContentApplication",()=>bC),xh.runApplication("PublicContentApplication",{hydrate:!0,rootTag:document.querySelector(".gitbook-root"),initialProps:t})):console.error("Invalid state received from server, content won't be interactive")}
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

rangefix/rangefix.js:
  (*!
   * RangeFix v0.2.9
   * https://github.com/edg2s/rangefix
   *
   * Copyright 2014-17 Ed Sanders.
   * Released under the MIT license
   *)
*/
//# sourceMappingURL=https://app.gitbook.com/public/app/public-5EUS25MU.min.js.map
