import{a as nm,b as _w,c as _u,d as Fs,e as Ur,f as tl,g as np,h as d1,j as M1,k as up,l as We,m as wr,n as dp,o as F1,p as G1,q as kr}from"https://app.gitbook.com/public/app/chunks/chunk-L7BNW3ZK.min.js";import{a as nw,b as ly,c as Fa,d as Gc,e as Hc,g as z1}from"https://app.gitbook.com/public/app/chunks/chunk-VWSLRHJK.min.js";import{a as ep,b as vy,c as v1}from"https://app.gitbook.com/public/app/chunks/chunk-VABKSDXL.min.js";import{a as bw}from"https://app.gitbook.com/public/app/chunks/chunk-WUKQNOK6.min.js";import{a as Fw}from"https://app.gitbook.com/public/app/chunks/chunk-KYH7G7YM.min.js";import{a as Sr,b as cl}from"https://app.gitbook.com/public/app/chunks/chunk-YZUUFE4J.min.js";import{a as mp}from"https://app.gitbook.com/public/app/chunks/chunk-ASR67APX.min.js";import{a as ap}from"https://app.gitbook.com/public/app/chunks/chunk-SQYGGAEL.min.js";import{a as FS,b as Fc,c as Im,d as sy,e as GS,f as HS,g as XS,h as KS,i as jS,j as Pm,k as br,l as Em,m as US,n as YS,o as ZS,p as $S,q as xu,r as QS,s as by,t as B1}from"https://app.gitbook.com/public/app/chunks/chunk-O64UFMLY.min.js";import{a as L1,b as N1,c as D1,d as A1}from"https://app.gitbook.com/public/app/chunks/chunk-2XFS2XO7.min.js";import{a as l1}from"https://app.gitbook.com/public/app/chunks/chunk-XF4PTTJ5.min.js";import{A as el,a as uw,b as Nm,c as Kc,d as te,e as nt,f as Yc,g as Gw,h as Hw,i as Xw,j as Zm,k as jw,l as Uw,m as Yw,n as ja,o as Zc,p as Zw,q as $w,r as On,s as Qw,t as $c,u as li,v as Jw,x as hy,y as u1,z as yy}from"https://app.gitbook.com/public/app/chunks/chunk-U4CJRDW6.min.js";import{a as Fm,b as Um,c as Ym,d as Kw}from"https://app.gitbook.com/public/app/chunks/chunk-2LCTKAMA.min.js";import{b as cw,c as lw,e as Xc}from"https://app.gitbook.com/public/app/chunks/chunk-VOVK6GFK.min.js";import{a as Ua}from"https://app.gitbook.com/public/app/chunks/chunk-6343XG6E.min.js";import{a as ci}from"https://app.gitbook.com/public/app/chunks/chunk-5L4SPRL6.min.js";import{g as E1,h as T1}from"https://app.gitbook.com/public/app/chunks/chunk-6FZC73YV.min.js";import{a as o1,b as s1}from"https://app.gitbook.com/public/app/chunks/chunk-XI3XAORR.min.js";import{A as ip,B as qi,C as Hs,b as JS,g as ow,x as Ou,y as st,z as Jc}from"https://app.gitbook.com/public/app/chunks/chunk-C7YPFMKO.min.js";import{a as ui}from"https://app.gitbook.com/public/app/chunks/chunk-T2GT3QL3.min.js";import{a as uy,c as aw,d as sw,e as op,f as Sa,g as Vi,h as $a,i as y1,k as _1,l as R1,n as Cy}from"https://app.gitbook.com/public/app/chunks/chunk-Y7ZREOWV.min.js";import{a as zw}from"https://app.gitbook.com/public/app/chunks/chunk-I2PD5GOP.min.js";import{a as Gn}from"https://app.gitbook.com/public/app/chunks/chunk-BL6WTYEB.min.js";import{a as c1,b as f1,c as g1,d as h1}from"https://app.gitbook.com/public/app/chunks/chunk-ITYOT6UE.min.js";import{c as sl,e as I1,g as lp,h as P1}from"https://app.gitbook.com/public/app/chunks/chunk-AA7HIN6E.min.js";import{a as Ti}from"https://app.gitbook.com/public/app/chunks/chunk-CZ6ORUN2.min.js";import{a as Eo,b as Pu,c as Fe,d as b1,e as nl}from"https://app.gitbook.com/public/app/chunks/chunk-3GB2HTOU.min.js";import{a as Vs,c as Lm,d as iw,e as Iu,f as bo}from"https://app.gitbook.com/public/app/chunks/chunk-ANR2RFWR.min.js";import{a as Jm}from"https://app.gitbook.com/public/app/chunks/chunk-QVYNBL6S.min.js";import{a as Km,b as jm,c as Qc,d as $m,e as Kt,f as Qm,g as e1,h as t1,i as n1,j as oe,k as r1,l as i1,m as Ya,n as Ru,o as ae,p as tp}from"https://app.gitbook.com/public/app/chunks/chunk-KRRA4GH7.min.js";import{a as ba}from"https://app.gitbook.com/public/app/chunks/chunk-DSTAKGXW.min.js";import{a as xn}from"https://app.gitbook.com/public/app/chunks/chunk-ZDSVYF4N.min.js";import{a as ll,c as W1,e as V1,f as q1}from"https://app.gitbook.com/public/app/chunks/chunk-KRKAX3MM.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-FU6OC5MB.min.js";import{a as kM}from"https://app.gitbook.com/public/app/chunks/chunk-X7YX6OZD.min.js";import{$ as da,$a as ot,A as Hr,Aa as wm,B as ES,Ba as ry,C as An,Ca as _e,D as la,Da as fa,E as ua,Ea as LS,F as Mi,Fa as St,G as Ns,Ga as zc,H as TS,Ha as iy,I as Me,Ia as km,J as Ne,Ja as vo,K as Xe,L as to,La as zs,M as Vo,Ma as NS,N as It,Na as DS,O as oo,Oa as AS,P as Nt,Pa as xm,Q as le,Qa as Om,R as Ct,Ra as ga,S as qo,Sa as _m,T as oy,Ta as Wc,U as MS,Ua as BS,V as ny,Va as Rm,W as Ds,Wa as Vc,X as Dc,Xa as zS,Y as Cn,Ya as Fo,Z as Bn,Za as qc,_ as Li,_a as vr,a as qa,aa as As,ab as Ws,b as Gr,ba as zn,bb as WS,c as mS,ca as ma,cb as ve,d as pS,da as Ni,db as VS,ea as Sn,eb as $,f as mm,fa as wn,fb as si,ga as hr,h as pm,ha as no,hb as qS,i as RS,ia as Su,ib as ay,ka as Io,la as Bs,m as de,ma as wu,na as Ac,o as Cu,oa as hm,p as yo,pa as Di,q as IS,qa as Bc,ra as ym,s as ey,sa as vm,t as Nc,ta as bm,u as gm,ua as Cm,v as PS,va as pa,w as ty,xa as ku,ya as yr,z as ai,za as Sm}from"https://app.gitbook.com/public/app/chunks/chunk-CFNVX5G2.min.js";import{a as wM}from"https://app.gitbook.com/public/app/chunks/chunk-CMQ45EC7.min.js";import{a as nn}from"https://app.gitbook.com/public/app/chunks/chunk-L7X6D72G.min.js";import{a as a1}from"https://app.gitbook.com/public/app/chunks/chunk-II6CZB7C.min.js";import{a as ew,b as tw,c as cy,d as Tm,h as Mm}from"https://app.gitbook.com/public/app/chunks/chunk-36EAGOWB.min.js";import{a as ka}from"https://app.gitbook.com/public/app/chunks/chunk-4R5KJTEH.min.js";import{a as io,c as Ww,d as Wi,e as Ca}from"https://app.gitbook.com/public/app/chunks/chunk-IEKX7ELM.min.js";import{f as gy}from"https://app.gitbook.com/public/app/chunks/chunk-OFQ2UH4Z.min.js";import{d as rw,e as ha,f as di}from"https://app.gitbook.com/public/app/chunks/chunk-GX467UK2.min.js";import{a as wt,b as Za}from"https://app.gitbook.com/public/app/chunks/chunk-BEYF6NWE.min.js";import{a as pe}from"https://app.gitbook.com/public/app/chunks/chunk-JCSWGE6K.min.js";import{a as Vn,b as X,c as Vw,d as qw,e as ao}from"https://app.gitbook.com/public/app/chunks/chunk-OPIWOFMS.min.js";import{d as we}from"https://app.gitbook.com/public/app/chunks/chunk-WJYVHCWC.min.js";import{A as Ht,B as Ke,C as Tw,D as qn,E as S,F as Mw,G as Se,H as Xt,I as on,J as Xm,L as Bi,M as zi,N as Ka,O as Lw,T as Dw,U as Uc,V as jr,W as Aw,X as Fn,Z as Bw,_ as D,b as Wn,d as yw,e as vw,i as B,j as mt,k as Ai,l as qm,m as py,o as Ga,p as Ha,q as Gm,r as Rw,s as Hm,t as fy,u as Iw,v as kn,w as Xa,x as Pw,y as Po,z as Ew}from"https://app.gitbook.com/public/app/chunks/chunk-KICEY3VI.min.js";import{Ab as w1,Bb as k1,Db as wa,E as gS,Eb as x1,G as am,Gb as O1,Hb as al,I as hS,J as yS,K as vS,L as bS,M as bM,N as sm,O as cm,P as Jh,Q as CS,R as SS,T as lm,Ua as dw,V as sa,Wa as Gt,X as wS,Xa as Dm,Ya as mw,_a as pw,ab as fw,ba as Lc,bb as gw,c as tm,ca as vu,cb as J,d as iS,da as kS,e as aS,fa as bu,ga as xS,gb as Am,ha as OS,hb as dy,ia as He,ib as Cw,j as yu,ja as um,jb as Hn,kb as rp,l as Kh,lb as ol,m as uS,n as jh,nb as m1,o as Uh,ob as p1,p as Tc,pa as dm,rb as Gs,sb as rl,ta as ca,ub as il,v as fS,va as ho,vb as sp,w as rm,wb as Xn,x as im,xa as _S,xb as cp,yb as C1,zb as S1}from"https://app.gitbook.com/public/app/chunks/chunk-BF6PSWZS.min.js";import{Ba as sS,Da as aa,Fa as hu,Ma as lS,Pa as Yh,a as fr,b as Wo,c as Ms,d as oS,e as nS,j as Va,l as rS,va as om,ya as Fr,za as Ec}from"https://app.gitbook.com/public/app/chunks/chunk-KZPWOXJN.min.js";import{a as xM,b as va,d as Nw}from"https://app.gitbook.com/public/app/chunks/chunk-VHPAT3QW.min.js";import{a as Ls,b as cS}from"https://app.gitbook.com/public/app/chunks/chunk-HCFMPDL2.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-AHBDZVSS.min.js";import{c as Pc}from"https://app.gitbook.com/public/app/chunks/chunk-K6OCLCTQ.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-EDXCWIHG.min.js";import{c as Zh,d as $h,f as dS,g as Qh,i as Mc,l as SM}from"https://app.gitbook.com/public/app/chunks/chunk-IAGS3YPK.min.js";import{a as $e}from"https://app.gitbook.com/public/app/chunks/chunk-XQJO7322.min.js";import{$ as j,A as Zd,B as ZC,Ba as Cr,C as $d,Ca as N,D as A,Da as L,E as $C,F as dt,G as Xh,I as Qd,J as Te,K as qr,L as Lt,M as QC,N as Jd,O as z,P as ii,Q as JC,R as eo,T as eS,U as em,V as pr,W as tn,X as ia,Y as tS,_ as CM,a as UC,aa as E,b as yM,ba as p,c as vM,ca as v,da as hw,ea as Bm,fa as zm,ga as Wm,ia as ze,ja as Vm,ka as ro,la as ce,ma as ee,n as F,na as Xr,p as O,pa as ya,qa as Sw,ra as ww,sa as kw,t as Ic,ta as my,u as YC,ua as qs,va as xw,wa as Ow,x as b,xa as jc,ya as Kr,z as Ei,za as R}from"https://app.gitbook.com/public/app/chunks/chunk-XJM7E7V2.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-T55DX4SB.min.js";import{b as Oe,c as gr,d as he,e as fm}from"https://app.gitbook.com/public/app/chunks/chunk-YPOOS4GR.min.js";import{c as Ee,d as jC,e as x,f as Yd,l as c}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var Nk=Ee(My=>{c();Object.defineProperty(My,"__esModule",{value:!0});var h2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},y2="src/index.js",v2=function(){function e(t,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),Mk=O(),b2=S2(Mk),C2=(z(),Yd(Jd));function S2(e){return e&&e.__esModule?e:{default:e}}function w2(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function k2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function x2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lk=function(e){x2(t,e);function t(){var o,n,r,i;k2(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=(n=(r=Tk(this,(o=t.__proto__||Object.getPrototypeOf(t)).call.apply(o,[this].concat(s))),r),r.state={width:1,height:1},r.measure=function(u){r.setState({width:u.nativeEvent.layout.width,height:u.nativeEvent.layout.height}),r.props.onLayout&&r.props.onLayout(u)},r.getAngle=function(){if(r.props.useAngle)return r.props.angle+"deg";var u=Math.atan2(r.state.width*(r.props.end.y-r.props.start.y),r.state.height*(r.props.end.x-r.props.start.x))+Math.PI/2;return u+"rad"},r.getColors=function(){return r.props.colors.map(function(u,d){var m=r.props.locations[d],f="";return m&&(f=" "+m*100+"%"),u+f}).join(",")},n),Tk(r,i)}return v2(t,[{key:"render",value:function(){var n=this.props,r=n.start,i=n.end,a=n.colors,s=n.locations,l=n.useAngle,u=n.angleCenter,d=n.angle,m=n.style,f=n.children,g=w2(n,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return b2.default.createElement(C2.View,h2({},g,{style:[m,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:y2,lineNumber:76}}),f)}}]),t}(Mk.PureComponent);Lk.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0};My.default=Lk});var Xy=Ee((IK,Gp)=>{c();var Cx=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function r(a,s){if(!n[a]){n[a]={};for(var l=0;l<a.length;l++)n[a][a.charAt(l)]=l}return n[a][s]}var i={compressToBase64:function(a){if(a==null)return"";var s=i._compress(a,6,function(l){return t.charAt(l)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(a){return a==null?"":a==""?null:i._decompress(a.length,32,function(s){return r(t,a.charAt(s))})},compressToUTF16:function(a){return a==null?"":i._compress(a,15,function(s){return e(s+32)})+" "},decompressFromUTF16:function(a){return a==null?"":a==""?null:i._decompress(a.length,16384,function(s){return a.charCodeAt(s)-32})},compressToUint8Array:function(a){for(var s=i.compress(a),l=new Uint8Array(s.length*2),u=0,d=s.length;u<d;u++){var m=s.charCodeAt(u);l[u*2]=m>>>8,l[u*2+1]=m%256}return l},decompressFromUint8Array:function(a){if(a==null)return i.decompress(a);for(var s=new Array(a.length/2),l=0,u=s.length;l<u;l++)s[l]=a[l*2]*256+a[l*2+1];var d=[];return s.forEach(function(m){d.push(e(m))}),i.decompress(d.join(""))},compressToEncodedURIComponent:function(a){return a==null?"":i._compress(a,6,function(s){return o.charAt(s)})},decompressFromEncodedURIComponent:function(a){return a==null?"":a==""?null:(a=a.replace(/ /g,"+"),i._decompress(a.length,32,function(s){return r(o,a.charAt(s))}))},compress:function(a){return i._compress(a,16,function(s){return e(s)})},_compress:function(a,s,l){if(a==null)return"";var u,d,m={},f={},g="",y="",h="",C=2,w=3,k=2,I=[],_=0,P=0,M;for(M=0;M<a.length;M+=1)if(g=a.charAt(M),Object.prototype.hasOwnProperty.call(m,g)||(m[g]=w++,f[g]=!0),y=h+g,Object.prototype.hasOwnProperty.call(m,y))h=y;else{if(Object.prototype.hasOwnProperty.call(f,h)){if(h.charCodeAt(0)<256){for(u=0;u<k;u++)_=_<<1,P==s-1?(P=0,I.push(l(_)),_=0):P++;for(d=h.charCodeAt(0),u=0;u<8;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1}else{for(d=1,u=0;u<k;u++)_=_<<1|d,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=0;for(d=h.charCodeAt(0),u=0;u<16;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1}C--,C==0&&(C=Math.pow(2,k),k++),delete f[h]}else for(d=m[h],u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1;C--,C==0&&(C=Math.pow(2,k),k++),m[y]=w++,h=String(g)}if(h!==""){if(Object.prototype.hasOwnProperty.call(f,h)){if(h.charCodeAt(0)<256){for(u=0;u<k;u++)_=_<<1,P==s-1?(P=0,I.push(l(_)),_=0):P++;for(d=h.charCodeAt(0),u=0;u<8;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1}else{for(d=1,u=0;u<k;u++)_=_<<1|d,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=0;for(d=h.charCodeAt(0),u=0;u<16;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1}C--,C==0&&(C=Math.pow(2,k),k++),delete f[h]}else for(d=m[h],u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1;C--,C==0&&(C=Math.pow(2,k),k++)}for(d=2,u=0;u<k;u++)_=_<<1|d&1,P==s-1?(P=0,I.push(l(_)),_=0):P++,d=d>>1;for(;;)if(_=_<<1,P==s-1){I.push(l(_));break}else P++;return I.join("")},decompress:function(a){return a==null?"":a==""?null:i._decompress(a.length,32768,function(s){return a.charCodeAt(s)})},_decompress:function(a,s,l){var u=[],d,m=4,f=4,g=3,y="",h=[],C,w,k,I,_,P,M,T={val:l(0),position:s,index:1};for(C=0;C<3;C+=1)u[C]=C;for(k=0,_=Math.pow(2,2),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;switch(d=k){case 0:for(k=0,_=Math.pow(2,8),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;M=e(k);break;case 1:for(k=0,_=Math.pow(2,16),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;M=e(k);break;case 2:return""}for(u[3]=M,w=M,h.push(M);;){if(T.index>a)return"";for(k=0,_=Math.pow(2,g),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;switch(M=k){case 0:for(k=0,_=Math.pow(2,8),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;u[f++]=e(k),M=f-1,m--;break;case 1:for(k=0,_=Math.pow(2,16),P=1;P!=_;)I=T.val&T.position,T.position>>=1,T.position==0&&(T.position=s,T.val=l(T.index++)),k|=(I>0?1:0)*P,P<<=1;u[f++]=e(k),M=f-1,m--;break;case 2:return h.join("")}if(m==0&&(m=Math.pow(2,g),g++),u[M])y=u[M];else if(M===f)y=w+w.charAt(0);else return null;h.push(y),u[f++]=w+y.charAt(0),m--,w=y,m==0&&(m=Math.pow(2,g),g++)}}};return i}();typeof define=="function"&&define.amd?define(function(){return Cx}):typeof Gp<"u"&&Gp!=null&&(Gp.exports=Cx)});var Dx=Ee(Up=>{"use strict";c();var $2=O(),Q2=Symbol.for("react.element"),J2=Symbol.for("react.fragment"),eL=Object.prototype.hasOwnProperty,tL=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oL={key:!0,ref:!0,__self:!0,__source:!0};function Nx(e,t,o){var n,r={},i=null,a=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)eL.call(t,n)&&!oL.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Q2,type:e,key:i,ref:a,props:r,_owner:tL.current}}Up.Fragment=J2;Up.jsx=Nx;Up.jsxs=Nx});var Bx=Ee((Oj,Ax)=>{"use strict";c();Ax.exports=Dx()});var c_=Ee((pQ,qL)=>{qL.exports="https://app.gitbook.com/public/app/assets/youtube.raw-KIFNDQS6.svg"});var l_=Ee((fQ,FL)=>{FL.exports="https://app.gitbook.com/public/app/assets/soundcloud.raw-2NJLH377.svg"});var u_=Ee((gQ,GL)=>{GL.exports="https://app.gitbook.com/public/app/assets/loom.raw-3KUBFJOQ.svg"});var d_=Ee((hQ,HL)=>{HL.exports="https://app.gitbook.com/public/app/assets/github.raw-G362N2HA.svg"});var m_=Ee((yQ,XL)=>{XL.exports="https://app.gitbook.com/public/app/assets/github.dark.raw-A2MHFBQG.svg"});var p_=Ee((vQ,KL)=>{KL.exports="https://app.gitbook.com/public/app/assets/framer.raw-BZOKEAUJ.svg"});var f_=Ee((bQ,jL)=>{jL.exports="https://app.gitbook.com/public/app/assets/framer.dark.raw-HVTXI7EB.svg"});var g_=Ee((CQ,UL)=>{UL.exports="https://app.gitbook.com/public/app/assets/codepen.raw-PGSLYKJU.svg"});var h_=Ee((SQ,YL)=>{YL.exports="https://app.gitbook.com/public/app/assets/codepen.dark.raw-HNDMNQX3.svg"});var y_=Ee((wQ,ZL)=>{ZL.exports="https://app.gitbook.com/public/app/assets/dribbble.raw-KBB5DOUQ.svg"});var v_=Ee((kQ,$L)=>{$L.exports="https://app.gitbook.com/public/app/assets/trello.raw-5HIIOOAI.svg"});var b_=Ee((xQ,QL)=>{QL.exports="https://app.gitbook.com/public/app/assets/typeform.raw-74VPCTO6.svg"});var C_=Ee((OQ,JL)=>{JL.exports="https://app.gitbook.com/public/app/assets/typeform.dark.raw-47MGSH5W.svg"});var S_=Ee((_Q,e9)=>{e9.exports="https://app.gitbook.com/public/app/assets/google-docs.raw-I6UHVZFS.svg"});var w_=Ee((RQ,t9)=>{t9.exports="https://app.gitbook.com/public/app/assets/google-sheets.raw-IGZ6R7IJ.svg"});var k_=Ee((IQ,o9)=>{o9.exports="https://app.gitbook.com/public/app/assets/google-slides.raw-WGHORNC6.svg"});var x_=Ee((PQ,n9)=>{n9.exports="https://app.gitbook.com/public/app/assets/google-forms.raw-7C25TP6G.svg"});var J_=Ee((one,O9)=>{O9.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var oR=Ee((nne,tR)=>{"use strict";c();var kv=J_();tR.exports=hi;hi.message=kv;hi.code=_9(kv);hi.codes=R9(kv);hi.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};hi.empty={204:!0,205:!0,304:!0};hi.retry={502:!0,503:!0,504:!0};function _9(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n],i=Number(n);t[r.toLowerCase()]=i}),t}function R9(e){return Object.keys(e).map(function(o){return Number(o)})}function I9(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(hi.code,t))throw new Error('invalid status message: "'+e+'"');return hi.code[t]}function eR(e){if(!Object.prototype.hasOwnProperty.call(hi.message,e))throw new Error("invalid status code: "+e);return hi.message[e]}function hi(e){if(typeof e=="number")return eR(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?I9(e):eR(t)}});var kI=Ee((yg,wI)=>{c();(function(e,t){typeof define=="function"&&define.amd?define(t):typeof yg=="object"&&typeof yg.nodeName!="string"?wI.exports=t():e.RangeFix=t()})(yg,function(){var e,t={};t.isBroken=function(){var r,i,a,s,l,u,d,m;return e===void 0&&(i=document.createElement("p"),a=document.createElement("span"),s=document.createTextNode("aa"),l=document.createTextNode("aa"),u=document.createElement("img"),u.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),d=document.createRange(),e={},i.appendChild(s),i.appendChild(a),a.appendChild(u),a.appendChild(l),document.body.appendChild(i),d.setStart(s,1),d.setEnd(a,0),e.getClientRects=e.getBoundingClientRect=d.getClientRects().length>1,e.getClientRects||(d.setEnd(l,1),e.getClientRects=e.getBoundingClientRect=d.getClientRects().length===2),e.getBoundingClientRect||(d.setEnd(d.startContainer,d.startOffset),r=d.getBoundingClientRect(),e.getBoundingClientRect=r.top===0&&r.left===0),document.body.removeChild(i),m=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),e.ieZoom=!!m&&m<=10),e};function o(r){var i;return!r||screen.deviceXDPI===screen.logicalXDPI?r:"length"in r?Array.prototype.map.call(r,o):(i=screen.deviceXDPI/screen.logicalXDPI,{top:r.top/i,bottom:r.bottom/i,left:r.left/i,right:r.right/i,width:r.width/i,height:r.height/i})}function n(r,i){var a,s=0,l=1024;if(l>=i.length)return Array.prototype.push.apply(r,i);for(;s<i.length;)a=Array.prototype.push.apply(r,Array.prototype.slice.call(i,s,s+l)),s+=l;return a}return t.getClientRects=function(r){var i,a,s,l,u,d=this.isBroken();if(d.ieZoom)return o(r.getClientRects());if(!d.getClientRects)return r.getClientRects();i=[],s=[],a=r.endContainer,l=r.endOffset,u=document.createRange();function m(f){for(var g=0;f=f.previousSibling;)g++;return g}for(;a!==r.commonAncestorContainer;)u.setStart(a,0),u.setEnd(a,l),n(s,u.getClientRects()),l=m(a),a=a.parentNode;return u=r.cloneRange(),u.setEnd(a,l),n(i,u.getClientRects()),n(i,s),i},t.getBoundingClientRect=function(r){var i,a,s,l,u,d,m=this.getClientRects(r);if(m.length===0)return null;if(u=r.getBoundingClientRect(),d=this.isBroken(),d.ieZoom)return o(u);if(!d.getBoundingClientRect)return u;if(u.width===0&&u.height===0)return m[0];for(i=0,a=m.length;i<a;i++)l=m[i],s?(s.left=Math.min(s.left,l.left),s.top=Math.min(s.top,l.top),s.right=Math.max(s.right,l.right),s.bottom=Math.max(s.bottom,l.bottom)):s={left:l.left,top:l.top,right:l.right,bottom:l.bottom};return s&&(s.width=s.right-s.left,s.height=s.bottom-s.top),s},t})});var J0=Ee((tOe,Q0)=>{"use strict";c();var A8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Q0.exports=A8});var n7=Ee((nOe,o7)=>{"use strict";c();var B8=J0();function e7(){}function t7(){}t7.resetWarningCache=e7;o7.exports=function(){function e(n,r,i,a,s,l){if(l!==B8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:t7,resetWarningCache:e7};return o.PropTypes=o,o}});var i7=Ee((sOe,r7)=>{c();r7.exports=n7()();var iOe,aOe});var m7=Ee(eb=>{"use strict";c();Object.defineProperty(eb,"__esModule",{value:!0});var Qv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},z8=function(){function e(t,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l7=O(),Cd=u7(l7),W8=i7(),ko=u7(W8);function u7(e){return e&&e.__esModule?e:{default:e}}function V8(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function q8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function G8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a7={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},H8=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],X8=function(t){return H8.forEach(function(o){return delete t[o]}),t},s7=function(t,o){o.style.fontSize=t.fontSize,o.style.fontFamily=t.fontFamily,o.style.fontWeight=t.fontWeight,o.style.fontStyle=t.fontStyle,o.style.letterSpacing=t.letterSpacing,o.style.textTransform=t.textTransform},d7=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,c7=function(){return d7?"_"+Math.random().toString(36).substr(2,12):void 0},Jv=function(e){G8(t,e);function t(o){q8(this,t);var n=F8(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return n.inputRef=function(r){n.input=r,typeof n.props.inputRef=="function"&&n.props.inputRef(r)},n.placeHolderSizerRef=function(r){n.placeHolderSizer=r},n.sizerRef=function(r){n.sizer=r},n.state={inputWidth:o.minWidth,inputId:o.id||c7()},n}return z8(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){var r=n.id;r!==this.props.id&&this.setState({inputId:r||c7()})}},{key:"componentDidUpdate",value:function(n,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var n=this.input&&window.getComputedStyle(this.input);n&&(s7(n,this.sizer),this.placeHolderSizer&&s7(n,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var n=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?n=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:n=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;n+=r,n<this.props.minWidth&&(n=this.props.minWidth),n!==this.state.inputWidth&&this.setState({inputWidth:n})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var n=this.props.injectStyles;return d7&&n?Cd.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var n=[this.props.defaultValue,this.props.value,""].reduce(function(s,l){return s!=null?s:l}),r=Qv({},this.props.style);r.display||(r.display="inline-block");var i=Qv({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=V8(this.props,[]);return X8(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=i,Cd.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),Cd.default.createElement("input",Qv({},a,{ref:this.inputRef})),Cd.default.createElement("div",{ref:this.sizerRef,style:a7},n),this.props.placeholder?Cd.default.createElement("div",{ref:this.placeHolderSizerRef,style:a7},this.props.placeholder):null)}}]),t}(l7.Component);Jv.propTypes={className:ko.default.string,defaultValue:ko.default.any,extraWidth:ko.default.oneOfType([ko.default.number,ko.default.string]),id:ko.default.string,injectStyles:ko.default.bool,inputClassName:ko.default.string,inputRef:ko.default.func,inputStyle:ko.default.object,minWidth:ko.default.oneOfType([ko.default.number,ko.default.string]),onAutosize:ko.default.func,onChange:ko.default.func,placeholder:ko.default.string,placeholderIsMinWidth:ko.default.bool,style:ko.default.object,value:ko.default.any};Jv.defaultProps={minWidth:1,injectStyles:!0};eb.default=Jv});var PE=Ee(Vb=>{"use strict";c();Object.defineProperty(Vb,"__esModule",{value:!0});var s4={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};Vb.default={container:s4}});var qb=Ee(nu=>{"use strict";c();Object.defineProperty(nu,"__esModule",{value:!0});nu.ImageZoomState=nu.ImageZoomProps=void 0;var c4=function(){function e(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.useHardwareTextureAndroid=!0,this.minScale=.6,this.maxScale=10,this.useNativeDriver=!1,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){},this.onStartShouldSetPanResponder=function(){return!0},this.onPanResponderTerminationRequest=function(){return!1}}return e}();nu.ImageZoomProps=c4;var l4=function(){function e(){this.centerX=.5,this.centerY=.5}return e}();nu.ImageZoomState=l4});var TE=Ee(Cc=>{"use strict";c();var u4=Cc&&Cc.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},e(t,o)};return function(t,o){e(t,o);function n(){this.constructor=t}t.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ld=Cc&&Cc.__assign||function(){return Ld=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ld.apply(this,arguments)};Object.defineProperty(Cc,"__esModule",{value:!0});var lh=O(),Tt=(z(),Yd(Jd)),d4=PE(),EE=qb(),m4=function(e){u4(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.state=new EE.ImageZoomState,o.lastPositionX=null,o.positionX=0,o.animatedPositionX=new Tt.Animated.Value(0),o.lastPositionY=null,o.positionY=0,o.animatedPositionY=new Tt.Animated.Value(0),o.scale=1,o.animatedScale=new Tt.Animated.Value(1),o.zoomLastDistance=null,o.zoomCurrentDistance=0,o.lastTouchStartTime=0,o.horizontalWholeOuterCounter=0,o.swipeDownOffset=0,o.horizontalWholeCounter=0,o.verticalWholeCounter=0,o.centerDiffX=0,o.centerDiffY=0,o.lastClickTime=0,o.doubleClickX=0,o.doubleClickY=0,o.isDoubleClick=!1,o.isLongPress=!1,o.isHorizontalWrap=!1,o.imagePanResponder=Tt.PanResponder.create({onStartShouldSetPanResponder:o.props.onStartShouldSetPanResponder,onPanResponderTerminationRequest:o.props.onPanResponderTerminationRequest,onMoveShouldSetPanResponder:o.props.onMoveShouldSetPanResponder,onPanResponderGrant:function(n){if(o.lastPositionX=null,o.lastPositionY=null,o.zoomLastDistance=null,o.horizontalWholeCounter=0,o.verticalWholeCounter=0,o.lastTouchStartTime=new Date().getTime(),o.isDoubleClick=!1,o.isLongPress=!1,o.isHorizontalWrap=!1,o.singleClickTimeout&&clearTimeout(o.singleClickTimeout),n.nativeEvent.changedTouches.length>1){var r=(n.nativeEvent.changedTouches[0].pageX+n.nativeEvent.changedTouches[1].pageX)/2;o.centerDiffX=r-o.props.cropWidth/2;var i=(n.nativeEvent.changedTouches[0].pageY+n.nativeEvent.changedTouches[1].pageY)/2;o.centerDiffY=i-o.props.cropHeight/2}o.longPressTimeout&&clearTimeout(o.longPressTimeout);var a=n.nativeEvent,s=a.locationX,l=a.locationY,u=a.pageX,d=a.pageY;if(o.longPressTimeout=setTimeout(function(){o.isLongPress=!0,o.props.onLongPress&&o.props.onLongPress({locationX:s,locationY:l,pageX:u,pageY:d})},o.props.longPressTime),n.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-o.lastClickTime<(o.props.doubleClickInterval||0)){if(o.lastClickTime=0,o.doubleClickX=n.nativeEvent.changedTouches[0].pageX,o.doubleClickY=n.nativeEvent.changedTouches[0].pageY,o.props.onDoubleClick&&o.props.onDoubleClick({locationX:n.nativeEvent.changedTouches[0].locationX,locationY:n.nativeEvent.changedTouches[0].locationY,pageX:o.doubleClickX,pageY:o.doubleClickY}),clearTimeout(o.longPressTimeout),o.isDoubleClick=!0,o.props.enableDoubleClickZoom){if(o.scale>1||o.scale<1)o.scale=1,o.positionX=0,o.positionY=0;else{var m=o.scale;o.scale=2;var f=o.scale-m;o.positionX=(o.props.cropWidth/2-o.doubleClickX)*f/o.scale,o.positionY=(o.props.cropHeight/2-o.doubleClickY)*f/o.scale}o.imageDidMove("centerOn"),Tt.Animated.parallel([Tt.Animated.timing(o.animatedScale,{toValue:o.scale,duration:100,useNativeDriver:!!o.props.useNativeDriver}),Tt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}),Tt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver})]).start()}}else o.lastClickTime=new Date().getTime()},onPanResponderMove:function(n,r){if(!o.isDoubleClick){if(n.nativeEvent.changedTouches.length<=1){var i=r.dx-(o.lastPositionX||0);o.lastPositionX===null&&(i=0);var a=r.dy-(o.lastPositionY||0);if(o.lastPositionY===null&&(a=0),o.lastPositionX=r.dx,o.lastPositionY=r.dy,o.horizontalWholeCounter+=i,o.verticalWholeCounter+=a,(Math.abs(o.horizontalWholeCounter)>5||Math.abs(o.verticalWholeCounter)>5)&&clearTimeout(o.longPressTimeout),o.props.panToMove){if(o.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(o.isHorizontalWrap=!0),o.props.imageWidth*o.scale>o.props.cropWidth){o.horizontalWholeOuterCounter>0?i<0?o.horizontalWholeOuterCounter>Math.abs(i)?(o.horizontalWholeOuterCounter+=i,i=0):(i+=o.horizontalWholeOuterCounter,o.horizontalWholeOuterCounter=0,o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(0)):o.horizontalWholeOuterCounter+=i:o.horizontalWholeOuterCounter<0&&(i>0?Math.abs(o.horizontalWholeOuterCounter)>i?(o.horizontalWholeOuterCounter+=i,i=0):(i+=o.horizontalWholeOuterCounter,o.horizontalWholeOuterCounter=0,o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(0)):o.horizontalWholeOuterCounter+=i),o.positionX+=i/o.scale;var s=(o.props.imageWidth*o.scale-o.props.cropWidth)/2/o.scale;o.positionX<-s?(o.positionX=-s,o.horizontalWholeOuterCounter+=-1/1e10):o.positionX>s&&(o.positionX=s,o.horizontalWholeOuterCounter+=1/1e10),o.animatedPositionX.setValue(o.positionX)}else o.horizontalWholeOuterCounter+=i;o.horizontalWholeOuterCounter>(o.props.maxOverflow||0)?o.horizontalWholeOuterCounter=o.props.maxOverflow||0:o.horizontalWholeOuterCounter<-(o.props.maxOverflow||0)&&(o.horizontalWholeOuterCounter=-(o.props.maxOverflow||0)),o.horizontalWholeOuterCounter!==0&&o.props.horizontalOuterRangeOffset&&o.props.horizontalOuterRangeOffset(o.horizontalWholeOuterCounter)}o.props.imageHeight*o.scale>o.props.cropHeight?(o.positionY+=a/o.scale,o.animatedPositionY.setValue(o.positionY)):o.props.enableSwipeDown&&!o.isHorizontalWrap&&(o.swipeDownOffset+=a,o.swipeDownOffset>0&&(o.positionY+=a/o.scale,o.animatedPositionY.setValue(o.positionY),o.scale=o.scale-a/1e3,o.animatedScale.setValue(o.scale)))}}else if(o.longPressTimeout&&clearTimeout(o.longPressTimeout),o.props.pinchToZoom){var l=void 0,u=void 0;n.nativeEvent.changedTouches[0].locationX>n.nativeEvent.changedTouches[1].locationX?(l=n.nativeEvent.changedTouches[1].pageX,u=n.nativeEvent.changedTouches[0].pageX):(l=n.nativeEvent.changedTouches[0].pageX,u=n.nativeEvent.changedTouches[1].pageX);var d=void 0,m=void 0;n.nativeEvent.changedTouches[0].locationY>n.nativeEvent.changedTouches[1].locationY?(d=n.nativeEvent.changedTouches[1].pageY,m=n.nativeEvent.changedTouches[0].pageY):(d=n.nativeEvent.changedTouches[0].pageY,m=n.nativeEvent.changedTouches[1].pageY);var f=u-l,g=m-d,y=Math.sqrt(f*f+g*g);if(o.zoomCurrentDistance=Number(y.toFixed(1)),o.zoomLastDistance!==null){var h=(o.zoomCurrentDistance-o.zoomLastDistance)/200,C=o.scale+h;C<(o.props.minScale||0)&&(C=o.props.minScale||0),C>(o.props.maxScale||0)&&(C=o.props.maxScale||0);var w=o.scale;o.scale=C,o.animatedScale.setValue(o.scale);var k=o.scale-w;o.positionX-=o.centerDiffX*k/o.scale,o.positionY-=o.centerDiffY*k/o.scale,o.animatedPositionX.setValue(o.positionX),o.animatedPositionY.setValue(o.positionY)}o.zoomLastDistance=o.zoomCurrentDistance}o.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(n,r){if(o.longPressTimeout&&clearTimeout(o.longPressTimeout),!o.isDoubleClick&&!o.isLongPress){var i=Math.sqrt(r.dx*r.dx+r.dy*r.dy),a=n.nativeEvent,s=a.locationX,l=a.locationY,u=a.pageX,d=a.pageY;n.nativeEvent.changedTouches.length===1&&i<(o.props.clickDistance||0)?o.singleClickTimeout=setTimeout(function(){o.props.onClick&&o.props.onClick({locationX:s,locationY:l,pageX:u,pageY:d})},o.props.doubleClickInterval):(o.props.responderRelease&&o.props.responderRelease(r.vx,o.scale),o.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}}),o.resetScale=function(){o.positionX=0,o.positionY=0,o.scale=1,o.animatedScale.setValue(1)},o.panResponderReleaseResolve=function(){if(o.props.enableSwipeDown&&o.props.swipeDownThreshold&&o.swipeDownOffset>o.props.swipeDownThreshold){o.props.onSwipeDown&&o.props.onSwipeDown();return}if(o.props.enableCenterFocus&&o.scale<1&&(o.scale=1,Tt.Animated.timing(o.animatedScale,{toValue:o.scale,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageWidth*o.scale<=o.props.cropWidth&&(o.positionX=0,Tt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageHeight*o.scale<=o.props.cropHeight&&(o.positionY=0,Tt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.props.imageHeight*o.scale>o.props.cropHeight){var n=(o.props.imageHeight*o.scale-o.props.cropHeight)/2/o.scale;o.positionY<-n?o.positionY=-n:o.positionY>n&&(o.positionY=n),Tt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()}if(o.props.imageWidth*o.scale>o.props.cropWidth){var r=(o.props.imageWidth*o.scale-o.props.cropWidth)/2/o.scale;o.positionX<-r?o.positionX=-r:o.positionX>r&&(o.positionX=r),Tt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()}o.props.enableCenterFocus&&o.scale===1&&(o.positionX=0,o.positionY=0,Tt.Animated.timing(o.animatedPositionX,{toValue:o.positionX,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start(),Tt.Animated.timing(o.animatedPositionY,{toValue:o.positionY,duration:100,useNativeDriver:!!o.props.useNativeDriver}).start()),o.horizontalWholeOuterCounter=0,o.swipeDownOffset=0,o.imageDidMove("onPanResponderRelease")},o}return t.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},t.prototype.componentDidUpdate=function(o){(this.props.centerOn&&!o.centerOn||this.props.centerOn&&o.centerOn&&this.didCenterOnChange(o.centerOn,this.props.centerOn))&&this.centerOn(this.props.centerOn)},t.prototype.imageDidMove=function(o){this.props.onMove&&this.props.onMove({type:o,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},t.prototype.didCenterOnChange=function(o,n){return o.x!==n.x||o.y!==n.y||o.scale!==n.scale},t.prototype.centerOn=function(o){var n=this;this.positionX=o.x,this.positionY=o.y,this.scale=o.scale;var r=o.duration||300;Tt.Animated.parallel([Tt.Animated.timing(this.animatedScale,{toValue:this.scale,duration:r,useNativeDriver:!!this.props.useNativeDriver}),Tt.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:r,useNativeDriver:!!this.props.useNativeDriver}),Tt.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:r,useNativeDriver:!!this.props.useNativeDriver})]).start(function(){n.imageDidMove("centerOn")})},t.prototype.handleLayout=function(o){this.props.layoutChange&&this.props.layoutChange(o)},t.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},t.prototype.render=function(){var o={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},n=Tt.StyleSheet.flatten(this.props.style);return lh.createElement(Tt.View,{style:Ld(Ld(Ld({},d4.default.container),n),{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},lh.createElement(Tt.Animated.View,{style:o,renderToHardwareTextureAndroid:this.props.useHardwareTextureAndroid},lh.createElement(Tt.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},t.defaultProps=new EE.ImageZoomProps,t}(lh.Component);Cc.default=m4});var ME=Ee(Os=>{"use strict";c();var p4=Os&&Os.__createBinding||(Object.create?function(e,t,o,n){n===void 0&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){n===void 0&&(n=o),e[n]=t[o]}),f4=Os&&Os.__exportStar||function(e,t){for(var o in e)o!=="default"&&!t.hasOwnProperty(o)&&p4(t,e,o)};Object.defineProperty(Os,"__esModule",{value:!0});var g4=TE();Os.default=g4.default;f4(qb(),Os)});var Fb=Ee(uh=>{"use strict";c();Object.defineProperty(uh,"__esModule",{value:!0});uh.default=function(e,t,o){return{modalContainer:{backgroundColor:o,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:e,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:o},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:e,height:t,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:e,height:t,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:e,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:e,height:t},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};uh.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var Xb=Ee(dh=>{"use strict";c();Object.defineProperty(dh,"__esModule",{value:!0});var Gb=O(),Hb=(z(),Yd(Jd)),LE=Fb(),h4=function(){function e(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.useNativeDriver=!1,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(t,o){return Gb.createElement(Hb.View,{style:LE.simpleStyle.count},Gb.createElement(Hb.Text,{style:LE.simpleStyle.countText},t+"/"+o))},this.renderImage=function(t){return Gb.createElement(Hb.Image,t)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return e}();dh.Props=h4;var y4=function(){function e(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return e}();dh.State=y4});var AE=Ee(Na=>{"use strict";c();var v4=Na&&Na.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(t,o){e(t,o);function n(){this.constructor=t}t.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sc=Na&&Na.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},b4=Na&&Na.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(o[n[r]]=e[n[r]]);return o};Object.defineProperty(Na,"__esModule",{value:!0});var Ue=O(),ge=(z(),Yd(Jd)),NE=ME(),DE=Fb(),Kb=Xb(),C4=function(e){v4(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.state=new Kb.State,o.fadeAnim=new ge.Animated.Value(0),o.standardPositionX=0,o.positionXNumber=0,o.positionX=new ge.Animated.Value(0),o.width=0,o.height=0,o.styles=DE.default(0,0,"transparent"),o.hasLayout=!1,o.loadedIndex=new Map,o.handleLongPressWithIndex=new Map,o.imageRefs=[],o.resetImageByIndex=function(n){o.imageRefs[n]&&o.imageRefs[n].reset()},o.preloadImage=function(n){n<o.state.imageSizes.length&&o.loadImage(n+1)},o.handleHorizontalOuterRangeOffset=function(n){n===void 0&&(n=0),o.positionXNumber=o.standardPositionX+n,o.positionX.setValue(o.positionXNumber);var r=ge.I18nManager.isRTL?-n:n;r<0?(o.state.currentShowIndex||0<o.props.imageUrls.length-1)&&o.loadImage((o.state.currentShowIndex||0)+1):r>0&&(o.state.currentShowIndex||0>0)&&o.loadImage((o.state.currentShowIndex||0)-1)},o.handleResponderRelease=function(n){n===void 0&&(n=0);var r=ge.I18nManager.isRTL?-n:n,i=ge.I18nManager.isRTL?o.positionXNumber-o.standardPositionX<-(o.props.flipThreshold||0):o.positionXNumber-o.standardPositionX>(o.props.flipThreshold||0),a=ge.I18nManager.isRTL?o.positionXNumber-o.standardPositionX>(o.props.flipThreshold||0):o.positionXNumber-o.standardPositionX<-(o.props.flipThreshold||0);if(r>.7){o.goBack.call(o),(o.state.currentShowIndex||0>0)&&o.loadImage((o.state.currentShowIndex||0)-1);return}else if(r<-.7){o.goNext.call(o),(o.state.currentShowIndex||0<o.props.imageUrls.length-1)&&o.loadImage((o.state.currentShowIndex||0)+1);return}if(i)o.goBack.call(o);else if(a){o.goNext.call(o);return}else{o.resetPosition.call(o);return}},o.goBack=function(){if(o.state.currentShowIndex===0){o.resetPosition.call(o);return}o.positionXNumber=ge.I18nManager.isRTL?o.standardPositionX-o.width:o.standardPositionX+o.width,o.standardPositionX=o.positionXNumber,ge.Animated.timing(o.positionX,{toValue:o.positionXNumber,duration:o.props.pageAnimateTime,useNativeDriver:!!o.props.useNativeDriver}).start();var n=(o.state.currentShowIndex||0)-1;o.setState({currentShowIndex:n},function(){o.props.onChange&&o.props.onChange(o.state.currentShowIndex)})},o.goNext=function(){if(o.state.currentShowIndex===o.props.imageUrls.length-1){o.resetPosition.call(o);return}o.positionXNumber=ge.I18nManager.isRTL?o.standardPositionX+o.width:o.standardPositionX-o.width,o.standardPositionX=o.positionXNumber,ge.Animated.timing(o.positionX,{toValue:o.positionXNumber,duration:o.props.pageAnimateTime,useNativeDriver:!!o.props.useNativeDriver}).start();var n=(o.state.currentShowIndex||0)+1;o.setState({currentShowIndex:n},function(){o.props.onChange&&o.props.onChange(o.state.currentShowIndex)})},o.handleLongPress=function(n){o.props.saveToLocalByLongPress&&o.setState({isShowMenu:!0}),o.props.onLongPress&&o.props.onLongPress(n)},o.handleClick=function(){o.props.onClick&&o.props.onClick(o.handleCancel,o.state.currentShowIndex)},o.handleDoubleClick=function(){o.props.onDoubleClick&&o.props.onDoubleClick(o.handleCancel)},o.handleCancel=function(){o.hasLayout=!1,o.props.onCancel&&o.props.onCancel()},o.handleLayout=function(n){n.nativeEvent.layout.width!==o.width&&(o.hasLayout=!0,o.width=n.nativeEvent.layout.width,o.height=n.nativeEvent.layout.height,o.styles=DE.default(o.width,o.height,o.props.backgroundColor||"transparent"),o.forceUpdate(),o.jumpToCurrentImage())},o.saveToLocal=function(){o.props.onSave?o.props.onSave(o.props.imageUrls[o.state.currentShowIndex||0].url):(ge.CameraRoll.saveToCameraRoll(o.props.imageUrls[o.state.currentShowIndex||0].url),o.props.onSaveToCamera(o.state.currentShowIndex)),o.setState({isShowMenu:!1})},o.handleLeaveMenu=function(){o.setState({isShowMenu:!1})},o.handleSwipeDown=function(){o.props.onSwipeDown&&o.props.onSwipeDown(),o.handleCancel()},o}return t.prototype.componentDidMount=function(){this.init(this.props)},t.getDerivedStateFromProps=function(o,n){return o.index!==n.prevIndexProp?{currentShowIndex:o.index,prevIndexProp:o.index}:null},t.prototype.componentDidUpdate=function(o,n){o.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),ge.Animated.timing(this.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!this.props.useNativeDriver}).start())},t.prototype.init=function(o){var n=this;if(o.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new Kb.State);var r=[];o.imageUrls.forEach(function(i){r.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:o.index,prevIndexProp:o.index||0,imageSizes:r},function(){n.loadImage(o.index||0),n.jumpToCurrentImage(),ge.Animated.timing(n.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!o.useNativeDriver}).start()})},t.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(ge.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},t.prototype.loadImage=function(o){var n=this;if(this.state.imageSizes[o]&&!this.loadedIndex.has(o)){this.loadedIndex.set(o,!0);var r=this.props.imageUrls[o],i=Sc({},this.state.imageSizes[o]),a=function(){if(!(n.state.imageSizes[o]&&n.state.imageSizes[o].status!=="loading")){var u=n.state.imageSizes.slice();u[o]=i,n.setState({imageSizes:u})}};if(this.state.imageSizes[o].status!=="success"){if(this.state.imageSizes[o].width>0&&this.state.imageSizes[o].height>0){i.status="success",a();return}var s=!1,l=!1;if((!r.url||r.url.startsWith("file:"))&&(l=!0),r.width&&r.height){this.props.enablePreload&&l===!1&&ge.Image.prefetch(r.url),i.width=r.width,i.height=r.height,i.status="success",a();return}ge.Image.getSize(r.url,function(u,d){i.width=u,i.height=d,i.status="success",a()},function(){try{var u=ge.Image.resolveAssetSource(r.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(d){i.status="fail",a()}})}}},t.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,ge.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150,useNativeDriver:!!this.props.useNativeDriver}).start()},t.prototype.getContent=function(){var o=this,n=this.width,r=this.height,i=this.props.imageUrls.map(function(a,s){if((o.state.currentShowIndex||0)>s+1||(o.state.currentShowIndex||0)<s-1)return Ue.createElement(ge.View,{key:s,style:{width:n,height:r}});o.handleLongPressWithIndex.has(s)||o.handleLongPressWithIndex.set(s,o.handleLongPress.bind(o,a));var l=o.state.imageSizes[s]&&o.state.imageSizes[s].width,u=o.state.imageSizes[s]&&o.state.imageSizes[s].height,d=o.state.imageSizes[s];if(!d||!d.status)return Ue.createElement(ge.View,{key:s,style:{width:n,height:r}});if(l>n){var m=n/l;l*=m,u*=m}if(u>r){var f=r/u;l*=f,u*=f}var g=function(y){var h=y.children,C=b4(y,["children"]);return Ue.createElement(NE.default,{cropWidth:o.width,cropHeight:o.height,maxOverflow:o.props.maxOverflow,horizontalOuterRangeOffset:o.handleHorizontalOuterRangeOffset,responderRelease:o.handleResponderRelease,onMove:o.props.onMove,onLongPress:o.handleLongPressWithIndex.get(s),onClick:o.handleClick,onDoubleClick:o.handleDoubleClick,enableSwipeDown:o.props.enableSwipeDown,swipeDownThreshold:o.props.swipeDownThreshold,onSwipeDown:o.handleSwipeDown,pinchToZoom:o.props.enableImageZoom,enableDoubleClickZoom:o.props.enableImageZoom,doubleClickInterval:o.props.doubleClickInterval,...C},h)};switch(d.status){case"loading":return Ue.createElement(g,{key:s,style:Sc({},o.styles.modalContainer,o.styles.loadingContainer),imageWidth:n,imageHeight:r},Ue.createElement(ge.View,{style:o.styles.loadingContainer},o.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=Sc({},o.styles.imageStyle,a.props.style,{width:l,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=Sc({uri:a.url},a.props.source)),o.props.enablePreload&&o.preloadImage(o.state.currentShowIndex||0),Ue.createElement(NE.default,{key:s,ref:function(y){return o.imageRefs[s]=y},cropWidth:o.width,cropHeight:o.height,maxOverflow:o.props.maxOverflow,horizontalOuterRangeOffset:o.handleHorizontalOuterRangeOffset,responderRelease:o.handleResponderRelease,onMove:o.props.onMove,onLongPress:o.handleLongPressWithIndex.get(s),onClick:o.handleClick,onDoubleClick:o.handleDoubleClick,imageWidth:l,imageHeight:u,enableSwipeDown:o.props.enableSwipeDown,swipeDownThreshold:o.props.swipeDownThreshold,onSwipeDown:o.handleSwipeDown,panToMove:!o.state.isShowMenu,pinchToZoom:o.props.enableImageZoom&&!o.state.isShowMenu,enableDoubleClickZoom:o.props.enableImageZoom&&!o.state.isShowMenu,doubleClickInterval:o.props.doubleClickInterval,minScale:o.props.minScale,maxScale:o.props.maxScale},o.props.renderImage(a.props));case"fail":return Ue.createElement(g,{key:s,style:o.styles.modalContainer,imageWidth:o.props.failImageSource?o.props.failImageSource.width:n,imageHeight:o.props.failImageSource?o.props.failImageSource.height:r},o.props.failImageSource&&o.props.renderImage({source:{uri:o.props.failImageSource.url},style:{width:o.props.failImageSource.width,height:o.props.failImageSource.height}}))}});return Ue.createElement(ge.Animated.View,{style:{zIndex:9}},Ue.createElement(ge.Animated.View,{style:Sc({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),Ue.createElement(ge.View,{style:this.styles.arrowLeftContainer},Ue.createElement(ge.TouchableWithoutFeedback,{onPress:this.goBack},Ue.createElement(ge.View,null,this.props.renderArrowLeft()))),Ue.createElement(ge.View,{style:this.styles.arrowRightContainer},Ue.createElement(ge.TouchableWithoutFeedback,{onPress:this.goNext},Ue.createElement(ge.View,null,this.props.renderArrowRight()))),Ue.createElement(ge.Animated.View,{style:Sc({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&Ue.createElement(ge.View,{style:this.styles.watchOrigin},Ue.createElement(ge.TouchableOpacity,{style:this.styles.watchOriginTouchable},Ue.createElement(ge.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),Ue.createElement(ge.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},t.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?Ue.createElement(ge.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):Ue.createElement(ge.View,{style:this.styles.menuContainer},Ue.createElement(ge.View,{style:this.styles.menuShadow}),Ue.createElement(ge.View,{style:this.styles.menuContent},Ue.createElement(ge.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},Ue.createElement(ge.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),Ue.createElement(ge.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},Ue.createElement(ge.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},t.prototype.render=function(){var o=null;return o=Ue.createElement(ge.View,null,this.getContent(),this.getMenu()),Ue.createElement(ge.View,{onLayout:this.handleLayout,style:Sc({flex:1,overflow:"hidden"},this.props.style)},o)},t.defaultProps=new Kb.Props,t}(Ue.Component);Na.default=C4});var zE=Ee(Nd=>{"use strict";c();Object.defineProperty(Nd,"__esModule",{value:!0});var BE=AE();Nd.ImageViewer=BE.default;var S4=Xb();Nd.ImageViewerPropsDefine=S4.Props;Nd.default=BE.default});var $6=Ee((xNe,vA)=>{vA.exports="https://app.gitbook.com/public/app/assets/default-page-cover-K4LPTE6Y.png"});c();c();(function(){"use strict";var e="ListFormat"in Intl;function t(V,Z){if(!(V instanceof Z))throw new TypeError("Cannot call a class as a function")}function o(V,Z){for(var K=0;K<Z.length;K++){var Q=Z[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(V,Q.key,Q)}}function n(V,Z,K){return Z&&o(V.prototype,Z),K&&o(V,K),V}var r=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function s(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(K){return typeof K}:s=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},s(V)}function l(V){return typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?l=function(K){return s(K)}:l=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":s(K)},l(V)}function u(V){if(V==null)throw new TypeError("Argument ".concat(V," cannot be converted to an Object"));return typeof V=="boolean"?new Boolean(V):typeof V=="number"?new Number(V):typeof V=="string"?new String(V):l(V)==="symbol"?new Object(V):V}var d;function m(V){d=V}function f(){return d}function g(){if(d==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return d}var y=new WeakMap,h={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function C(V,Z,K){var Q=y.get(V);Q==null&&(Q=Object.create(null),y.set(V,Q)),Q[Z]=K}function w(V,Z){var K=y.get(V);if(K==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return K[Z]}function k(V,Z){var K=y.get(V);return K!=null&&Z in K}var I=/-u(?:-[0-9a-z]{2,8})+/gi;function _(V){return V.replace(I,"")}function P(V,Z){for(var K=Z;;){if(V.includes(K))return K;var Q=K.lastIndexOf("-");if(Q===-1)return;Q>=2&&K.charAt(Q-2)==="-"&&(Q-=2),K=K.slice(0,Q)}}function M(V,Z){var K=[],Q=!0,Ce=!1,Le=void 0;try{for(var Rt=Z[Symbol.iterator](),Ze;!(Q=(Ze=Rt.next()).done);Q=!0){var lt=Ze.value,ut=_(lt),Ft=P(V,ut);Ft!==void 0&&K.push(lt)}}catch(bn){Ce=!0,Le=bn}finally{try{!Q&&Rt.return!=null&&Rt.return()}finally{if(Ce)throw Le}}return K}function T(V,Z){return M(V,Z)}function W(V){return typeof V=="string"||l(V)==="symbol"}function H(V,Z){if(l(V)!=="object")throw new TypeError("Given argument ".concat(V," must be of type Object"));if(!W(Z))throw new TypeError("Given argument ".concat(Z," must be a PropertyKey"));return V[Z]}function q(V){return Boolean(V)}function G(V){return V+""}function Y(V,Z,K,Q,Ce){var Le=H(V,Z);if(Le!==void 0){if(K!=="boolean"&&K!=="string")throw new TypeError("Expected type ".concat(K," to be 'boolean' or 'string"));if(K==="boolean"&&(Le=q(Le)),K==="string"&&(Le=G(Le)),Q!==void 0&&!Q.includes(Le))throw new RangeError("Value ".concat(Le," out of range for options property ").concat(Z));return Le}else return Ce}function U(V,Z,K){var Q;return K!==void 0?(K=u(K),Q=Y(K,"localeMatcher","string",a,"best fit")):Q="best fit",Q==="best fit"?T(V,Z):M(V,Z)}function ue(V){var Z=V.availableLocales,K=V.requestedLocales,Q=Object.create(null),Ce=!0,Le=!1,Rt=void 0;try{for(var Ze=K[Symbol.iterator](),lt;!(Ce=(lt=Ze.next()).done);Ce=!0){var ut=lt.value,Ft=_(ut),bn=P(Z,Ft);if(bn!==void 0){if(Q.locale=bn,ut!==Ft){var mr=ut.match(I);Q.extension=mr==null?"":mr[0]}return Q}}}catch(ra){Le=!0,Rt=ra}finally{try{!Ce&&Ze.return!=null&&Ze.return()}finally{if(Le)throw Rt}}var Vr=g();return Q.locale=Vr,Q}function Ye(V){return ue(V)}function at(V,Z,K,Q,Ce){var Le=K.localeMatcher,Rt=Le==="lookup"?ue({availableLocales:V,requestedLocales:Z}):Ye({availableLocales:V,requestedLocales:Z}),Ze=Rt.locale,lt=Object.create(null);lt.dataLocale=Ze;var ut="-u";if(ut.length>2){var Ft=String.prototype.indexOf.call(Ze,"-x-");if(Ft===-1)Ze="".concat(Ze).concat(ut);else{var bn=Ze.slice(0,Ft),mr=Ze.slice(Ft);Ze="".concat(bn).concat(ut).concat(mr)}Ze=Intl.getCanonicalLocales(Ze)[0]}return lt.locale=Ze,lt}function Nn(V){if(Array.isArray(V)){for(var Z=0,K=new Array(V.length);Z<V.length;Z++)K[Z]=V[Z];return K}}function Qo(V){if(Symbol.iterator in Object(V)||Object.prototype.toString.call(V)==="[object Arguments]")return Array.from(V)}function go(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function zr(V){return Nn(V)||Qo(V)||go()}function lr(V){if(V===void 0)return[];var Z=zr(V);if(Z.some(function(K){return typeof K!="string"}))throw new TypeError("All List items must be strings");return Z}function Wr(V){return Object.prototype.toString.call(V)==="[object Object]"}function ur(V){return Array.isArray(V)||Wr(V)}function Jo(V,Z){for(var K=[],Q=String.prototype.indexOf.call(V,"{",0),Ce=0,Le=V.length;V[Q]!==void 0;){var Rt=String.prototype.indexOf.call(V,"}",Q);if(Rt<=Q)throw new TypeError("Expected endIndex: ".concat(Rt," to be greater than beginIndex: ").concat(Q));if(Q>Ce){var Ze=V.slice(Ce,Q);K.push({type:"literal",value:Ze})}var lt=V.slice(Q+1,Rt);if(Z[Number(lt)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(lt));var ut=Z[Number(lt)];if(ur(ut.value)){var Ft=!0,bn=!1,mr=void 0;try{for(var Vr=ut.value[Symbol.iterator](),ra;!(Ft=(ra=Vr.next()).done);Ft=!0){var Gh=ra.value;K.push(Gh)}}catch(Hh){bn=!0,mr=Hh}finally{try{!Ft&&Vr.return!=null&&Vr.return()}finally{if(bn)throw mr}}}else K.push(ut);Ce=Rt+1,Q=String.prototype.indexOf.call(V,"{",Ce)}if(Ce<Le){var gu=V.slice(Ce,Le);K.push({type:"literal",value:gu})}return K}function Ro(V,Z){var K,Q=Z.length;if(Q===0)return[];if(Q===2){K=w(V,"templatePair");var Ce={type:"element",value:Z[0]},Le={type:"element",value:Z[1]},Rt={0:Ce,1:Le};return Jo(K,Rt)}for(var Ze={type:"element",value:Z[Q-1]},lt=[Ze],ut=Q-2;ut>=0;){ut===0?K=w(V,"templateStart"):ut<Q-2?K=w(V,"templateMiddle"):K=w(V,"templateEnd");var Ft={type:"element",value:Z[ut]},bn={type:"element",value:lt},mr={0:Ft,1:bn};lt=Jo(K,mr),ut--}return lt}function en(V,Z){var K=Ro(V,Z),Q="",Ce=!0,Le=!1,Rt=void 0;try{for(var Ze=K[Symbol.iterator](),lt;!(Ce=(lt=Ze.next()).done);Ce=!0){var ut=lt.value;Q+=ut.value}}catch(Ft){Le=!0,Rt=Ft}finally{try{!Ce&&Ze.return!=null&&Ze.return()}finally{if(Le)throw Rt}}return Q}function dr(V,Z){return Ro(V,Z)}var Jt=function(){function V(){t(this,V);var Z=arguments[0],K=arguments[1];if((this instanceof V?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var Q=Intl.getCanonicalLocales(Z);K=K===void 0?Object.create(null):u(K);var Ce=Object.create(null),Le=Y(K,"localeMatcher","string",a,"best fit");Ce.localeMatcher=Le;var Rt=Y(K,"type","string",r,"conjunction");C(this,"type",Rt);var Ze=Y(K,"style","string",i,"long");C(this,"style",Ze);var lt=h.localeData,ut=at(h.availableLocales,Q,Ce),Ft=ut.dataLocale,bn=lt[Ft],mr=bn.formats[Rt],Vr=mr[Ze];C(this,"templatePair",Vr.Pair),C(this,"templateStart",Vr.Start),C(this,"templateMiddle",Vr.Middle),C(this,"templateEnd",Vr.End),C(this,"locale",ut.locale),C(this,"initializedListFormat",this)}return n(V,[{key:"format",value:function(K){var Q=this;if(!(Q instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!k(Q,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var Ce=lr(K);return en(Q,Ce)}},{key:"formatToParts",value:function(K){var Q=this;if(!(Q instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!k(Q,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var Ce=lr(K);return dr(Q,Ce)}},{key:"resolvedOptions",value:function(){var K=this;if(!(K instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!k(K,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var Q=w(this,"locale"),Ce=w(this,"type"),Le=w(this,"style");return{locale:Q,type:Ce,style:Le}}}],[{key:"supportedLocalesOf",value:function(K){var Q=arguments[1],Ce=h.availableLocales,Le=Intl.getCanonicalLocales(K);return U(Ce,Le,Q)}},{key:"__addLocaleData",value:function(K){var Q=K.data,Ce=K.locale,Le=f();Le==null&&m(Ce),h.localeData[Ce]=Q,h.availableLocales.includes(Ce)||h.availableLocales.push(Ce)}}]),V}();Object.defineProperty(Jt.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function ct(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=Jt}e||ct()})();c();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});z();c();c();function H1(e){return Ec().collection("space-content-refs").where("references","array-contains-any",e.map(t=>typeof t=="string"?t:cm(t)))}c();function OM(e){return Ec().collection("spaces").doc(e).collection("redirects")}function X1(e,t){return OM(e).doc(cS(t))}c();var _M=x(VS());var RM=$e("database:revisions:diff");function Sy(e,t){let o=[];return t.forEach(n=>{let r=e[n];if(!r){RM.warning(`Couldn't find page ${n} although it is referenced. This may indicate a bad page tree normalization.`);return}o.push({renderKey:n,page:r,pages:r.kind==="link"?[]:Sy(e,r.pages)})}),o}c();async function ky(e,t={},o){let n=new Yh(o);switch(e.kind){case"user":{let r=await n.getDocument(Tc(e.user));return r?{text:r.displayName,target:{type:"user",user:r.uid},extra:{user:r}}:null}case"space":{let r=await n.getDocument(ho(e.space));return r?{text:r.title,target:{type:"space",organization:r.organization,space:r.key,page:""},extra:{space:r}}:null}case"collection":{let r=await n.getDocument(am(e.collection));return r?{text:r.title,target:{type:"collection",organization:r.organization,collection:r.key}}:null}case"page":{let r=await wy(e,t,n);if(!r)return null;let i=r.pages[e.page];if(!i)return null;if(i.kind==="link"){let a=await ky(i.ref,{space:r.space},n);return a?{text:i.title,target:a.target}:null}return{text:i.title,target:{type:"space",space:r.space,page:He(r,i.key)},extra:{page:i}}}case"anchor":{let r=e.page||t.page;if(!r)throw new Error("Cannot resolve an anchor ref without a page context");let i=await wy(e,t,n);if(!i)return null;let a=i.pages[r];if(!a||a.kind!=="sheet"||!a.sheet)return null;let s=await XS(i.space,a.sheet,{reader:n}),{document:l}=Fc(s.body),d=Vc(l).find(m=>m.anchor===e.anchor);return{text:(d==null?void 0:d.title)||e.anchor,target:{type:"space",space:i.space,page:He(i,a.key),hash:e.anchor}}}case"file":{let r=await wy(e,t,n);if(!r)return null;let i=r.files[e.file];return i?{text:i.name,target:ha(i.downloadURL),extra:{file:i}}:null}case"url":return qa(e.url)?{text:e.url,target:Mc(e.url,{sortQueryParameters:!1})}:null;default:Oe(e)}}async function wy(e,t,o){let n=("space"in e?e.space:null)||t.space;if(!n)throw new Error("Cannot resolve a page/anchor/file ref without a space context");if(t.revision&&n===t.space)return await dm(n,t.revision,{reader:o});let r=await o.getDocument(ho(n));return r?await dm(r.key,r.revision,{reader:o}):null}async function pp(e,t={},o){let n=new Yh(o);if(e.type==="legacy_space"){let r=await IM(e,n);if(!r)return null;e=r}switch(e.type){case"space":{if(!e.page)return{kind:"space",space:e.space};let r=await n.getDocument(ho(e.space));if(!r)return null;let i=await dm(r.key,r.revision,{reader:n});if(!i)return null;let a=xS(i,e.page);return a?e.hash?{kind:"anchor",space:r.key!==t.space?r.key:void 0,page:a.key!==t.page?a.key:void 0,anchor:e.hash}:{kind:"page",space:r.key!==t.space?r.key:void 0,page:a.key}:null}case"collection":return{kind:"collection",collection:e.collection};case"user":return{kind:"user",user:e.user}}return null}async function IM(e,t){let o=await t.getDocument(JS(e.basename));if(!o)return null;let n=await t.getDocument(ow(o,e.space));if(!n)return null;if(n.type==="space")return{type:"space",space:n.space,page:e.page};if(e.page){let r=await t.getDocument(am(n.collection));if(r!=null&&r.primarySpace)return{type:"space",space:r.primarySpace,page:e.page}}return{type:"collection",collection:n.collection}}function K1(e,t){return!(!t.revision&&e.kind==="page"&&!e.space)}c();var j1=x(bM());function PM(){return Ec().collection("embeds")}function U1(e){let t=j1.default.sha256().update(e).digest("hex");return PM().doc(t)}c();function EM(e){return ho(e).collection("comments")}function Y1(e){let t=EM(e.space);return typeof e.page<"u"&&(t=t.where("page","==",e.page)),typeof e.changeRequest<"u"&&(t=t.where("changeRequest","==",e.changeRequest)),typeof e.node<"u"&&(t=t.where("node","==",e.node)),t}c();function TM(e,t){return sS().ref(`/edit-sessions/${e}/${t}`)}function fp(e,t,o){return TM(e,t).child("page-locks").child(o)}c();function Z1(e){return!!e.collection&&!!e.inheritCustomization}c();function MM(e){return ho(e).collection("page-feedbacks")}function $1(e,t){return MM(e).doc(t)}function LM(e,t){return $1(e,t).collection("feedbacks")}function xy(e,t,o){return LM(e,t).doc(o)}function Q1(e,t){let o=xy(t.space,t.page,t.visitorId),n=$1(t.space,t.page);e.set(o,{visitorId:t.visitorId,rating:t.rating,createdAt:fr.firestore.Timestamp.now(),revision:t.revision,page:t.page}),e.set(n,{[t.rating]:fr.firestore.FieldValue.increment(1),updatedAt:fr.firestore.Timestamp.now()},{merge:!0}),t.previousRating&&e.update(n,{[t.previousRating]:fr.firestore.FieldValue.increment(-1)})}c();var NM=new Hc(Lm,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"name",weight:.7},{name:"keywords",weight:.3}]});function gp(e){return NM.search(e).map(t=>t.item)}c();function hp(e){let{r:t,g:o,b:n}=ww(e);return Math.sqrt(.299*(t*t)+.587*(o*o)+.114*(n*n))>150?"light":"dark"}c();var ul=x(O()),yp=x(xM());function J1(e=2e3){let[t,o]=ul.useState(!1),n=ul.useRef(null);return ul.useEffect(()=>(!t&&typeof window<"u"&&(n.current=setTimeout(()=>(0,yp.unstable_runWithPriority)(yp.unstable_IdlePriority,()=>o(!0)),e)),()=>{n.current&&clearTimeout(n.current)}),[]),t}c();var ek=x(O());function tk(){let e=ek.useRef();return Ha(()=>{e.current=window},[]),e}c();var dl=x(O());function ok(){let e=dl.useRef(new WeakMap);return dl.useCallback(t=>(e.current.has(t)||e.current.set(t,dl.createRef()),e.current.get(t)),[])}c();var nk=x(O());function vp(e,t){let o=mt(e);nk.default.useEffect(()=>{let n=()=>o.current(),r=window.setTimeout(n,t);return()=>window.clearTimeout(r)},[t])}c();var rk=x(O()),bp=0;function Cp(e=!0){rk.useEffect(()=>{if(!e)return;let t=document.documentElement;if(bp===0){let o=window.innerWidth-t.clientWidth;t.style.overflow="hidden",t.style.paddingRight=`${o}px`}return bp+=1,()=>{bp-=1,bp===0&&(t.style.overflow="auto",t.style.paddingRight="0px")}},[e])}c();var Eu=x(O());c();var ik=x(O());function Sp(e,t=500){let o=ik.useRef(0);return n=>o.current&&Date.now()-o.current<t?(e(n),o.current=0,!0):(o.current=Date.now(),!1)}c();var Xs=x(O()),ak=Xs.default.createContext(Xs.default.createRef());function sk(e){let{children:t}=e,o=Xs.default.useRef(!1);return Xs.default.useEffect(()=>{let n=()=>{o.current=!0,document.removeEventListener("keydown",n),document.addEventListener("mousedown",r,{capture:!0})},r=()=>{o.current=!1,document.removeEventListener("mousedown",r),document.addEventListener("keydown",n,{capture:!0})};return document.addEventListener("mousedown",r,{capture:!0}),document.addEventListener("keydown",n,{capture:!0}),()=>{document.removeEventListener("keydown",n),document.removeEventListener("mousedown",r)}},[]),Xs.default.createElement(ak.Provider,{value:o},t)}function wp(){return Xs.default.useContext(ak)}function ck(e){let{anchor:t,children:o,wrapper:n,onClose:r,...i}=e,a=Eu.useRef(null);return Bi({...i,onClose:r},a),Eu.createElement(zi,{ref:a,opened:i.opened,anchor:t,wrapper:n},Eu.createElement(Xm.Provider,{value:r},o))}c();var Fi=x(O());z();function kp(e,t={}){let o=Fi.createContext(null);function n(i){let{children:a,...s}=i,l=typeof e=="object"?e:e(i),[u,d]=Fi.useState(l),[m,f]=Fi.useState(!1),g=y=>{let{layout:h}=y.nativeEvent;(!u||t.width!==!1&&h.width!==u.width||t.height!==!1&&h.height!==u.height)&&(d(h),f(!0))};return Fi.createElement(o.Provider,{value:{ready:m,dimensions:u}},Fi.createElement(b,{...s,onLayout:g},a))}function r(){let i=Fi.useContext(o);if(!i||!i.dimensions)throw new Error("Dimensions not available");return[i.dimensions,i.ready]}return{View:n,useDimensions:r}}c();var Ks=x(O());z();c();var xp=x(O());z();var DM=X.createResponsiveComponent(Te);function lk(e){let[,t]=R(zM),{close:o}=ao(),n=Uc()==="mobile",r=e.closeable||n,i=()=>{e.onClose&&e.onClose(),o(e.id)},a=Xa({mount:AM,unmount:BM});return xp.createElement(b,{ref:a},xp.createElement(DM,{mobileStyle:t.toastMobile,desktopStyle:t.toastDesktop,onPress:()=>{e.onOpen&&e.onOpen(),r&&i()}},xp.createElement(Gn,{...e,onClose:r?i:void 0,style:t.alert,mainBackground:!0})))}var AM={duration:kn.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},BM={duration:kn.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},zM=L.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:p.small},toastMobile:{width:"100%",minWidth:0},alert:e=>({...e.shadows.pop,borderColor:e.colors.border.main})});function dk(e){let t=pr(qw),o=pr(Vw),n=Ks.useRef(null),r=VM[t];return Ks.createElement(on,{ref:n},Ks.createElement(X.View,{style:[WM.toaster],mobileStyle:r.mobile,desktopStyle:r.desktop},Ks.createElement(Pw,null,o.map(i=>Ks.createElement(lk,{...i,key:i.id})))))}var WM=F.create({toaster:{position:"fixed",zIndex:200}}),VM={"bottom-right":F.create({desktop:{bottom:p.medium,right:p.medium},mobile:{bottom:p.medium,right:p.medium,left:p.medium}}),"bottom-right-with-bar":F.create({desktop:{bottom:p.xxlarge,right:p.medium},mobile:{bottom:p.xxlarge+p.xlarge+p.medium,right:p.medium,left:p.medium}})};c();var js=x(O());z();var Op=js.forwardRef(function(t,o){let{active:n,animatedAngle:r=45,...i}=t,a=va(()=>new dt.Value(0)).current;js.useEffect(()=>{if(r===0)return;let l=dt.timing(a,{toValue:n?1:0,easing:$C.ease,duration:kn.TRANSITION_DURATION_SHORT,useNativeDriver:!1});return l.start(),()=>{l.stop()}},[r,n]);let s=js.createElement(D,{ref:o,active:n,...i});return r===0?s:js.createElement(dt.View,{style:{transform:[{rotateZ:a.interpolate({inputRange:[0,1],outputRange:["0deg",`${r}deg`]})}]}},s)});c();var ml=x(O());z();function mk(e){let{children:t,style:o,...n}=e,[,r]=R(qM),[,i]=R(FM),a=ml.Children.toArray(t).filter(s=>!!s);return ml.createElement(b,{style:[v.flex1,v.directionRow,o]},a.map((s,l)=>{let u=l!==a.length-1&&a.length>1,d=l>0&&a.length>1;return ml.cloneElement(s,{...n,style:[s.props.style,u&&r.withButtonOnTheRight,d&&r.withButtonOnTheLeft,u&&n.kind?i[n.kind]:null,n.disabled&&r.disabledRightBorder]})}))}var qM=L.create({withButtonOnTheLeft:{borderTopLeftRadius:0,borderBottomLeftRadius:0},withButtonOnTheRight:e=>({borderTopRightRadius:0,borderBottomRightRadius:0,borderRightColor:e.colors.background.muted,borderRightWidth:1,borderWidth:0,borderStyle:"solid"}),disabledRightBorder:e=>({borderRightColor:e.colors.border.mid})}),FM=L.create({merge:e=>({borderRightColor:e.colors.merge.hovered}),primary:e=>({borderRightColor:e.colors.primary.hovered}),danger:e=>({borderRightColor:e.colors.danger.hovered})});c();var xr=x(O());z();var GM=B.createInteractiveComponent(xn);function Gi(e){let{icon:t,title:o,subtitle:n,details:r,style:i,buttons:a=[],...s}=e,[,l]=R(N);return xr.createElement(ci,{style:[v.alignCenter,p.Padding.medium,i],...s},t?xr.createElement(HM,{icon:t}):null,xr.createElement(b,{style:[v.flex1]},xr.createElement(b,{style:[v.directionRow,v.alignCenter]},xr.createElement(GM.Child,{style:[l.Body,l.Medium,l.text],activeStyle:l.primary,descendantOf:ci.interactiveHandle},o),n?xr.createElement(xn,{style:[l.Label,l.textMuted,p.Margin.mediumLeft]},n):null),r?xr.createElement(b,null,xr.createElement(A,{style:[l.Label,l.textMid]},r)):null),a.length>0?xr.createElement(b,{style:[v.directionRow,v.alignCenter,p.Margin.mediumLeft]},a.map((u,d)=>u?xr.createElement(b,{style:[p.Margin.smallLeft],key:d},u):null)):null)}function HM(e){let{icon:t}=e,[,o]=R(N),n=B.useInteractiveComponent(t);return xr.createElement(b,{style:[p.Margin.mediumRight]},xr.createElement(n.Child,{size:E.S,style:[o.textMuted],hoverStyle:o.primary}))}c();var Us=x(O());z();var Tu=Us.forwardRef((e,t)=>{let[,o]=R(XM),{highlighted:n,dropHovered:r,position:i,button:a,buttonVisible:s,lineVisibleStyle:l=o.dropLineVisible,lineHighlightedStyle:u=o.dropLineHighlighted,buttonAlign:d="middle",offsetStart:m=0,offsetEnd:f=0}=e,g=B.useInteractiveState(),y=B.useInteractiveState(),h=y.hovered||!!a&&g.hovered||r||n,C=y.hovered||r||n,w="small",k=i==="top"||i==="bottom"?"horizontal":"vertical";return Us.createElement(te,{ref:t,style:[o.dropLineWrapper,pk[i].lineWrapper,{...k==="horizontal"?{left:m,right:f}:{top:m,bottom:f}}],...g.events},Us.createElement(b,{style:[o.dropLine,h&&l,C&&u,pk[i].line]}),a?Us.createElement(b,{style:[o.dropLineButton,KM[k][d](Bw[a.size||w].height),!r&&(s||g.hovered)?ce.visible:ce.hidden],...y.events},Us.createElement(D,{rounded:!0,size:w,...a,kind:y.hovered||n?"primary":a.kind})):null)}),Qa=2,To=6,XM=L.create({dropLineWrapper:{position:"absolute",zIndex:1},dropLine:{position:"absolute"},dropLineVisible:e=>({backgroundColor:e.colors.border.muted}),dropLineHighlighted:e=>({backgroundColor:e.colors.primary.main}),dropLineButton:{position:"absolute",width:E.XS,height:E.XS}}),KM={horizontal:{start:e=>({left:p.medium+(E.S-e)/2,top:-(e-To)/2}),end:e=>({right:p.medium+(E.S-e)/2,top:-(e-To)/2}),middle:e=>({left:"50%",marginLeft:-e/2,top:-(e-To)/2})},vertical:{start:e=>({left:-(e-To)/2,top:p.medium+(E.S-e)/2}),end:e=>({bottom:p.medium+(E.S-e)/2,left:-(e-To)/2}),middle:e=>({top:"50%",marginTop:-e/2,left:-(e-To)/2})}},pk={top:F.create({lineWrapper:{top:-To/2,left:0,right:0,height:To},line:{top:(To-Qa)/2,left:0,right:0,height:Qa}}),bottom:F.create({lineWrapper:{bottom:-To/2,left:0,right:0,height:To},line:{bottom:(To-Qa)/2,left:0,right:0,height:Qa}}),left:F.create({lineWrapper:{top:0,bottom:0,left:-To/2,width:To,display:"flex",justifyContent:"center"},line:{top:0,bottom:0,left:(To-Qa)/2,width:Qa}}),right:F.create({lineWrapper:{top:0,bottom:0,right:-To/2,width:To,display:"flex",justifyContent:"center"},line:{top:0,bottom:0,right:(To-Qa)/2,width:Qa}})};c();var Or=x(O());z();var jM=B.createInteractiveComponent(te);function fk(e){let{icon:t,hint:o,onDropFiles:n,onPress:r,children:i}=e,[,a]=R(UM),[,s]=R(N),[l,u]=Or.useState(!1),d=Or.useRef(0),m=h=>{h.preventDefault(),h.stopPropagation(),d.current===0&&u(!0),d.current+=1},f=h=>{h.preventDefault(),h.stopPropagation()},g=h=>{d.current-=1,d.current===0&&u(!1)},y=h=>{let{files:C}=h.dataTransfer;h.preventDefault(),h.stopPropagation(),d.current=0,u(!1),n(Array.from(C))};return Or.createElement(Te,{onPress:r},Or.createElement(jM,{style:[v.directionRow,v.alignCenter,v.justifyContentCenter,p.Padding.largeHorizontal,p.Padding.largeVertical,a.filesDropArea],hoverStyle:l?null:a.filesDropAreaHovered,onDragEnter:m,onDragLeave:g,onDragOver:f,onDrop:y},Or.createElement(b,{style:v.alignCenter},Or.createElement(b,{style:[v.directionRow,v.alignCenter]},t?Or.createElement(b,{style:p.Margin.smallRight},Or.createElement(t,{size:E.ICON_L,style:[s.primary]})):null,o?Or.createElement(A,{style:[s.Body,s.primary]},o):null),Or.createElement(b,null,i))))}var UM=L.create({filesDropArea:e=>({borderRadius:E.RADIUS_M,borderStyle:"dashed",borderWidth:1,borderColor:e.colors.primary.main,backgroundColor:e.colors.primary.muted}),filesDropAreaHovered:e=>({borderStyle:"dashed",backgroundColor:e.colors.primary.mid,...e.shadows.base})});c();c();c();var gk=e=>typeof e=="object"&&e!=null&&e.nodeType===1,hk=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Oy=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let o=getComputedStyle(e,null);return hk(o.overflowY,t)||hk(o.overflowX,t)||(n=>{let r=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch(a){return null}})(n);return!!r&&(r.clientHeight<n.scrollHeight||r.clientWidth<n.scrollWidth)})(e)}return!1},_p=(e,t,o,n,r,i,a,s)=>i<e&&a>t||i>e&&a<t?0:i<=e&&s<=o||a>=t&&s>=o?i-e-n:a>t&&s<o||i<e&&s>o?a-t+r:0,YM=e=>{let t=e.parentElement;return t==null?e.getRootNode().host||null:t},_y=(e,t)=>{var o,n,r,i;if(typeof document>"u")return[];let{scrollMode:a,block:s,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,m=typeof u=="function"?u:Y=>Y!==u;if(!gk(e))throw new TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,g=[],y=e;for(;gk(y)&&m(y);){if(y=YM(y),y===f){g.push(y);break}y!=null&&y===document.body&&Oy(y)&&!Oy(document.documentElement)||y!=null&&Oy(y,d)&&g.push(y)}let h=(n=(o=window.visualViewport)==null?void 0:o.width)!=null?n:innerWidth,C=(i=(r=window.visualViewport)==null?void 0:r.height)!=null?i:innerHeight,{scrollX:w,scrollY:k}=window,{height:I,width:_,top:P,right:M,bottom:T,left:W}=e.getBoundingClientRect(),H=s==="start"||s==="nearest"?P:s==="end"?T:P+I/2,q=l==="center"?W+_/2:l==="end"?M:W,G=[];for(let Y=0;Y<g.length;Y++){let U=g[Y],{height:ue,width:Ye,top:at,right:Nn,bottom:Qo,left:go}=U.getBoundingClientRect();if(a==="if-needed"&&P>=0&&W>=0&&T<=C&&M<=h&&P>=at&&T<=Qo&&W>=go&&M<=Nn)return G;let zr=getComputedStyle(U),lr=parseInt(zr.borderLeftWidth,10),Wr=parseInt(zr.borderTopWidth,10),ur=parseInt(zr.borderRightWidth,10),Jo=parseInt(zr.borderBottomWidth,10),Ro=0,en=0,dr="offsetWidth"in U?U.offsetWidth-U.clientWidth-lr-ur:0,Jt="offsetHeight"in U?U.offsetHeight-U.clientHeight-Wr-Jo:0,ct="offsetWidth"in U?U.offsetWidth===0?0:Ye/U.offsetWidth:0,V="offsetHeight"in U?U.offsetHeight===0?0:ue/U.offsetHeight:0;if(f===U)Ro=s==="start"?H:s==="end"?H-C:s==="nearest"?_p(k,k+C,C,Wr,Jo,k+H,k+H+I,I):H-C/2,en=l==="start"?q:l==="center"?q-h/2:l==="end"?q-h:_p(w,w+h,h,lr,ur,w+q,w+q+_,_),Ro=Math.max(0,Ro+k),en=Math.max(0,en+w);else{Ro=s==="start"?H-at-Wr:s==="end"?H-Qo+Jo+Jt:s==="nearest"?_p(at,Qo,ue,Wr,Jo+Jt,H,H+I,I):H-(at+ue/2)+Jt/2,en=l==="start"?q-go-lr:l==="center"?q-(go+Ye/2)+dr/2:l==="end"?q-Nn+ur+dr:_p(go,Nn,Ye,lr,ur+dr,q,q+_,_);let{scrollLeft:Z,scrollTop:K}=U;Ro=Math.max(0,Math.min(K+Ro/V,U.scrollHeight-ue/V+Jt)),en=Math.max(0,Math.min(Z+en/ct,U.scrollWidth-Ye/ct+dr)),H+=K-Ro,q+=Z-en}G.push({el:U,top:Ro,left:en})}return G};var ZM=e=>typeof e=="object"&&typeof e.behavior=="function",$M=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function pl(e,t){if(!e.isConnected||!e.ownerDocument.documentElement.contains(e))return;if(ZM(t))return t.behavior(_y(e,t));let o=typeof t=="boolean"||t==null?void 0:t.behavior;for(let{el:n,top:r,left:i}of _y(e,$M(t)))n.scroll({top:r,left:i,behavior:o})}async function yk(e){let t=()=>{let n=e;for(;n&&(n=n.parentElement,!(n===document.querySelector("body")||n!=null&&n.hasAttribute("data-virtualparent"))););return n},o;return new Promise(n=>{let r=t();if(!r||!r.firstChild)return;let i=()=>{o.disconnect(),n()},a=!1;o=new IntersectionObserver(l=>{let[u]=l;u.isIntersecting&&requestAnimationFrame(()=>{i(),a=!0})},{rootMargin:"-50% 0% -50% 0%"});let s=()=>{pl(r,{scrollMode:"if-needed",block:"center",inline:"center",behavior:"smooth"}),setTimeout(()=>{a||s()},500)};s(),o.observe(r)})}c();var Ty=x(O());c();var Dt=x(O());z();c();var je=x(O());z();c();var Re=x(O());z();var vk=Re.forwardRef(function(t,o){let{command:n,query:r,active:i,executeCommand:a,onHoverIn:s}=t,[l,u]=R(N),[,d]=R(QM),[m,f]=Vn(!1),g=u.text,y=u.textMid,h=u.primary,C=l.colors.background.main;i&&(g=u.textStandout,y=u.textMid,C=l.colors.background.muted);let w=[u.Bold],k=Re.useCallback(()=>{let P=a(n);P instanceof Promise&&f(()=>P)},[n,a]),I=Re.useCallback(()=>s(n),[n,s]),_=B.useInteractiveState({onHoverIn:I});return Re.createElement(Wn,{ref:o,component:Te,..._.events,onMouseDown:P=>{P.preventDefault()},onPress:k,backgroundColor:C,style:[v.directionRow,v.alignCenter,d.commandItem,p.Margin.smallHorizontal,p.Padding.xsmallVertical,p.Padding.smallHorizontal,{height:Ry(n)}]},m?Re.createElement(b,{style:[p.Padding.mediumRight]},Re.createElement(Se,{size:E.ICON_M})):n.icon?Re.createElement(b,{style:[p.Padding.mediumRight]},Re.createElement(Re.Suspense,{fallback:Re.createElement(b,{style:{width:E.ICON_M,height:E.ICON_M}})},Re.createElement(n.icon,{size:E.ICON_M,style:h}))):null,Re.createElement(b,{style:v.flex1},Re.createElement(b,{style:v.directionRow},Re.createElement(b,{style:v.flex1},n.title?Re.createElement(b,null,Re.createElement(A,{style:[u.Label,g,n.subtitle?u.Bold:u.Medium],numberOfLines:1},Re.createElement(ep,{query:r,text:n.title,highlight:w}))):null,n.subtitle?Re.createElement(b,null,Re.createElement(A,{style:[u.Caption,y],numberOfLines:1},Re.createElement(ep,{query:r,text:n.subtitle,highlight:w}))):null)),n.body?Re.createElement(b,{style:[d.commandBody,p.Padding.smallLeft,p.Margin.smallTop]},n.body.map((P,M)=>Re.createElement(b,{key:M},Re.createElement(A,{style:[u.Caption,u.textMid],numberOfLines:1},Re.createElement(ep,{query:r,text:P,highlight:w}))))):null),n.label?Re.createElement(b,null,Re.createElement(zw,{size:"medium",kind:n.label.kind,icon:n.label.icon},n.label.title)):Re.createElement(Re.Fragment,null,n.descendant?Re.createElement(b,{style:[p.Padding.mediumLeft]},Re.createElement(S.ChevronRight,{size:E.ICON_S,style:[u.textMuted]})):null,typeof n.selected=="boolean"?Re.createElement(b,{style:[p.Padding.mediumLeft]},Re.createElement(Ua,{value:n.selected,onValueChange:k,size:E.ICON_S})):null,typeof n.enabled=="boolean"?Re.createElement(b,{style:[p.Padding.mediumLeft]},Re.createElement(Jm,{value:n.enabled,onValueChange:()=>{}})):null))});function Ry(e){let t=0;return t+=2*p.small,t+=Math.max(e.title&&ze.Label.lineHeight||0,e.icon?E.ICON_M:0,typeof e.selected=="boolean"||typeof e.enabled=="boolean"?E.ICON_S:0),e.subtitle&&(t+=ze.Caption.lineHeight||0),e.body&&(t+=p.small,t+=e.body.length*(ze.Caption.lineHeight||0)),t}var QM=L.create({commandItem:e=>({borderRadius:e.radiuses.medium}),commandBody:e=>({borderLeftWidth:1,borderLeftColor:e.colors.border.mid})});c();function Rp({getItemHeight:e,getItemSeparatorHeight:t=()=>0,getSectionSeparatorHeight:o=()=>0,getSectionHeaderHeight:n=()=>0,getSectionFooterHeight:r=()=>0,listHeaderHeight:i=0,stickySectionHeadersEnabled:a}){return(s,l)=>{let u=0,d=typeof i=="function"?i():i,m=0,f=s.length;for(let g=0;g<f&&(m<l||g===0);g++){let y=s[g],h=s[g].data,C=h.length,w=s[g-1],k=s[g+1],I={section:y,index:g},_=o({section:y,index:g,leadingItem:void 0,trailingItem:h[0],leadingSection:w,trailingSection:k});d+=u+_+(a&&g===1?n({section:s[0],index:0}):0),u=a&&g===0?0:n(I),g!==0&&m++;for(let P=0;P<C&&(m<l||g===0&&P===0);P++){d+=u;let M=h[P],T=P>0&&P<C-1?t({item:M,section:y,index:P,leadingItem:h[P-1],trailingItem:h[P+1],leadingSection:w,trailingSection:k}):0;u=e({item:M,section:y,index:P})+T,m++}if(m<l&&(d+=o({section:y,index:g,leadingItem:h[h.length-1],trailingItem:void 0,leadingSection:w,trailingSection:k})),m<l){let P=o({section:y,index:g,leadingItem:h[h.length-1],trailingItem:void 0,leadingSection:w,trailingSection:k});d+=u+P,u=r(I),m++}}return{index:l,length:u,offset:d}}}c();var mi=x(O());function JM(e){if(typeof e.key!="string")throw new Error("Need a key getter");return e.key}function Ip(e){let{items:t,scrollTo:o,onSelect:n,onOpen:r,onClose:i,getKey:a=JM,active:s=!0,startAtFirst:l}=e,[u,d]=(0,mi.useState)(null),m=wp(),f=(typeof l>"u"?m.current:l)||!1,g=(0,mi.useMemo)(()=>e2(t,u,a,f),[t,u,a,f]),y=mt(g),h=mt(t),C=(0,mi.useCallback)(_=>{let P=a(_);return{index:h.current.findIndex(W=>a(W)===P)}},[a]),w=(0,mi.useCallback)(_=>d(a(_)),[d,a]),k=(0,mi.useCallback)(_=>{m.current||w(_)},[w]),I=(0,mi.useCallback)(_=>{if(_>0&&y.current.next){let{next:P}=y.current;w(P),o(P)}else if(_<0&&y.current.prev){let{prev:P}=y.current;w(P),o(P)}},[o,w]);return(0,mi.useEffect)(()=>{if(!s)return;let _=P=>{P.key==="Enter"&&n?(P.preventDefault(),P.stopPropagation(),y.current.current&&n(y.current.current,C(y.current.current))):P.key==="ArrowRight"&&bk(P,"end")?(P.preventDefault(),P.stopPropagation(),y.current.current?r==null||r(y.current.current,C(y.current.current)):I(1)):P.key==="ArrowLeft"&&i&&bk(P,"start")?(P.preventDefault(),P.stopPropagation(),i()):P.key==="ArrowDown"?(P.preventDefault(),P.stopPropagation(),I(1)):P.key==="ArrowUp"&&(P.preventDefault(),P.stopPropagation(),I(-1))};return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0})}},[I,n,r,i,C,s]),{cursor:g,setCursor:w,hoverItem:k}}function e2(e,t,o,n){let r=null,i=null,a=null;return e.some(s=>(o(s)===t?a=s:a?a&&!i&&(i=s):r=s,a!=null&&i!=null)),a||(n?(r=null,a=e[0],i=e[1]):(r=null,a=null,i=e[0])),{prev:r,next:i,current:a}}function bk(e,t){let o=e.target;if(!o)return!0;let n=o.selectionStart;if(n==null)return!0;let r=o.selectionEnd;if(n!==r)return!1;if(t==="start")return n===0;let i=o.value.length;return n===i}function Ck(e){var H;let{computed:{listId:t,items:o,sections:n,areMoreLoading:r},withKeyboardInteractions:i,palette:a,setPalette:s,setTopPalette:l}=e,u=Uc(),d=je.useRef(null),m=ok(),f=je.useCallback(async q=>{let G=await r1(a,q);G?s(G):l(null)},[s,l]),g=je.useCallback(q=>{s(G=>{if(!G)return null;let Y=m(q),U=i1(G,q,Y);return U||(G.descendant?{...G,descendant:void 0}:G)})},[s,m]),y=je.useCallback(()=>{s(q=>q!=null&&q.parent?null:q)},[s]),h=je.useCallback(q=>{let G=-1;return{sectionIndex:n.findIndex(U=>(G=U.data.findIndex(ue=>ue.key===q),G>=0)),itemIndex:G,viewPosition:.5}},[n]),C=je.useCallback(q=>{var G;return(G=d.current)==null?void 0:G.scrollToLocation(h(q.key))},[h]),w=Ip({active:i,items:o,onSelect:f,onOpen:g,onClose:y,scrollTo:C}),k=n.length>1,I=je.useCallback(q=>{w.hoverItem(q),g(q)},[w.hoverItem,g]),_=je.useMemo(()=>Rp({getItemHeight:({item:q})=>Ry(q),getSectionSeparatorHeight:({section:q,leadingItem:G,leadingSection:Y,trailingItem:U,trailingSection:ue})=>Y&&!G&&!q.group.title?2*(p.small-1)+1:ue&&!U?E.S/4:0,getSectionHeaderHeight:({section:q})=>k&&q.group.title?E.S:0}),[k]),P=je.useMemo(()=>k?({section:q})=>q.group.title?je.createElement(o2,{group:q.group}):null:void 0,[k]),M=je.useCallback(q=>je.createElement(n2,{...q}),[]),T=je.useCallback(({item:q})=>{var G;return je.createElement(vk,{ref:m(q),active:u==="desktop"&&q.key===((G=w.cursor.current)==null?void 0:G.key),command:q,query:a.query.text,executeCommand:f,onHoverIn:I})},[f,m,(H=w.cursor.current)==null?void 0:H.key,I,u,a.query.text]),W=r;if(!W&&o.length===0){let q=a.placeholder||(Ru(a)?null:"No items found");return q?je.createElement(t2,{placeholder:q}):null}return je.createElement(b,{style:[v.flex1]},je.createElement($d,{key:t,ref:d,sections:n,extraData:w.cursor,getItemLayout:_,renderItem:T,SectionSeparatorComponent:M,renderSectionHeader:P,contentContainerStyle:[p.Padding.smallVertical]}),W?je.createElement(b,{style:[v.directionRow,v.justifyContentCenter,p.Padding.medium]},je.createElement(Se,{size:E.ICON_L})):null)}function t2(e){let{placeholder:t}=e,[,o]=R(N);return je.createElement(b,{style:[p.Padding.smallHorizontal,p.Padding.mediumVertical]},je.createElement(b,{style:[p.Padding.mediumHorizontal]},je.createElement(A,{style:[o.Caption,o.textMuted]},t)))}function o2(e){let{group:t}=e,[,o]=R(N);return je.createElement(b,{style:[r2.paletteGroupHeader,v.directionRow,v.alignCenter,p.Padding.smallHorizontal]},je.createElement(b,{style:[p.Padding.smallHorizontal]},je.createElement(A,{style:[o.GroupTitle,o.textMuted]},t.title)))}function n2(e){let{leadingSection:t,section:o,leadingItem:n,trailingSection:r,trailingItem:i}=e,[,a]=R(i2);return t&&!n&&!o.group.title?je.createElement(b,{style:a.paletteDividerUntitled}):(r&&!i&&(b,a.paletteDividerFooter),null)}var r2=F.create({paletteGroupHeader:{height:E.S}}),i2=L.create({paletteDividerUntitled:(e,t)=>({marginTop:p.small-1,marginBottom:p.small-1,borderTopColor:t.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:E.S/4}});c();var fl=x(O());z();function Sk(e){let{error:t}=e,[,o]=R(N);return console.error(t),fl.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.smallVertical,p.Padding.mediumHorizontal]},fl.createElement(b,{style:[p.Padding.mediumRight,p.Padding.xsmallTop]},fl.createElement(S.Warning,{size:E.ICON_S,style:o.danger})),fl.createElement(b,{style:[v.flex1,v.directionRow,v.alignCenter]},fl.createElement(A,{style:[o.danger,o.Label]},Ti(t))))}c();var Kn=x(O());z();var wk=Kn.forwardRef(function(t,o){let{palette:n,setPalette:r,withItems:i,placement:a}=t,[,s]=R(a2),[l,u]=R(N),[d,m]=Ai(n.query.text,[n]),f=y=>{m(y),r(h=>!n||!h?n:Ya({...h,descendant:void 0},y))},g=y=>{(y.nativeEvent.key==="Escape"||y.nativeEvent.key==="Backspace"&&n.query.text.length===0)&&r(null)};return Kn.createElement(b,{style:i&&s.paletteInputWrapperWithBottomBorder},Kn.createElement(b,{style:[v.directionRow,v.alignCenter]},n.parent&&a==="right"?Kn.createElement(b,{style:[p.Padding.smallLeft]},Kn.createElement(S.ChevronLeft,{size:E.ICON_M,style:u.textMuted})):null,Kn.createElement(b,{style:[v.flex1,v.directionRow,v.alignCenter,s.paletteInput,p.Margin.small]},Kn.createElement(b,{style:[v.flex1]},Kn.createElement(qr,{ref:o,value:d,placeholder:n.search,placeholderTextColor:l.colors.text.muted,onChangeText:f,onKeyPress:g,style:[u.Caption,u.text,p.Padding.mediumHorizontal,p.Padding.smallVertical]})),Kn.createElement(X.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[p.Margin.smallHorizontal]},Kn.createElement(D,{icon:S.X,size:"large",onPress:()=>r(null)}))),n.parent&&a==="left"?Kn.createElement(b,{style:[p.Padding.smallRight]},Kn.createElement(S.ChevronRight,{size:E.ICON_M,style:u.textMuted})):null))}),a2=L.create({paletteInputWrapperWithBottomBorder:(e,t)=>({borderBottomColor:t.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large})});c();var gl=x(O());function kk(e){let[t,o]=gl.useState(!1),n=va(()=>new WeakMap),r=gl.useRef(null);return gl.useMemo(()=>{let i=[],a=[],s;e.groups.forEach(d=>{let m;try{m=s2(e,d)}catch(f){s=f;return}if(m instanceof Promise){let f=n.current.get(d);f&&i.push(f),a.push(m)}else m&&(n.current.set(d,m),i.push(m))});let l=i.filter(d=>d.data.length>0).sort((d,m)=>d.priority>m.priority?-1:d.priority<m.priority?1:0),u=l.reduce((d,m)=>(d.push(...m.data),d),[]);if(a.length>0){o(!0);let d=r.current=Promise.all(a);d.then(()=>{d===r.current&&(o(!1),r.current=null)}).catch(m=>om(new Error(m)))}return{listId:Date.now(),items:u,sections:l,areMoreLoading:t,error:s}},[e.groups,e.query,t,n])}function s2(e,t){try{let o=typeof t.commands=="function"?t.commands(e):t.commands,n=typeof t.commands!="function"||t.commands.length===0,r=t.priority||5;if(n){let i=c2(e.query.text,o);r=i.reduce((a,s)=>typeof s.score<"u"?Math.max((1-s.score)*10,a):a,r),o=i.map(a=>a.item)}return{group:t,priority:r,data:o}}catch(o){if(o instanceof Promise)return o;throw o}}function c2(e,t){return e?new Hc(t,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(e):t.map(n=>({item:n,score:void 0}))}c();var Ey=x(fm()),Mp=x(O());var Iy=204,Pp=246,Py=384,l2=630,Ep=180,Tp=355;function xk(e,t,o){let n=Mp.useMemo(()=>d2(t,o),[t.position,!!t.parent,o]),r=Mp.useCallback(l=>u2(l,t.position),[t.position]),[i,a,s]=Rw(e,r,n);return[i,a,s]}function u2(e,t){let o,n=(t==null?void 0:t.width)||"medium";switch(n){case"small":o={width:Iy,maxWidth:Iy,minWidth:Iy,minHeight:0,height:Ep,maxHeight:Tp};break;case"medium":o={width:Pp,maxWidth:Pp,minWidth:Pp,minHeight:0,height:Ep,maxHeight:Tp};break;case"large":o={width:Py,maxWidth:Py,minWidth:Py,minHeight:0,height:Ep,maxHeight:Tp};break;case"anchor":let r=Math.max(Pp,e.width),i=(0,Ey.default)(e.width,r,l2);o={width:(0,Ey.default)(e.width,r,i),maxWidth:i,minWidth:r,minHeight:0,height:Ep,maxHeight:Tp};break;default:Oe(n)}return o}function d2(e,t){var n,r;let o={cover:(n=e.position)==null?void 0:n.cover,spacingWithAnchor:p.small};return e.parent?(o.offset={top:-p.small},o.allowedPlacements=t==="left"?["left","right"]:["right","left"]):((r=e.position)==null?void 0:r.width)==="anchor"&&(o.allowedPlacements=["bottom","top"]),o}var p2=X.createResponsiveComponent(Wn);function Ok(e){let{paletteState:{palette:t},setPaletteState:o}=e,n=Dt.useRef(null),[,r]=R(Rk),i=()=>o(null),a=Xa(kn.fade),s=Gm("OUTSIDE_CLICK");return Bi({opened:!0,closeOnEsc:!Ru(t),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:i},n),Cp(),Dt.createElement(on,{ref:n},Dt.createElement(Lt,{onPressIn:()=>{s&&i()}},Dt.createElement(b,{ref:a,style:[r.paletteBackdrop]},Dt.createElement(_k,{...e,setTopPaletteState:o}))))}function _k(e){let{paletteState:{palette:t,anchorRef:o},setPaletteState:n,setTopPaletteState:r,parentPlacement:i}=e,[a,s]=xk(o,t,i),l=Xa(kn.slideToL[s]);return Dt.createElement(Dt.Fragment,null,Dt.createElement(f2,{ref:l,palette:t,setPalette:m=>{n(f=>{if(!f)return null;let g=typeof m=="function"?m(f.palette):m;return g?{...f,palette:g}:null})},setTopPalette:m=>{r(f=>{if(!f)return null;let g=typeof m=="function"?m(f.palette):m;return g?{...f,palette:g}:null})},positionStyle:a,placement:s}),t.descendant?Dt.createElement(_k,{paletteState:t.descendant,setTopPaletteState:r,setPaletteState:m=>{n(f=>f?{...f,palette:{...f.palette,descendant:(typeof m=="function"?m(f.palette.descendant||null):m)||void 0}}:null)},parentPlacement:s}):null)}var f2=Dt.forwardRef(function(t,o){let{palette:n,setPalette:r,setTopPalette:i,positionStyle:a,placement:s}=t,l=Dt.useRef(null),[u,d]=R(Rk),m=kk(n),f=!n.descendant;return Dt.useEffect(()=>{if(n.descendant)return;let g=l.current;g&&(document.activeElement===g||(g.select(),g.focus()))},[n]),Dt.createElement(Lt,{onPress:g=>g.preventDefault()},Dt.createElement(p2,{ref:o,backgroundColor:u.colors.background.main,style:[d.palette],mobileStyle:d.paletteMobile,desktopStyle:[d.paletteInline,a],onStartShouldSetResponder:()=>!0},Ru(n)?Dt.createElement(wk,{ref:l,palette:n,setPalette:r,withItems:m.items.length>0,placement:s}):null,m.error?Dt.createElement(Sk,{error:m.error}):Dt.createElement(Ck,{computed:m,palette:n,withKeyboardInteractions:f,setPalette:r,setTopPalette:i})))}),Rk=L.create({paletteBackdrop:e=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:"transparent"}),palette:e=>({borderRadius:e.radiuses.xlarge,borderColor:e.colors.border.main,borderWidth:1,overflow:"hidden",...e.shadows.pop}),paletteMobile:{position:"absolute",marginTop:0,top:p.small,left:p.small,right:p.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});function Ik(e){let[t,o]=tn(n1);return Ty.createElement(Hm,null,t?Ty.createElement(Ok,{paletteState:t,setPaletteState:o}):null)}c();var Pk=x(O());var g2=[Vs["1f44d"],Vs["1f389"],Vs["1f604"],Vs["1f602"],Vs["1f44f"],Vs["1f44e"]];function hl(e,t={}){let{withSearch:o=!0,max:n=5}=t;return oe({search:o?"Select an emoji\u2026":void 0,groups:[{key:"emojis",commands:r=>(r.query.text?gp(r.query.text):g2).slice(0,n).map(a=>({key:a.code,title:a.shortname,icon:s=>Pk.createElement(bo,{...s,code:a.code}),trigger:()=>e(a.code)}))}]})}c();var Ja=x(O());z();var xa=Ja.forwardRef(function(t,o){let{displayMode:n="inline",value:r,style:i,placeholder:a,readOnly:s,onChangeText:l,...u}=t,[d]=R(),m=!s&&l,f=Ja.useMemo(()=>m&&n==="inline"?Qm(r||a||"",F.flatten([i])):0,[n,r,a,i,m]);if(!m){let g=Ja.createElement(A,{style:[i],selectable:!0},r);return n==="inline"?g:Ja.createElement(b,{style:Ek.inputModeBlock},g)}return Ja.createElement(qr,{ref:o,placeholderTextColor:d.colors.text.muted,...u,value:r,onChangeText:l,placeholder:a,style:[i,n==="inline"?{width:f}:Ek.inputModeBlock]})}),Ek=F.create({inputModeBlock:{width:"100%"}});c();var Lp=[{key:"blue",color:j.primary.base,title:"Blue"},{key:"purple",color:j.violet.base,title:"Purple"},{key:"orange",color:j.orange.base,title:"Orange"},{key:"red",color:j.scarlet.base,title:"Red"},{key:"yellow",color:j.YELLOW,title:"Yellow"},{key:"green",color:j.green.base,title:"Green"}],Np=[{key:"blue",color:j.primary.xlight,title:"Blue"},{key:"purple",color:j.violet.xlight,title:"Purple"},{key:"orange",color:j.orange.xlight,title:"Orange"},{key:"red",color:j.scarlet.xlight,title:"Red"},{key:"yellow",color:j.YELLOW_XXLIGHT,title:"Yellow"},{key:"green",color:j.green.xlight,title:"Green"}],xG=[j.primary.light,j.violet.light,j.fuchsia.light,j.scarlet.light,j.orange.light,j.green.light];c();var De=x(O());z();c();var Dk=9,Ly=Lm.reduce((e,t)=>{let o=e.find(r=>r.key===t.category);if(!o)return console.warn("Unknown emoji category","emoji"),e;(!o.data.length||o.data[o.data.length-1].emojis.length===Dk)&&o.data.push({key:"",emojis:[]});let n=o.data[o.data.length-1];return n.key+=t.code,n.emojis.push(t),e},[{key:"people",title:"People",Icon:S.EmojiReaction,data:[]},{key:"nature",title:"Nature",Icon:S.RoleEditor,data:[]},{key:"food",title:"Food",Icon:S.Food,data:[]},{key:"activity",title:"Activity",Icon:S.Music,data:[]},{key:"travel",title:"Travel",Icon:S.EmojiBike,data:[]},{key:"objects",title:"Objects",Icon:S.EmojiWatch,data:[]},{key:"symbols",title:"Symbols",Icon:S.HeartOutlined,data:[]},{key:"flags",title:"Flags",Icon:S.EmojiFlag,data:[]}]);function Ak(e){let t=gp(e);return{key:"search",title:"Results",data:O2(t,Dk),Icon:S.Search}}function O2(e,t){let o=e.length;if(o===0)return[];let n=Math.ceil(o/t);return Array.from({length:n},(r,i)=>{let a=i*t,s=e.slice(a,a+t);return{key:s.map(l=>l.code).join("-"),emojis:s}})}function Ap(e){let{onPick:t,onRemove:o}=e,[n,r]=De.useState(""),[i,a]=De.useState(""),s=De.useRef(null);De.useEffect(()=>{let u=requestAnimationFrame(()=>{s.current&&s.current.focus()});return()=>{cancelAnimationFrame(u)}},[s]);let l=u=>{r(u),a(u)};return De.createElement(b,{style:Mu.emojiPicker},De.createElement(b,{style:[Mu.emojiPickerSearch,v.directionRow]},De.createElement(Kt,{kind:"search",size:"medium",ref:s,icon:S.Search,placeholder:"Search",value:n,onChangeText:l,cleareable:!0,style:v.flex1}),o?De.createElement(D,{icon:S.Trashcan,onPress:o,title:"Remove Emoji",size:"medium",kind:"secondary",style:p.Margin.smallLeft}):null),De.createElement(I2,{query:i,onPick:t}))}var _2=Rp({getItemHeight:()=>Dp,getSectionHeaderHeight:()=>Bk,stickySectionHeadersEnabled:!0}),R2=({section:e})=>De.createElement(P2,{category:e}),I2=De.memo(function(t){let{query:o,onPick:n}=t,r=De.useRef(null),i=o?[Ak(o)]:Ly,a=l=>{r.current&&r.current.scrollToLocation({sectionIndex:l,itemIndex:0})},s=De.useCallback(({item:l})=>De.createElement(E2,{row:l,onPick:n}),[n]);return De.createElement(De.Fragment,null,!o&&De.createElement(b,{style:Mu.emojiPickerCategories},Ly.map((l,u)=>De.createElement(D,{key:l.key,icon:l.Icon,onPress:()=>{a(u)}}))),De.createElement($d,{ref:r,sections:i,stickySectionHeadersEnabled:!0,renderItem:s,renderSectionHeader:R2,getItemLayout:_2}))}),P2=De.memo(function(t){let{category:o}=t,[,n]=R(zk),[,r]=R(N);return De.createElement(b,{style:[n.emojiCategoryHeader]},De.createElement(A,{style:[r.GroupTitle,r.text]},o.title))},(e,t)=>e.category.title===t.category.title),E2=De.memo(function(t){let{row:o,onPick:n}=t;return De.createElement(b,{style:Mu.emojiRow},o.emojis.map(r=>De.createElement(T2,{key:r.code,code:r.code,onPick:n})))},(e,t)=>e.row.key===t.row.key&&e.onPick===t.onPick),T2=De.memo(function(t){let{code:o,onPick:n}=t,[,r]=R(zk);return De.createElement(B.TouchableOpacity,{onPress:()=>n(o),style:[Mu.emojiItem],activeStyle:r.emojiItemHovered},De.createElement(bo,{code:o,size:24}))}),Dp=40,Bk=26,zk=L.create({emojiCategoryHeader:e=>({height:Bk,backgroundColor:e.colors.background.main,paddingLeft:p.medium,paddingRight:p.medium,paddingTop:p.small,paddingBottom:p.small}),emojiItemHovered:e=>({backgroundColor:e.colors.itemHover})}),Mu=F.create({emojiPicker:{display:"flex",width:376,height:314},emojiPickerSearch:{padding:p.small},emojiPickerCategories:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:p.small,paddingBottom:0,paddingTop:0},emojiRow:{display:"flex",flexDirection:"row",paddingLeft:p.small,paddingRight:p.small},emojiItem:{width:Dp,height:Dp,borderRadius:Dp,display:"flex",alignItems:"center",justifyContent:"center",outlineStyle:"none"}});c();var yl=x(O());function Wk(e){let{children:t,...o}=e;return yl.createElement(xw,null,yl.createElement(Dw,null,yl.createElement(sk,null,yl.createElement(Ik,{...o}),yl.createElement(dk,null),t)))}c();var pt=x(O());c();var Ys=JSON.parse('{"backdrop":"backdrop_M-DLi","searchModal":"searchModal_Vcy-I","searchModalHeader":"searchModalHeader_XHNRd","searchModalHeaderIcon":"searchModalHeaderIcon_Q-OxP","searchInput":"searchInput_TEvvq","searchModalBody":"searchModalBody_kS0BP"}');var Vk=pt.forwardRef(function(t,o){let{onClose:n}=t,r=pt.useRef(null);return Bi({opened:!0,closeOnEsc:!0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:n},r),Cp(),pt.createElement(on,{ref:r},pt.createElement(M2,{ref:o,...t}))}),M2=pt.forwardRef(function(t,o){let{query:n,onQueryChange:r,onSubmitQuery:i,queryPlaceholder:a="Search\u2026",onClose:s,children:l,footer:u,inputIcon:d,leftButton:m,rightButton:f}=t,g=pt.useRef(null),y=Gm("OUTSIDE_CLICK"),h=fy({mount:ee.animations.fadeIn,unmount:ee.animations.fadeOut}),C=fy({mount:ee.animations.popIn,unmount:ee.animations.popOut});return pt.useImperativeHandle(o,()=>({focus:()=>{var w;(w=g.current)==null||w.focus()},select:()=>{var w;(w=g.current)==null||w.select()}})),pt.useEffect(()=>{var w;(w=g.current)==null||w.select()},[]),pt.createElement(pe,{ref:h,style:Ys.backdrop,onClick:()=>{y&&s()}},pt.createElement(pe,{ref:C,style:Ys.searchModal,onClick:w=>{w.stopPropagation()}},pt.createElement(pe,{style:[Ys.searchModalHeader]},m,d?pt.createElement(pe,null,pt.createElement(d,{style:[Ys.searchModalHeaderIcon]})):null,pt.createElement(pe,{style:[ee.flex.flex1,ee.flex.row]},pt.createElement(pe,{ref:g,as:"input",value:n,placeholder:a,onChange:w=>{r(w.currentTarget.value)},onKeyDown:w=>{w.key==="Enter"&&(i==null||i(n))},style:[Ys.searchInput,ee.flex.flex1]})),f),pt.createElement(pe,{style:[Ys.searchModalBody]},pt.createElement(pt.Suspense,{fallback:pt.createElement(Xt,{size:"large"})},l)),u||null))});c();var an=x(O());c();var Bp=JSON.parse('{"searchResultsGroup":"searchResultsGroup_1WUmo","searchResultsGroupWithIcon":"searchResultsGroupWithIcon_sS6Xq","searchResultsGroupIcon":"searchResultsGroupIcon_GTLB4"}');c();var jt=x(O());c();var rn=JSON.parse('{"searchResultItem":"searchResultItem_p8cXr","searchResultItemNested":"searchResultItemNested_c68te","searchResultItemIconWrapper":"searchResultItemIconWrapper_9nhf7","searchResultNestedIcon":"searchResultNestedIcon_FXDYi","searchResultIcon":"searchResultIcon_Mak8U","searchResultTitle":"searchResultTitle_oejjj","searchResultSubtitle":"searchResultSubtitle_5zrSl","searchResultBody":"searchResultBody_C6kw1","searchResultBodyWithTitle":"searchResultBodyWithTitle_gAHks","searchResultBodyText":"searchResultBodyText_bfMRX","searchResultAction":"searchResultAction_4Kmeo","searchResultActionIcon":"searchResultActionIcon_dkZSk","searchResultActionText":"searchResultActionText_2EDdS","searchResultItemActive":"searchResultItemActive_Ih3Vm","searchResultItemDisabled":"searchResultItemDisabled_TTaLk"}');c();var vl=x(O());c();var Ny=JSON.parse('{"pressable":"pressable_nUrxI","withFocusRing":"withFocusRing_9WvnS"}');var zp=vl.forwardRef(function(t,o){let{style:n,onPress:r,disabled:i=!1,...a}=t,s=vl.useContext(yw);return vl.createElement(pe,{ref:o,tabIndex:"0",role:"button",style:[n,{[Ny.pressable]:!i,[Ny.withFocusRing]:!i&&s.enabled}],...a,onClick:r})});var qk=jt.forwardRef(function(t,o){let{title:n,subtitle:r,body:i,icon:a,active:s,disabled:l=!1,nested:u=!1,action:d,onHover:m,onSelect:f,onFocus:g}=t;return jt.createElement(zp,{ref:o,style:[rn.searchResultItem,{[rn.searchResultItemActive]:s,[rn.searchResultItemNested]:u,[rn.searchResultItemDisabled]:l}],onMouseEnter:m,onFocus:g,onPress:f},jt.createElement(pe,{style:rn.searchResultItemIconWrapper},u?jt.createElement(S.ArrowCurveDownRight.CSS,{style:rn.searchResultNestedIcon}):null,jt.createElement(pe,null,jt.createElement(a,{compatibilitySize:E.ICON_XS,style:rn.searchResultIcon}))),jt.createElement(pe,{style:[ee.flex.column,ee.flex.flex1]},n?jt.createElement(pe,null,jt.createElement(Hn,{style:rn.searchResultTitle},jt.createElement(rp,{value:n}))):null,r?jt.createElement(pe,null,jt.createElement(Hn,{style:rn.searchResultSubtitle},jt.createElement(rp,{value:r}))):null,i?jt.createElement(pe,{style:[rn.searchResultBody,{[rn.searchResultBodyWithTitle]:!!n}]},jt.createElement(Hn,{style:[rn.searchResultBodyText]},jt.createElement(rp,{value:i,maxLength:280}))):null),s?jt.createElement(pe,{style:[rn.searchResultAction]},jt.createElement(S.ArrowEnter.CSS,{style:rn.searchResultActionIcon}),jt.createElement(Hn,{style:rn.searchResultActionText},d)):null)});function es(e){let{data:t,renderItem:o,renderGroup:n,groupItem:r,getGroupKey:i,getKey:a,onOpen:s,style:l,allowEnterToOpen:u=!0}=e,d=an.useRef({}),m=an.useMemo(()=>L2(t,r,i),[t,r,i]),f=an.useCallback(async(h,C)=>{let{index:w}=C;o(h.item).disabled||s(h.item,w)},[s]),g=an.useCallback(h=>{let C=d.current[a(h.item)];C&&pl(C,{behavior:"smooth",scrollMode:"if-needed"})},[d]),y=Ip({active:!0,startAtFirst:!0,items:m,onSelect:u?f:void 0,scrollTo:g,getKey:h=>a(h.item)});return an.createElement(pe,{style:[ee.flex.column,ee.flex.flex1,l]},m.map((h,C)=>{let w=m[C-1],k=w==null?void 0:w.group,I=a(h.item),_=o(h.item),P=null;if(i&&i(h.group)!==i(k)){let M=n==null?void 0:n(h.group);M&&(P=an.createElement(pe,{ref:T=>{d.current[I]=T},style:[ee.flex.row,ee.padding.xsmallVertical,Bp.searchResultsGroup,{[Bp.searchResultsGroupWithIcon]:!!M.icon},C>0?ee.padding.mediumTop:null]},M.icon?an.createElement(M.icon,{compatibilitySize:E.ICON_L,style:Bp.searchResultsGroupIcon}):null,an.createElement(Hn,{style:[ee.text.label,ee.text.weightBold,ee.textColor.mid,M!=null&&M.icon?ee.margin.smallLeft:null]},M.title)))}return an.createElement(an.Fragment,{key:I},P,an.createElement(qk,{ref:P?void 0:M=>{d.current[I]=M},..._,active:!!y.cursor.current&&I===a(y.cursor.current.item),onHover:()=>{y.hoverItem(h)},onFocus:()=>{y.setCursor(h)},onSelect:()=>{_.disabled||s(h.item,C)}}))}))}function L2(e,t,o){if(!t||!o)return e.map(r=>({group:void 0,item:r}));let n=[];return e.forEach(r=>{let i=t(r),a=n.find(s=>o(s[0].group)===o(i));if(a){a.push({item:r,group:i});return}n.push([{group:i,item:r}])}),n.flat()}c();var bl=x(O());c();var ts=JSON.parse('{"buttonTabs":"buttonTabs_ihLP4","buttonTabsItem":"buttonTabsItem_9vRT7","buttonTabsItemActive":"buttonTabsItemActive_PnjM4","buttonTabsItemIcon":"buttonTabsItemIcon_wUvLo","buttonTabsItemText":"buttonTabsItemText_Oa-uN","buttonTabsSizeMedium":"buttonTabsSizeMedium_Cra41","buttonTabsItemDisabled":"buttonTabsItemDisabled_XW4rD"}');function Fk(e){let{tabs:t,activeTab:o,onPress:n,size:r="medium"}=e;return bl.createElement(pe,{style:[ts.buttonTabs,r==="medium"&&ts.buttonTabsSizeMedium]},t.map(i=>{let a=o===i.key,s=i.icon;return bl.createElement(Fn,{tooltip:i.tooltip},(l,u)=>bl.createElement(zp,{ref:u,key:i.key,onPress:()=>{i.disabled||n(i.key)},style:[ts.buttonTabsItem,{[ts.buttonTabsItemActive]:a,[ts.buttonTabsItemDisabled]:i.disabled}],...l.events},s?bl.createElement(s,{style:ts.buttonTabsItemIcon}):null,i.label?bl.createElement(Hn,{style:[ts.buttonTabsItemText]},i.label):null))}))}c();var Wp=x(O());var Gk=$e("auth"),Dy=bw(e=>{let{customToken:t,waitUserReady:o=!0}=e;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!t&&!o?{customToken:t}:new Fr("auth.initialize").wrap(async()=>{if(t)try{Gk.info("authenticating with custom token before subscribing to auth"),await fr.auth().signInWithCustomToken(t)}catch(r){Gk.critical("Error during auth with custom token",r)}return o!==!1&&await new Promise((r,i)=>{let a=fr.auth().onAuthStateChanged(()=>{a(),r()},i)}),{customToken:t}})});function Hk(e){return Dy.readAsync(e)}function Vp(e){let{children:t}=e;if(typeof window<"u"){if(Dy.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");Dy.read({})}return Wp.createElement(Wp.Fragment,null,t)}c();c();YC();var Cl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cl||(Cl={}));var Xk=function(e){return e};var Kk="beforeunload";var N2="popstate";function Yk(e){e===void 0&&(e={});var t=e,o=t.window,n=o===void 0?document.defaultView:o,r=n.history;function i(){var T=n.location,W=T.pathname,H=T.search,q=T.hash,G=r.state||{};return[G.idx,Xk({pathname:W,search:H,hash:q,state:G.usr||null,key:G.key||"default"})]}var a=null;function s(){if(a)g.call(a),a=null;else{var T=Cl.Pop,W=i(),H=W[0],q=W[1];if(g.length){if(H!=null){var G=d-H;G&&(a={action:T,location:q,retry:function(){P(G*-1)}},P(G))}}else k(T)}}n.addEventListener(N2,s);var l=Cl.Pop,u=i(),d=u[0],m=u[1],f=Uk(),g=Uk();d==null&&(d=0,r.replaceState(Ic({},r.state,{idx:d}),""));function y(T){return typeof T=="string"?T:Ay(T)}function h(T,W){return W===void 0&&(W=null),Xk(Ic({pathname:m.pathname,hash:"",search:""},typeof T=="string"?By(T):T,{state:W,key:D2()}))}function C(T,W){return[{usr:T.state,key:T.key,idx:W},y(T)]}function w(T,W,H){return!g.length||(g.call({action:T,location:W,retry:H}),!1)}function k(T){l=T;var W=i();d=W[0],m=W[1],f.call({action:l,location:m})}function I(T,W){var H=Cl.Push,q=h(T,W);function G(){I(T,W)}if(w(H,q,G)){var Y=C(q,d+1),U=Y[0],ue=Y[1];try{r.pushState(U,"",ue)}catch(Ye){n.location.assign(ue)}k(H)}}function _(T,W){var H=Cl.Replace,q=h(T,W);function G(){_(T,W)}if(w(H,q,G)){var Y=C(q,d),U=Y[0],ue=Y[1];r.replaceState(U,"",ue),k(H)}}function P(T){r.go(T)}var M={get action(){return l},get location(){return m},createHref:y,push:I,replace:_,go:P,back:function(){P(-1)},forward:function(){P(1)},listen:function(W){return f.push(W)},block:function(W){var H=g.push(W);return g.length===1&&n.addEventListener(Kk,jk),function(){H(),g.length||n.removeEventListener(Kk,jk)}}};return M}function jk(e){e.preventDefault(),e.returnValue=""}function Uk(){var e=[];return{get length(){return e.length},push:function(o){return e.push(o),function(){e=e.filter(function(n){return n!==o})}},call:function(o){e.forEach(function(n){return n&&n(o)})}}}function D2(){return Math.random().toString(36).substr(2,8)}function Ay(e){var t=e.pathname,o=t===void 0?"/":t,n=e.search,r=n===void 0?"":n,i=e.hash,a=i===void 0?"":i;return r&&r!=="?"&&(o+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function By(e){var t={};if(e){var o=e.indexOf("#");o>=0&&(t.hash=e.substr(o),e=e.substr(0,o));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var zy=$e("history");function Zk(){let e=Yk(),t=[],o=!1,n=()=>{let i=t.shift();return i?(i(),!1):!0},r=i=>{o?t.push(i):i()};return{get location(){return e.location},listen:i=>e.listen(a=>{i({location:a.location,action:a.action})}),push:i=>{let{state:a,...s}=i;r(()=>{zy.info("push",s,a),e.push(s,a)})},replace:i=>{let{state:a,...s}=i;r(()=>{zy.info("replace",s,a),e.replace(s,a)})},go:i=>{r(()=>{zy.info("go",i),e.go(i)})},transaction:i=>{if(o)i();else{let a=e.listen(()=>{n()&&a()});o=!0,i(),o=!1,n()&&a()}}}}c();function Qk(e){let{basename:t="",location:o="/",context:n}=e,r=(a,s)=>{n.action=s,n.location=A2(t,$k(a)),n.url=Ay(n.location)};return{staticContext:n,location:B2(t,$k(By(o))),push:a=>{r(a,"PUSH")},replace:a=>{r(a,"REPLACE")},go:()=>{},listen:()=>()=>{},transaction:a=>{a()}}}function Jk(e){return e.charAt(0)==="/"?e:`/${e}`}function A2(e,t){return e?{...t,pathname:Jk(e)+t.pathname}:t}function B2(e,t){if(!e||!t.pathname)return t;let o=Jk(e);return t.pathname.indexOf(o)!==0?t:{...t,pathname:t.pathname.substr(o.length)}}function $k(e){let t={hash:"",search:"",pathname:"",...e,key:"",state:void 0};return t.search&&t.search.charAt(0)!=="?"&&(t.search=`?${t.search}`),t.hash&&t.hash.charAt(0)!=="#"&&(t.hash=`#${t.hash}`),t}c();var Zs=x(O()),ex=x(Nw());function Wy(e){let{history:t,children:o}=e,n=Zs.useMemo(()=>t||Zk(),[t]),r=Zs.useMemo(()=>({getCurrentValue:()=>n.location,subscribe:a=>n.listen(a)}),[n]),i=(0,ex.useSubscription)(r);return Zs.createElement(f1.Provider,{value:n},Zs.createElement(g1.Provider,{value:i},o))}function tx(e){let{children:t,...o}=e,n=Qk(o);return Zs.createElement(Wy,{history:n},t)}c();var Vy=x(O());function ox(e,t){var a;let{navigate:o}=we(),n=qi(),r=(0,Vy.useCallback)(s=>o({screen:{sideSheet:{type:e.type,tab:s}}},{replace:!0}),[o,e.type]),i=(0,Vy.useCallback)(()=>o({screen:{sideSheet:void 0}}),[o]);return{opened:"sideSheet"in n.screen&&((a=n.screen.sideSheet)==null?void 0:a.type)===e.type,selectedTab:"sideSheet"in n.screen&&n.screen.sideSheet&&"tab"in n.screen.sideSheet?n.screen.sideSheet.tab:t,changeSelectedTab:r,close:i,sideSheet:"sideSheet"in n.screen?n.screen.sideSheet:void 0}}c();var z2=eo({key:"firestoreReacheable",default:!0,effects:[e=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{e.setSelf(!1)})}]});function nx(){return pr(z2)}c();var rx=x(O());var W2=$e("app:events"),V2=e=>(e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function q2(){let e=document.cookie?document.cookie.split("; "):[],t={};for(let o=0;o<e.length;o++){let n=e[o].split("="),r=n.slice(1).join("=");try{let i=decodeURIComponent(n[0]);t[i]=V2(r)}catch(i){W2.warning(`Couldn't parse cookie ${e[o]}. Error: `,i)}}return t}function ix(e,t){return rx.useEffect(()=>{F2(e,t)},[e.key,t]),null}async function F2(e,t){if(!e.integrations||!t)return;let o=await gw(),n=q2(),r=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await ol()).analytics.trackViewInSpaceById(e.key,{pageId:t,visitor:{anonymousId:o,cookies:n,userAgent:a},url:r,referrer:i})}c();function ax(e,t){let o=t.type==="space"&&typeof t.changeRequest=="string"?t.changeRequest:void 0;return E1(e,o)}c();var sx=x(O());function qy(e){let t=Fy(e);return lx(e),t}function cx(e,t){let o=sx.useRef(new Map),[n,r]=ux([e,o.current.get(t)||null]);if(lx([e]),!n)return null;switch(n.state){case"live":case"cached":return o.current.set(t,e),n.result;case"failed":throw n.error;case"pending":if(r&&r.state==="live")return r.result;throw n.pending;default:Oe(n)}}function lx(e){let t=sp(e.map(o=>o?Im(o.spaceKey,o.sheetKey):null));w1(e.map((o,n)=>{if(!o)return[];let r=t[n],i=r==null?void 0:r.result,a=(i==null?void 0:i.chunks)||[];return[Im(o.spaceKey,o.sheetKey),...a.map(s=>sy(o.spaceKey,o.sheetKey,s))]}).flat())}function ux(e){return e.map(t=>{if(!t)return null;let[o]=sp([Im(t.spaceKey,t.sheetKey)]);if(o.state==="failed"||o.state==="pending"||!o.result||!o.result.chunks)return o;let n=sp(o.result.chunks.map(s=>sy(t.spaceKey,t.sheetKey,s))),r=[],i=[];if(n.forEach(s=>{if(s.state==="pending")r.push(s.pending);else{if(s.state==="failed")throw s.error;if(s.result)i.push(s.result);else throw new Error("Chunk not found")}}),r.length>0)return{state:"pending",pending:Promise.all(r).then(()=>null)};let a=KS({sheet:o.result,chunks:i});return{state:o.state,result:a}})}function G2(e){return ux(e).map(o=>{if(!o)return null;if(o.state==="pending")throw o==null?void 0:o.pending;return o})}function Fy(e){return G2(e).map(o=>{if((o==null?void 0:o.state)==="failed")throw o.error;return o?o.result:null})}c();var dx=x(O());function qp(e){let t=U1(e),[o]=Xn([t]);return dx.useEffect(()=>{!o&&e&&t.set({url:e})},[o,e]),[o||{url:e}]}c();var mx=x(O());function px(e){let t=e?new URL(e).hostname:null,[o]=C1([t?lw(t):null]);return mx.useMemo(()=>{if(!o||!e)return;let n=Kc(Nm(o),e);if(!n)return;let r=o.find(i=>i.name===n.integrationKey);if(r)return{integration:r,block:n.block}},[o,e])}c();var fx=x(O());var Gy=eo({key:"hoveredCommentNodeAtom",default:null}),dK=eS({key:"newCommentValueAtom",default:()=>qS("","comment")});function gx(){let e=ia(Gy);return fx.useMemo(()=>({highlight:(t,o={highlighting:!0,postButton:!0})=>{let n=t?vr.getOriginalKey(t):null;e(r=>n?(r&&r.node===n&&r.postButton&&(o.postButton=r.postButton),{node:n,...o}):null)}}),[e])}c();var yx=x(O());var hx=eo({key:"filesManagerAtom",default:null});function At(){let e=ia(hx),t=tS();return yx.useMemo(()=>({prompt:o=>new Promise(n=>{e({options:o,onComplete:n})}),isOpen:()=>{let{isModified:o}=t(hx);return o}}),[e])}c();var vx=x(O());var Hy=eo({key:"mediaGalleryState",default:{medias:[],currentIndex:0}});function Sl(){let e=ia(Hy);return vx.useMemo(()=>({open:(t,o=0)=>{e({medias:t,currentIndex:o})}}),[e])}c();var wl=eo({key:"mobileToCOpenedAtom",default:!1});c();var Fp=x(O());function bx(e){var r,i;let t=Fp.useContext(Eo),o=t.preview||t.mode!=="public-content"||!((r=e==null?void 0:e.intercom)!=null&&r.enabled)||(i=e==null?void 0:e.intercom)==null?void 0:i.appID,n=J1();return ya(a=>{n&&o&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${o}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:o})}})}),Fp.useEffect(()=>()=>{window.Intercom&&(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}c();var kx=x(Xy()),xx=x(O());c();var Sx=$e("contentkit:remote");function Hp(e){return Xr({getValue:async t=>{Sx.info("fetch",t);let o=await e(t);return Sx.info("got response",o),o}})}c();var Ky=x(CM()),kt=x(O());var Xp=$e("contentkit:lifecycle"),jy=kt.forwardRef(function(t,o){let{mode:n,remote:r,input:i,security:a,onPropsChange:s,onAction:l}=t,[u,d]=kt.useState(i),[m,f]=kt.useState(null),{result:g,error:y}=X2(r,n,u),[h,C]=Ai((g==null?void 0:g.state)||{},[g]),w=async _=>{let P={...u,...g?{props:s?g.props:u.props,state:g.state}:{},..._,state:{...u.state,...g==null?void 0:g.state,...h,..._.state}};Xp.debug("transition to",P),await r.readAsync(P),d(P)},k=async(_,P=!0)=>{let M=N1(h,_);switch(Xp.debug("dispatch action",M),P&&await(l==null?void 0:l(M)),M.action){case"@ui.modal.open":let T={integrationId:i.integrationId,componentId:M.componentId,props:M.props,context:i.context,action:M};await r.readAsync(T),f({mode:"modal",input:T});break;case"@ui.modal.close":break;case"@ui.url.open":op(M.url);break;case"@editor.node.updateProps":Xp.info("update props",M.props),s==null||s(M.props);break;default:await w({action:M});break}};kt.useImperativeHandle(o,()=>({dispatchAction:k})),kt.useEffect(()=>{g&&(0,Ky.default)(g.props)!==(0,Ky.default)(u.props)&&(Xp.debug("props have changed",g.props),s==null||s(g.props))},[u,g]);let I=async _=>{switch(_.action){case"@ui.modal.close":w({action:_}),f(null);break}};if(y)switch(n){case"block":return kt.createElement(Gn,{kind:"danger",details:"Oops! unexpected error while rendering this block"});case"modal":return null;default:Oe(n)}return kt.createElement(kt.Fragment,null,kt.createElement(H2,{element:g.element,dispatchAction:k},kt.createElement(A1,{element:g.element,localState:h,setLocalState:C,dispatchAction:k,security:a})),kt.createElement(kt.Suspense,{fallback:null},kt.createElement(Hm,null,m?kt.createElement(jy,{remote:r,mode:m.mode,input:m.input,onAction:I,security:a}):null)))});function H2(e){let{element:t,dispatchAction:o,children:n}=e;switch(t.type){case"block":return kt.createElement(kt.Fragment,null,n);case"modal":return kt.createElement(wt,{onClose:()=>{o({action:"@ui.modal.close",returnValue:t.returnValue||{}})},...D1(t.size)},n);default:Oe(t)}}function X2(e,t,o){let{result:n,error:r}=e.readSafe(o);return n?n.element.type!==t?{error:new Error(`Unexpected mode, expected ${t}, got ${n.element.type}`)}:{result:n}:{error:r||new Error("Unknown error")}}var K2=2e3,wx=Xr({getValue:async e=>{let t=await ol(),o={spaceId:e.spaceId,componentId:e.componentId,action:e.action,props:e.props,state:e.state,context:e.context},n=JSON.stringify(o),r=kx.default.compressToEncodedURIComponent(n);return(await(r.length<K2?t.integrations.renderIntegrationUiWithGet(e.integrationId,{request:r}):t.integrations.renderIntegrationUiWithPost(e.integrationId,o))).data}});function Ox(e){let{spaceId:t}=e;return xx.useMemo(()=>Hp(o=>{let n=wx.readCacheState({...o,spaceId:t});return n.result?n.result:wx.readAsync({...o,spaceId:t})}),[t])}c();var Lu=x(O());var Uy=Lu.default.createContext(()=>({getCurrentValue:()=>[],subscribe:()=>()=>{}})),$s=new Map;function _x(e){let{withComments:t,spaceKey:o,pageKey:n,changeRequestKey:r,children:i}=e,a={space:o,page:n,changeRequest:r||null},[s]=Xn([t?Y1(a).where("resolved","==",null).orderBy("postedAt","asc"):null]);Lu.default.useEffect(()=>{let u=(s||[]).reduce((d,m)=>{var f;return m.node?{...d,[m.node]:[...(f=d[m.node])!=null?f:[],m]}:d},{});Object.entries(u).forEach(([d,m])=>{let f=m||[],g=$s.get(d),[y,h]=g||[[],[]];j2(f,y)||($s.set(d,[f,h]),h.forEach(C=>C()))})},[s]);let l=Lu.default.useCallback(u=>({getCurrentValue:()=>{let d=$s.get(u);return d?d[0]:[]},subscribe:d=>{let m=$s.get(u),[f,g]=m||[[],[]];return $s.set(u,[f,[...g,d]]),()=>{let y=$s.get(u),[h,C]=y||[[],[]],w=C.filter(k=>k!==d);$s.set(u,[h,w])}}}),[]);return Lu.default.createElement(Uy.Provider,{value:l},i)}function j2(e,t){return e.length!==t.length?!1:e.every(o=>{let n=t.find(r=>o.key===r.key);return n?U2(o,n):!1})}function U2(e,t){return!(e.key!==t.key||e.resolved!==t.resolved||Kh(e.replies)!==Kh(t.replies))}c();var Yy=1024,Rx=Yy*1024;function Nu(e){return e>Rx?`${(e/Rx).toFixed(0)}MB`:e>Yy?`${(e/Yy).toFixed(0)}KB`:`${e}B`}function Ix(e){return Fa(e)?"Image":Gc(e)?"Code":e.contentType==="application/pdf"?"PDF":e.contentType.startsWith("text/")?"Text":"Binary"}c();var Kp=x(O());function Ex(e){var n,r,i;let t=(0,Kp.useContext)(Eo);Y2(t,e),va(()=>Tx(t,e));let o=va(()=>Px(t,e));(0,Kp.useEffect)(()=>(o.current=Px(t,e),()=>{o.current&&window.gtag("config",o.current,{update:!0,groups:"not_tracking_views"})}),[(n=e==null?void 0:e.googleAnalytics)==null?void 0:n.enabled,(r=e==null?void 0:e.googleAnalytics)==null?void 0:r.trackingPrivateViews,(i=e==null?void 0:e.googleAnalytics)==null?void 0:i.trackingID,t])}function Zy(e){var t;return Boolean(((t=e.googleAnalytics)==null?void 0:t.enabled)&&typeof e.googleAnalytics.trackingID=="string")}function Y2(e,t){ya(o=>{var n;$y(e,t)||o.writeSafe({type:"script",src:`https://www.googletagmanager.com/gtag/js?l=dataLayer&id=${(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.trackingID}`})})}function Tx(e,t){$y(e,t)||typeof window>"u"||window!=null&&window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(...o){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",t.googleAnalytics.trackingID))}function Px(e,t){var n;if($y(e,t)||typeof window>"u")return;window!=null&&window.gtag||Tx(e,t),window.gtag("config",t.googleAnalytics.trackingID,{send_page_view:!1,anonymize_ip:!0,groups:"tracking_views"});let o=Am()==="rejected";return window.gtag("consent","default",{ad_storage:o?"denied":"granted",analytics_storage:o?"denied":"granted"}),(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.trackingID}function $y(e,t){var o;return!t||!t.googleAnalytics||!Zy(t)||e.preview||e.mode!=="public-content"&&!((o=t==null?void 0:t.googleAnalytics)!=null&&o.trackingPrivateViews)}c();c();var Je=x(O());z();c();var Qn=x(O());c();var kl=x(O());z();function Mx(e){let{node:t,editor:o}=e,{readOnly:n}=o,[,r]=R(Z2),i=()=>{o.change(a=>{a.unwrapInlineByKey(t.key)})};return kl.createElement(nn,{preferredAlignment:"start",kind:"large"},kl.createElement(b,{style:[r.annotationPopover,p.Padding.mediumHorizontal,p.Padding.mediumVertical]},kl.createElement(On,{fragment:Di}),n?null:kl.createElement(b,{style:[r.toolbar]},kl.createElement(D,{size:"small",kind:"secondary",icon:S.Trashcan,title:"Remove annotation",onPress:i}))))}var Z2=L.create({annotationPopover:{maxHeight:300},toolbar:{position:"absolute",top:p.medium,right:p.medium}});c();var ln=x(O());c();var Lx=x(O(),1),jp=(0,Lx.createContext)({dragDropManager:void 0});c();var OO=x(Bx(),1);c();c();vM();function Yr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qy=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wx={INIT:"@@redux/INIT"+Qy(),REPLACE:"@@redux/REPLACE"+Qy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qy()}};function nL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jy(e,t,o){var n;if(typeof t=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Yr(0));if(typeof t=="function"&&typeof o>"u"&&(o=t,t=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Yr(1));return o(Jy)(e,t)}if(typeof e!="function")throw new Error(Yr(2));var r=e,i=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function d(){if(l)throw new Error(Yr(3));return i}function m(h){if(typeof h!="function")throw new Error(Yr(4));if(l)throw new Error(Yr(5));var C=!0;return u(),s.push(h),function(){if(C){if(l)throw new Error(Yr(6));C=!1,u();var k=s.indexOf(h);s.splice(k,1),a=null}}}function f(h){if(!nL(h))throw new Error(Yr(7));if(typeof h.type>"u")throw new Error(Yr(8));if(l)throw new Error(Yr(9));try{l=!0,i=r(i,h)}finally{l=!1}for(var C=a=s,w=0;w<C.length;w++){var k=C[w];k()}return h}function g(h){if(typeof h!="function")throw new Error(Yr(10));r=h,f({type:Wx.REPLACE})}function y(){var h,C=m;return h={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Yr(11));function I(){k.next&&k.next(d())}I();var _=C(I);return{unsubscribe:_}}},h[zx]=function(){return this},h}return f({type:Wx.INIT}),n={dispatch:f,subscribe:m,getState:d,replaceReducer:g},n[zx]=y,n}c();c();c();c();function ne(e,t,...o){if(rL()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;n=new Error(t.replace(/%s/g,function(){return o[r++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function rL(){return typeof process<"u"&&!0}c();function Vx(e,t,o){return t.split(".").reduce((n,r)=>n&&n[r]?n[r]:o||null,e)}function qx(e,t){return e.filter(o=>o!==t)}function Yp(e){return typeof e=="object"}function Fx(e,t){let o=new Map,n=i=>{o.set(i,o.has(i)?o.get(i)+1:1)};e.forEach(n),t.forEach(n);let r=[];return o.forEach((i,a)=>{i===1&&r.push(a)}),r}function Gx(e,t){return e.filter(o=>t.indexOf(o)>-1)}c();c();var xl="dnd-core/INIT_COORDS",os="dnd-core/BEGIN_DRAG",Ol="dnd-core/PUBLISH_DRAG_SOURCE",ns="dnd-core/HOVER",rs="dnd-core/DROP",is="dnd-core/END_DRAG";function ev(e,t){return{type:xl,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var iL={type:xl,payload:{clientOffset:null,sourceClientOffset:null}};function Hx(e){return function(o=[],n={publishSource:!0}){let{publishSource:r=!0,clientOffset:i,getSourceClientOffset:a}=n,s=e.getMonitor(),l=e.getRegistry();e.dispatch(ev(i)),aL(o,s,l);let u=lL(o,s);if(u==null){e.dispatch(iL);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");sL(a),d=a(u)}e.dispatch(ev(i,d));let f=l.getSource(u).beginDrag(s,u);if(f==null)return;cL(f),l.pinSource(u);let g=l.getSourceType(u);return{type:os,payload:{itemType:g,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!r}}}}function aL(e,t,o){ne(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){ne(o.getSource(n),"Expected sourceIds to be registered.")})}function sL(e){ne(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function cL(e){ne(Yp(e),"Item must be an object.")}function lL(e,t){let o=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){o=e[n];break}return o}c();function uL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function dL(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){uL(e,r,o[r])})}return e}function Xx(e){return function(o={}){let n=e.getMonitor(),r=e.getRegistry();mL(n),gL(n).forEach((a,s)=>{let l=pL(a,s,r,n),u={type:rs,payload:{dropResult:dL({},o,l)}};e.dispatch(u)})}}function mL(e){ne(e.isDragging(),"Cannot call drop while not dragging."),ne(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function pL(e,t,o,n){let r=o.getTarget(e),i=r?r.drop(n,e):void 0;return fL(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function fL(e){ne(typeof e>"u"||Yp(e),"Drop result must either be an object or undefined.")}function gL(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}c();function Kx(e){return function(){let o=e.getMonitor(),n=e.getRegistry();hL(o);let r=o.getSourceId();return r!=null&&(n.getSource(r,!0).endDrag(o,r),n.unpinSource()),{type:is}}}function hL(e){ne(e.isDragging(),"Cannot call endDrag while not dragging.")}c();c();function Du(e,t){return t===null?e===null:Array.isArray(e)?e.some(o=>o===t):e===t}function jx(e){return function(o,{clientOffset:n}={}){yL(o);let r=o.slice(0),i=e.getMonitor(),a=e.getRegistry(),s=i.getItemType();return bL(r,a,s),vL(r,i,a),CL(r,i,a),{type:ns,payload:{targetIds:r,clientOffset:n||null}}}}function yL(e){ne(Array.isArray(e),"Expected targetIds to be an array.")}function vL(e,t,o){ne(t.isDragging(),"Cannot call hover while not dragging."),ne(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){let r=e[n];ne(e.lastIndexOf(r)===n,"Expected targetIds to be unique in the passed array.");let i=o.getTarget(r);ne(i,"Expected targetIds to be registered.")}}function bL(e,t,o){for(let n=e.length-1;n>=0;n--){let r=e[n],i=t.getTargetType(r);Du(i,o)||e.splice(n,1)}}function CL(e,t,o){e.forEach(function(n){o.getTarget(n).hover(t,n)})}c();function Ux(e){return function(){if(e.getMonitor().isDragging())return{type:Ol}}}function Yx(e){return{beginDrag:Hx(e),publishDragSource:Ux(e),hover:jx(e),drop:Xx(e),endDrag:Kx(e)}}var Zp=class{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let t=this,{dispatch:o}=this.store;function n(i){return(...a)=>{let s=i.apply(t,a);typeof s<"u"&&o(s)}}let r=Yx(this);return Object.keys(r).reduce((i,a)=>{let s=r[a];return i[a]=n(s),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,o){this.isSetUp=!1,this.handleRefCountChange=()=>{let n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=o,t.subscribe(this.handleRefCountChange)}};c();c();function SL(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Zx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $x(e){let{clientOffset:t,initialClientOffset:o,initialSourceClientOffset:n}=e;return!t||!o||!n?null:Zx(SL(t,n),o)}function Qx(e){let{clientOffset:t,initialClientOffset:o}=e;return!t||!o?null:Zx(t,o)}c();var _l=[],$p=[];_l.__IS_NONE__=!0;$p.__IS_ALL__=!0;function Jx(e,t){return e===_l?!1:e===$p||typeof t>"u"?!0:Gx(t,e).length>0}var Qp=class{subscribeToStateChange(t,o={}){let{handlerIds:n}=o;ne(typeof t=="function","listener must be a function."),ne(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId,i=()=>{let a=this.store.getState(),s=a.stateId;try{s===r||s===r+1&&!Jx(a.dirtyHandlerIds,n)||t()}finally{r=s}};return this.store.subscribe(i)}subscribeToOffsetChange(t){ne(typeof t=="function","listener must be a function.");let o=this.store.getState().dragOffset,n=()=>{let r=this.store.getState().dragOffset;r!==o&&(o=r,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;let o=this.registry.getSource(t);return ne(o,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:o.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;let o=this.registry.getTarget(t);if(ne(o,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;let n=this.registry.getTargetType(t),r=this.getItemType();return Du(n,r)&&o.canDrop(this,t)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(t){if(!t)return!1;let o=this.registry.getSource(t,!0);if(ne(o,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;let n=this.registry.getSourceType(t),r=this.getItemType();return n!==r?!1:o.isDragging(this,t)}isOverTarget(t,o={shallow:!1}){if(!t)return!1;let{shallow:n}=o;if(!this.isDragging())return!1;let r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Du(r,i))return!1;let a=this.getTargetIds();if(!a.length)return!1;let s=a.indexOf(t);return n?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return $x(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Qx(this.store.getState().dragOffset)}constructor(t,o){this.store=t,this.registry=o}};c();c();c();c();c();var eO=typeof window<"u"?window:self,tO=eO.MutationObserver||eO.WebKitMutationObserver;function tv(e){return function(){let o=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(o),clearInterval(n),e()}}}function wL(e){let t=1,o=new tO(e),n=document.createTextNode("");return o.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}var oO=typeof tO=="function"?wL:tv;var Jp=class{enqueueTask(t){let{queue:o,requestFlush:n}=this;o.length||(n(),this.flushing=!0),o[o.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:t}=this;for(;this.index<t.length;){let o=this.index;if(this.index++,t[o].call(),this.index>this.capacity){for(let n=0,r=t.length-this.index;n<r;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=oO(this.flush),this.requestErrorThrow=tv(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};c();c();var ef=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,o){this.onError=t,this.release=o,this.task=null}};var tf=class{create(t){let o=this.freeTasks,n=o.length?o.pop():new ef(this.onError,r=>o[o.length]=r);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}};var nO=new Jp,kL=new tf(nO.registerPendingError);function rO(e){nO.enqueueTask(kL.create(e))}c();c();var Au="dnd-core/ADD_SOURCE",Bu="dnd-core/ADD_TARGET",zu="dnd-core/REMOVE_SOURCE",Qs="dnd-core/REMOVE_TARGET";function iO(e){return{type:Au,payload:{sourceId:e}}}function aO(e){return{type:Bu,payload:{targetId:e}}}function sO(e){return{type:zu,payload:{sourceId:e}}}function cO(e){return{type:Qs,payload:{targetId:e}}}c();function lO(e){ne(typeof e.canDrag=="function","Expected canDrag to be a function."),ne(typeof e.beginDrag=="function","Expected beginDrag to be a function."),ne(typeof e.endDrag=="function","Expected endDrag to be a function.")}function uO(e){ne(typeof e.canDrop=="function","Expected canDrop to be a function."),ne(typeof e.hover=="function","Expected hover to be a function."),ne(typeof e.drop=="function","Expected beginDrag to be a function.")}function of(e,t){if(t&&Array.isArray(e)){e.forEach(o=>of(o,!1));return}ne(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}c();var _r;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(_r||(_r={}));c();var xL=0;function dO(){return xL++}function OL(e){let t=dO().toString();switch(e){case _r.SOURCE:return`S${t}`;case _r.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function mO(e){switch(e[0]){case"S":return _r.SOURCE;case"T":return _r.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function pO(e,t){let o=e.entries(),n=!1;do{let{done:r,value:[,i]}=o.next();if(i===t)return!0;n=!!r}while(!n);return!1}var nf=class{addSource(t,o){of(t),lO(o);let n=this.addHandler(_r.SOURCE,t,o);return this.store.dispatch(iO(n)),n}addTarget(t,o){of(t,!0),uO(o);let n=this.addHandler(_r.TARGET,t,o);return this.store.dispatch(aO(n)),n}containsHandler(t){return pO(this.dragSources,t)||pO(this.dropTargets,t)}getSource(t,o=!1){return ne(this.isSourceId(t),"Expected a valid source ID."),o&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return ne(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return ne(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return ne(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return mO(t)===_r.SOURCE}isTargetId(t){return mO(t)===_r.TARGET}removeSource(t){ne(this.getSource(t),"Expected an existing source."),this.store.dispatch(sO(t)),rO(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){ne(this.getTarget(t),"Expected an existing target."),this.store.dispatch(cO(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){let o=this.getSource(t);ne(o,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=o}unpinSource(){ne(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,o,n){let r=OL(t);return this.types.set(r,o),t===_r.SOURCE?this.dragSources.set(r,n):t===_r.TARGET&&this.dropTargets.set(r,n),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}};c();c();c();var _L=(e,t)=>e===t;function fO(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function gO(e,t,o=_L){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!o(e[n],t[n]))return!1;return!0}function hO(e=_l,t){switch(t.type){case ns:break;case Au:case Bu:case Qs:case zu:return _l;case os:case Ol:case is:case rs:default:return $p}let{targetIds:o=[],prevTargetIds:n=[]}=t.payload,r=Fx(o,n);if(!(r.length>0||!gO(o,n)))return _l;let a=n[n.length-1],s=o[o.length-1];return a!==s&&(a&&r.push(a),s&&r.push(s)),r}c();function RL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function IL(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){RL(e,r,o[r])})}return e}var yO={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function vO(e=yO,t){let{payload:o}=t;switch(t.type){case xl:case os:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case ns:return fO(e.clientOffset,o.clientOffset)?e:IL({},e,{clientOffset:o.clientOffset});case is:case rs:return yO;default:return e}}c();function PL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Rl(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){PL(e,r,o[r])})}return e}var EL={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function bO(e=EL,t){let{payload:o}=t;switch(t.type){case os:return Rl({},e,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case Ol:return Rl({},e,{isSourcePublic:!0});case ns:return Rl({},e,{targetIds:o.targetIds});case Qs:return e.targetIds.indexOf(o.targetId)===-1?e:Rl({},e,{targetIds:qx(e.targetIds,o.targetId)});case rs:return Rl({},e,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case is:return Rl({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}c();function CO(e=0,t){switch(t.type){case Au:case Bu:return e+1;case zu:case Qs:return e-1;default:return e}}c();function SO(e=0){return e+1}function TL(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ML(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){TL(e,r,o[r])})}return e}function wO(e={},t){return{dirtyHandlerIds:hO(e.dirtyHandlerIds,{type:t.type,payload:ML({},t.payload,{prevTargetIds:Vx(e,"dragOperation.targetIds",[])})}),dragOffset:vO(e.dragOffset,t),refCount:CO(e.refCount,t),dragOperation:bO(e.dragOperation,t),stateId:SO(e.stateId)}}function kO(e,t=void 0,o={},n=!1){let r=LL(n),i=new Qp(r,new nf(r)),a=new Zp(r,i),s=e(a,t,o);return a.receiveBackend(s),a}function LL(e){let t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Jy(wO,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var af=x(O(),1);function NL(e,t){if(e==null)return{};var o=DL(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DL(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}var xO=0,rf=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),_O=(0,af.memo)(function(t){var{children:o}=t,n=NL(t,["children"]);let[r,i]=AL(n);return(0,af.useEffect)(()=>{if(i){let a=RO();return++xO,()=>{--xO===0&&(a[rf]=null)}}},[]),(0,OO.jsx)(jp.Provider,{value:r,children:o})});function AL(e){if("manager"in e)return[{dragDropManager:e.manager},!1];let t=BL(e.backend,e.context,e.options,e.debugMode),o=!e.context;return[t,o]}function BL(e,t=RO(),o,n){let r=t;return r[rf]||(r[rf]={dragDropManager:kO(e,t,o,n)}),r[rf]}function RO(){return window}c();c();c();c();var IO=x(kM(),1),cf=x(O(),1);c();var sf=x(O(),1),Rr=typeof window<"u"?sf.useLayoutEffect:sf.useEffect;function PO(e,t,o){let[n,r]=(0,cf.useState)(()=>t(e)),i=(0,cf.useCallback)(()=>{let a=t(e);(0,IO.default)(n,a)||(r(a),o&&o())},[n,e,o]);return Rr(i),[n,i]}function EO(e,t,o){let[n,r]=PO(e,t,o);return Rr(function(){let a=e.getHandlerId();if(a!=null)return e.subscribeToStateChange(r,{handlerIds:[a]})},[e,r]),n}function lf(e,t,o){return EO(t,e||(()=>({})),()=>o.reconnect())}c();var TO=x(O(),1);function uf(e,t){let o=[...t||[]];return t==null&&typeof e!="function"&&o.push(e),(0,TO.useMemo)(()=>typeof e=="function"?e():e,o)}c();var ov=x(O(),1);function MO(e){return(0,ov.useMemo)(()=>e.hooks.dragSource(),[e])}function LO(e){return(0,ov.useMemo)(()=>e.hooks.dragPreview(),[e])}c();var zO=x(O(),1);c();var nv=!1,rv=!1,df=class{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){ne(!nv,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return nv=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{nv=!1}}isDragging(){if(!this.sourceId)return!1;ne(!rv,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return rv=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{rv=!1}}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,o){return this.internalMonitor.isOverTarget(t,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}};c();var iv=!1,mf=class{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}canDrop(){if(!this.targetId)return!1;ne(!iv,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return iv=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{iv=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}};c();function NO(e,t,o){let n=o.getRegistry(),r=n.addTarget(e,t);return[r,()=>n.removeTarget(r)]}function DO(e,t,o){let n=o.getRegistry(),r=n.addSource(e,t);return[r,()=>n.removeSource(r)]}c();c();function Wu(e,t,o,n){let r=o?o.call(n,e,t):void 0;if(r!==void 0)return!!r;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;let i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;let s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){let u=i[l];if(!s(u))return!1;let d=e[u],m=t[u];if(r=o?o.call(n,d,m,u):void 0,r===!1||r===void 0&&d!==m)return!1}return!0}c();function Vu(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}c();var qu=x(O(),1);function zL(e){if(typeof e.type=="string")return;let t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function WL(e){return(t=null,o=null)=>{if(!(0,qu.isValidElement)(t)){let i=t;return e(i,o),i}let n=t;return zL(n),VL(n,o?i=>e(i,o):e)}}function pf(e){let t={};return Object.keys(e).forEach(o=>{let n=e[o];if(o.endsWith("Ref"))t[o]=e[o];else{let r=WL(n);t[o]=()=>r}}),t}function AO(e,t){typeof e=="function"?e(t):e.current=t}function VL(e,t){let o=e.ref;return ne(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?(0,qu.cloneElement)(e,{ref:n=>{AO(o,n),AO(t,n)}}):(0,qu.cloneElement)(e,{ref:t})}var ff=class{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){let t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){let t=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?t?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),o):(this.lastConnectedDragSource=t,o):o}reconnectDragPreview(t=!1){let o=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Wu(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Wu(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=pf({dragSource:(o,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Vu(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Vu(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}};c();var gf=class{get connectTarget(){return this.dropTarget}reconnect(){let t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();let o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Wu(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=pf({dropTarget:(o,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Vu(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}};c();var BO=x(O(),1);function Zr(){let{dragDropManager:e}=(0,BO.useContext)(jp);return ne(e!=null,"Expected drag drop context"),e}function WO(e,t){let o=Zr(),n=(0,zO.useMemo)(()=>new ff(o.getBackend()),[o]);return Rr(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),Rr(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}c();var VO=x(O(),1);function qO(){let e=Zr();return(0,VO.useMemo)(()=>new df(e),[e])}c();c();var yf=x(O(),1);c();var hf=class{beginDrag(){let t=this.spec,o=this.monitor,n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(o):n={},n!=null?n:null}canDrag(){let t=this.spec,o=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(o):!0}isDragging(t,o){let n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):o===t.getSourceId()}endDrag(){let t=this.spec,o=this.monitor,n=this.connector,{end:r}=t;r&&r(o.getItem(),o),n.reconnect()}constructor(t,o,n){this.spec=t,this.monitor=o,this.connector=n}};function FO(e,t,o){let n=(0,yf.useMemo)(()=>new hf(e,t,o),[t,o]);return(0,yf.useEffect)(()=>{n.spec=e},[e]),n}c();var GO=x(O(),1);function HO(e){return(0,GO.useMemo)(()=>{let t=e.type;return ne(t!=null,"spec.type must be defined"),t},[e])}function XO(e,t,o){let n=Zr(),r=FO(e,t,o),i=HO(e);Rr(function(){if(i!=null){let[s,l]=DO(i,r,n);return t.receiveHandlerId(s),o.receiveHandlerId(s),l}},[n,t,o,r,i])}function vf(e,t){let o=uf(e,t);ne(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let n=qO(),r=WO(o.options,o.previewOptions);return XO(o,n,r),[lf(o.collect,n,r),MO(r),LO(r)]}c();c();var KO=x(O(),1);function jO(e){return(0,KO.useMemo)(()=>e.hooks.dropTarget(),[e])}c();var UO=x(O(),1);function YO(e){let t=Zr(),o=(0,UO.useMemo)(()=>new gf(t.getBackend()),[t]);return Rr(()=>(o.dropTargetOptions=e||null,o.reconnect(),()=>o.disconnectDropTarget()),[e]),o}c();var ZO=x(O(),1);function $O(){let e=Zr();return(0,ZO.useMemo)(()=>new mf(e),[e])}c();c();var QO=x(O(),1);function JO(e){let{accept:t}=e;return(0,QO.useMemo)(()=>(ne(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}c();var Cf=x(O(),1);c();var bf=class{canDrop(){let t=this.spec,o=this.monitor;return t.canDrop?t.canDrop(o.getItem(),o):!0}hover(){let t=this.spec,o=this.monitor;t.hover&&t.hover(o.getItem(),o)}drop(){let t=this.spec,o=this.monitor;if(t.drop)return t.drop(o.getItem(),o)}constructor(t,o){this.spec=t,this.monitor=o}};function e_(e,t){let o=(0,Cf.useMemo)(()=>new bf(e,t),[t]);return(0,Cf.useEffect)(()=>{o.spec=e},[e]),o}function t_(e,t,o){let n=Zr(),r=e_(e,t),i=JO(e);Rr(function(){let[s,l]=NO(i,r,n);return t.receiveHandlerId(s),o.receiveHandlerId(s),l},[n,t,r,o,i.map(a=>a.toString()).join("|")])}function pi(e,t){let o=uf(e,t),n=$O(),r=YO(o.options);return t_(o,n,r),[lf(o.collect,n,r),jO(r)]}z();c();var Gu=4,Hu=p.medium,Xu=4,Ku=p.xlarge+p.small,av=p.large,Js=-p.large,Fu={[Ct]:-(Hu+Gu/2),[to]:-(Ku+Xu/2),[Bn]:-av},sv={[Ct]:Fu[Ct],[to]:Fu[to],[Bn]:Fu[Bn]},Sf=E.ICON_XS,ju=Js-E.BUTTON_S-p.small-Sf/2,o_=p.large+4,n_=p.large+8,r_=p.large+8,i_=28,a_=32,s_=34,fi=p.small;c();var _n=x(O());c();var O_=[{key:"youtube",title:"Youtube",icon:c_()},{key:"soundcloud",title:"Soundcloud",icon:l_()},{key:"loom",title:"Loom",icon:u_()},{key:"github",title:"GitHub Gist",icon:d_(),iconDark:m_()},{key:"framer",title:"Framer",icon:p_(),iconDark:f_()},{key:"codepen",title:"Codepen",icon:g_(),iconDark:h_()},{key:"dribbble",title:"Dribbble",icon:y_()},{key:"trello",title:"Trello",icon:v_()},{key:"typeform",title:"Typeform",icon:b_(),iconDark:C_()},{key:"google-docs",title:"Google Docs",icon:S_()},{key:"google-sheets",title:"Google Sheets",icon:w_()},{key:"google-slides",title:"Google Slides",icon:k_()},{key:"google-form",title:"Google Forms",icon:x_()}];c();var Hi=x(O());z();c();var Oa=x(O());var _a=kp(e=>e.isPDF?{width:793.92,height:1123.2}:{width:750,height:500},{height:!1}),cv={contentReferenceContext:{},uploadFiles:()=>{throw new Error("uploadFiles is not implemented, it should be passed as a prop to the ContentEditor component")},updateFile:()=>{throw new Error("updateFile is not implemented, it should be passed as a prop to the ContentEditor component")},logAnalyticsEvent:()=>{},blockLayoutComponent:({children:e})=>Oa.createElement(Oa.Fragment,null,e),integrationBlocksRemote:Hp(()=>{throw new Error("not implemented")}),integrationBlocks:{}},ie=Oa.createContext(cv),$r=Oa.createContext({sections:Wc(),active:null,selected:null,setActive:()=>{}}),as=Oa.createContext("left"),jn=Oa.createContext("root");function __(e){let{onInsert:t,onClose:o}=e,{logAnalyticsEvent:n}=Hi.useContext(ie),[r,i]=Hi.useState(""),a=Gr(r),s=()=>{if(!a)return;let l=Mc(r);t(xm.createEmbedBlock(l)),n({type:"edit_page_document_insert_block",blockType:An,embedHostname:new URL(l).hostname})};return Hi.createElement(wt,{title:"Embed a URL",subtitle:"Insert a URL to embed a live preview. Works with YouTube, Google Drive, Vimeo, and more.",onClose:o,footer:Hi.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},Hi.createElement(D,{kind:"secondary",onPress:o,style:p.Margin.smallRight},"Cancel"),Hi.createElement(D,{kind:"primary",disabled:!a,onPress:s},"Insert"))},Hi.createElement(Kt,{autoFocus:!0,label:"URL",value:r,onChangeText:i,onSubmit:s,placeholder:"Paste a URL or type it",feedback:a||!r?{type:"none"}:{type:"danger"}}))}c();var rt=x(O());z();c();var uv=x(O());c();var gi=Xr({getValue:async([e,t,o])=>{let n=[];return!e||!K1(e,t)?[null,n,!1]:await hu(async()=>[await ky(e,t,{getDocument:i=>(n.some(a=>aa(a)===aa(i))||n.push(i),Gs.readAsync(i)),getCollection:i=>(n.some(a=>aa(i)===aa(a))||n.push(i),Gs.readAsync(i))}),n,!1],[null,n,!0])},toJS(e){return[e[0],e[1].map(jh),e[2]]},fromJS(e){return[e[0],e[1].map(Uh),e[2]]}}),wf=Xr({getValue:async([e,t])=>{let o=[];return await hu(async()=>[await pp(e,t,{getDocument:r=>(o.some(i=>aa(i)===aa(r))||o.push(r),Gs.readAsync(r)),getCollection:r=>(o.some(i=>aa(r)===aa(i))||o.push(r),Gs.readAsync(r))}),o,!1],[null,o,!0])},toJS(e){return[e[0],e[1].map(jh),e[2]]},fromJS(e){return[e[0],e[1].map(Uh),e[2]]}});c();var Xi=x(O());c();var R_=Ym("0dc87861cc2f97f4b8aa90517de6c6f7d7add292c36eff9ffb4a127ad3126faa",()=>import("https://app.gitbook.com/public/app/chunks/ShareModalBody.lazycomponent.legacy-LGMFADHY.min.js"));function I_(e){let{selectedTab:t,changeSelectedTab:o,opened:n,close:r}=ox(ew);return Xi.createElement(st,null,n?Xi.createElement(wt,{size:"xlarge",onClose:r},Xi.createElement(Xi.Suspense,{fallback:Xi.createElement(s1,{sidebar:Xi.createElement(Xt,{size:"large"})},Xi.createElement(Xt,{size:"large"}))},Xi.createElement(R_,{tab:t||"invite",onChangeTab:o,...e}))):null)}c();function P_(e,t,o=void 0){switch(t){case"light":case"dark":return{...e,color:t};case"none":return e;case"bold":return{...e,color:hp(o||j.PRIMARY)};default:Oe(t)}}var gJ={none:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1})}),light:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})};c();var kf=x(O());function ss(){let{navigate:e,getNavigationURL:t,getNavigationLinkProps:o}=we();return kf.useMemo(()=>{let r=(l,u)=>{let d=He(l,u);if(d!==null)return t({current:lv(d)})},i=(l,u)=>{let d=He(l,u);if(d!==null)return o({current:lv(d)})},a=(l,u={})=>{let{replace:d=!1}=u;e({current:lv(l,u)},{replace:d})};return{getNavigationHref:r,getNavigationProps:i,navigateToPagePath:a,navigateToPage:(l,u,d)=>{let m=He(l,u);m!==null&&a(m,d)}}},[e])}function lv(e,t={}){let{preserveSideSheet:o=!1,preserveComments:n=!0,sideSheet:r}=t;return i=>({page:e,...!o&&!r?{sideSheet:void 0}:{},...r?{sideSheet:r}:{},comments:n&&i.type==="space"&&i.comments?{...i.comments,node:void 0}:void 0})}function E_(e){let{to:t}=e;return kf.createElement(ap,{to:{screen:{page:t,comments:void 0,sideSheet:void 0}}})}function cn(e,t,o={}){let{document:n,...r}=t,{space:i,revision:a}=t,{withSearch:s=!0,accept:l=["url","user","anchor","page","space","collection","file"],position:u}=o,d=[];return l.includes("url")&&d.push({key:"url",commands:m=>{let{text:f}=m.query;if(!f||!qa(f))return[];let g=Mm(f);if(g){let[y]=wf.read([g,r]),[h]=gi.read([y,r]);if(y&&h)return[{key:f,title:h.text,icon:S.ArrowUpRight,trigger:()=>{e(y)}}]}return[{key:f,title:`Link to "${f}"`,icon:S.Link,trigger:()=>{e({kind:"url",url:f})}}]}}),l.includes("anchor")&&n&&d.push({key:"anchors",commands:()=>M_(n,{},e)}),l.includes("page")&&i&&a&&d.push(T_(i,a,e,{accept:l,withSearch:s,targetCurrentSpace:!0})),l.includes("space")&&d.push({key:"spaces",commands:m=>wa.read({query:m.query.text,types:["spaces"]}).map(g=>{if(g.index!=="spaces")return null;let y=g.object.objectID,[h]=rl([ho(y)]);return h?{key:y,icon:({size:C})=>uv.createElement(mp,{space:g.object,size:C}),title:g.object.title,trigger:()=>{e({kind:"space",space:y})},descendant:l.includes("page")?()=>({...oe({search:"Select page\u2026",groups:[T_(y,h.revision,e,{accept:l,withSearch:s,targetCurrentSpace:y===i})]}),...s?{}:{search:void 0}}):void 0}:null}).filter(he)}),l.includes("collection")&&d.push({key:"collections",commands:m=>wa.read({query:m.query.text,types:["collections"]}).map(g=>g.index!=="collections"?null:{key:g.object.objectID,title:g.object.title,trigger:()=>{e({kind:"collection",collection:g.object.objectID})}}).filter(he)}),l.includes("user")&&d.push({key:"users",commands:m=>wa.read({query:m.query.text,hitsPerPage:8,types:["users"]}).map(g=>g.index!=="users"?null:{key:g.object.objectID,icon:({size:y})=>uv.createElement(ka,{user:g.object,size:y}),title:g.object.displayName,subtitle:g.object.email,trigger:()=>{e({kind:"user",user:g.object.objectID})}}).filter(he)}),oe({search:s?"Type url or reference\u2026":void 0,groups:d,position:u})}function r9(e,t,o,n){return oe({search:"Select page or heading\u2026",groups:[{key:"page",commands:[{key:"pick",title:`Link to "${t.title}"`,icon:S.Page,trigger:()=>{o({kind:"page",page:t.key,space:n.targetCurrentSpace?void 0:e})}}]},{key:"anchors",commands:()=>i9(e,t,{page:t.key,space:n.targetCurrentSpace?void 0:e},o)}]})}function T_(e,t,o,n){let{accept:r,withSearch:i,targetCurrentSpace:a}=n;return{key:"space",commands:()=>{let s=P1({space:e,revision:t});return s?Object.values(s.pages).filter(l=>l.kind!=="link").map(l=>({key:l.key,title:l.title,subtitle:He(s,l.key),icon:l.kind==="group"?S.AddPageGroup:S.Page,trigger:()=>{o({kind:"page",page:l.key,space:n.targetCurrentSpace?void 0:e})},descendant:r&&r.includes("anchor")&&l.kind==="sheet"?()=>({...r9(e,l,o,{targetCurrentSpace:a}),...i?{}:{search:void 0}}):void 0})):[]}}}function i9(e,t,o,n){if(!t.sheet)return[];let[r]=Fy([{spaceKey:e,sheetKey:t.sheet}]);if(!r)return[];let{document:i}=Fc(r.body);return M_(i,o,n)}function M_(e,t,o){return Vc(e).filter(r=>!!r.anchor).map(r=>{let i=(()=>{switch(r.type){case Me:return S.Heading1;case Ne:return S.Heading2;case Xe:return S.Heading3;case qo:return S.Swagger;case Li:return S.BlockExpandable;case Bn:case Cn:return S.Tabs;case null:return S.Hash;default:Oe(r.type)}})();return{key:r.key,icon:i,title:r.title,trigger:()=>{o({kind:"anchor",anchor:r.anchor,...t})}}})}c();var Pl=x(O());c();var ec=x(O());z();function Il(e){let{file:t,size:o=E.ICON_M}=e,[,n]=R(s9);return ec.createElement(b,{style:[n.fileTileIcon,{width:o,height:o}]},t&&Fa(t)?ec.createElement(Po,{style:n.fileTilePreview,source:{uri:di(t.downloadURL,{width:o})},accessibilityLabel:t.name}):ec.createElement(a9,{file:t,size:o*.65}))}function a9(e){let{file:t,...o}=e;return t?Gc(t)?ec.createElement(S.Swagger,{...o}):ec.createElement(S.Paperclip,{...o}):ec.createElement(S.Trashcan,{...o})}var s9=L.create({fileTileIcon:e=>({backgroundColor:e.colors.background.muted,color:e.colors.text.muted,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:E.RADIUS_M}),fileTilePreview:{width:"100%",height:"100%",resizeMode:"cover",borderRadius:E.RADIUS_M,objectFit:"contain"}});function dv(e,t={}){let{navigate:o,getNavigationURL:n}=we(),[r,i]=Pl.useState(""),a=e.map(d=>[d,t,r]),s=gi.readMultiple(a),l=gi.readCacheUpdatesKey(a),u=S1(s.map(d=>d[1]).flat());return Pl.useEffect(()=>{i(u)},[u]),Pl.useMemo(()=>s.map(([d,m,f],g)=>{let y=e[g];return d?{title:d.text,icon:c9(y,d),secondaryIcon:l9(y,d),secondaryIconDescription:u9(y,d),href:typeof d.target=="string"?d.target:n({screen:d.target}),open:()=>{typeof d.target=="string"?op(d.target):o({screen:d.target})},resolution:d}:{title:f?"Access denied":"Broken link",icon:void 0,href:"",open:()=>{}}}),[l,n,o])}function Un(e,t={}){return dv(e?[e]:[],t)[0]||{title:"Broken link",icon:null,href:"",open:()=>{}}}function c9(e,t){var o,n,r,i;if(e.kind==="url")return S.ExternalLink;if((o=t.extra)!=null&&o.user)return Ke(ka,{user:t.extra.user});if((n=t.extra)!=null&&n.file)return Ke(Il,{file:t.extra.file});if((r=t.extra)!=null&&r.space)return Ke(mp,{space:t.extra.space});if((i=t.extra)!=null&&i.page&&t.extra.page.emoji)return Ke(bo,{code:t.extra.page.emoji})}function l9(e,t){switch(e.kind){case"user":return S.AtSign;case"anchor":return S.Hash;case"page":return S.Page;case"space":return S.Space;case"collection":return S.Collection;case"url":return S.ExternalLink}}function u9(e,t){switch(e.kind){case"user":return"User mention";case"anchor":return"Link to a page's anchor";case"page":return"Link to a page";case"space":return"Link to a space";case"collection":return"Link to a acollection";case"url":return"External URL"}}function xf(e){let{label:t,labelDescription:o,value:n,onChangeValue:r,placeholder:i,context:a={},accept:s,size:l="large",disabled:u=!1}=e,[d,m]=rt.useState(!1),[f,g]=rt.useState(!1),[y,h]=rt.useState(""),C=rt.useRef(null),w=rt.useRef(null),[,k]=R(m9),I=ae(C);rt.useEffect(()=>{if(!y||!d||d&&!f){I.close();return}I.opened?I.typeQuery(y):I.open(Ya(cn(M=>{r(M),g(!1),w.current&&w.current.blur()},a,{withSearch:!1,position:{width:"anchor"},accept:s}),y))},[y,d]),rt.useEffect(()=>{d&&w.current&&w.current.focus()},[d]);let _=M=>{h(M),g(!0)},P=()=>{y||(g(!1),r()),qa(y)&&(r({kind:"url",url:y}),g(!1)),m(!1)};return rt.createElement(b,null,t?rt.createElement(b,{style:p.Margin.smallBottom},rt.createElement(Qc,null,t),o?rt.createElement(b,{style:p.Margin.xsmallTop},rt.createElement($m,null,o)):null):null,d||!n?rt.createElement(Kt,{testID:"contentRef.input",ref:w,wrapperRef:C,size:l,value:y,onChangeText:_,onBlur:P,onFocus:()=>m(!0),placeholder:i,disabled:u}):rt.createElement(Te,{testID:"contentRef.fakeInput",onPress:()=>m(!0),style:[k.input,t1[l],v.directionRow,v.alignCenter]},rt.createElement(rt.Suspense,{fallback:rt.createElement(Se,{size:E.ICON_S})},rt.createElement(d9,{value:n,context:a,size:l}))))}function d9(e){let{value:t,context:o,size:n}=e,[,r]=R(N),i=Un(t,o);return rt.createElement(b,{style:[v.flex1,v.directionRow,v.alignCenter]},i.icon?rt.createElement(b,{style:[p.Margin.smallRight]},rt.createElement(i.icon,{size:E.ICON_S,style:r.textMuted})):null,rt.createElement(b,{style:[v.flex1]},rt.createElement(xn,{style:[e1[n],r.text],testID:"contentRef.resolvedTitle"},i.title)))}var m9=L.create({input:e=>({backgroundColor:e.colors.background.main,borderWidth:1,borderColor:e.colors.border.main})});c();var Of=x(O());var Uu=Of.forwardRef(function(t,o){let{contentRef:n,space:r,revision:i,style:a,kind:s="default",...l}=t,u=Un(n,{space:i.space,revision:i.key});return Of.createElement(Vi,{ref:o,url:u.href,onPress:d=>{d.nativeEvent.metaKey||d.nativeEvent.ctrlKey||(d.preventDefault(),u.open())},kind:s,sameWebTab:!1,style:[ro.Body,ro.SemiBold,a],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:t.title,...l},t.title)});c();async function L_(e,t={}){let[o]=await gi.readAsync([e,t]);return{uri:o==null?void 0:o.target}}function _f(e,t={}){var r,i,a,s;let o=Un(e,t);if(!o.href)return null;let n=(i=(r=o.resolution)==null?void 0:r.extra)==null?void 0:i.file;return{uri:o.href,width:(a=n==null?void 0:n.dimensions)==null?void 0:a.width,height:(s=n==null?void 0:n.dimensions)==null?void 0:s.height}}c();function cs(e,t){return{href:e.href,onPress:o=>{if(t&&t(o),o){if(o.isDefaultPrevented()||o.nativeEvent.metaKey||o.nativeEvent.ctrlKey)return;o.preventDefault()}e.open()}}}c();var pv=x(O());function N_(e){let{block:t,style:o,size:n=E.ICON_M}=e;return t.icon?pv.createElement(Po,{source:{uri:di(t.icon,{width:n})},style:[{width:n,height:n,borderRadius:n/8}]}):pv.createElement(S.Integrations,{size:n,style:o})}c();c();var Yn=x(O());c();var Tl=x(O());c();var so=x(O());z();c();var Rf=x(O());z();function D_(e){let{description:t,readOnly:o,blockProps:n}=e,{node:r}=n;return!t||o&&"fragment"in t&&yr(r.fragments.get(t.fragment))?null:Rf.createElement(b,{style:p.Margin.mediumTop},"text"in t?Rf.createElement(el,{markdown:t.text}):Rf.createElement(On,{fragment:t.fragment}))}c();var Yu=x(O());z();c();var tc={get:j.primary.base,post:j.green.base,put:j.orange.base,options:j.violet.base,head:j.orange.base,delete:j.scarlet.base,patch:j.orange.base,connect:j.orange.base,trace:j.orange.base};var p9=X.createResponsiveComponent(Wn);function If(e){let{readOnly:t,method:o,setMethod:n}=e,[,r]=R(N),[,i]=R(f9),a=Yu.default.useRef(null),s=ae(a),l=oe({groups:[{key:"methods",commands:ll.map(m=>({key:m,title:m.toUpperCase(),trigger:()=>{n&&n(m)}}))}]}),u=()=>{s.open(l)},d=Yu.default.createElement(p9,{style:i.badge,backgroundColor:tc[o]||j.orange.base,mobileStyle:[i.mobileMethodBadge],desktopStyle:[i.httpMethodBadge]},Yu.default.createElement(X.Text,{desktopStyle:[r.GroupTitle,r.Bold],mobileStyle:[r.MobileCaption,r.Bold],style:[r.textInsideColor,r.Bold,r.Uppercase]},o));return t?d:Yu.default.createElement(Te,{ref:a,onPress:u},d)}var f9=L.create({badge:{width:"fit-content"},httpMethodBadge:{borderRadius:E.XS,height:E.XS,paddingHorizontal:p.small,justifyContent:"center"},mobileMethodBadge:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:p.small,justifyContent:"center"}});var A_=X.createResponsiveComponent(B.View),g9=X.createResponsiveComponent(B.View.Child);function B_(e){let{readOnly:t,blockProps:o,baseUrl:n,summary:r,path:i,method:a,description:s,opened:l,setOpened:u}=e,{node:d,editor:m}=o,[,f]=R(N),g=so.default.useRef(),y=so.default.useRef(),h=so.default.useRef();function C(){u(!l)}let w=B.useInteractiveComponent(l?S.ChevronDown:S.ChevronRight);return so.default.createElement(b,{style:[v.directionColumn,v.flex1,p.Padding.smallBottom]},so.default.createElement(X.View,{style:[v.alignCenter,p.Padding.medium,v.wrap],mobileStyle:v.flex1,desktopStyle:v.directionRow},so.default.createElement(B.TouchableOpacity,{style:p.Padding.mediumRight,onPress:C},so.default.createElement(w.Child,{size:E.ICON_M,style:f.textMuted,activeStyle:f.primary})),so.default.createElement(b,{style:[p.Margin.mediumRight]},so.default.createElement(If,{readOnly:t,method:a,setMethod:k=>{m.change(I=>{ve.setMethod(I,d.key,k)})}})),so.default.createElement(A_,{style:[v.wrap],mobileStyle:[v.flex1]},so.default.createElement(Sr,{ref:g,component:xa,value:n,placeholder:"https://api.gitbook.com/v1",onChangeText:k=>{m.change(I=>{ve.setBaseUrl(I,d.key,k)})},style:[f.Label,f.textMuted,Pf.breakWord],selectTextOnFocus:!0,readOnly:t,onSubmitEditing:()=>{y.current&&y.current.focus()}})),so.default.createElement(A_,{style:[v.directionRow],mobileStyle:[Pf.mobileEndpoint,p.Padding.xsmallTop]},so.default.createElement(Sr,{ref:y,component:xa,value:i,placeholder:"/users",onChangeText:k=>{m.change(I=>{ve.setPath(I,d.key,k)})},style:[f.Label,f.text,f.Bold,Pf.breakWord],selectTextOnFocus:!0,readOnly:e.readOnly,onSubmitEditing:()=>{h.current&&h.current.focus()}}),so.default.createElement(g9,{style:[p.Margin.xsmallLeft,ce.hidden],hoverStyle:[ce.visible],mobileStyle:{display:"none"}},so.default.createElement(jm,{size:"xsmall",content:`${n}${i}`})))),so.default.createElement(b,{style:Pf.headerBody},so.default.createElement(b,null,so.default.createElement(Sr,{ref:h,component:xa,value:r,placeholder:"Operation summary",onChangeText:k=>{m.change(I=>{ve.setSummary(I,d.key,k)})},style:[f.Heading3,f.text],readOnly:t,displayMode:"block",onSubmitEditing:()=>{m.change(k=>{if(l&&s&&"fragment"in s){let I=d.fragments.get(s.fragment);I&&k.collapseToStartOf(I)}else St(k,d);k.focus()})}})),l?so.default.createElement(D_,{readOnly:t,description:s,blockProps:o}):null))}var Pf=F.create({breakWord:{wordWrap:"anywhere"},mobileEndpoint:{paddingLeft:p.medium+E.ICON_M,flexBasis:"100%",flexGrow:1},headerBody:{paddingLeft:p.medium+E.ICON_M+p.medium}});c();var td=x(O());z();c();var Zu=x(O());z();function z_(e){let{blockProps:t}=e,{editor:o,node:n}=t,r=Zu.useRef(null),i=ae(r),a=oe({groups:[{key:"parameters",commands:fv.map(({location:l,title:u,description:d})=>({key:l,title:u,subtitle:d,trigger:()=>{o.change(m=>{ve.addParameter(m,n.key,l)})}}))}]}),s=()=>{i.open(a)};return Zu.createElement(b,null,Zu.createElement(D,{ref:r,title:"Add Parameter",icon:i.opened?S.X:S.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>s()}))}var fv=[{location:"path",title:"Path",description:"Params in the URL path"},{location:"query",title:"Query",description:"Params in the query string"},{location:"header",title:"Header",description:"Params sent in headers"},{location:"cookie",title:"Cookie",description:"Params set via cookie"},{location:"body",title:"Body",description:"Params passed in body"}];c();var ed=x(O());z();c();var co=x(O());z();c();var Go=x(O());z();c();var K_=x(O());c();c();c();c();function gv(e){let t=null;return()=>(t==null&&(t=e()),t)}function W_(e,t){return e.filter(o=>o!==t)}function V_(e,t){let o=new Set,n=i=>o.add(i);e.forEach(n),t.forEach(n);let r=[];return o.forEach(i=>r.push(i)),r}var Ef=class{enter(t){let o=this.entered.length,n=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(t));return this.entered=V_(this.entered.filter(n),[t]),o===0&&this.entered.length>0}leave(t){let o=this.entered.length;return this.entered=W_(this.entered.filter(this.isNodeInDocument),t),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}};c();c();var Tf=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){let o={};Object.keys(this.config.exposeProperties).forEach(n=>{let r=this.config.exposeProperties[n];r!=null&&(o[n]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,o){return o===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}};c();var $u={};jC($u,{FILE:()=>hv,HTML:()=>bv,TEXT:()=>vv,URL:()=>yv});c();var hv="__NATIVE_FILE__",yv="__NATIVE_URL__",vv="__NATIVE_TEXT__",bv="__NATIVE_HTML__";c();function Mf(e,t,o){let n=t.reduce((r,i)=>r||e.getData(i),"");return n!=null?n:o}var Lf={[hv]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[bv]:{exposeProperties:{html:(e,t)=>Mf(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[yv]:{exposeProperties:{urls:(e,t)=>Mf(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[vv]:{exposeProperties:{text:(e,t)=>Mf(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function q_(e,t){let o=Lf[e];if(!o)throw new Error(`native type ${e} has no configuration`);let n=new Tf(o);return n.loadDataTransfer(t),n}function Nf(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(Lf).filter(o=>{let n=Lf[o];return n!=null&&n.matchesTypes?n.matchesTypes.some(r=>t.indexOf(r)>-1):!1})[0]||null}c();c();var F_=gv(()=>/firefox/i.test(navigator.userAgent)),Cv=gv(()=>Boolean(window.safari));c();var Qu=class{interpolate(t){let{xs:o,ys:n,c1s:r,c2s:i,c3s:a}=this,s=o.length-1;if(t===o[s])return n[s];let l=0,u=a.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));let g=o[d];if(g<t)l=d+1;else if(g>t)u=d-1;else return n[d]}s=Math.max(0,u);let m=t-o[s],f=m*m;return n[s]+r[s]*m+i[s]*f+a[s]*m*f}constructor(t,o){let{length:n}=t,r=[];for(let y=0;y<n;y++)r.push(y);r.sort((y,h)=>t[y]<t[h]?-1:1);let i=[],a=[],s=[],l,u;for(let y=0;y<n-1;y++)l=t[y+1]-t[y],u=o[y+1]-o[y],a.push(l),i.push(u),s.push(u/l);let d=[s[0]];for(let y=0;y<a.length-1;y++){let h=s[y],C=s[y+1];if(h*C<=0)d.push(0);else{l=a[y];let w=a[y+1],k=l+w;d.push(3*k/((k+w)/h+(k+l)/C))}}d.push(s[s.length-1]);let m=[],f=[],g;for(let y=0;y<d.length-1;y++){g=s[y];let h=d[y],C=1/a[y],w=h+d[y+1]-g-g;m.push((g-h-w)*C),f.push(w*C*C)}this.xs=t,this.ys=o,this.c1s=d,this.c2s=m,this.c3s=f}};var h9=1;function Sv(e){let t=e.nodeType===h9?e:e.parentElement;if(!t)return null;let{top:o,left:n}=t.getBoundingClientRect();return{x:n,y:o}}function Ju(e){return{x:e.clientX,y:e.clientY}}function y9(e){var t;return e.nodeName==="IMG"&&(F_()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function v9(e,t,o,n){let r=e?t.width:o,i=e?t.height:n;return Cv()&&e&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function G_(e,t,o,n,r){let i=y9(t),s=Sv(i?e:t),l={x:o.x-s.x,y:o.y-s.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:m,anchorY:f}=n,{dragPreviewWidth:g,dragPreviewHeight:y}=v9(i,t,u,d),h=()=>{let M=new Qu([0,.5,1],[l.y,l.y/d*y,l.y+y-d]).interpolate(f);return Cv()&&i&&(M+=(window.devicePixelRatio-1)*y),M},C=()=>new Qu([0,.5,1],[l.x,l.x/u*g,l.x+g-u]).interpolate(m),{offsetX:w,offsetY:k}=r,I=w===0||w,_=k===0||k;return{x:I?w:C(),y:_?k:h()}}c();var Df=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,o){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=o}};function b9(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function H_(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){b9(e,r,o[r])})}return e}var Af=class{profile(){var t,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){let t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,o,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,o),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,o,n){this.sourceNodes.set(t,o),this.sourceNodeOptions.set(t,n);let r=a=>this.handleDragStart(a,t),i=a=>this.handleSelectStart(a);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",r),o.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),o.removeEventListener("dragstart",r),o.removeEventListener("selectstart",i),o.setAttribute("draggable","false")}}connectDropTarget(t,o){let n=a=>this.handleDragEnter(a,t),r=a=>this.handleDragOver(a,t),i=a=>this.handleDrop(a,t);return o.addEventListener("dragenter",n),o.addEventListener("dragover",r),o.addEventListener("drop",i),()=>{o.removeEventListener("dragenter",n),o.removeEventListener("dragover",r),o.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let t=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(t);return H_({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let t=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(t);return H_({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){let t=this.monitor.getItemType();return Object.keys($u).some(o=>$u[o]===t)}beginDragNativeItem(t,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=q_(t,o),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;let o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,o){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(t,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(t,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(t,o){this.dropTargetIds.unshift(o)}constructor(t,o,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{let i=this.sourceNodes.get(r);return i&&Sv(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>Boolean(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{let r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;let{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;let a=Ju(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});let{dataTransfer:s}=r,l=Nf(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let d=this.monitor.getSourceId(),m=this.sourceNodes.get(d),f=this.sourcePreviewNodes.get(d)||m;if(f){let{anchorX:g,anchorY:y,offsetX:h,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),I=G_(m,f,a,{anchorX:g,anchorY:y},{offsetX:h,offsetY:C});s.setDragImage(f,I.x,I.y)}}try{s==null||s.setData("application/json",{})}catch(d){}this.setCurrentDragSourceNode(r.target);let{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(s&&!s.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;let{dataTransfer:s}=r,l=Nf(s);l&&this.beginDragNativeItem(l,s)},this.handleTopDragEnter=r=>{let{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Ju(r)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{let{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=Ju(r),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else Nf(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{let{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Ju(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{let i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new Df(o,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Ef(this.isNodeInDocument)}};c();var Bf;function wv(){return Bf||(Bf=new Image,Bf.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Bf}var X_=function(t,o,n){return new Af(t,o,n)};function j_(e){return K_.createElement(_O,{backend:X_},e.children)}c();function U_(e){switch(e.type){case"space":return{kind:"space",space:e.id};case"collection":return{kind:"collection",collection:e.id};case"page":return{kind:"page",space:e.space,page:e.id};case"block":case"tab":case"swagger-response":case"swagger-parameter":throw new Error(`Invalid DND item "${e.type}"`);default:Oe(e)}}c();var Y_=x(O());function Ki(e,t){let[o,n,r]=vf(e,t);return(0,Y_.useEffect)(()=>{r(wv(),{captureDraggingState:!0})},[r]),[o,n,r]}var Z_=B.createInteractiveHandle("swagger-row");function zf(e){var q,G;let{dragItem:t,columns:o,isLast:n,children:r,palette:i,onDropBefore:a,onDropAfter:s,onInsertBefore:l,onInsertAfter:u,readOnly:d,opened:m,setOpened:f,node:g,ancestors:y}=e,[,h]=R(C9),C=El({node:g,ancestors:y}),[{dragging:w},k]=Ki({type:t.type,item:t,canDrag:()=>!e.readOnly,collect:Y=>({dragging:Y.isDragging()})}),[I,_]=pi({accept:t.type,drop:(Y,U)=>{U.didDrop()||a(Y)},canDrop:Y=>t.id!==Y.id&&t.blockKey===Y.blockKey,collect:Y=>({highlighted:Y.isOver()&&Y.canDrop()})}),[P,M]=pi({accept:t.type,drop:(Y,U)=>{U.didDrop()||s(Y)},canDrop:Y=>t.id!==Y.id&&t.blockKey===Y.blockKey,collect:Y=>({highlighted:Y.isOver()&&Y.canDrop()})}),T=Go.useRef(null),W=Ga(T,k),H=ae(T);return Go.createElement(b,null,Go.createElement(b,null,Go.createElement(B.View,{handle:Z_,style:[v.directionRow,v.alignCenter,p.Padding.largeRight,w?ce.translucent:ce.visible]},d?null:Go.createElement(X.View,{style:[v.justifyContentCenter,(q=C.controlsButton)==null?void 0:q.style],mobileStyle:"hidden"},Go.createElement(B.View.Child,{descendantOf:Z_,activeStyle:ce.visible,inactiveStyle:H.opened?{}:ce.hidden},Go.createElement(D,{ref:W,icon:S.GrabberVertical,size:(G=C.controlsButton)==null?void 0:G.size,rounded:!0,kind:"secondary",title:`Click for options.
Drag to move.`,onPress:()=>{H.open(i())}}))),Go.createElement(X.View,{style:[v.flex1,v.directionRow],mobileStyle:[v.wrap,v.alignStart,p.Padding.smallVertical],desktopStyle:[v.alignStart,p.Padding.mediumVertical]},o.map((Y,U)=>Go.createElement(X.View,{key:U,style:[p.Padding.smallRight],desktopStyle:[Y.desktopSize],mobileStyle:[h.columnResetWidth,Y.mobileSize]},Y.content))),r&&f?Go.createElement(b,{style:[p.Margin.mediumLeft]},Go.createElement(D,{icon:m?S.ChevronDown:S.ChevronRight,onPress:()=>f(!m)})):null),m?Go.createElement(b,null,r):null,n?null:Go.createElement(b,{style:h.borderLine})),d?null:Go.createElement(Tu,{ref:_,position:"top",dropHovered:I.highlighted,button:{kind:"secondary",icon:S.Plus,onPress:l}}),n&&!d?Go.createElement(Tu,{ref:M,position:"bottom",dropHovered:P.highlighted,button:{kind:"secondary",icon:S.Plus,onPress:u}}):null)}var C9=L.create({borderLine:e=>({height:1,backgroundColor:e.colors.border.muted}),controlButtonWrapper:{position:"absolute",top:0,bottom:0,left:-E.BUTTON_S/2,width:E.BUTTON_S},columnResetWidth:{width:"auto"}});c();var oc=x(O());z();function Wf(e){let{title:t,button:o,children:n}=e,[,r]=R(N);return oc.createElement(b,{style:p.Margin.largeTop},oc.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.mediumBottom]},oc.createElement(b,{style:v.flex1},oc.createElement(A,{style:[r.Heading3,r.text]},t)),o?oc.createElement(b,{style:p.Padding.smallHorizontal},o):null),oc.createElement(b,null,n))}function Vf(e){let{readOnly:t,blockProps:o,parameter:n,isLast:r,beforeOrderIndex:i,afterOrderIndex:a}=e,{node:s,editor:l}=o,[,u]=R(N),d=co.useRef(),m={id:n.key,type:"swagger-parameter",blockKey:s.key,previewLabel:"Move parameter"},{name:f="",type:g="",required:y,description:h,properties:C={},items:w}=n.value,[,k]=R(k9),[I,_]=co.useState(!1),P=Object.keys(C).length,M=P>0||!!w,T=s.fragments.get(n.key),W=U=>{l.change(ue=>{ve.setParameterName(ue,s.key,n.key,U)})},H=U=>{l.change(ue=>{ve.setParameterType(ue,s.key,n.key,U)})},q=U=>{l.change(ue=>{ve.setParameterRequired(ue,s.key,n.key,U)})},G=()=>{l.change(U=>{ve.removeParameter(U,s.key,n.key)})},Y=g==="object"&&P>0?Object.entries(C).map(([U,ue],Ye)=>co.createElement(Vf,{key:U,...e,isLast:Ye===P-1,parameter:{key:U,value:ue}})):g==="array"&&w?co.createElement(Vf,{...e,isLast:!0,parameter:{key:"items",value:w}}):null;return co.createElement(zf,{...M?{opened:I,setOpened:_}:{},...o,readOnly:e.readOnly,dragItem:m,isLast:r,palette:()=>oe({groups:[{key:"edit-parameter",commands:[{key:"delete-parameter",title:"Delete",icon:S.Trashcan,trigger:G}]}]}),columns:[{content:t?co.createElement(A,{selectable:!0,style:[u.Code,u.textMid]},f,y?co.createElement(A,{style:[u.danger]},"*"):null):co.createElement(xa,{placeholder:"id",onChangeText:W,value:f,style:[u.Code,u.textMid],selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{d.current&&d.current.focus()}}),desktopSize:k.parameterColumnNameDesktop,mobileSize:k.parameterColumnNameMobile},{content:co.createElement(xa,{ref:d,placeholder:"String",onChangeText:H,value:g,style:[u.Label,u.textMid],readOnly:t,selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{l.change(U=>{T&&U.collapseToStartOf(T).focus()})}}),desktopSize:k.parameterColumnTypeDesktop,mobileSize:k.parameterColumnTypeMobile},{content:co.createElement(co.Fragment,null,h?co.createElement(A,{style:[u.Label,u.textMid]},h):T?co.createElement(jn.Provider,{value:"swaggerParameter"},co.createElement(On,{fragment:n.key})):null),desktopSize:v.flex1,mobileSize:!h&&(!T||T.isEmpty)?k.parameterDescriptionEmptyColumnMobile:null},t?null:{content:co.createElement(c1,{value:y?"required":"optional",items:[{label:"Required",value:"required"},{label:"Optional",value:"optional"}],onValueChange:U=>q(U==="required")})}].filter(he),onInsertBefore:()=>{l.change(U=>{ve.addParameter(U,s.key,n.value.in,{before:i,after:n.value.orderIndex})})},onDropBefore:U=>{l.change(ue=>{ve.moveParameter(ue,s.key,U.id,n.value.in,{before:i,after:n.value.orderIndex})})},onInsertAfter:()=>{l.change(U=>{ve.addParameter(U,s.key,n.value.in,{before:n.value.orderIndex,after:a})})},onDropAfter:U=>{l.change(ue=>{ve.moveParameter(ue,s.key,U.id,n.value.in,{after:a,before:n.value.orderIndex})})}},Y&&co.createElement(b,{style:[k.borderTop]},Y))}var k9=L.create({parameterColumnNameDesktop:{width:200},parameterColumnNameMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%",marginBottom:p.small},parameterColumnTypeDesktop:{width:90},parameterColumnTypeMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%"},parameterDescriptionEmptyColumnMobile:{display:"none"},borderTop:e=>({borderTopWidth:1,borderTopColor:e.colors.border.muted})});function $_(e){let{parametersGroup:t,location:o,isLast:n,...r}=e,[,i]=R(N),a=fv.find(({location:s})=>s===o);return ed.createElement(b,{style:p.Margin.smallTop},ed.createElement(b,null,ed.createElement(A,{style:[i.Label,i.Bold,i.text]},a.title)),t.map((s,l)=>{let u=t[l-1],d=t[l+1],m=l===t.length-1;return ed.createElement(Vf,{key:s.key,...r,parameter:s,isLast:m,beforeOrderIndex:u==null?void 0:u.value.orderIndex,afterOrderIndex:d==null?void 0:d.value.orderIndex})}))}function Q_(e){let{parameters:t,readOnly:o,blockProps:n}=e,r=x9(t),i=Object.keys(r).length,a=ve.SORTED_PARAMETERS_LOCATIONS.filter(s=>!!r[s]);return td.createElement(Wf,{title:"Parameters",button:e.readOnly?null:td.createElement(z_,{blockProps:n})},a.length>0?a.map((s,l)=>{let u=r[s];return td.createElement($_,{key:s,readOnly:o,blockProps:n,location:s,parametersGroup:u,isLast:l===i-1})}):td.createElement(A,null,"No parameters"))}function x9(e){return e.reduce((t,o)=>{let n=t[o.value.in]||[];return t[o.value.in]=[...n,o],t},{})}c();var od=x(O());z();c();var qf=x(oR());var P9={2:j.green.base,3:j.primary.base,4:j.orange.base,5:j.scarlet.base},E9=Object.entries(qf.message).map(([e,t])=>({code:e,message:t})),T9=new Hc(E9,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"code",weight:.6},{name:"message",weight:.4}]});function xv(e){return P9[Math.floor(e/100)]||j.lightModeGreyScale.dark}function M9(e){return T9.search(e).map(t=>t.item)}function Ov({code:e,message:t}){let o=t||qf.message[e];return o?`${e}: ${o}`:`${e}`}function rR(e){let[t,o]=e.split(": ");return{code:Number(t),message:o}}var nR=[200,201,204,400,401,403,404,500].map(e=>{let t=String(e),o=qf.message[t];return{code:t,message:o}});function Ff(e,t){let o={key:"responses",commands:r=>(r.query.text?M9(r.query.text):nR).slice(0,nR.length).map(a=>{let s=Ov(a);return{key:a.code,title:s,icon:Ke(S.Dot,{style:{color:xv(parseInt(a.code,10))}}),trigger:()=>{e(s)}}})},n=t?[{key:"edit-response",commands:[{key:"delete-response",title:"Delete response",icon:S.Trashcan,trigger:()=>{t()}}]},o]:[o];return oe({search:"Type status code\u2026",groups:n})}function iR(e){let{blockProps:t}=e,{node:o,editor:n}=t,r=od.useRef(null),i=ae(r),a=Ff(l=>{n.change(u=>{ve.addResponse(u,o.key,l)})}),s=()=>{i.open(a)};return od.createElement(b,null,od.createElement(D,{ref:r,title:"Add Response",icon:i.opened?S.X:S.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>s()}))}c();var Ho=x(O());z();c();var Ra=x(O());z();c();var nc=x(O());function aR(e){let{examples:t}=e,o=Object.keys(t),n=nc.useRef(null),r=ae(n),[i,a]=nc.useState(o[0]);return i?nc.createElement(Yw,{code:t[i],syntax:L9(i),showToolbar:r.opened,toolbar:o.length>1?nc.createElement(D,{kind:"secondary",size:"small",ref:n,rightIcon:S.ChevronDown,onPress:()=>{r.open(oe({groups:[{key:"media-types",commands:o.map(s=>({key:s,title:s,trigger:()=>{a(s)}}))}]}))}},i):null}):null}function L9(e){return e.includes("json")?"js":e.includes("xml")?"xml":"js"}c();var ke=x(O());z();function sR(e){let[,t]=R(dR);return ke.createElement(Ei,{style:[t.container],horizontal:!0},ke.createElement(Rv,{...e,isRoot:!0}))}function Rv(e){let{schema:t}=e;if(t.type){let o=t.description||t.title;switch(t.type){case"object":return ke.createElement(cR,{name:"",properties:t.properties,requiredProperties:t.required,description:o,...e});case"array":return ke.createElement(lR,{name:"",items:t.items,description:o,...e});default:return ke.createElement(uR,{name:"",type:t.type,description:o,...e})}}else{if(t.anyOf)return ke.createElement(_v,{name:"anyOf",options:t.anyOf});if(t.oneOf)return ke.createElement(_v,{name:"oneOf",options:t.oneOf});if(t.allOf){let o=W1(t.allOf);return ke.createElement(_v,{name:"allOf",options:o})}else return null}}function cR(e){let{name:t,isRequired:o=!1,isRoot:n=!1,properties:r={},requiredProperties:i=[],description:a=""}=e,[s,l]=ke.useState(!1);return ke.createElement(Hf,{name:t,type:"object",expandable:{expanded:s,setExpanded:l},required:o,isRoot:n,description:a},s?Object.entries(r).map(([u,d])=>{switch(d.type){case"object":return ke.createElement(cR,{key:u,name:u,properties:d.properties,requiredProperties:d.required,isRequired:i.includes(u),description:d.description});case"array":return ke.createElement(lR,{key:u,name:u,items:d.items,isRequired:i.includes(u),description:d.description});default:return ke.createElement(uR,{key:u,name:u,type:d.type,isRequired:i.includes(u),description:d.description})}}):null)}function lR(e){let{name:t,isRequired:o=!1,isRoot:n=!1,items:r={},description:i=""}=e,[a,s]=ke.useState(!1);return ke.createElement(Hf,{name:t,type:`array[${r.type||""}]`,expandable:{expanded:a,setExpanded:s},description:i,required:o,isRoot:n},a?ke.createElement(Rv,{schema:r}):null)}var Gf=E.ICON_S;function _v(e){let{name:t,options:o=[],isRoot:n=!1}=e,[r,i]=ke.useState(!1);return ke.createElement(Hf,{name:t,type:"",expandable:{expanded:r,setExpanded:i},description:"",isRoot:n,required:!1,specialKeyword:!0},r?o.map((a,s)=>ke.createElement(Rv,{key:s,schema:a})):null)}function uR(e){let{name:t,type:o,isRequired:n=!1,isRoot:r=!1,description:i=""}=e;return ke.createElement(Hf,{name:t,type:o,isRoot:r,required:n,description:i})}function Hf(e){let{name:t,type:o,description:n,required:r,isRoot:i,expandable:a,specialKeyword:s,children:l}=e,[,u]=R(N),[,d]=R(dR),m=[u.Body,u.Bold,u.text],f=[p.Margin.xsmallLeft];return ke.createElement(b,{style:[v.directionColumn,i?null:p.Margin.mediumTop]},ke.createElement(b,{style:[v.directionRow,v.alignCenter]},ke.createElement(Te,{onPress:a?()=>a.setExpanded(g=>!g):void 0},a?a.expanded?ke.createElement(S.ChevronDown,{size:Gf,style:[u.textMuted]}):ke.createElement(S.ChevronRight,{size:Gf,style:[u.textMuted]}):ke.createElement(b,{style:[d.placeholderIconWidth,d.placeHolderIconHeight]})),ke.createElement(b,{style:[v.directionRow,f]},t?ke.createElement(b,{style:[p.Margin.mediumRight]},s?ke.createElement(A,{style:m},t):ke.createElement(A,{selectable:!0,style:m},t,r?ke.createElement(A,{style:[u.danger,d.textFontCode]},"*"):null)):null,o?ke.createElement(A,{style:[u.Body,u.primary,d.textFontCode]},o):null)),ke.createElement(b,{style:[v.directionRow]},ke.createElement(b,{style:d.placeholderIconWidth},a!=null&&a.expanded?ke.createElement(b,{style:d.verticalLine}):null),ke.createElement(b,{style:[v.directionColumn,f,p.Padding.mediumRight,d.descriptionWidth]},n?ke.createElement(b,{style:[p.Margin.xsmallTop]},ke.createElement(el,{markdown:n,kind:"secondary"})):null,l)))}var dR=L.create({container:e=>({backgroundColor:e.colors.background.muted,padding:p.medium,borderRadius:e.radiuses.medium}),textFontCode:{fontFamily:Bm},placeholderIconWidth:{width:Gf},placeHolderIconHeight:{height:Gf},verticalLine:e=>({width:1,height:"100%",backgroundColor:e.colors.border.main,marginHorizontal:"auto"}),descriptionWidth:{maxWidth:600}});function Xf(e){let{examples:t,schema:o}=e,[n,r]=Ra.useState("example");return Ra.createElement(b,null,Ra.createElement($a,null,Ra.createElement($a.Tab,{active:n==="example",onPress:()=>r("example")},"Example"),o?Ra.createElement($a.Tab,{active:n==="schema",onPress:()=>r("schema")},"Schema"):null),n==="example"?Ra.createElement(aR,{examples:t||{}}):null,n==="schema"&&o?Ra.createElement(sR,{schema:o}):null)}function pR(e){let{response:t,isLast:o,beforeOrderIndex:n,afterOrderIndex:r,blockProps:i}=e,{node:a,editor:s}=i,[,l]=R(N),[u,d]=Ho.useState(!1),m={id:t.key,type:"swagger-response",blockKey:a.key,previewLabel:"Move response"},{status:f,description:g}=t.value,y="Response description",{code:h}=rR(f),C=a.fragments.get(t.key),w=C?yr(C):!1,k=t.value.examples||{},I=t.value.schema,_=!e.readOnly||C&&!w||Object.keys(k).length>0||typeof I<"u",P=M=>{s.change(T=>{ve.setResponseDescription(T,a.key,t.key,M)})};return Ho.createElement(zf,{...i,readOnly:e.readOnly,dragItem:m,isLast:o,opened:u,setOpened:d,palette:()=>Ff(M=>{s.change(T=>{ve.setResponseStatus(T,a.key,t.key,M)})},()=>{s.change(M=>{ve.removeResponse(M,a.key,t.key)})}),columns:[{content:Ho.createElement(b,{style:[v.directionRow,v.alignCenter]},Ho.createElement(b,{style:[p.Margin.smallRight]},Ho.createElement(S.Dot,{style:{color:xv(h)},size:E.ICON_M})),Ho.createElement(b,{style:v.flex1},Ho.createElement(A,{style:[l.Label,l.Bold,l.text]},f))),desktopSize:mR.responseColumnStatusDesktop,mobileSize:mR.responseColumnStatusMobile},{content:Ho.createElement(Sr,{component:xa,placeholder:e.readOnly?void 0:y,onChangeText:P,value:g,style:[l.Label,l.textMid],readOnly:e.readOnly,displayMode:"block",onSubmitEditing:()=>{s.change(M=>{u&&C?M.collapseToStartOf(C):St(M,a),M.focus()})}}),desktopSize:v.flex1}],onDropAfter:M=>{s.change(T=>{ve.moveResponse(T,a.key,M.id,{before:t.value.orderIndex,after:r})})},onDropBefore:M=>{s.change(T=>{ve.moveResponse(T,a.key,M.id,{before:n,after:t.value.orderIndex})})},onInsertBefore:()=>{s.change(M=>{ve.addResponse(M,a.key,parseInt(t.value.status,10)-1,{before:n,after:t.value.orderIndex})})},onInsertAfter:()=>{s.change(M=>{ve.addResponse(M,a.key,parseInt(t.value.status,10)+1,{before:t.value.orderIndex,after:r})})}},_?Ho.createElement(b,{style:[v.flex1,p.Margin.mediumVertical]},C?Ho.createElement(Ho.Fragment,null,Ho.createElement(jn.Provider,{value:"swaggerResponse"},Ho.createElement(On,{fragment:t.key}))):Ho.createElement(Xf,{examples:k,schema:I})):null)}var mR=F.create({responseColumnStatusDesktop:{width:290},responseColumnStatusMobile:{flexBasis:"100%",flexGrow:1,flexShrink:0}});c();var nd=x(O());z();function fR(e){let{readOnly:t,responses:o,blockProps:n}=e;return nd.createElement(Wf,{title:"Responses",button:t?null:nd.createElement(iR,{blockProps:n})},nd.createElement(b,{style:o.length>0&&p.Padding.mediumBottom},o.map((r,i)=>{let a=o[i-1],s=o[i+1];return nd.createElement(pR,{key:r.key,...e,response:r,isLast:i===o.length-1,beforeOrderIndex:a==null?void 0:a.value.orderIndex,afterOrderIndex:s==null?void 0:s.value.orderIndex})})))}c();var lo=x(O());z();c();c();c();var gR=Um("429837f8b383ed2c4f85d02026ce73e42335b6233c1dc303af2b0f50fedfe256",()=>import("https://app.gitbook.com/public/app/chunks/parseSwaggerFile.lazy-4PCELLR4.min.js"));var hR=gR;var rc=Xr({getValue:async e=>{let t=(await hR.load()).default;return await t(e)},toJS:e=>D9(e),fromJS:e=>A9(e)});function rd(e,t){if(!e)return null;t||(t={path:Object.keys(e.paths)[0],method:"get"},t.method=Object.keys(e.paths[t.path])[0]);let o=e.paths[t.path],n=o==null?void 0:o[t.method];if(!n)return null;let r=Object.keys(e.paths).indexOf(t.path),i=ll.indexOf(t.method);return i=i>-1?i:ll.length,{operation:n,path:t.path,httpMethod:t.method,index:r*ll.length+i}}function D9(e){return JSON.parse(JSON.stringify(e,V1()))}function A9(e){return JSON.parse(JSON.stringify(e),q1())}function id(e){let{onClose:t,data:o,multi:n,buttonText:r,onSelect:i,onRequestChangeSource:a}=e;if(!("ref"in o))throw new Error("SwaggerConfigurationOperation used with a manual API block, only OpenAPI is supported");let{contentReferenceContext:s}=lo.default.useContext(ie),[l]=gi.read([o.ref,s]);if(typeof(l==null?void 0:l.target)!="string")throw new Error("SwaggerConfigurationOperation only handles refs with target as string");if(!sl(s.space&&s.revision?{space:s.space,revision:s.revision}:null))throw new Error("No revision present for OpenAPI configuration modal");let{result:d}=rc.readSafe(l.target),m=(d==null?void 0:d.paths)||{},f=Object.keys(m).reduce((k,I)=>{let _=m[I];return k.concat(Object.keys(_).map(P=>({path:I,method:P})))},[]),g=rd(d,o.method&&o.path?{method:o.method,path:o.path}:void 0),[y,h]=lo.default.useState(g?{[g.index]:{path:g.path,method:g.httpMethod}}:{}),C=()=>{let k=Object.keys(y).map(Number).sort((I,_)=>I-_);i(k.map(I=>y[I])),t()},w=(k,I,_)=>{if(!n){h({[I]:k});return}if(_&&h({...y,[I]:k}),!_){let P={...y};delete P[I],h(P)}};return lo.default.createElement(wt,{onClose:t,title:"Choose API operation",footer:lo.default.createElement(b,{style:[v.directionRow,v.justifySpaceBetween]},lo.default.createElement(b,{style:[v.directionRow,v.justifyContentStart]},lo.default.createElement(D,{size:"large",kind:"secondary",onPress:()=>{a()}},"Change API source")),lo.default.createElement(b,{style:[v.directionRow,v.flex1,v.justifyContentEnd]},lo.default.createElement(D,{size:"large",kind:"primary",onPress:()=>{C()}},typeof r=="string"?r:r(Object.keys(y).length))))},lo.default.createElement(Zd,{data:f,renderItem:({item:k})=>{let I=rd(d,k);if(!I)return null;let _=!!y[I.index];return lo.default.createElement(B9,{key:I.index,index:I.index,item:k,operation:I.operation,multi:n,selected:_,onSelect:w})}}))}function B9(e){let{item:t,selected:o,onSelect:n,operation:r,index:i,multi:a}=e,[,s]=R(N);return lo.default.createElement(Ca,{style:p.Padding.smallHorizontal,onPress:()=>n(t,i,a?!o:!0),layout:"wide",title:lo.default.createElement(b,{style:[v.directionRow,v.flex1,v.alignCenter]},lo.default.createElement(b,{style:[{minWidth:E.L},p.Margin.smallRight]},lo.default.createElement(If,{readOnly:!0,method:t.method})),lo.default.createElement(b,{style:[v.flex1]},lo.default.createElement(A,{style:[s.Code,s.text,z9.apiPath]},t.path),lo.default.createElement(A,{style:[s.Caption,s.textMuted]},r==null?void 0:r.summary))),buttons:[a?lo.default.createElement(Ua,{value:o,onValueChange:l=>n(t,i,l)}):lo.default.createElement(l1,{value:o,onValueChange:()=>n(t,i,!0)})]})}var z9=F.create({apiPath:{fontSize:zm.xsmall,wordWrap:"anywhere"}});function yR(e,t){let o=$c(),[n,r]=Tl.useState(null),i=At(),[a,s]=Tl.useState(t),l=d=>{let f=o.value.document.assertBlock(d).data.toFrozenObject();return[{key:"swagger",commands:[{key:"pickSource",title:"Choose OpenAPI source\u2026",icon:S.Paperclip,trigger:()=>{i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([g])=>{g&&(s({ref:g}),r("swagger"))})}},a&&"ref"in a?{key:"pickMethod",title:"Choose API operation",icon:S.Swagger,trigger:()=>{r("swagger")}}:null,{key:"defaultExpanded",icon:S.ChevronsVertical,enabled:Boolean(f.expanded),title:"Expanded",trigger:()=>(o.change(g=>{f.expanded?g.setDataByKey(d,["expanded"],!1):g.setDataByKey(d,["expanded"],!0)}),ft(o,d,l(d)))}].filter(he)}]};return[ft(o,e,l(e)),Tl.createElement(st,null,n==="swagger"?Tl.createElement(id,{data:a,buttonText:"Update Block",onRequestChangeSource:()=>{r(null),i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([d])=>{d&&s({ref:d}),r("swagger")})},onSelect:([d])=>{o.change(m=>{m.setNodeByKey(e,{data:{...a,method:d==null?void 0:d.method,path:d==null?void 0:d.path}})})},onClose:()=>r(null)}):null)]}c();var jf=x(O());c();var Ir=x(O());z();function Kf(e){let{opened:t,setOpened:o,readOnly:n,parameters:r,header:i,requestBody:a,responses:s,blockProps:l,description:u}=e,[,d]=R(N);return Ir.default.createElement(Ir.default.Fragment,null,Ir.default.createElement(B_,{blockProps:l,readOnly:n,opened:t,setOpened:o,description:u.description,...i}),Ir.default.createElement(b,{style:W9.operationBody},t?Ir.default.createElement(Ir.default.Fragment,null,Ir.default.createElement(Q_,{blockProps:l,readOnly:n,...r}),a?Ir.default.createElement(b,{style:p.Margin.largeTop},Ir.default.createElement(b,null,Ir.default.createElement(A,{style:[d.Label,d.Bold,d.text]},"Body")),Ir.default.createElement(Xf,{examples:a.examples,schema:a.schema})):null,Ir.default.createElement(fR,{blockProps:l,readOnly:n,...s})):null))}var W9=F.create({operationBody:{padding:p.medium,paddingLeft:p.medium+E.ICON_M+p.medium,paddingTop:0}});function vR(e){let{blockProps:t,data:o,opened:n,setOpened:r}=e,{editor:i}=t;if("ref"in o)throw new Error("trying to render a swagger block that is refering to a swagger file");let{readOnly:a}=i,{baseUrl:s,method:l,path:u,summary:d}=o,{parameters:m={},responses:f={}}=o,g=jf.default.useMemo(()=>ve.defaultParameterSortedKeys(m).map(C=>({key:C,value:m[C]})),[m]),y=jf.default.useMemo(()=>ve.defaultResponseSortedKeys(f).map(C=>({key:C,value:f[C]})),[f]);return jf.default.createElement(Kf,{blockProps:t,readOnly:a,opened:n,setOpened:r,header:{baseUrl:s,method:l,summary:d,path:u},parameters:{parameters:g},description:{description:{fragment:"description"}},responses:{responses:y}})}c();var ls=x(O());function bR(e){var C;let{blockProps:t,data:o,opened:n,setOpened:r,readOnly:i}=e;if(!("ref"in o))throw new Error("trying to render a swagger block that is not refering to a swagger file");let s=uo(o.ref).href,{result:l,error:u}=rc.readSafe(s),d=rd(l,o.path&&o.method?{path:o.path,method:o.method}:void 0),{operation:m,path:f,httpMethod:g}=d||{operation:{parameters:[],responses:[],summary:"",description:""},httpMethod:"",path:""},y=ls.default.useMemo(()=>m.parameters.sort(({in:w},{in:k})=>ve.SORTED_PARAMETERS_LOCATIONS.indexOf(w)<ve.SORTED_PARAMETERS_LOCATIONS.indexOf(k)?-1:1).reduce((w,k,I)=>{let _=w[I-1],P=$h(_?{before:_.value.orderIndex}:{});return w.push({key:Ls(),value:{...k,orderIndex:P}}),w},[]),[m.parameters]),h=ls.default.useMemo(()=>m.responses.sort(({status:w},{status:k})=>w<k?-1:1).reduce((w,k,I)=>{let _=w[I-1],P=$h(_?{before:_.value.orderIndex}:{});return w.push({key:Ls(),value:{...k,status:Ov({code:k.status}),orderIndex:P}}),w},[]),[m.responses]);if(u)return i?ls.default.createElement(ad,null):ls.default.createElement(Gn,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:Ti(u)});if(!d){if(i)return ls.default.createElement(ad,null);let w=o.method&&o.path?`${(C=o.method)==null?void 0:C.toUpperCase()} "${o.path}"`:"";return ls.default.createElement(Gn,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:`Could not find the operation ${w} in the OpenAPI file.`})}return ls.default.createElement(Kf,{blockProps:t,readOnly:!0,opened:n,setOpened:r,header:{baseUrl:(l==null?void 0:l.baseUrl)||"",method:g,summary:m.summary||"",path:f},parameters:{parameters:y},requestBody:m.requestBody,responses:{responses:h},description:{description:m.description?{text:m.description}:void 0}})}function CR(e){let{node:t,isFocused:o,editor:n}=e,r=t.data.toFrozenObject(),[i,a]=yR(t.key,r),[s,l]=R(V9),{sections:u}=Yn.default.useContext($r),{current:d}=Fm(),m=u.get(t.key),f=Fe(),[g,y]=Yn.default.useState(f||o||Boolean(r.expanded));Yn.default.useEffect(()=>{d&&r.expanded&&y(!0)},[r.expanded]);let h=Yn.default.createElement(Wn,{style:[l.blockSwagger,g&&l.blockSwaggerOpened],backgroundColor:s.colors.background.main,nativeID:m},Yn.default.createElement(Yn.default.Suspense,{fallback:Yn.default.createElement(Xt,{size:"small"})},"ref"in r?Yn.default.createElement(bR,{readOnly:n==null?void 0:n.readOnly,blockProps:e,data:r,opened:g,setOpened:y}):Yn.default.createElement(vR,{blockProps:e,data:r,opened:g,setOpened:y})));return Yn.default.createElement(Yn.default.Fragment,null,a,Yn.default.createElement(ye,{palette:i,...e},!("ref"in r)&&g?h:Yn.default.createElement(Bt,{...e},h)))}var V9=L.create({blockSwagger:e=>({borderRadius:e.radiuses.large,borderColor:e.colors.border.mid,borderWidth:1}),blockSwaggerOpened:e=>({...e.shadows.spread})});c();var SR=x(O());var q9=eo({key:"lastSwaggerReference",default:{}});function wR(e,t){let[o,n]=tn(q9),r=sl(t.space&&t.revision?{space:t.space,revision:t.revision}:null),i=r?o[r.space]:null,a=SR.default.useCallback(u=>{r&&n({...o,[r.space]:u})},[r==null?void 0:r.space,n]);if((i==null?void 0:i.kind)==="url")return[i,a];if((i==null?void 0:i.kind)==="file"&&r!=null&&r.files[i.file])return[i,a];let s=ve.getProbableRef(e.value.document);if(s)return[s,a];let l=Object.values((r==null?void 0:r.files)||{}).filter(u=>Gc(u)).sort((u,d)=>{var g,y;let m=(g=yu(u.edits))==null?void 0:g.updatedAt.toMillis();return(((y=yu(d.edits))==null?void 0:y.updatedAt.toMillis())||0)-(m||0)});return[l.length?{kind:"file",file:l[0].key}:null,a]}function Uf(e,t,o,n="replace"){let[r,i]=_n.useState(null),a=At(),s=al(),{contentReferenceContext:l,integrationBlocks:u,logAnalyticsEvent:d}=_n.useContext(ie),m=mt(l),f=Kr(),[g,y]=wR(e,l),h=_n.useCallback(()=>{i(null)},[]),C=_n.useCallback((I,_="end")=>{h(),kR(e,o.key,I,n,_)},[h,e,o.key,n]),w=_n.useCallback((I,_="end")=>{h();let P;I.forEach((M,T)=>{kR(e,P||o.key,M,T===0?n:"after",_),P=M.key})},[h,e,t.key,o.key,n]),k=_n.useMemo(()=>{let I=(_,P=()=>!0)=>Object.entries(_).map(([M,T])=>P(M)?T.map(W=>({key:`${M}.${W.id}`,title:W.title,icon:Ke(N_,{block:W}),trigger:()=>{W.urlUnfurl&&W.urlUnfurl.length>0?i("embed"):(C(qc.createIntegrationBlock(M,W.id)),d({type:"edit_page_document_insert_block",blockType:Ni,integration:M,integrationBlock:W.id}))}})):[]).flat();return oe({search:"Insert block\u2026",groups:[{key:"texts",commands:[_e(t,le)?{key:"paragraph",title:"Paragraph",icon:S.Paragraph,trigger:()=>{C(yo.create({type:le})),d({type:"edit_page_document_insert_block",blockType:le})}}:null].filter(he)},{key:"headings",commands:[_e(t,Me)?{key:"heading_1",title:"Heading 1",icon:S.Heading1,keywords:["h1","Title 1","Header 1"],trigger:()=>{C(yo.create({type:Me})),d({type:"edit_page_document_insert_block",blockType:Me})}}:null,_e(t,Ne)?{key:"heading_2",title:"Heading 2",icon:S.Heading2,keywords:["h2","Title 2","Header 2"],trigger:()=>{C(yo.create({type:Ne})),d({type:"edit_page_document_insert_block",blockType:Ne})}}:null,_e(t,Xe)?{key:"heading_3",title:"Heading 3",keywords:["h3","Title 3","Header 3"],icon:S.Heading3,trigger:()=>{C(yo.create({type:Xe})),d({type:"edit_page_document_insert_block",blockType:Xe})}}:null].filter(he)},{key:"lists",commands:[_e(t,Vo)?{key:"list_ul",title:"Unordered list",keywords:["ul","Bullet list","Dot list"],icon:S.ListUnordered,trigger:()=>{C(ot.createList(Vo)),d({type:"edit_page_document_insert_block",blockType:Vo})}}:null,_e(t,It)?{key:"list_ol",title:"Ordered list",keywords:["ol","Numbered List"],icon:S.ListOrdered,trigger:()=>{C(ot.createList(It)),d({type:"edit_page_document_insert_block",blockType:It})}}:null,_e(t,oo)?{key:"list_tasks",title:"Task list",keywords:["Checkbox","Checklist","Tick","Todo list"],icon:S.ListTasks,trigger:()=>{C(ot.createList(oo)),d({type:"edit_page_document_insert_block",blockType:oo})}}:null].filter(he)},{key:"panels",commands:[_e(t,to)?{key:"hint",title:"Hint",keywords:["Info","Alert","Callout"],icon:S.InfoCircle,trigger:()=>{C(zS.create()),d({type:"edit_page_document_insert_block",blockType:to})}}:null,_e(t,Ct)?{key:"quote",title:"Quote",keywords:["Blockquote","Citation"],icon:S.Quote,trigger:()=>{C(WS.create()),d({type:"edit_page_document_insert_block",blockType:Ct})}}:null,_e(t,ai)?{key:"code",title:"Code Block",keywords:["Syntax","Snippet"],icon:S.Code,trigger:()=>{C(vo.createCodeBlock("// Some code")),d({type:"edit_page_document_insert_block",blockType:ai})}}:null].filter(he)},{key:"others",commands:[_e(t,ua)?{key:"files",title:"Insert files\u2026",keywords:["Assets","Upload"],icon:S.Files,trigger:()=>{a.prompt({title:"Select files"}).then(_=>{let P=_.map(M=>M.kind==="file"?_m.createFileBlock(M):null).filter(he);w(P,"end"),d({type:"edit_page_document_insert_block",blockType:ua,files:P.length})})}}:null,_e(t,Mi)?{key:"images",title:"Insert images\u2026",keywords:["Photo","Picture","JPEG","jpg","png","GIF"],icon:S.Image,trigger:()=>{a.prompt({title:"Select images",accept:"images",acceptURL:!0}).then(_=>{C(yo.create({type:Mi,isVoid:!0,nodes:_.map(P=>Fo.createImageBlock(P))})),d({type:"edit_page_document_insert_block",blockType:Mi,images:_.length})})}}:null,_e(t,An)?{key:"embed",title:"Embed a url\u2026",keywords:["music","video","audio","design","iframe"],icon:S.ExternalLink,trigger:()=>{i("embed")}}:null,_e(t,zn)?{key:"table",title:"Table",keywords:["Spreadsheet"],icon:S.Table,trigger:()=>{C($.createTable()),d({type:"edit_page_document_insert_block",blockType:zn,tableView:"grid"})}}:null,_e(t,zn)?{key:"table-cards",title:"Cards",keywords:["Grid"],icon:S.Cards,trigger:()=>{C($.createTable({view:"cards"})),d({type:"edit_page_document_insert_block",blockType:zn,tableView:"cards"})}}:null,_e(t,Cn)?{key:"tabs",title:"Tabs",icon:S.Tabs,trigger:()=>{C(si.createTabs(),"start"),d({type:"edit_page_document_insert_block",blockType:Cn})}}:null,_e(t,Li)?{key:"expandable",title:"Expandable",keywords:["collapsible","toggle"],icon:S.BlockExpandable,trigger:()=>{C(ga.createExpandableBlock(),(_,P)=>{_.collapseToStartOf(ga.getTitleFragment(P)).focus()}),d({type:"edit_page_document_insert_block",blockType:Li})}}:null,_e(t,la)?{key:"drawing",title:"Drawing",keywords:["sketch","draw","excalidraw"],icon:S.EditDrawing,trigger:()=>{C(AS.createDrawingBlock()),d({type:"edit_page_document_insert_block",blockType:la})}}:null,_e(t,Ds)?{key:"math",title:"Math & TeX",keywords:["Formula"],icon:S.MathTeX,trigger:()=>{C(Ws.createMathBlock()),d({type:"edit_page_document_insert_block",blockType:Ds})}}:null,_e(t,qo)?{key:"api-method",title:"API Method",icon:S.Swagger,keywords:["api"],trigger:()=>{C(ve.createBlock()),d({type:"edit_page_document_insert_block",blockType:qo})}}:null,_e(t,qo)?{key:"swagger",title:"OpenAPI",icon:S.Swagger,keywords:["api","swagger"],trigger:()=>{g?i({ref:g}):a.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([_])=>{_&&(y(_),i({ref:_}))})}}:null,_e(t,ma)?{key:"content-ref",title:"Page Link",icon:S.PageLink,keywords:["references"],trigger:()=>cn(_=>{C(zs.createContentRefBlock(_)),d({type:"edit_page_document_insert_block",blockType:ma,contentRefKind:_.kind})},m.current,{accept:["page","space","collection"]})}:null].filter(he)},_e(t,Ni)?{key:"integrations",commands:()=>I(u)}:null,_e(t,Ni)?{key:"integrations",commands:()=>{let[_]=rl([cw()]),P=Nm(_);return I(P,M=>!u[M])}}:null,_e(t,An)?{key:"embeds",commands:O_.map(_=>({key:_.key,title:_.title,icon:({size:P})=>_n.createElement(Po,{source:{uri:(f.color==="dark"?_.iconDark:null)||_.icon},style:{width:P,height:P}}),trigger:()=>{i("embed")}}))}:null].filter(he)})},[C,s.uid,m,e,f.color,u]);return[_n.createElement(st,null,r==="embed"?_n.createElement(__,{onInsert:C,onClose:h}):r&&"ref"in r?_n.createElement(id,{onClose:h,data:r,multi:!0,buttonText:I=>`Insert ${I} blocks`,onRequestChangeSource:()=>{i(null),a.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([I])=>{I&&i({ref:I})})},onSelect:I=>{d({type:"edit_page_document_insert_block",blockType:qo,swaggerOperations:I.map.length,swaggerSource:r.ref.kind}),w(I.map(_=>ve.createBlockWithRef(r.ref,_.path,_.method))),h()}}):null),k]}function kR(e,t,o,n,r){e.change(i=>{let a=e.value.document.getParent(t);if(!a)return;let s=a.getChildIndex(t);if(s<0)return;if(n==="replace")o.object==="block"?i.replaceNodeByKey(t,o):i.replaceWithDocumentByKey(t,o);else{let u=n==="after"?s+1:s;o.object==="block"?i.insertNodeByKey(a.key,u,o):i.insertDocumentByKey(a.key,u,o)}let l=i.value.document.getNode(o.object==="block"?o.key:o.nodes.first().key);l&&(r==="start"?i.collapseToStartOf(l).focus():r==="end"?i.collapseToEndOf(l).focus():r(i,l))})}var F9=B.createInteractiveComponent(te);function G9(e,t){return e.position===t.position&&e.parent.key===t.parent.key&&e.parent.object===t.parent.object&&e.parent.type===t.parent.type&&e.node.key===t.node.key&&e.node.type===t.node.type&&e.editor===t.editor}var Iv=ln.memo(function(t){let{editor:o,parent:n,node:r,position:i,style:a}=t,{logAnalyticsEvent:s}=ln.useContext(ie),[l,u]=pi({accept:["block","page","space","collection"],drop:(k,I)=>{I.didDrop()||o.change(_=>{if(k.type==="block"){i==="before"?_.moveBeforeNodeByKey(k.id,r.key):_.moveAfterNodeByKey(k.id,r.key);let P=o.value.document.getParent(k.id);s({type:"edit_page_document_move_block",blockType:k.blockType,method:"dnd",toParent:n.object==="block"?n.type:n.object,fromParent:(P==null?void 0:P.object)==="block"?P==null?void 0:P.type:P==null?void 0:P.object})}else{let P=zs.createContentRefBlock(U_(k));i==="before"?_.insertNodeBeforeByKey(r.key,P):_.insertNodeAfterByKey(r.key,P)}})},canDrop:k=>{if(!_e(n,k.type==="block"?k.blockType:ma))return!1;if(k.type==="block"){if(k.id===r.key)return!1;let I=i==="before"?o.value.document.getPreviousSibling(r.key):o.value.document.getNextSibling(r.key);if((I==null?void 0:I.key)===k.id)return!1}return!0},collect:k=>({highlighted:k.isOver()&&k.canDrop()})}),d=ln.useRef(null),[m,f]=Uf(o,n,r,i),g=ae(d),[,y]=R(H9),h=l.highlighted||g.opened,C=!l.highlighted,w=h?ce.visible:ce.translucent;return ln.createElement(ln.Fragment,null,m,ln.createElement(F9,{ref:u,style:[a,y.blockInsertion],editable:!1},ln.createElement(Lt,{onPress:()=>g.open(f)},ln.createElement(B.View,{style:[y.blockInsertionLineContainer,h?w:ce.hidden],activeStyle:w},ln.createElement(b,{style:[y.blockInsertionLine,l.highlighted&&y.blockInsertionLineDropping]}),ln.createElement(b,{style:[y.blockInsertionButtonContainer,v.directionRow,v.alignCenter,v.justifyContentEnd,C?ce.visible:ce.hidden]},ln.createElement(Op,{ref:d,icon:S.Plus,size:"xsmall",kind:"secondary",rounded:!0,onPress:()=>g.open(f),animatedAngle:45,active:g.opened}))))))},G9),xR=3,OR=2,_R=fi*2,H9=L.create({blockInsertion:{position:"absolute",display:"flex",justifyContent:"center",height:_R},blockInsertionButtonContainer:{position:"absolute",left:"50%",marginLeft:-p.small},blockInsertionLineContainer:{position:"absolute",flexDirection:"row",alignItems:"center",left:0,top:0,right:0,height:_R,cursor:"pointer",transition:`opacity ease ${kn.TRANSITION_DURATION_SHORT}ms`},blockInsertionLine:e=>({position:"absolute",height:OR,left:0,right:0,borderRadius:OR,backgroundColor:e.colors.border.mid}),blockInsertionLineDropping:e=>({position:"absolute",height:xR,left:0,right:0,borderRadius:xR,backgroundColor:e.colors.primary.main})});c();var us=x(O());c();function ft(e,t,o=[]){return oe({groups:[...o,{key:"block",commands:[{key:"delete",title:"Delete",icon:S.Trashcan,trigger:()=>{e.change(n=>{n.removeNodeByKey(t)})}}]}]})}var RR=us.memo(function(t){let{editor:o,nodeKey:n,visible:r,style:i,size:a="small",shortcutsActive:s,palette:l,dragHandleRef:u,icon:d=S.GrabberVertical,animatedAngle:m=0}=t,[,f]=R(X9),g=wp(),y=us.useRef(!1),h=us.useRef(null),C=ae(h,{onClose:()=>{y.current&&o.change(k=>{k.focus()})}}),w=()=>{y.current=!!g.current,C.open((typeof l=="function"?l():l)||ft(o,n)),o.change(k=>{let I=k.value.document.getNode(n);I&&de.isTextRange(k.value.selection)&&!k.value.selection.hasEdgeIn(I)&&k.collapseToStartOf(I),k.focus()})};return wr(s?{[We.EDITOR_PALETTE]:w}:{},"editor-selection-collapsed",[s,C,l,o,n]),us.createElement(te,{editable:!1,ref:u,style:[f.dragHandle,i,r||C.opened?ce.visible:ce.hidden]},us.createElement(Op,{ref:h,rounded:!0,active:C.opened,icon:d,kind:"secondary",size:a,style:f.button,title:`Click for options.
Drag to move.`,onPress:()=>w(),animatedAngle:m}))}),X9=L.create({dragHandle:{cursor:"grab"},button:e=>({backgroundColor:e.colors.background.main})});c();var Pt=x(O());z();c();var Ml=x(O());z();c();z();var ic={added:j.green.base,deleted:j.scarlet.base,modified:j.primary.base},Yf=F.create({added:{color:ic.added},deleted:{color:ic.deleted},modified:{color:ic.modified}});function $f(e){let{diff:t,style:o,size:n,highlighted:r}=e,[,i]=R(K9),a=B.useInteractiveState(),s=t.type==="added"?S.DiffAdded:t.type==="deleted"?S.DiffRemoved:S.DiffModified;return Ml.createElement(te,{editable:!1,style:o,...a.events},Ml.createElement(Fn,{tooltip:`This block has been ${t.type} in this change request`,preferredPlacement:"top"},(l,u)=>Ml.createElement(B.TouchableOpacity,{ref:u,style:[Zf.diffContainer,r||a.hovered?Zf.diffContainerHighlighted:null],...l.events},Ml.createElement(s,{style:[Zf.diffIcon,Yf[t.type]],size:n}),Ml.createElement(te,{style:[Zf.diffLine,i.bodyColor]}))))}var Zf=F.create({diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5},diffContainerHighlighted:{opacity:1},diffIcon:{flexShrink:0},diffLine:{width:1,flexGrow:1,flexShrink:1,marginTop:p.xsmall}}),K9=L.create({bodyColor:(e,t)=>({backgroundColor:t.color==="dark"?j.darkModeText.xdark:j.lightModeText.xlight})});c();var TR=x(O());z();c();c();var ds=p.medium;function j9(e,t){return t.nodes.find(o=>o.type===Bc&&o.nodes.some(n=>n.key===e.key))||e}function Qr(e,t,o){let n=t.getChildIndex(o?j9(e,t).key:e.key),r=n===0,i=n===t.nodes.size-1,a=(()=>{switch(t.type){case Bn:return{paddingTop:r?p.large:p.xsmall,paddingBottom:i?p.large:p.xsmall};case to:return{paddingTop:r?p.medium:p.xsmall,paddingBottom:i?p.medium:p.xsmall};case Ct:return{paddingTop:p.xsmall,paddingBottom:p.xsmall};case Nt:{if(!pa.includes(e==null?void 0:e.type))return{paddingTop:0,paddingBottom:0};let l={paddingTop:p.small,paddingBottom:p.small};return r&&(l.paddingTop=0),i&&(l.paddingBottom=0),l}case da:return{paddingTop:p.medium,paddingBottom:p.medium}}return{}})();return{...(()=>{switch(e.type){case Me:return{paddingTop:p.large,paddingBottom:p.small};case Ne:return{paddingTop:p.large,paddingBottom:p.small};case Xe:return{paddingTop:p.large,paddingBottom:p.small};case le:return{paddingTop:p.small,paddingBottom:p.small};case It:case Vo:case oo:return{paddingTop:p.medium,paddingBottom:p.medium};case to:return{paddingTop:p.medium,paddingBottom:p.medium};case ai:return{paddingTop:p.medium,paddingBottom:p.medium};case Nt:return{paddingTop:r?0:p.xsmall,paddingBottom:i?0:p.xsmall};default:return{paddingTop:ds,paddingBottom:ds}}})(),...a}}c();var IR=x(fm());z();var ms=100,Qf=40,sd=800;function Jf(e,t,o=!1){if(!e.useNewSizing)return U9(e,t,o);let n=new Map,r=0;e.columns.forEach(d=>{var m;r+=((m=e.columnWidths)==null?void 0:m[d])||0});let i=Math.max(t-r,0),a=e.columns.length-Object.keys(e.columnWidths||{}).length,s=a===0?0:Math.floor(i/a),l=a===0?0:i-s*a,u=0;return e.columns.forEach(d=>{var h,C;let m=typeof((h=e.columnWidths)==null?void 0:h[d])>"u",f=((C=e.columnWidths)==null?void 0:C[d])||0,g=m?s:f;d===e.columns[e.columns.length-1]&&(g+=l),g=(0,IR.default)(g,m?ms:Qf,sd),u+=g;let y=new dt.Value(0);y.setOffset(g),n.set(d,{controller:y,animated:dt.diffClamp(y,o?0:m?ms:Qf,sd),width:g})}),{widths:n,totalWidth:u}}function U9(e,t,o=!1){let i=new Map,a=0;e.columns.forEach(l=>{var d;let u=((d=e.columnWidths)==null?void 0:d[l])||200;a+=u,i.set(l,u)});let s=1;return(a<t||o)&&(s=t/a,a=t),i.forEach((l,u)=>{let d=new dt.Value(0);d.setOffset(l*s),i.set(u,{controller:d,animated:dt.diffClamp(d,o?0:150,sd),width:l*s})}),{widths:i,totalWidth:a}}function ac(e,t,o){let{blockSpacing:n={paddingTop:0,paddingBottom:0},contentSize:r=750}=o||{};if((e==null?void 0:e.object)!=="block")throw new Error(`invalid node passed to "getBlockEstimatedHeight" ${e.object}#${e.type} with parent ${e.object}#${t?t.type:"no-parent"}`);switch(e.type){case zn:return n.paddingTop+n.paddingBottom+Z9(e,r);case Cn:return n.paddingTop+n.paddingBottom+ac(e.nodes.first(),e);case le:case Ne:case Xe:case Me:{let a=n.paddingTop+n.paddingBottom+cd(e.text,{lineHeight:Rn(e),fontSize:eg(e),contentWidth:r});return e.type===Me&&t.object==="document"&&t.getChildIndex(e.key)!==0?a+p.medium+p.large+1:a}case Hr:return cd(e.text,{lineHeight:Rn(e),fontSize:eg(e),contentWidth:r});case Mi:case An:case Ns:case qo:case la:case Ni:return n.paddingTop+n.paddingBottom+200;case Ds:case ua:case ma:return n.paddingTop+n.paddingBottom+100;case Li:return n.paddingTop+n.paddingBottom+Rn(e);default:let i=Y9(e,r);return n.paddingTop+n.paddingBottom+e.nodes.reduce((a,s)=>{let l=Qr(s,e),u=s.object==="block"?ac(s,e,{contentSize:i}):cd(s.text,{contentWidth:i});return a+u+l.paddingTop+l.paddingBottom},0)}}function Y9(e,t){switch(e.type){case Ct:return t-Hu-Gu;case to:return t-Ku-Xu;default:return t}}function Rn(e){if(!e)return ze.Body.lineHeight;switch(e.type){case Nt:return Rn(e.nodes.first());case Me:return ze.Heading1.lineHeight;case Ne:return ze.Heading2.lineHeight;case Xe:return ze.Heading3.lineHeight;case ai:return ze.Code.lineHeight+2*p.small;case Hr:return ze.Code.lineHeight;case Cn:return ze.Label.lineHeight+2*p.small;case zn:return ze.Label.lineHeight+2*p.small;case Li:return p.medium*2+ze.Heading3.lineHeight;case le:default:return ze.Body.lineHeight}}function eg(e){if(!e)return ze.Body.fontSize;switch(e.type){case Nt:return Rn(e.nodes.first());case Me:return ze.Heading1.fontSize;case Ne:return ze.Heading2.fontSize;case Xe:return ze.Heading3.fontSize;case Hr:return ze.Code.fontSize;case le:default:return ze.Body.fontSize}}function Z9(e,t){let o=$.getTableData(e);switch(o.view.type){case"grid":{let{widths:n}=Jf(o.view,t,!1),r=Q9(o,n),i=Object.keys(o.records).reduce((a,s,l)=>{let u=Pv(e,s,n);return a+u},0);return r+i}case"cards":{let n=Object.keys(o.records).length,r=o.view.cardSize==="large"?2:3,i=(750-r*p.medium)/r,a=$9(e,o,i),s=Math.ceil(n/r);return s*a+(s-1)*p.medium}default:Oe(o.view)}}function Pv(e,t,o){if(!e)return 0;let n=$.getTableData(e),r=n.records[t];return n.view.columns.reduce((i,a)=>{let s=r.values[a],l=n.definition[a],u=ER(s,l,PR(l.id,o),e);return u>i?u:i},p.medium)}function $9(e,t,o){let n=Object.values(t.records)[0];if(!n)return 0;let r=t.view.type==="cards"&&t.view.coverDefinition?135:0;return t.view.columns.reduce((i,a)=>{let s=n.values[a],l=t.definition[a],u=ER(s,l,o,e);return i+u},2*p.small+r)}function Q9(e,t){return e.view.type!=="grid"||e.view.hideHeader?0:Object.keys(e.definition).reduce((o,n)=>{let r=PR(n,t),i=e.definition[n].title,a=cd(i,{contentWidth:r});return a>o?a:o},p.medium)}function PR(e,t){var n;return(((n=t.get(e))==null?void 0:n.width)||ms)-p.medium*2}function ER(e,t,o,n){return(()=>{switch(t.type){case"text":let i=n.fragments.get(String(e));return i?i.nodes.reduce((u,d)=>u+ac(d,n,{contentSize:o}),0):0;case"number":return cd(String(e),{contentWidth:o});case"files":case"users":let a=Array.isArray(e)?e.length:1,s=t.type==="files"?eN:J9;return(a<=1?1:Math.max(1,Math.ceil(s*a/o)))*ze.Body.lineHeight;case"checkbox":case"rating":case"select":default:return ze.Body.lineHeight}})()+p.small*2+1}function cd(e,t){let{lineHeight:o=ze.Body.lineHeight,contentWidth:n=750}=t||{},r=Ev(e,t),i=Math.max(1,Math.ceil(r/n));return o*i}function Ev(e="",t){let{fontSize:o=ze.Body.fontSize}=t||{};return o*.5*e.length}var J9=Ev("Steven Smithson")+p.large+p.small*2,eN=Ev("this_is_a_file_of_mine.json")+p.large+p.small*2;function El(e){let{ancestors:t,node:o,diff:n}=e,r=t.last(),i=r.type,a=r.getChildIndex(o.key),s=a===0,l=a===r.nodes.size-1;return TR.default.useMemo(()=>{let u=r.object==="document",d=r.object==="document"&&vr.isConflictKey(o.key),m=Rn(o),f=Qr(o,r,typeof n=="boolean");d&&(f.paddingTop+=p.medium);let g=sN[f.paddingTop]||{paddingTop:f.paddingTop},y=cN[f.paddingBottom]||{paddingBottom:f.paddingBottom},h=[ps.block,g,y],C=nN(o,t),w=rN(o,t),k=oN(o,r),I=C?iN(o,t)-C.width/2:0;return{blockStyle:h,diffLine:n?{style:{position:"absolute",left:aN(o,t),top:(typeof n!="boolean"?f.paddingTop:0)+(m-Sf)/2,bottom:f.paddingBottom+p.small},size:Sf}:void 0,diffBefore:typeof n!="boolean"&&(n!=null&&n.deletedBlocksBefore)?{style:ps.diffDeletedBeforeLine,size:E.ICON_XS}:void 0,diffAfter:typeof n!="boolean"&&(n!=null&&n.deletedBlocksAfter)?{style:ps.diffDeletedAfterLine,size:E.ICON_XS}:void 0,controlsButton:C?{style:{position:"absolute",left:I,top:f.paddingTop+(m-C.height)/2,minWidth:-I},size:C.buttonSize}:void 0,rightGutterComponent:w?{size:w.buttonSize,style:[ps.rightGutterComponent,{top:f.paddingTop+(m-w.height)/2}]}:void 0,beforeLine:k.before?{style:k.before}:void 0,afterLine:k.after?{style:k.after}:void 0,renderMode:u?"centered":"unstyled"}},[o.type,r.object,i,s,l,n])}var MR={shouldNodeComponentUpdate(e,t){if(e.node.object==="inline"||t.node.object==="inline")return null;let o=Qr(e.node,e.parent),n=Qr(t.node,t.parent);return o.paddingTop!==n.paddingTop||o.paddingBottom!==n.paddingBottom?!0:null}};function tN(e,t){if(t.object==="document"&&yr(t))return{before:!1,after:!1};if(vr.hasBlockConflictFrom(e,"head"))return{before:!1,after:!0};if(vr.hasBlockConflictFrom(e,"base"))return{before:!0,after:!1};let o=t.getChildIndex(e.key),n=t.nodes.size,r=!0,i=o===n-1;if(e.type===Nt){let a=ot.isList(e.nodes.last());return{before:r,after:i&&!a}}return t.type===Nt?{before:r&&o!==0,after:i&&o!==n-1}:{before:r,after:i}}function oN(e,t){let o=tN(e,t),n=null,r=null;return o.before&&(n=[ps.insertionLine,{top:-fi}]),o.after&&(r=[ps.insertionLine,{bottom:-fi}]),{before:n,after:r}}function nN(e,t){let o=t.last();return pa.includes(e.type)||yo.isBlock(o)&&o.type===Nt&&e.type!==Mi?null:t.size===1||t.size===2&&yo.isBlock(o)&&ot.isList(o)?{buttonSize:"small",width:E.BUTTON_S,height:E.BUTTON_S}:{buttonSize:"xsmall",width:E.BUTTON_XS,height:E.BUTTON_XS}}function rN(e,t){return pa.includes(e.type)?null:{buttonSize:"small",width:E.BUTTON_S,height:E.BUTTON_S}}function iN(e,t){let o=t.last(),n=t.get(t.size-2);if(e.type===Nt){if(!n||(n==null?void 0:n.object)==="document")return Js;if(yo.isBlock(n)&&n.type===Nt)switch(o.type){case Vo:return-(p.small+6);case It:return-(p.small+8);case oo:return-(p.small+E.ICON_M/2);default:return Js}o=n,n=t.get(t.size-3)}return n&&yo.isBlock(n)&&sv[n.type]?sv[n.type]:(yo.isBlock(o)?Fu[o.type]:0)||Js}function aN(e,t){let o=t.last(),n=t.get(t.size-2),r=t.some(l=>l.type===Cn)?-p.large:0,i=t.some(l=>l.type===to)?ju+10:0,a=t.some(l=>l.type===Ct)?-20:0,s=t.filter(l=>pa.includes((l==null?void 0:l.type)||"")).size;if(s>0){let l=(r?r-2:0)+i+a+ju,u=s-1,d;switch(pa.includes((n==null?void 0:n.type)||"")?d=n==null?void 0:n.type:(d=o.type,u--),d){case Vo:return l-o_-i_*u;case It:return l-n_-a_*u;case oo:return l-r_-s_*u;default:return ju}}return a+i+r+ju}var ps=F.create({block:{paddingVertical:ds},defaultTopPadding:{paddingTop:ds},defaultBottomPadding:{paddingBottom:ds},insertionLine:{height:fi,left:0,right:0},diffDeletedBeforeLine:{top:-fi,left:Js-E.BUTTON_S-p.small-E.ICON_XS/2},diffDeletedAfterLine:{bottom:-fi,left:Js-E.BUTTON_S-p.small-E.ICON_XS/2},rightGutterComponent:{position:"absolute",right:-p.xlarge,minWidth:p.xlarge}}),sN={[ds]:ps.defaultTopPadding,0:p.Padding.noneTop,[p.xsmall]:p.Padding.xsmallTop,[p.small]:p.Padding.smallTop,[p.medium]:p.Padding.mediumTop,[p.large]:p.Padding.largeTop,[p.xlarge]:p.Padding.xlargeTop,[p.xxlarge]:p.Padding.xxlargeTop},cN={[ds]:ps.defaultBottomPadding,0:p.Padding.noneBottom,[p.xsmall]:p.Padding.xsmallBottom,[p.small]:p.Padding.smallBottom,[p.medium]:p.Padding.mediumBottom,[p.large]:p.Padding.largeBottom,[p.xlarge]:p.Padding.xlargeBottom,[p.xxlarge]:p.Padding.xxlargeBottom};c();var Ll=x(O());var LR=Ll.default.createContext({current:new Map});function NR(e){let{original:t,modified:o,children:n}=e,r=Ll.default.useRef(new Map),i=Ll.default.useMemo(()=>t===void 0?new Map:DS(t||Nc.create(),o),[t,o]);return r.current=i,Ll.default.createElement(LR.Provider,{value:r},n)}function DR(e){let t=Ll.default.useContext(LR);return t.current instanceof Map?t.current.get(e.key):t.current}c();var Xo=x(O());z();function zR(e){let{hasConflictHead:t,hasConflictBase:o,children:n}=e,[,r]=R(lN);return!t&&!o?Xo.createElement(Xo.Fragment,null,n):Xo.createElement(b,{style:r.container},Xo.createElement(b,{style:[r.highlighting,o?r.highlightingMain:r.highlightingCurrent]},o&&!t&&Xo.createElement(Xo.Fragment,null,Xo.createElement(b,{style:[r.verticalLine,{bottom:0,top:-(p.small+E.BUTTON_S/2)}]}),Xo.createElement(b,{style:[r.horizontalLine,{top:-(p.small+E.BUTTON_S/2)}]})),!o&&t&&Xo.createElement(Xo.Fragment,null,Xo.createElement(b,{style:[r.verticalLine,{bottom:-(p.small+E.BUTTON_S/2),top:0}]}),Xo.createElement(b,{style:[r.horizontalLine,{top:0}]}),Xo.createElement(b,{style:[r.horizontalLine,{bottom:-(p.small+E.BUTTON_S/2)}]}),Xo.createElement(b,{style:[r.conflictBadge,{top:-gy.medium/2}]},Xo.createElement(io,{kind:"secondary",icon:S.Conflict})))),n)}var AR=p.medium+gy.medium/2,BR=2,lN=L.create({container:{position:"relative",pointerEvent:"none"},highlighting:{position:"absolute",inset:0},highlightingMain:e=>({backgroundColor:my(e.colors.merge.muted,.5)}),highlightingCurrent:e=>({backgroundColor:my(e.colors.primary.muted,.5)}),conflictBadge:{position:"absolute",left:p.medium},verticalLine:e=>({position:"absolute",left:AR,width:BR,backgroundColor:e.colors.border.main}),horizontalLine:e=>({position:"absolute",left:AR,height:BR,width:140,backgroundColor:e.colors.border.main})});c();var Zn=x(O());function VR(e){let{node:t,editor:o,children:n}=e,{blockLayoutComponent:r}=Zn.useContext(ie),i=vr.hasBlockConflictFrom(t,"base"),a=vr.hasBlockConflictFrom(t,"head");return Zn.createElement(Zn.Fragment,null,i?Zn.createElement(r,{renderMode:"centered"},Zn.createElement(WR,{node:t,editor:o,style:[p.Margin.smallBottom,p.Margin.mediumTop]})):null,Zn.createElement(zR,{hasConflictBase:i,hasConflictHead:a},n),a?Zn.createElement(r,{renderMode:"centered"},Zn.createElement(WR,{node:t,editor:o,style:[p.Margin.smallTop,p.Margin.mediumBottom]})):null)}function WR(e){let{node:t,editor:o,style:n}=e,[,r]=R(N),i=()=>{o.change(a=>{vr.pickConflict(a,t.key)})};return Zn.createElement(te,{editable:!1,style:[v.directionRow,n]},vr.isConflictKeyFrom(t.key,"base")?Zn.createElement(D,{icon:Ke(S.Check,{style:[r.merge]}),rounded:!0,size:"small",kind:"secondary",style:[p.Margin.mediumRight],title:"Pick recent edits made on the main content",tooltipPreferredPlacement:"top",onPress:i},"Keep primary"):Zn.createElement(D,{icon:Ke(S.Check,{style:[r.primary]}),rounded:!0,size:"small",kind:"secondary",title:"Pick edits made on this change request",tooltipPreferredPlacement:"bottom",onPress:i},"Keep changed"))}var uN=[Nt,Hr],dN=[to,Ct,zn];function ye(e){let{tag:t,contentProps:o={},commandIcon:n,commandIconAnimatedAngle:r,palette:i,...a}=e,{node:s,parent:l,ancestors:u,editor:d,attributes:m,isFocused:f,children:g,isSelectedBlock:y}=a,{readOnly:h}=d,C=DR(s),w=El({node:s,ancestors:u,diff:C}),{blockLayoutComponent:k,rightGutterComponent:I,onBlockHover:_}=Pt.useContext(ie),P=Fe(),M=B.useInteractiveState({onHoverIn:()=>{_==null||_(s.key)},onHoverOut:()=>{_==null||_(null)}}),T=!h&&f&&mN(d.value,s),[{dragging:W},H]=Ki({type:"block",item:{type:"block",id:s.key,blockType:s.type,previewLabel:"Move block"},canDrag:()=>!h,collect:G=>({dragging:G.isDragging()})}),q=Pt.createElement(te,{"data-block-content":s.key,...o,style:[v.flex1,o.style,y&&tg.blockSelectionHalo]},g);return h?Pt.createElement(k,{node:s==null?void 0:s.key,renderMode:w.renderMode,interactive:M},Pt.createElement(_a.View,{isPDF:P},Pt.createElement(te,{tag:t,...m,...M.events,style:[(l.object!=="block"||l.type!==Bc)&&w.blockStyle]},q,I&&w.rightGutterComponent?Pt.createElement(I,{nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,buttonSize:w.rightGutterComponent.size,style:w.rightGutterComponent.style,readOnly:h}):null))):Pt.createElement(VR,{node:s,editor:d},Pt.createElement(k,{node:s==null?void 0:s.key,renderMode:w.renderMode,interactive:M},Pt.createElement(_a.View,{isPDF:P},Pt.createElement(te,{tag:t,...m,style:[v.directionRow,tg.block,w.blockStyle,W&&ce.translucent]},C&&w.diffLine&&C.type!=="unmodified"?Pt.createElement($f,{diff:C,highlighted:T||M.hovered,...w.diffLine}):null,w.controlsButton?Pt.createElement(RR,{editor:d,nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,palette:i,size:w.controlsButton.size,dragHandleRef:H,icon:n,animatedAngle:r,style:[w.controlsButton.style]}):null,q,I&&w.rightGutterComponent?Pt.createElement(I,{nodeKey:s.key,visible:T||M.hovered,shortcutsActive:T&&f,buttonSize:w.rightGutterComponent.size,style:w.rightGutterComponent.style,readOnly:h}):null,w.diffBefore?Pt.createElement(qR,{style:w.diffBefore.style,size:w.diffBefore.size}):null,w.beforeLine?Pt.createElement(Iv,{editor:d,parent:l,node:s,position:"before",...w.beforeLine}):null,w.diffAfter?Pt.createElement(qR,{style:w.diffAfter.style,size:w.diffAfter.size}):null,w.afterLine?Pt.createElement(Iv,{editor:d,parent:l,node:s,position:"after",...w.afterLine}):null))))}function qR(e){let{style:t,size:o}=e;return Pt.createElement(te,{editable:!1,style:[t,tg.diffRemoved]},Pt.createElement(Fn,{tooltip:"A block has been removed in this change request",preferredPlacement:"top"},(n,r)=>Pt.createElement(B.TouchableOpacity,{ref:r,style:tg.diffContainer,...n.events},Pt.createElement(S.DiffRemoved,{size:o,style:[Yf.deleted]}))))}function mN(e,t){let{document:o,selection:n}=e;if(n.isExpanded||pa.includes(t.type))return!1;if(dN.includes(t.type))return!0;let i=(de.isTextRange(n)&&n.focusKey&&o.getAncestors(n.focusKey)||mm.create()).toArray().filter(a=>a.object!=="document"&&a.object!=="inline"&&a.type&&!uN.includes(a.type));return!(i.length>0&&i[i.length-1].key!==t.key)}var tg=F.create({block:{position:"relative",maxWidth:900},blockSelectionHalo:{backgroundColor:"rgba(35, 131, 226, 0.14)",outlineWidth:"2px",outlineStyle:"solid",outlineColor:"rgba(35, 131, 226, 0.24)",outlineOffset:"-2px"},diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5},diffRemoved:{paddingTop:(fi*2-E.ICON_XS)/2,height:fi*2,position:"absolute"}});c();var mo=x(O());z();function FR(e){let{node:t,parent:o,editor:n,children:r,placeholder:i}=e,{selection:a}=n.value,s=de.isTextRange(a)&&a.hasOnlyNodeFocused(t),l=_e(o,An),[u,d]=Uf(n,o,t),[,m]=R(pN),[,f]=R(N);return mo.createElement(mo.Fragment,null,u,mo.createElement(ye,{...e,palette:d,commandIcon:S.Plus,commandIconAnimatedAngle:45},mo.createElement(te,{editable:!1,pointerEvents:"none",style:[m.insertPlaceholder,v.directionRow,v.alignCenter,v.wrap,s||i?ce.visible:ce.hidden]},s?mo.createElement(mo.Fragment,null,mo.createElement(b,null,mo.createElement(A,{style:[f.Body,f.textMuted]},"Type")),mo.createElement(Ur,{style:[p.Margin.smallHorizontal],size:"medium",shortcut:We.EDITOR_PALETTE}),mo.createElement(b,null,mo.createElement(A,{style:[f.Body,f.textMuted]},"for commands,")),mo.createElement(Ur,{style:[p.Margin.smallHorizontal],size:"medium",shortcut:We.EDITOR_INLINE_PALETTE}),mo.createElement(b,null,mo.createElement(A,{style:[f.Body,f.textMuted]},"for inline commands",l?" or paste a link to embed content":null,"."))):mo.createElement(mo.Fragment,null,wm(o)?mo.createElement(b,null,mo.createElement(A,{style:[f.Body,f.textMuted]},i)):null)),r))}var pN=L.create({insertPlaceholder:{position:"absolute"}});c();var GR=x(O());function ng(e,t){return GR.useMemo(()=>fN(e.value.document,t),[e,t])}function fN(e,t){let o=e.getPath(t);return o?o[0]<gN(e):!1}var og=new WeakMap;function gN(e){if(og.has(e))return og.get(e);let t=800,o=0;for(let n=0;n<e.nodes.size;n++){let r=e.nodes.get(n);if(!r)break;if(o+=ac(r,e,{blockSpacing:{paddingTop:p.medium,paddingBottom:p.medium}}),o>t)return og.set(e,n),n}return og.set(e,e.nodes.size),e.nodes.size}c();var rg=x(O());z();function Nl(e){let{style:t}=e,[,o]=R(N);return rg.default.createElement(Yc,{style:t},rg.default.createElement(A,{style:[o.Label,o.textMuted]},"Exit with"," ",rg.default.createElement(Ur,{kind:"muted",shortcut:We.EDITOR_EXIT_BLOCK})))}c();var Dl=x(O());z();var Al=Dl.forwardRef(function(t,o){let{node:n,children:r,editor:i,isFocused:a,isSelected:s,attributes:l,onPress:u,style:d}=t,{readOnly:m}=i,f=B.useInteractiveState(),[,g]=R(hN);return m?u?Dl.createElement(Te,{style:[g.frameInlineVoid],onPress:u},r):Dl.createElement(b,{style:[g.frameInlineVoid]},r):Dl.createElement(Te,{ref:o,...l,...f.events,style:[g.frameInlineVoid,f.hovered&&g.frameEditableHovered,s&&g.frameSelected,a&&g.frameFocused,d],onPress:y=>{i.change(h=>{h.collapseToStartOf(n).focus()}),u&&u(y)}},r)}),hN=L.create({frameInlineVoid:e=>({borderWidth:2,borderColor:"transparent",borderRadius:e.radiuses.medium,textAlignVertical:"middle"}),frameEditableHovered:e=>({borderColor:e.colors.primary.muted}),frameSelected:e=>({borderColor:e.colors.primary.muted}),frameFocused:e=>({borderColor:e.colors.primary.main})});c();var xt=x(O());z();var Bt=xt.forwardRef(function(t,o){let{onPress:n,onSelect:r=()=>{s.change(m=>{m.collapseToStartOf(i).focus()})},node:i,children:a,editor:s,isFocused:l,selectable:u=!0}=t,{readOnly:d}=s;return xt.createElement(Tv,{ref:o,onPress:n,readOnly:d,selected:l,selectable:u,onSelect:r},a)}),Tv=xt.forwardRef(function(t,o){let{onPress:n,selected:r,readOnly:i=!1,selectable:a=!0,style:s,children:l,onSelect:u}=t,d=B.useInteractiveState({hoverDelayIn:50}),[,m]=R(yN);if(i)return xt.createElement(xt.Fragment,null,l);let f=y=>{y.stopPropagation(),u()},g=xt.createElement(b,{ref:o,style:s},l,xt.createElement(b,{style:[m.frameBorder,m.frameBorderRight,d.hovered&&m.frameBorderHovered,r&&m.frameBorderRightSelected],pointerEvents:"none"}),xt.createElement(b,{style:[m.frameBorder,m.frameBorderLeft,d.hovered&&m.frameBorderHovered,r&&m.frameBorderLeftSelected],pointerEvents:"none"}),xt.createElement(b,{style:[m.frameBorder,m.frameBorderTop,d.hovered&&m.frameBorderHovered,r&&m.frameBorderTopSelected],pointerEvents:"none"}),xt.createElement(b,{style:[m.frameBorder,m.frameBorderBottom,d.hovered&&m.frameBorderHovered,r&&m.frameBorderBottomSelected],pointerEvents:"none"}),a?xt.createElement(xt.Fragment,null,xt.createElement(Lt,{onPress:f},xt.createElement(b,{...d.events,style:[m.hoverableFrameBorder,m.hoverableFrameBorderRight]})),xt.createElement(Lt,{onPress:f},xt.createElement(b,{...d.events,style:[m.hoverableFrameBorder,m.hoverableFrameBorderLeft]})),xt.createElement(Lt,{onPress:f},xt.createElement(b,{...d.events,style:[m.hoverableFrameBorder,m.hoverableFrameBorderTop]})),xt.createElement(Lt,{onPress:f},xt.createElement(b,{...d.events,style:[m.hoverableFrameBorder,m.hoverableFrameBorderBottom]}))):null);return n?xt.createElement(Te,{onPress:n},g):g}),ig=18,it=8,fs=4,ag=2,yN=L.create({frameBorder:{position:"absolute"},hoverableFrameBorder:{position:"absolute",cursor:"pointer"},frameBorderHovered:e=>({backgroundColor:e.colors.primary.muted}),hoverableFrameBorderTop:{top:-it/2,left:-it/2,right:-it/2,height:ig},frameBorderTop:{top:-it/2,left:-it/2,right:-it/2,height:it,borderTopLeftRadius:fs,borderTopRightRadius:fs},frameBorderTopSelected:e=>({backgroundColor:"transparent",borderTopColor:e.colors.primary.main,borderTopWidth:ag}),hoverableFrameBorderBottom:{bottom:-it/2,left:-it/2,right:-it/2,height:ig},frameBorderBottom:{bottom:-it/2,left:-it/2,right:-it/2,height:it,borderBottomLeftRadius:fs,borderBottomRightRadius:fs},frameBorderBottomSelected:e=>({backgroundColor:"transparent",borderBottomColor:e.colors.primary.main,borderBottomWidth:ag}),hoverableFrameBorderLeft:{top:-it/2,bottom:-it/2,left:-it/2,width:ig},frameBorderLeft:{top:-it/2,bottom:-it/2,left:-it/2,width:it,borderBottomLeftRadius:fs,borderTopLeftRadius:fs},frameBorderLeftSelected:e=>({backgroundColor:"transparent",borderLeftColor:e.colors.primary.main,borderLeftWidth:ag}),hoverableFrameBorderRight:{top:-it/2,bottom:-it/2,right:-it/2,width:ig},frameBorderRight:{top:-it/2,bottom:-it/2,right:-it/2,width:it,borderTopRightRadius:fs,borderBottomRightRadius:fs},frameBorderRightSelected:e=>({backgroundColor:"transparent",borderRightColor:e.colors.primary.main,borderRightWidth:ag})});c();var sg=x(O());function cg(e,t){let[,o]=R(N),[,n]=R(vN),{navigateToHash:r}=we(),{sections:i,active:a,setActive:s}=sg.default.useContext($r),l=B.useInteractiveState(),u=i.get(e.key),d=()=>{u&&s(a!==u?u:null)},m=()=>{u&&(r(u,{scroll:!0}),d())},f={accessibilityRole:"presentation"};return{anchorElement:sg.default.createElement(B.Text,{href:`#${u}`,onPress:m,style:[n.anchorLink,p.Margin.smallLeft,a===u||l.focused||l.hovered?ce.visible:ce.hidden],inactiveStyle:o.textMuted,activeStyle:o.primary,accessibilityLabel:t.accessibilityLabel},sg.default.createElement(S.Hash,{size:t.anchorIconSize||E.ICON_S,...f})),anchoredBlockId:u,anchoredBlockInteractiveState:l,onAnchoredBlockPress:()=>{t.onBlockPress&&t.onBlockPress(),d()}}}var vN=L.create({anchorLink:{display:"inline-flex",alignItems:"center"}});c();var XR=x(O());function KR(e){let{notify:t,notifyProgress:o,notifyOrUpdate:n,close:r}=ao(),{logAnalyticsEvent:i}=e;return XR.useMemo(()=>{function a(u){om(u),t({kind:"danger",title:"Error while pasting content",icon:S.Alert,details:Ti(u,"Please try again or contact support if the problem persists.")})}function s(u){n({id:"upload-files",title:`Uploading ${u} file${u!==1?"s":""}\u2026`,details:"This might take a moment.",kind:"default",timeout:0,closeable:!1,icon:Se})}function l(u,d,m){let f=Zc(u),g=0,y=async(h,C)=>{var w;if(qa(h))return{kind:"url",url:h};if(pS(h)){let k=await(await fetch(h)).blob(),I=(w=h.split(";")[0])==null?void 0:w.split("/")[1],_=(C==null?void 0:C.fileName)||`unknown.${I}`,P=new File([k],_);return g+=1,s(g),(await e.uploadFiles([P]))[0]}return null};if(f.type==="html"&&f.html!==null)return u1(f.html,{...hy,resolveFile:y}).then(({document:h})=>LS(h)&&f.text?yy(f.text).then(({document:C})=>({document:C,type:"text"})):{document:h,type:"html"}).then(({document:h,type:C})=>{m.change(k=>{k.insertDocument(h)}),r("upload-files");let w=HR(C==="html"?f.html:f.text,C);i(ld(u,C,{document:h,sourceIncludes:w}))}).catch(h=>{a(h)}),!0;if(f.type==="text"&&f.text!==null)return yy(f.text,{...hy,resolveFile:y}).then(({document:h})=>{m.change(w=>{w.insertDocument(h)}),r("upload-files");let C=HR(f.text,"text");i(ld(u,"text",{document:h,sourceIncludes:C}))}).catch(h=>{a(h)}),!0;if(f.type==="files"&&typeof f.files<"u"){if(!f.files||f.files.length===0)return;o(e.uploadFiles(f.files),{title:`Uploading ${f.files.length} files\u2026`,details:"This might take a moment.",kind:"default"}).then(h=>{if(!f.files)return;if(h.length===0){t({kind:"danger",title:"Some files failed to upload, please try again",icon:S.Alert});return}let C=f.files.every(w=>Fa(w));m.change(w=>{if(C){let k=Fo.createImagesBlock(h),{startBlock:I}=w.value;if(_e(I,k.type)){ry(w,Fo.createImagesBlock(h));return}if(!Cm.includes(I.type)){t({kind:"info",title:"Cannot insert an image here",icon:S.InfoCircle});return}h.reduce((P,M)=>P.insertInline(Fo.createImageInline(M)),w);return}h.forEach(k=>{if(k.kind!=="file")return;let I=_m.createFileBlock(k);if(_e(w.value.document.getParent(w.value.startBlock.key),I.type)){ry(w,I);return}t({kind:"info",title:"Cannot insert a file here",icon:S.InfoCircle})})}),i(ld(u,"files",{uploadedFiles:h==null?void 0:h.length,sourceIncludes:["file"]}))}).catch(h=>{a(h)})}}return{onPaste:l,onDrop:l}},[t,o])}function HR(e,t){let o=[];switch(t){case"text":e.includes("![")&&o.push("image"),e.match(/\|\s*\:?---/)&&o.push("table");break;case"html":e.includes("<img")&&o.push("image"),e.includes("<table")&&o.push("table");break}return o}function ld(e,t,{document:o=void 0,uploadedFiles:n=0,sourceIncludes:r=[]}={}){let i=e.clipboardData,a=new Set,s=0;return o&&o.forEachDescendant(l=>{s+=1,l.type&&a.add(l.type)}),{type:"edit_paste_content",paste:e.type,sourceTypes:[...(i==null?void 0:i.types)||[]],sourceIncludes:[...new Set(r)],transformType:t,transformSize:s,uploadedFiles:n,transformNodes:[...a]}}c();var Mv=x(li());var jR={onKeyDown:bN};function bN(e,t){if((0,Mv.default)("enter",e)||(0,Mv.default)("shift+enter",e)){let{value:o}=t,{startBlock:n,startInline:r,startText:i}=o;if(r&&r.isVoid&&i){let a=o.document.getNextText(i.key);return a?(t.collapseToStartOf(a),t):void 0}if(n&&n.isVoid)return St(t),t}}c();var Lv=x(O()),lg="selectionHighlighting",UR={renderMark:CN};function CN(e){let{mark:t}=e;switch(t.type){case lg:return Lv.createElement(SN,{...e})}}function SN(e){let{attributes:t,children:o}=e;return Lv.createElement("span",{...t,style:{backgroundColor:"Highlight",color:"HighlightText"}},o)}c();function YR(e){e.value.decorations.forEach(t=>{var o;(o=t.marks)!=null&&o.some(n=>n.type===lg)&&e.removeValueDecoration(t)})}function ug(e,t=e.value.selection){de.isTextRange(t)&&e.setValueDecoration(de.create({anchorKey:t.anchorKey,anchorOffset:t.anchorOffset,focusKey:t.focusKey,focusOffset:t.focusOffset,marks:[{type:lg,data:{}}],isAtomic:!0}))}c();var ZR=x(O());function uo(e){let{contentReferenceContext:t}=ZR.useContext(ie);return Un(e,t)}c();var $R={shouldNodeComponentUpdate:wN};function wN(e,t){let o=e.parent.nodes.size-1,n=e.parent.getChildIndex(e.node.key),r=t.parent.getChildIndex(e.node.key);return(n===o||r===o)&&r!==n?!0:null}c();var Bl=x(O());z();function $n(e){let[,t]=R(kN),[,o]=R(N);return Bl.createElement(b,{style:[t.blockLoading,p.Padding.largeHorizontal,p.Padding.mediumVertical,v.directionRow,v.alignCenter]},Bl.createElement(b,null,Bl.createElement(Se,{size:E.ICON_M})),Bl.createElement(b,{style:[p.Margin.mediumLeft]},Bl.createElement(A,{style:[o.Caption,o.textMid]},"Loading...")))}var kN=L.create({blockLoading:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large})});c();var JR=x(O());c();var Jr=x(O());var QR={en:{something_wrong:"Something went wrong.",reload:"Reload",let_us_know:"Let us know what happened",we_have_been_notified:"Our team has been notified. If you'd like to help, you can describe what happened below.",search:"Search",search_ask:"Ask",search_placeholder:"Search content\u2026",search_placeholder_ask:"Ask a question\u2026",search_blankslate:"Type something to search",search_blankslate_ai:"We'll answer the question with an AI model trained on the content.",search_blankslate_recent_searches:"Recent searches",search_blankslate_recent_questions:"Recently asked",search_blankslate_recommended_questions:"You might be interested in",search_blankslate_query:'No results for "${1}"',search_answer_sources:"Answer based on ${1} sources",search_answer_copy:"Copy answer",search_answer_feedback_upvote:"Mark as useful",search_answer_feedback_downvote:"Mark as not relevant",search_answer_feedback_title:"Thanks for your feedback!",search_answer_feedback_details:"This will help us improve the answering engine.",search_answer_loading:"Analysing the content to answer your question\u2026",search_answer_loading_wait:"It might take a few more seconds.",search_answer_none_title:"No answer found for your question.",search_answer_none_details:"It can indicate that no content is relevant to your question or answer cannot be evaluated with enough confidence.",search_answer_error_title:"Unexpected error",search_answer_error_details:"Something went wrong. Please try again later.",search_goto_section:"Go to section",search_goto_page:"Go to page",page_not_found:"Page not found",back_to_home:"Back to front page",page_not_found_long:"Sorry, but the page you were looking for could not be found.",outline:"On this page",last_modified:"Last modified ${1}",was_it_helpful:"Was this page helpful?",poor_content:"Poor content",ok_content:"OK content",excellent_content:"Excellent content",powered_by:"Powered By ${1}",previous:"Previous",next:"Next",export_pdf:"Export as PDF",copy_link:"Copy link",edit_on_github:"Edit on ${1}",page_articles_section:"Here are the articles in this section:",main:"Main",cookie_policy:"cookie policy",cookie_prompt:"This site uses cookies to deliver its service and to analyse traffic. By browsing this site, you accept the ${1}.",cookies:"Cookies",reject_all:"Reject all",new_page:"New page",untitled_page:"Untitled page",page_description:"Page description (optional)",connection_lost:"Connection lost",network_troubleshooting:"Network troubleshooting",device_offline:"Your device might be offline, or GitBook might be experiencing issues.",missing_content_title:"Oops, something is missing.",missing_content_description:"We could not find the original source to display this content.",table_of_contents:"Table of contents",page_outline:"Page outline"},fr:{something_wrong:"Il y a eu un probl\xE8me.",reload:"Actualiser",let_us_know:"Dites-nous ce qui s'est pass\xE9",we_have_been_notified:"Notre \xE9quipe a \xE9t\xE9 inform\xE9e. Si vous souhaitez nous aider, vous pouvez d\xE9crire ce qui s'est pass\xE9 ci-dessous.",search:"Rechercher",search_ask:"Poser une question",search_placeholder:"Rechercher dans le contenu\u2026",search_placeholder_ask:"Poser une question\u2026",search_blankslate:"Tapez quelque chose pour rechercher",search_blankslate_ai:"Nous r\xE9pondrons \xE0 la question avec un mod\xE8le d'IA entra\xEEn\xE9 sur le contenu.",search_blankslate_recent_searches:"Recherches r\xE9centes",search_blankslate_recent_questions:"Questions r\xE9centes",search_blankslate_recommended_questions:"Vous pourriez \xEAtre int\xE9ress\xE9 par",search_blankslate_query:'Aucun r\xE9sultat pour "${1}"',search_answer_sources:"R\xE9ponse bas\xE9e sur ${1} sources",search_answer_copy:"Copier la r\xE9ponse",search_answer_feedback_upvote:"Marquer comme utile",search_answer_feedback_downvote:"Marquer comme non pertinent",search_answer_feedback_title:"Merci pour votre retour !",search_answer_feedback_details:"Cela nous aidera \xE0 am\xE9liorer le moteur de r\xE9ponse.",search_answer_loading:"Analyse du contenu pour r\xE9pondre \xE0 votre question\u2026",search_answer_loading_wait:"Cela peut prendre quelques secondes suppl\xE9mentaires.",search_answer_none_title:"Aucune r\xE9ponse trouv\xE9e pour votre question.",search_answer_none_details:"Cela peut indiquer qu'aucun contenu n'est pertinent pour votre question ou que la r\xE9ponse ne peut pas \xEAtre \xE9valu\xE9e avec suffisamment de confiance.",search_answer_error_title:"Erreur inattendue",search_answer_error_details:"Une erreur s'est produite. Veuillez r\xE9essayer plus tard.",search_goto_section:"Aller \xE0 la section",search_goto_page:"Aller \xE0 la page",page_not_found:"Page non trouv\xE9e",back_to_home:"Retour \xE0 la page d'accueil",page_not_found_long:"D\xE9sol\xE9, mais la page que vous cherchiez n'a pas pu \xEAtre trouv\xE9e.",outline:"Sommaire",last_modified:"Derni\xE8re mise \xE0 jour ${1}",was_it_helpful:"Cette page vous a t-elle aid\xE9e ?",poor_content:"Contenu m\xE9diocre",ok_content:"Contenu OK",excellent_content:"Contenu excellent",powered_by:"Propuls\xE9 par ${1}",previous:"Pr\xE9c\xE9dent",next:"Suivant",export_pdf:"Exporter en PDF",copy_link:"Copier le lien",edit_on_github:"\xC9diter sur ${1}",page_articles_section:"Voici les articles de cette section :",main:"Principale",cookie_policy:"politique en mati\xE8re de cookies",cookie_prompt:"Ce site utilise des cookies pour fournir son service et analyser le trafic. En naviguant sur ce site, vous acceptez le ${1}.",cookies:"Cookies",reject_all:"Rejeter tout",connection_lost:"Hors connexion",network_troubleshooting:"D\xE9pannage r\xE9seau",device_offline:"Votre appareil est hors-ligne, ou GitBook rencontre des probl\xE8mes.",missing_content_title:"Oups, il manque quelque chose.",missing_content_description:"Nous n'avons pas pu trouver la source d'origine pour afficher ce contenu.",table_of_contents:"Table des mati\xE8res",page_outline:"Sommaire de la page"},es:{something_wrong:"Algo sali\xF3 mal.",reload:"Recarga",let_us_know:"Cu\xE9ntanos lo que ha sucedido",we_have_been_notified:"Nuestro equipo ha sido notificado. Si quieres ayudar, puedes describir lo sucedido a continuaci\xF3n.",search:"Buscar",search_ask:"Hacer una pregunta",search_placeholder:"Buscar en el contenido\u2026",search_placeholder_ask:"Hacer una pregunta\u2026",search_blankslate:"Escribe algo para buscar",search_blankslate_ai:"Responderemos a la pregunta con un modelo de IA entrenado en el contenido.",search_blankslate_recent_searches:"B\xFAsquedas recientes",search_blankslate_recent_questions:"Preguntas recientes",search_blankslate_recommended_questions:"Quiz\xE1s te interese",search_blankslate_query:'No se encontraron resultados para "${1}"',search_answer_sources:"Respuesta basada en ${1} fuentes",search_answer_copy:"Copiar respuesta",search_answer_feedback_upvote:"Marcar como \xFAtil",search_answer_feedback_downvote:"Marcar como no relevante",search_answer_feedback_title:"\xA1Gracias por tu retroalimentaci\xF3n!",search_answer_feedback_details:"Esto nos ayudar\xE1 a mejorar el motor de respuesta.",search_answer_loading:"Analizando el contenido para responder tu pregunta\u2026",search_answer_loading_wait:"Esto puede tomar unos segundos m\xE1s.",search_answer_none_title:"No se encontr\xF3 respuesta para tu pregunta.",search_answer_none_details:"Esto puede indicar que no hay contenido relevante para tu pregunta o que la respuesta no se puede evaluar con suficiente confianza.",search_answer_error_title:"Error inesperado",search_answer_error_details:"Ha ocurrido un error. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.",search_goto_section:"Ir a la secci\xF3n",search_goto_page:"Ir a la p\xE1gina",page_not_found:"P\xE1gina no encontrada",back_to_home:"Volver a la primera p\xE1gina",page_not_found_long:"Lo sentimos, pero no se ha podido encontrar la p\xE1gina que buscaba.",outline:"Esquema",last_modified:"\xDAltima actualizaci\xF3n ${1}",was_it_helpful:"\xBFTe ha sido \xFAtil esta p\xE1gina?",poor_content:"Contenido mediocre",ok_content:"Contenido OK",excellent_content:"Contenido excelente",powered_by:"Accionado por ${1}",previous:"Anterior",next:"Pr\xF3ximo",export_pdf:"Exportar como PDF",copy_link:"Copiar enlace",edit_on_github:"Editar en ${1}",page_articles_section:"Aqu\xED est\xE1n los art\xEDculos de esta secci\xF3n:",main:"Principal",cookie_policy:"pol\xEDtica de cookies",cookie_prompt:"Este sitio utiliza cookies para prestar su servicio y analizar el tr\xE1fico. Al navegar por este sitio, usted acepta la ${1}.",cookies:"Cookies",reject_all:"Rechazar todo",connection_lost:"Desconectado",network_troubleshooting:"Resoluci\xF3n de problemas de red",device_offline:"Su dispositivo puede estar desconectado, o GitBook esta experimentando problemas.",missing_content_title:"Ups, algo falta.",missing_content_description:"No pudimos encontrar la fuente original para mostrar este contenido.",table_of_contents:"Tabla de contenido",page_outline:"\xCDndice de p\xE1gina"},zh:{something_wrong:"\u51FA\u4E86\u70B9\u95EE\u9898\u3002",reload:"\u91CD\u88C5",let_us_know:"\u8BA9\u6211\u4EEC\u77E5\u9053\u53D1\u751F\u4E86\u4EC0\u4E48\u4E8B",we_have_been_notified:"\u6211\u4EEC\u7684\u56E2\u961F\u5DF2\u7ECF\u63A5\u5230\u901A\u77E5\u3002\u5982\u679C\u4F60\u60F3\u5E2E\u5FD9\uFF0C\u4F60\u53EF\u4EE5\u5728\u4E0B\u9762\u63CF\u8FF0\u53D1\u751F\u4E86\u4EC0\u4E48\u3002",search:"\u641C\u7D22",search_ask:"\u63D0\u95EE",search_placeholder:"\u641C\u7D22\u5185\u5BB9\u2026",search_placeholder_ask:"\u63D0\u95EE\u2026",search_blankslate:"\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",search_blankslate_ai:"\u6211\u4EEC\u5C06\u7528\u8BAD\u7EC3\u8FC7\u7684 AI \u6A21\u578B\u6765\u56DE\u7B54\u4F60\u7684\u95EE\u9898\u3002",search_blankslate_recent_searches:"\u6700\u8FD1\u641C\u7D22",search_blankslate_recent_questions:"\u6700\u8FD1\u63D0\u95EE",search_blankslate_recommended_questions:"\u4F60\u53EF\u80FD\u611F\u5174\u8DA3\u7684\u95EE\u9898",search_blankslate_query:'\u6CA1\u6709\u627E\u5230\u4E0E "${1}" \u76F8\u5173\u7684\u5185\u5BB9',search_answer_sources:"\u56DE\u7B54\u57FA\u4E8E ${1} \u6765\u6E90",search_answer_copy:"\u590D\u5236\u56DE\u7B54",search_answer_feedback_upvote:"\u6807\u8BB0\u4E3A\u6709\u7528",search_answer_feedback_downvote:"\u6807\u8BB0\u4E3A\u65E0\u7528",search_answer_feedback_title:"\u611F\u8C22\u60A8\u7684\u53CD\u9988\uFF01",search_answer_feedback_details:"\u8FD9\u5C06\u5E2E\u52A9\u6211\u4EEC\u6539\u8FDB\u56DE\u7B54\u5F15\u64CE\u3002",search_answer_loading:"\u6B63\u5728\u5206\u6790\u5185\u5BB9\u4EE5\u56DE\u7B54\u60A8\u7684\u95EE\u9898\u2026",search_answer_loading_wait:"\u8FD9\u53EF\u80FD\u9700\u8981\u51E0\u79D2\u949F\u3002",search_answer_none_title:"\u6CA1\u6709\u627E\u5230\u4E0E\u60A8\u7684\u95EE\u9898\u76F8\u5173\u7684\u56DE\u7B54\u3002",search_answer_none_details:"\u8FD9\u53EF\u80FD\u662F\u7531\u4E8E\u6CA1\u6709\u4E0E\u60A8\u7684\u95EE\u9898\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u6216\u8005\u56DE\u7B54\u4E0D\u80FD\u88AB\u5145\u5206\u4FE1\u4EFB\u3002",search_answer_error_title:"\u610F\u5916\u9519\u8BEF",search_answer_error_details:"\u53D1\u751F\u4E86\u4E00\u4E2A\u9519\u8BEF\u3002\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002",search_goto_section:"\u8DF3\u8F6C\u5230\u7AE0\u8282",search_goto_page:"\u8DF3\u8F6C\u5230\u9875\u9762",page_not_found:"\u672A\u627E\u5230\u7F51\u9875",back_to_home:"\u8FD4\u56DE\u9996\u9875",page_not_found_long:"\u62B1\u6B49\uFF0C\u60A8\u8981\u627E\u7684\u9875\u9762\u65E0\u6CD5\u627E\u5230\u3002",outline:"\u5927\u7EB2",last_modified:"\u6700\u8FD1\u66F4\u65B0 ${1}",was_it_helpful:"\u6B64\u9875\u9762\u662F\u5426\u6709\u5E2E\u52A9\uFF1F",poor_content:"\u5185\u5BB9\u5DEE",ok_content:"\u597D\u7684\u5185\u5BB9",excellent_content:"\u4F18\u79C0\u7684\u5185\u5BB9",powered_by:"\u7531 ${1} \u63D0\u4F9B\u652F\u6301",previous:"\u4EE5\u524D",next:"\u4E0B\u4E00\u4E2A",export_pdf:"\u5BFC\u51FA\u4E3APDF",copy_link:"\u590D\u5236\u94FE\u63A5",edit_on_github:"\u5728 ${1} \u4E0A\u7F16\u8F91",page_articles_section:"\u4EE5\u4E0B\u662F\u672C\u8282\u4E2D\u7684\u6587\u7AE0\uFF1A",main:"\u4E3B\u8981",cookie_policy:"cookie\u653F\u7B56",cookie_prompt:"\u672C\u7F51\u7AD9\u4F7F\u7528cookies\u6765\u63D0\u4F9B\u670D\u52A1\u548C\u5206\u6790\u6D41\u91CF\u3002\u901A\u8FC7\u6D4F\u89C8\u672C\u7F51\u7AD9\uFF0C\u60A8\u63A5\u53D7\u6211\u4EEC\u7684${1}\u3002",cookies:"Cookies",reject_all:"\u62D2\u7EDD\u6240\u6709",connection_lost:"\u8FDE\u63A5\u4E22\u5931",network_troubleshooting:"\u7F51\u7EDC\u6545\u969C\u6392\u9664",device_offline:"\u60A8\u7684\u8BBE\u5907\u53EF\u80FD\u5904\u4E8E\u79BB\u7EBF\u72B6\u6001\uFF0C\u6216\u8005 GitBook \u53EF\u80FD\u9047\u5230\u95EE\u9898\u3002",missing_content_title:"\u54CE\u5440\uFF0C\u6709\u4E9B\u4E1C\u897F\u4E22\u5931\u4E86\u3002",missing_content_description:"\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u539F\u59CB\u6765\u6E90\u4EE5\u663E\u793A\u6B64\u5185\u5BB9\u3002",table_of_contents:"\u76EE\u5F55",page_outline:"\u9875\u9762\u5927\u7EB2"},ja:{something_wrong:"\u4F55\u304B\u554F\u984C\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",reload:"\u30EA\u30ED\u30FC\u30C9",let_us_know:"\u4F55\u304C\u8D77\u3053\u3063\u305F\u306E\u304B\u3092\u6559\u3048\u3066\u304F\u3060\u3055\u3044",we_have_been_notified:"\u79C1\u305F\u3061\u306E\u30C1\u30FC\u30E0\u306F\u901A\u77E5\u3092\u53D7\u3051\u307E\u3057\u305F\u3002\u3054\u5354\u529B\u3044\u305F\u3060\u3051\u308B\u5834\u5408\u306F\u3001\u4F55\u304C\u8D77\u3053\u3063\u305F\u304B\u3092\u4EE5\u4E0B\u306B\u3054\u8A18\u5165\u304F\u3060\u3055\u3044\u3002",search:"\u691C\u7D22",search_ask:"\u8CEA\u554F\u3059\u308B",search_placeholder:"\u691C\u7D22\u2026",search_placeholder_ask:"\u8CEA\u554F\u2026",search_blankslate:"\u30AD\u30FC\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u691C\u7D22",search_blankslate_ai:"\u8CEA\u554F\u306B\u5BFE\u3059\u308B\u56DE\u7B54\u306F\u3001AI\u30E2\u30C7\u30EB\u306B\u3088\u3063\u3066\u884C\u308F\u308C\u307E\u3059\u3002",search_blankslate_recent_searches:"\u6700\u8FD1\u306E\u691C\u7D22",search_blankslate_recent_questions:"\u6700\u8FD1\u306E\u8CEA\u554F",search_blankslate_recommended_questions:"\u304A\u3059\u3059\u3081\u306E\u8CEA\u554F",search_blankslate_query:'"${1}" \u306B\u95A2\u3059\u308B\u30B3\u30F3\u30C6\u30F3\u30C4\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F',search_answer_sources:"\u56DE\u7B54\u306F ${1} \u304B\u3089\u306E\u60C5\u5831\u3092\u5143\u306B\u3057\u3066\u3044\u307E\u3059",search_answer_copy:"\u56DE\u7B54\u3092\u30B3\u30D4\u30FC",search_answer_feedback_upvote:"\u5F79\u306B\u7ACB\u3063\u305F\u3068\u30DE\u30FC\u30AF",search_answer_feedback_downvote:"\u5F79\u306B\u7ACB\u305F\u306A\u304B\u3063\u305F\u3068\u30DE\u30FC\u30AF",search_answer_feedback_title:"\u30D5\u30A3\u30FC\u30C9\u30D0\u30C3\u30AF\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\uFF01",search_answer_feedback_details:"\u3053\u308C\u306B\u3088\u308A\u3001\u56DE\u7B54\u30A8\u30F3\u30B8\u30F3\u3092\u6539\u5584\u3067\u304D\u307E\u3059\u3002",search_answer_loading:"\u8CEA\u554F\u306B\u56DE\u7B54\u3059\u308B\u305F\u3081\u306B\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u5206\u6790\u3057\u3066\u3044\u307E\u3059\u2026",search_answer_loading_wait:"\u3053\u308C\u306B\u306F\u6570\u79D2\u304B\u304B\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002",search_answer_none_title:"\u8CEA\u554F\u306B\u5BFE\u3059\u308B\u56DE\u7B54\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",search_answer_none_details:"\u3053\u308C\u306F\u3001\u8CEA\u554F\u306B\u95A2\u9023\u3059\u308B\u30B3\u30F3\u30C6\u30F3\u30C4\u304C\u306A\u3044\u304B\u3001\u56DE\u7B54\u304C\u4FE1\u983C\u3067\u304D\u306A\u3044\u305F\u3081\u304B\u3082\u3057\u308C\u307E\u305B\u3093\u3002",search_answer_error_title:"\u30A8\u30E9\u30FC",search_answer_error_details:"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u5F8C\u3067\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002",search_goto_section:"Go to section",search_goto_page:"Go to page",page_not_found:"\u30DA\u30FC\u30B8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093",back_to_home:"\u30D5\u30ED\u30F3\u30C8\u30DA\u30FC\u30B8\u306B\u623B\u308B",page_not_found_long:"\u7533\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u304C\u3001\u304A\u63A2\u3057\u306E\u30DA\u30FC\u30B8\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",outline:"\u6982\u8981",last_modified:"\u6700\u7D42\u66F4\u65B0 ${1}",was_it_helpful:"\u3053\u306E\u30DA\u30FC\u30B8\u306F\u5F79\u306B\u7ACB\u3061\u307E\u3057\u305F\u304B\uFF1F",poor_content:"\u60AA\u3044\u5185\u5BB9",ok_content:"OK\u30B3\u30F3\u30C6\u30F3\u30C4",excellent_content:"\u512A\u308C\u305F\u5185\u5BB9",powered_by:"${1} \u4E0A\u3067\u52D5\u4F5C\u3057\u3066\u3044\u307E\u3059",previous:"\u524D",next:"\u6B21",export_pdf:"PDF\u306B\u51FA\u529B",copy_link:"\u30EA\u30F3\u30AF\u306E\u30B3\u30D4\u30FC",edit_on_github:"${1}\u3067\u7DE8\u96C6",page_articles_section:"\u3053\u306E\u30BB\u30AF\u30B7\u30E7\u30F3\u306E\u8A18\u4E8B\u306F\u6B21\u306E\u3068\u304A\u308A\u3067\u3059:",main:"\u4E00\u6B21",cookie_policy:"\u30AF\u30C3\u30AD\u30FC\u30DD\u30EA\u30B7\u30FC",cookie_prompt:"\u3053\u306E\u30B5\u30A4\u30C8\u3067\u306F\u3001\u30B5\u30FC\u30D3\u30B9\u306E\u63D0\u4F9B\u3084\u30C8\u30E9\u30D5\u30A3\u30C3\u30AF\u306E\u5206\u6790\u306E\u305F\u3081\u306B\u30AF\u30C3\u30AD\u30FC\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059\u3002\u3053\u306E\u30B5\u30A4\u30C8\u3092\u95B2\u89A7\u3059\u308B\u3053\u3068\u3067\u3001\u304A\u5BA2\u69D8\u306F\u5F53\u793E\u306E${1}\u306B\u540C\u610F\u3057\u305F\u3053\u3068\u306B\u306A\u308A\u307E\u3059\u3002",cookies:"\u30AF\u30C3\u30AD\u30FC",reject_all:"\u5168\u3066\u3092\u62D2\u5426\u3059\u308B",connection_lost:"\u63A5\u7D9A\u5207\u65AD",network_troubleshooting:"\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u30C8\u30E9\u30D6\u30EB\u30B7\u30E5\u30FC\u30C6\u30A3\u30F3\u30B0",device_offline:"\u30C7\u30D0\u30A4\u30B9\u304C\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u3042\u308B\u304B\u3001GitBook\u3067\u554F\u984C\u304C\u767A\u751F\u3057\u3066\u3044\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002",missing_content_title:"\u304A\u3063\u3068\u3001\u4F55\u304B\u304C\u5931\u308F\u308C\u3066\u3044\u307E\u3059\u3002",missing_content_description:"\u3053\u306E\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u8868\u793A\u3059\u308B\u305F\u3081\u306E\u5143\u306E\u30BD\u30FC\u30B9\u3092\u898B\u3064\u3051\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002",table_of_contents:"\u76EE\u6B21",page_outline:"\u30DA\u30FC\u30B8\u6982\u8981"}};function re(){let{locale:e}=Jr.useContext(Eo),t=QR[e];return Jr.useCallback((o,...n)=>{let r=t[o]||QR.en[o],i=[],a=r;return n.forEach((s,l)=>{if(typeof s=="string")a=a.replace(`\${${l+1}}`,s);else{let[u,d]=a.split(`\${${l+1}}`);i.push(Jr.createElement(Jr.Fragment,{key:`string-${l}`},u)),i.push(Jr.createElement(Jr.Fragment,{key:`arg-${l}`},s)),a=d}}),i.length?Jr.createElement(Jr.Fragment,null,i,a):a},[e])}function ad(){let e=re();return JR.createElement(Gn,{kind:"default",title:e("missing_content_title"),details:e("missing_content_description")})}c();var dg=x(O());var xN=B.createInteractiveComponent(nt),eI=dg.forwardRef(function(t,o){let{active:n=!1,children:r,onPress:i,style:a,...s}=t,[,l]=R(ON);return dg.createElement(xN,{ref:o,...s,style:[a,n&&l.active],activeStyle:l.active,onMouseDown:u=>{u.preventDefault(),i()}},r)}),ON=L.create({active:e=>({borderRadius:e.radiuses.medium,paddingHorizontal:p.xsmall,backgroundColor:"rgba(35, 131, 226, 0.14)",marginHorizontal:-p.xsmall,zIndex:-1,cursor:"pointer"})});function tI(e){let{editor:t,node:o,children:n,attributes:r,isFocused:i}=e,[,a]=R(_N),{readOnly:s}=t,l=o.getFragmentByKey(Di),{selection:u}=t.value,d=de.isTextRange(u)&&!!u.hasAnchorIn(l),m=i&&d,[f,g]=Qn.useState(!1),y=f||m,h=Qn.useCallback(()=>{s||t.change(I=>{let _=o.getFragmentByKey(Di);_&&I.collapseToEndOf(_).focus()})},[s,t,o.key]),C=Qn.useCallback(()=>{s||t.change(I=>{let _=I.value.document.getDescendant(o.key);if(_&&_.isInline()){let P=_.getFragmentByKey(Di);P&&de.isTextRange(I.value.selection)&&I.value.selection.hasEdgeIn(P)&&I.collapseToEndOf(_)}})},[s,t,o.key]);Qn.useEffect(()=>{s||(y?h():C())},[y,s,h,C]),Qn.useEffect(()=>{s||!d&&f&&g(!1)},[d,f,s]);let w=()=>{h(),g(!0)},k=Qn.useCallback(()=>{g(!1)},[]);return Qn.createElement(Xm.Provider,{value:k},Qn.createElement(zi,{closeOnClick:!1,closeOnEsc:!0,closeOnScroll:!1,closeOnClickInNestedPortals:!1,closeOnOutsideClick:!0,opened:y,anchor:({ref:I})=>Qn.createElement(eI,{ref:I,style:a.annotationText,...r,onPress:w,active:y},n)},Qn.createElement(Mx,{node:o,editor:t})))}var _N=L.create({annotationText:e=>({textDecorationLine:"underline",textDecorationStyle:"dotted",textDecorationThickness:2,textDecorationColor:e.colors.text.muted})});c();var Nv=x(li());var oI={onKeyDown:(e,t,o)=>{if((0,Nv.default)("mod+enter",e)||(0,Nv.default)("esc",e)){let{value:n}=t,{startBlock:r,document:i}=n;if(!r)return;let a=i.getFragmentParent(r.key);if((a==null?void 0:a.object)!=="fragment"||a.type!==Di)return;let s=i.getParent(a.key);return s?(t.collapseToEndOf(s),t):void 0}}};c();var po=x(O());z();function nI(e){let{editor:t,node:o,children:n}=e,{readOnly:r}=t,i=o.data.toFrozenObject(),a=Fe(),s=Zm(i.syntax||"text"),l=typeof i.title=="string",u=po.useRef(null),d=ae(u),m=po.useRef(null),f=ae(m),g=(h,C)=>{t.change(w=>{w.insertDataByKey(o.key,["title"],h)})},y=()=>vo.getCodeText(o);return po.createElement(ye,{...e,palette:()=>ud(t,o)},po.createElement(Xw,{overflow:i.overflow||ES,lineNumbers:!!i.lineNumbers,header:l?po.createElement(RN,{title:i.title,isEditable:!r,onTitleChange:g}):null,showToolbar:d.opened||f.opened,toolbar:a?null:po.createElement(po.Fragment,null,r?null:po.createElement(D,{ref:u,active:d.opened,kind:"secondary",size:"small",style:p.Margin.xsmallRight,rightIcon:S.ChevronDown,onPress:()=>{d.open(rI(t,o.key))}},s.title),po.createElement(jm,{kind:"secondary",size:"small",content:y}),r?null:po.createElement(D,{ref:m,icon:S.MoreVertical,kind:"secondary",size:"small",style:p.Margin.xsmallLeft,title:"More options",onPress:()=>{f.open(ud(t,o))}}))},n))}function RN(e){let{title:t,isEditable:o,onTitleChange:n}=e,[r,i]=po.useState(t),[a,s]=R(N);po.useEffect(()=>{i(t)},[t]);let l=d=>{n(r||"",d)},u=[s.Body,s.textMuted];return po.createElement(Yc,{style:[v.directionRow,v.alignCenter,p.Padding.mediumLeft]},o?po.createElement(qr,{value:r,placeholder:"Enter a filename",placeholderTextColor:a.colors.text.muted,onChangeText:d=>i(d),style:u,onBlur:l}):po.createElement(A,{style:u},t))}function ud(e,t){let o=t.data.toFrozenObject(),n=typeof o.title=="string";return ft(e,t.key,[{key:"code",commands:[{key:"syntax",title:"Set syntax\u2026",icon:S.Code,descendant:()=>rI(e,t.key)}]},{key:"code-options",commands:[{key:"with-line-numbers",icon:S.CodeLineNumbers,enabled:!!o.lineNumbers,title:"With line numbers",trigger:()=>(e.change(r=>{o.lineNumbers?r.removeDataPathByKey(t.key,["lineNumbers"]):r.setDataByKey(t.key,["lineNumbers"],!0)}),ud(e,e.value.document.assertBlock(t.key)))},{key:"with-title",icon:S.CodeCaption,enabled:n,title:"With caption",trigger:()=>(e.change(r=>{n?r.removeDataPathByKey(t.key,["title"]):r.insertDataByKey(t.key,["title"],"")}),ud(e,e.value.document.assertBlock(t.key)))},{key:"with-wrap",icon:S.CodeWrap,enabled:o.overflow==="wrap",title:"Wrap code",trigger:()=>(e.change(r=>{o.overflow==="wrap"?r.removeDataPathByKey(t.key,["overflow"]):r.setDataByKey(t.key,["overflow"],"wrap")}),ud(e,e.value.document.assertBlock(t.key)))}]}])}function rI(e,t){let o=e.value.document.assertBlock(t),n=o.data.get("syntax");return oe({search:"Select a syntax\u2026",groups:[{key:"syntaxes",commands:jw().map(r=>({key:r.key,selected:n===r.key,title:r.title,trigger:()=>{e.change(i=>{i.setDataByKey(o.key,["syntax"],r.key)})}}))}]})}c();var iI=x(O());function aI(e){let{node:t,parent:o,children:n,editor:r}=e,{diff:i,highlighted:a}=t.data.toFrozenObject(),s=()=>{r.change(l=>{l.setDataByKey(t.key,["highlighted"],!a)})};return iI.createElement(Gw,{number:o.getChildIndex(t.key)+1,highlighting:i==="added"||i==="deleted"||i==="modified"?i:a?"highlighted":void 0,onPressGutter:r.readOnly?void 0:s},n)}c();var sc=x(li());var IN=(0,sc.isKeyHotkey)("mod+a"),PN=(0,sc.isKeyHotkey)("shift+tab"),EN=(0,sc.isKeyHotkey)("tab"),TN=(0,sc.isKeyHotkey)("mod+enter"),MN=(0,sc.isKeyHotkey)("enter"),LN=(0,sc.isKeyHotkey)("backspace"),sI={onKeyDown:NN,onPaste:DN};function NN(e,t,o){let n=vo.getCurrentCode(t.value);if(n){if(IN(e))return AN(n,e,t,o);if(PN(e))return zN(n,e,t,o);if(EN(e))return BN(n,e,t,o);if(TN(e))return VN(n,e,t,o);if(MN(e))return WN(n,e,t,o);if(LN(e))return qN(n,e,t,o)}}function DN(e,t,o){let{value:n}=t,r=vo.getCurrentCode(t.value),{endBlock:i}=n;if(!r||!i||!r.hasDescendant(i.key))return;let a=Zc(e),s;a.type==="fragment"&&a.fragment?s=a.fragment.getTexts().map(d=>d.text).join(`
`):s=a.text||"";let l=vo.createCodeBlock(s).blockNodes,u=Nc.create({nodes:l});return t.insertDocument(u)}function AN(e,t,o,n){t.preventDefault();let r=e.getFirstText(),i=e.getLastText();if(!(!r||!i))return o.collapseToStartOf(r).extendToEndOf(i)}function BN(e,t,o,n){let{value:r}=o;t.preventDefault(),t.stopPropagation();let{isCollapsed:i}=r,a=vo.getIndent(vo.getCodeText(e));return i?o.insertText(a).focus():vo.indentLines(o,a)}function zN(e,t,o,n){t.preventDefault(),t.stopPropagation();let r=vo.getIndent(vo.getCodeText(e));return vo.dedentLines(o,r)}function WN(e,t,o,n){let{value:r}=o;if(!r.isCollapsed)return;t.preventDefault();let{startBlock:i}=r;if(!i)return;let a=i.text,s=vo.getIndent(a,"");return o.splitBlock().insertText(s).focus()}function VN(e,t,o,n){let{value:r}=o;if(r.isCollapsed)return t.preventDefault(),St(o,e),o}function qN(e,t,o,n){let{value:r}=o;if(r.isExpanded)return;let{startOffset:i,startText:a}=r,s=r.startBlock;if(!s)return;let l=vo.getIndent(vo.getCodeText(e));if(s.text.slice(0,i).endsWith(l))return t.preventDefault(),o.deleteBackward(l.length).focus();let d=i===0&&e.getFirstText()===a,m=e.nodes.size===1&&s.text.length===0;if(d&&m)return t.preventDefault(),o.setBlocks(le,{normalize:!1}).unwrapNodeByKey(s.key)}c();var ji=x(O());z();function mg(e){let{url:t,readOnly:o}=e,[n]=qp(t),{data:r}=n,i=px(o?null:t),a=i?ji.createElement(FN,{...i}):null;if(!r)return ji.createElement($n,null);if(r.type==="rich"&&r.html){let s=ji.createElement("div",{dangerouslySetInnerHTML:{__html:r.html}});return a?ji.createElement(b,null,s,ji.createElement(b,{style:GN.overlayInstallButton},a)):s}return ji.createElement(Gi,{href:t,title:r.title,details:r.site,icon:r.icon?Ke(qn,{source:{uri:r.icon}}):void 0,onPress:s=>{s.preventDefault(),Sa(t)},buttons:a?[a]:[]})}function FN(e){let{integration:t}=e,{navigate:o}=we(),{logAnalyticsEvent:n}=ji.useContext(ie),r=i=>{i.stopPropagation(),i.preventDefault(),n({type:"edit_open_integration",integration:t.name,reason:"embed"}),o({overlay:{type:"integrations",integration:t.name}})};return ji.createElement(D,{kind:"secondary",size:"medium",icon:Ke(cl,{integration:t}),title:`Install the ${t.title} integration to supercharge this block`,tooltipPreferredPlacement:"left",onPress:r},"Install ",t.title)}var GN=F.create({overlayInstallButton:{position:"absolute",bottom:p.medium,right:p.medium}});c();var Co=x(O());c();var gs=x(O());z();function hs(e){let{node:t,editor:o,isSelected:n}=e,{readOnly:r}=o,[,i]=R(N),a=B.useInteractiveState(),s=t.fragments.get(TS),l=s==null?void 0:s.isEmpty;return s?(n||a.hovered)&&!r||!l?gs.createElement(b,{style:[cI.editableCaption,p.Padding.smallTop],...a.events},l?gs.createElement(b,{style:[F.absoluteFill,v.alignCenter,v.justifyContentCenter,p.Padding.smallTop]},gs.createElement(A,{style:[i.Italic,i.Body,i.textMuted]},"Write a caption")):null,gs.createElement(jn.Provider,{value:"caption"},gs.createElement(as.Provider,{value:"center"},gs.createElement(On,{fragment:"caption"})))):r?null:gs.createElement(b,{style:[p.Padding.smallTop,cI.blankPlaceHolder],...a.events}):null}var cI=F.create({editableCaption:{position:"relative",textAlign:"center"},blankPlaceHolder:{height:p.small+Wm.xsmall}});c();var Mo=x(O());c();var ys=x(O());function pg(e){let{children:t}=e,[o,n]=ys.useState(!1);return ys.useEffect(()=>{n(!0)},[]),o?ys.createElement(ys.Fragment,null,t):null}c();var fg=x(O());function lI(e){let{children:t,statusCode:o}=e,n=h1();return n.staticContext&&(n.staticContext.statusCode=o),fg.createElement(fg.Fragment,null,t)}var gg=Mo.forwardRef(function(t,o){let{data:n,readOnly:r,onDataChange:i}=t,{integrationBlocksRemote:a}=Mo.useContext(ie),s=Mo.useRef(null),{color:l}=Kr(),u={integrationId:n.integration,componentId:n.block,props:n.props,action:n.action,context:{type:"document",editable:!r,theme:l}},[d,m]=L1(async f=>{var g;return(g=s.current)==null?void 0:g.dispatchAction(f)});return Mo.useImperativeHandle(o,()=>({getPaletteGroups:()=>{let{result:f}=a.readCacheState(u);return f&&f.element.type==="block"?d(f.element):[]}})),Mo.createElement(Mo.Fragment,null,m,Mo.createElement(Mo.Suspense,{fallback:Mo.createElement($n,null)},Mo.createElement(pg,null,Mo.createElement(jy,{ref:s,mode:"block",remote:a,input:u,security:{firstPartyDomains:[Va.integrations.domain]},onPropsChange:f=>{r||i({...n,action:void 0,props:f})}}))))});function uI(e){let{node:t,editor:o}=e,{readOnly:n}=o,r=t.data.toFrozenObject(),{integrationBlocks:i}=Co.useContext(ie),a=Co.useMemo(()=>{let s=Kc(i,r.url);return s?qc.createIntegrationBlockDataForLinkUnfurl(s.integrationKey,s.block.id,r.url):null},[i,r.url]);return a?Co.createElement(ye,{...e},Co.createElement(Bt,{...e},Co.createElement(Co.Suspense,{fallback:Co.createElement($n,null)},Co.createElement(gg,{data:a,readOnly:n,onDataChange:s=>{o.change(l=>{l.setNodeByKey(t.key,{type:Ni,data:s})})}})))):Co.createElement(ye,{...e},Co.createElement(Bt,{...e},Co.createElement(Co.Suspense,{fallback:Co.createElement($n,null)},Co.createElement(mg,{url:r.url,readOnly:n}))),Co.createElement(hs,{...e}))}c();var zt=x(O());c();var zl=x(O());function dI(e){let{integrationName:t}=e,[{result:o}]=cp([Xc(t)]);return o?zl.createElement(HN,{integration:o}):zl.createElement(Gn,{kind:"default",title:`Integration ${t} no longer exist or has been unpublished.`})}function HN(e){let{integration:t}=e,o=Ht(cl,{integration:t},[t]),{navigate:n}=we(),{logAnalyticsEvent:r}=zl.useContext(ie);return zl.createElement(Gn,{kind:"default",icon:o,title:`Integration ${t.title} is not configured. Install it to get started.`,actions:[{label:"Install",onPress:()=>{r({type:"edit_open_integration",integration:t.name,reason:"empty"}),n({overlay:{type:"integrations",integration:t.name}})}}]})}function mI(e){let{node:t,editor:o}=e,{readOnly:n}=o,r=zt.useRef(null),{integrationBlocks:i}=zt.useContext(ie),{navigate:a}=we(),s=t.data.toFrozenObject(),l=()=>{var d;return ft(o,t.key,[...((d=r==null?void 0:r.current)==null?void 0:d.getPaletteGroups())||[],{key:"integration",commands:()=>{let[{result:m}]=il([Xc(s.integration)]);return m?[{key:"integration.settings",icon:Ke(cl,{integration:m}),title:`Configure ${m.title}`,trigger:()=>{a({overlay:{type:"integrations",integration:m.name}})}}]:[]}}])};return zt.useMemo(()=>uw(i,s.integration,s.block),[i,s.integration,s.block])?zt.createElement(ye,{...e,palette:l},zt.createElement(Bt,{...e},zt.createElement(zt.Suspense,{fallback:zt.createElement($n,null)},zt.createElement(gg,{ref:r,data:s,readOnly:n,onDataChange:d=>{o.change(m=>{m.setNodeByKey(t.key,{data:d})})}})))):zt.createElement(ye,{...e,palette:l},zt.createElement(Bt,{...e},zt.createElement(zt.Suspense,{fallback:zt.createElement($n,null)},s.url?zt.createElement(mg,{url:s.url,readOnly:n}):n?zt.createElement(ad,null):zt.createElement(dI,{integrationName:s.integration}))))}c();var hg=x(li()),pI=x(O());function fI(e){return pI.useMemo(()=>({onKeyDown:(t,o)=>{let{value:n}=o;if(!n.isCollapsed||!(0,hg.default)("enter",t))return;let{startBlock:r,selection:i}=n;if(!de.isTextRange(i)||!r||r.type!==le||!i.isAtEndOf(r))return;let{text:a}=r;if(!Gr(a))return;let s=n.document.getParent(r.key);if(!s||!_e(s,An))return;let l=Mc(a,{sortQueryParameters:!1}),u=XN(l,e);o.replaceNodeByKey(r.key,u).collapseToStartOf(u)}}),[e])}var gI={onKeyDown:(e,t,o)=>{if((0,hg.default)("enter",e)||(0,hg.default)("shift+enter",e)){let{value:n}=t,{startBlock:r,document:i}=n;if(!r||r.type!==le)return;let a=i.getFragmentParent(r.key);if((a==null?void 0:a.object)!=="fragment")return;let s=i.getParent(a.key);if(!s||!s.isBlock()||![An,Ns,ua,la].includes(s.type))return;let l=s.type===Ns?i.getParent(s.key):s;return St(t,l),t}}};function XN(e,t={}){let o=Kc(t,e);return o?qc.createIntegrationBlockForLinkUnfurl(o.integrationKey,o.block.id,e):xm.createEmbedBlock(e)}c();var Dv=x(O());c();var Wl=x(O());function hI(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s}=t.data.toObject(),l=Wl.useRef(null),u=mt(s),d=ae(l);return Wl.useEffect(()=>{if(!d.opened&&a.value.isFocused){let m=f=>{a.change(g=>{let y=de.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+u.current.length+1});g.insertInlineAtRange(y,Om.createEmoji(f)).focus()})};d.open(Ya(hl(m,{withSearch:!1}),s))}else d.typeQuery(s);return()=>{d.close()}},[d,s]),Wl.createElement(nt,{ref:l,...r},i)}c();var dd=x(O());function yI(e){let{editor:t,node:o,parent:n}=e,r=dd.useRef(null),i=ae(r),a=eg(n.object==="block"?n:null),s=Sp(()=>{i.open(hl(l=>{t.change(u=>{u.setNodeByKey(o.key,{data:{code:l}})})}))});return dd.createElement(Al,{ref:r,...e,onPress:t.readOnly?void 0:s},dd.createElement(bo,{code:o.data.get("code"),size:a}))}var vI="emojiContext",KN=/(^|\s):(\w*)$/,bI={renderMark:UN,renderNode:YN,decorateValue:jN};function jN(e){let{selection:t}=e,o=ZN(e),n=[];return de.isTextRange(t)&&o!==null&&n.push(de.create({anchorKey:t.startKey,anchorOffset:t.startOffset-o.length-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:vI,data:{value:o}}],isAtomic:!0})),n}function UN(e){let{mark:t}=e;switch(t.type){case vI:return Dv.createElement(hI,{...e})}}function YN(e){let{node:t}=e;switch(t.type){case Bs:return Dv.createElement(yI,{...e})}}function ZN(e){if(!e.isCollapsed)return null;let{document:t,startText:o,startBlock:n,selection:r}=e;if(!de.isTextRange(r)||!o||!n||!fa({document:t,block:n},Bs))return null;let{startOffset:i}=r,a=o.text.slice(0,i),s=KN.exec(a);return s==null?null:s[2]}c();var gt=x(O());z();function $N(e,t,o){for(let[n,r]of e.entries())if(r===o){let i=t.getNode(n);return i?{key:n,id:r,node:i}:null}}function CI(e){let t=B.useInteractiveState(),{node:o,isFocused:n,editor:r}=e,[,i]=R(QN),[,a]=R(N),{sections:s,selected:l}=gt.useContext($r),u=Fe(),d=gt.useRef(""),[m,f]=gt.useState("unset");gt.useEffect(()=>{d.current="",f("unset")},[l]);let g=l&&s.get(o.key)===l,y=gt.useMemo(()=>!g&&Boolean($N(s,o,l)),[g,s,o,l]);g&&(d.current=l);let{selection:h}=r.value,C=de.isTextRange(h)&&h.hasEdgeIn(ga.getBodyFragment(o)),w=n&&de.isTextRange(h)&&!h.hasFocusInFragmentOf(o),k=u||(m==="unset"?g||y||l===d.current:m==="expanded"),I=k?S.ChevronDown:S.ChevronRight,_=()=>{k&&C&&r.change(at=>{at.collapseToStartOf(ga.getTitleFragment(o))}),f(k?"collapsed":"expanded")},{anchoredBlockId:P,onAnchoredBlockPress:M,anchorElement:T,anchoredBlockInteractiveState:W}=cg(o,{accessibilityLabel:"Direct link to expandable block",onBlockPress:_}),H=gt.useId(),q={id:H,controls:{accessibilityRole:"button",accessibilityExpanded:k,accessibilityControls:`expandable-body-${H}`,accessibilityLabelledBy:`expandable-title-${H}`},chevron:{accessibilityRole:"presentation"},body:{accessibilityRole:"region",accessibilityLabelledBy:`expandable-title-${H}`}},G=o.fragments.get(da),Y=G==null?void 0:G.nodes.first(),U=Qr(Y,G||o),ue=E.ICON_M,Ye=U.paddingTop+(Rn(Y)-ue)/2;return gt.createElement(ye,{...e},gt.createElement(Bt,{...e,isFocused:w},gt.createElement(b,{...t.events,style:[i.expandable,t.active&&i.expandableActive],nativeID:P},gt.createElement(b,{style:[v.directionRow,p.Padding.mediumRight],...W.events},gt.createElement(B.TouchableOpacity,{onPress:M,style:[p.Padding.mediumHorizontal,v.directionRow,v.justifyContentCenter,{paddingTop:Ye}],...q.controls},gt.createElement(I,{size:ue,style:[t.active?a.primary:a.textMuted],...q.chevron})),gt.createElement(b,{style:[v.flex1,{paddingTop:U.paddingTop,paddingBottom:k?p.small:U.paddingBottom}],nativeID:`expandable-title-${H}`},gt.createElement(jn.Provider,{value:"expandableTitle"},gt.createElement(On,{fragment:da}))),gt.createElement(b,{style:{paddingTop:Ye}},T)),gt.createElement(b,{style:[i.expandableBody,!k&&i.hidden],nativeID:`expandable-body-${H}`,...q.body},gt.createElement(On,{fragment:As})))))}var QN=L.create({hidden:{visibility:"hidden",height:0,padding:0},expandable:e=>({breakInside:"avoid",borderWidth:1,borderColor:e.colors.border.main,borderRadius:e.radiuses.large}),expandableActive:e=>({borderColor:e.colors.primary.main}),expandableBody:{padding:p.medium,paddingLeft:p.medium+E.ICON_M+p.medium,paddingTop:0}});c();var Av=x(li());var SI={onKeyDown:JN};function JN(e,t){if((0,Av.default)("mod+enter",e))return t5(e,t);if((0,Av.default)("enter",e))return e5(e,t)}function e5(e,t){var n;let o=ga.getCurrentExpandable(t.value);if(o&&((n=o.fragment)==null?void 0:n.type)===da)return t.collapseToStartOf(o.expandable.getFragmentByKey(As)).focus()}function t5(e,t){let{value:o}=t,n=ga.getCurrentExpandable(t.value);if(!(!n||!o.isCollapsed))return e.preventDefault(),St(t,n.expandable),t}c();c();var PI=x(kI()),Et=x(O());z();c();var er=x(O());c();var md=x(O());z();function _I(e){return oe({search:"Pick a color\u2026",groups:[{key:"text",title:"Color",commands:Lp.map(t=>xI(e,t,!1))},{key:"background",title:"Background",commands:Np.map(t=>xI(e,t,!0))}]})}function xI(e,t,o){let n=e.value.activeMarks.find(a=>a.type===Su),r=o?"background":"text",i=n&&n.data.get(r)===t.key;return{key:`${o?"background_":"foreground_"}${t.key}`,title:t.title,selected:i,icon:({size:a})=>o?md.createElement(OI,{size:a,backgroundColor:t.color,color:j.BLACK}):md.createElement(OI,{size:a,backgroundColor:j.WHITE,color:t.color}),trigger:()=>{e.change(a=>{n&&a.removeMark(n),i||a.addMark({type:Su,data:{background:"default",text:"default",...n?n.data.toObject():{},[r]:t.key}})})}}}function OI(e){let{size:t=E.ICON_S,color:o,backgroundColor:n}=e;return md.createElement(b,{style:[v.directionRow,v.alignCenter,v.justifyContentCenter,{width:t+2,height:t+2,borderRadius:E.RADIUS_M,backgroundColor:n}]},md.createElement(S.Type,{style:{color:o,fontSize:t*.9}}))}c();var Jn=({type:e,editor:t})=>()=>{t.change(o=>{o.toggleMark(e),o.focus()})},cc=({palette:e,editor:t,contentReferenceContext:o,isInLink:n,insertAtRange:r})=>()=>{if(n){t.change(a=>{a.unwrapInline({type:Io}).focus()});return}t.change(a=>{ug(a)});let i=cn(a=>{t.change(s=>{r?zs.insertContentReferenceAtRange(s,a,r):zs.insertContentReference(s,a)})},{...o,document:t.value.document});return e.open(i),i},vg=({editor:e})=>()=>{e.change(t=>{km.wrapWithAnnotation(t),t.focus()})};function RI(e){let{value:t,editor:o,palette:n}=e,{contentReferenceContext:r}=er.useContext(ie),i=t.activeMarks.map(g=>g.type),{startBlock:a,document:s}=t;gr(a);let l=t.hasInline(Io),d=!(a.type===Hr),m=()=>{o.change(g=>{ug(g)}),n.open(_I(o))},f=()=>{o.change(g=>{g.removeAllMarks().focus()})};return er.createElement(er.Fragment,null,d&&!Sm(a)?er.createElement(D,{size:"small",icon:S.Bold,active:i.has(Sn),onPress:Jn({type:Sn,editor:o}),title:"*Bold*",tooltipBadge:Fs(We.EDITOR_BOLD),style:[p.Margin.smallRight],kind:"default_inverted"}):null,d?er.createElement(D,{size:"small",icon:S.Italic,active:i.has(wn),onPress:Jn({type:wn,editor:o}),title:"_Italic_",tooltipBadge:Fs(We.EDITOR_ITALIC),style:[p.Margin.smallRight],kind:"default_inverted"}):null,d?er.createElement(D,{size:"small",icon:S.Strikethrough,active:i.has(hr),onPress:Jn({type:hr,editor:o}),title:"~Strikethrough~",tooltipBadge:Fs(We.EDITOR_STRIKETHROUGH),style:[p.Margin.smallRight],kind:"default_inverted"}):null,d?er.createElement(D,{size:"small",icon:S.Code,active:i.has(no),onPress:Jn({type:no,editor:o}),title:"`Code`",tooltipBadge:Fs(We.EDITOR_CODE),style:[p.Margin.smallRight],kind:"default_inverted"}):null,fa({document:s,block:a},Io)?er.createElement(D,{size:"small",icon:S.Link,onPress:cc({palette:n,editor:o,contentReferenceContext:r,isInLink:l}),active:l,title:"Link",tooltipBadge:Fs(We.EDITOR_LINK),style:[p.Margin.smallRight],kind:"default_inverted"}):null,fa({document:s,block:a},hm)&&km.isSelectionAnnotable(t)?er.createElement(D,{size:"small",icon:S.Annotation,onPress:vg({editor:o}),active:l,title:"Annotate",tooltipBadge:Fs(We.EDITOR_ANNOTATION),style:[d?p.Margin.smallRight:null],kind:"default_inverted"}):null,d?er.createElement(D,{size:"small",title:"Color",icon:S.Highlight,onPress:m,kind:"default_inverted"}):null,i.isEmpty()?null:er.createElement(D,{size:"small",icon:S.X,onPress:f,title:"Clear formatting",kind:"default_inverted"}))}function EI(e){let{value:t}=e,{selection:o}=t;return RS(o)?Et.createElement(o5,{selection:o,value:t}):null}function o5(e){let{value:t,selection:o}=e,n=$c(),r=Et.useRef(null),{contentReferenceContext:i}=Et.useContext(ie),a=ae(r,{onClose:()=>{n.change(k=>{YR(k),k.focus()})}}),s=py(200),[l,u]=Et.useState(null),d=mt(l),m=Et.useRef(null);Et.useEffect(()=>(s(()=>{a.opened||(m.current=o,u(II(n)))}),()=>{s.cancel()}),[o]);let f=!t.isInVoid,g=t.hasInline(Io),y=!Sm(t.startBlock);wr(f?{...y?{[We.EDITOR_BOLD]:Jn({type:Sn,editor:n})}:{},[We.EDITOR_ITALIC]:Jn({type:wn,editor:n}),[We.EDITOR_CODE]:Jn({type:no,editor:n}),[We.EDITOR_STRIKETHROUGH]:Jn({type:hr,editor:n}),[We.EDITOR_LINK]:cc({palette:a,editor:n,contentReferenceContext:i,isInLink:g}),[We.EDITOR_ANNOTATION]:vg({editor:n})}:{},"editor-selection-expanded",[i,y,n,g,f,a]),wr(f?{...y?{[We.EDITOR_BOLD]:Jn({type:Sn,editor:n})}:{},[We.EDITOR_ITALIC]:Jn({type:wn,editor:n}),[We.EDITOR_CODE]:Jn({type:no,editor:n}),[We.EDITOR_STRIKETHROUGH]:Jn({type:hr,editor:n})}:{},"editor-selection-collapsed",[y,n,f]);let h=Boolean(f),C=h&&l&&m.current&&!m.current.hasMoved(o),w=py(200);return Et.useEffect(()=>{if(!h)return;let k=()=>{a.opened||(d.current&&u(null),w(()=>{u(II(n))}))};return window.addEventListener("scroll",k,!0),()=>{window.removeEventListener("scroll",k,!0)}},[a,h,d,w]),C?Et.createElement(on,null,Et.createElement(b,{ref:r,pointerEvents:"none",style:[r5.formattingMenuWrapper,l]},a.opened?null:Et.createElement(n5,{editor:n,palette:a}))):null}function n5(e){let{editor:t,palette:o}=e,{value:n,value:{selection:r}}=t,i=Et.useRef(null),a=B.useInteractiveState(),[s,l]=Et.useState(!1),{width:u,height:d}=QC();Et.useLayoutEffect(()=>{i.current&&r.isExpanded&&i.current.updatePosition()},[u,d]);let{startOffset:m=0,endOffset:f=0}=de.isTextRange(r)?r:{};return Et.useLayoutEffect(()=>{let y=setInterval(()=>{l(!0)},200);return()=>{clearInterval(y),l(!1)}},[m,f]),r.isFocused&&!r.isCollapsed&&s||a.hovered?Et.createElement(nn,{ref:i,kind:"tooltip",preferredPlacement:"top"},Et.createElement(b,{style:[v.directionRow,p.Padding.xsmall],...a.events},r.isCollapsed?null:Et.createElement(RI,{value:n,editor:t,palette:o}))):null}function II(e){let t=window.getSelection();if(!t||t.rangeCount<1)return null;let o=t.getRangeAt(0),n=PI.default.getBoundingClientRect(o);if(!n)return null;let r=t.anchorNode;if(!r||!Zw(e,r))return null;let i=r?TI(r):null,a=15,s={top:n.top+window.pageYOffset,left:n.left+window.scrollX,width:n.width,height:n.height};if(s.width<a&&(s.left-=(a-s.width)/2,s.width=a),i){let l=i.getBoundingClientRect();if(s.top<l.top||s.top+s.height>l.bottom)return null}return s}function TI(e){if(e instanceof HTMLElement){let t=getComputedStyle(e,null);if(t.getPropertyValue("overflow")==="auto"||t.getPropertyValue("overflow")==="scroll"||t.getPropertyValue("overflow-y")==="auto"||t.getPropertyValue("overflow-y")==="scroll")return e}return e.parentNode?TI(e.parentNode):null}var r5=F.create({formattingMenuWrapper:{position:"absolute",zIndex:100}});c();var LI=x(O());c();var Vl=x(O());function MI(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s}=t.data.toObject(),l=Vl.useRef(null),u=At(),d=ae(l,{onClose:()=>{d.close(),!u.isOpen()&&a.change(f=>f.focus())}}),{contentReferenceContext:m}=Vl.useContext(ie);return vp(()=>{if(!d.opened&&a.value.isFocused){let f=de.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+1});d.open(oe({groups:[{key:"inline-controls",commands:s.map(g=>{switch(g){case Ac:return{key:"image",title:"Image",icon:S.Image,trigger:()=>{a.change(y=>y.blur()),u.prompt({title:"Select image",accept:"images",acceptURL:!0}).then(y=>{a.change(h=>{y.forEach(C=>{h.insertInlineAtRange(f,Fo.createImageInline(C))}),h.focus()})})}};case Bs:return{key:"emoji",title:"Emoji",icon:S.EmojiReaction,trigger:()=>hl(y=>{a.change(h=>{h.insertInlineAtRange(f,Om.createEmoji(y)).focus()})})};case Io:return{key:"link",title:"Link",icon:S.Link,trigger:cc({palette:d,editor:a,contentReferenceContext:m,isInLink:!1,insertAtRange:f})};case Dc:return{key:"math",title:"Math & TeX",icon:S.MathTeX,trigger:()=>{a.change(y=>{y.insertInlineAtRange(f,Ws.createMathInline()).focus()})}}}})}]}))}},150),Vl.createElement(nt,{ref:l,...r},i)}var NI="inlineControlsContext",i5=/(^|\s)\/$/,DI={renderMark:s5,decorateValue:a5};function a5(e){let{selection:t}=e,o=c5(e),n=[];return de.isTextRange(t)&&o!==null&&n.push(de.create({anchorKey:t.startKey,anchorOffset:t.startOffset-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:NI,data:{value:o}}],isAtomic:!0})),n}function s5(e){let{mark:t}=e;switch(t.type){case NI:return LI.createElement(MI,{...e})}}function c5(e){if(!e.isCollapsed)return null;let{startText:t,startBlock:o,selection:n}=e;if(!de.isTextRange(n)||!t||!o)return null;let{startOffset:r}=n,i=t.text.slice(0,r);if(i5.exec(i)==null)return null;let s=[Ac,Bs,Io,Dc].filter(l=>fa({document:e.document,block:o},l));return s.length===0?null:s}c();var Ui=x(O());z();c();var So=x(O());z();function AI(e){let{resolved:t,node:o,editor:n,children:r}=e,{contentReferenceContext:i}=So.useContext(ie),a=So.useRef(null),s=So.useRef(null),[l,u]=So.useState(!1),[d,m]=So.useState(!1),[,f]=R(BI),g=l||d,y=B.useInteractiveState({hoverDelay:500,onHoverIn:()=>{u(!0)},onHoverOut:()=>{u(!1)}}),h=B.useInteractiveState({onHoverIn:()=>{m(!0)},onHoverOut:()=>{m(!1)}});Bi({opened:g,closeOnClick:!1,closeOnScroll:!0,onClose:()=>{u(!1),m(!1)}},s);let C=ae(a),w=()=>{n.change(I=>{I.unwrapInlineByKey(o.key)})},k=()=>{C.open(cn(I=>{n.change(_=>{_.setDataByKey(o.key,["ref"],I)})},{...i,document:n.value.document}))};return So.createElement(zi,{ref:s,anchorRef:a,wrapper:jr,opened:g,updateOnScroll:!1,anchor:({ref:I})=>r(I,{...y.events,style:C.opened?f.linkBeingEdited:null})},So.createElement(b,{style:[F.absoluteFill],...h.events},So.createElement(Lw,{kind:"tooltip",preferredAlignment:"start"},So.createElement(b,null,So.createElement(l5,{resolved:t,onPressEdit:k,onPressRemove:w})))))}function l5(e){let{resolved:t,onPressEdit:o,onPressRemove:n}=e,r=t.icon||t.secondaryIcon,[,i]=R(BI);return So.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.xsmall]},So.createElement(b,{style:[i.buttonWrapper,v.directionRow]},So.createElement(D,{title:"Edit link",icon:r,size:"small",kind:"default_inverted",onPress:o,style:v.flex1},t.title)),So.createElement(b,null,So.createElement(D,{title:"Remove link",kind:"default_inverted",icon:S.Trashcan,size:"small",onPress:n})))}var BI=L.create({buttonWrapper:{maxWidth:200},linkBeingEdited:e=>({backgroundColor:e.colors.background.standout})});var u5=B.createInteractiveComponent(nt);function WI(e){return Ui.createElement(Ui.Suspense,{fallback:Ui.createElement(VI,{...e,resolved:null})},Ui.createElement(d5,{...e}))}function d5(e){let{node:t}=e,{ref:o}=t.data.toFrozenObject(),n=uo(o);return Ui.createElement(VI,{...e,resolved:n})}var zI=B.createInteractiveHandle("link");function VI(e){let{node:t,attributes:o,children:n,resolved:r,editor:i}=e,{readOnly:a}=i,[,s]=R(N),l=(u,d={})=>Ui.createElement(B.TouchableOpacity,{ref:u,handle:zI,...r?cs(r):{},...d,style:[m5.wrapper,d.style]},Ui.createElement(u5.Child,{...o,descendantOf:zI,hoverStyle:[s.primaryStandout,s.Underline],inactiveStyle:s.primary},n));return a||!r?l():Ui.createElement(AI,{resolved:r,editor:i,node:t},l)}var m5=F.create({wrapper:{display:"inline"}});c();var qI=x(O());function FI(e){let t=mt(e.contentReferenceContext),{logAnalyticsEvent:o}=e;return qI.useMemo(()=>({onPaste:(n,r,i)=>{let a=Zc(n);if(!((a.type==="text"||a.type==="html")&&typeof a.text=="string"&&(Gr(a.text)||mS(a.text))))return;let s=a.text,{value:l}=r;l.isCollapsed&&r.insertText(s).extend(-s.length);let u={kind:"url",url:s};r.wrapInline({type:Io,data:{ref:u}});let d=r.value.inlines.filter(f=>f.type===Io&&f.data.has("ref")&&sm(f.data.get("ref"),u)===!1);r.collapseToEnd();let m=Mm(s);return m&&hu(()=>pp(m,t.current)).then(f=>{f&&i.change(g=>{d.forEach(y=>{let h=g.value.document.getByKey(y.key);h&&g.setDataByKey(h.key,["ref"],f)})})}),o(ld(n,"link")),r}}),[t])}c();var Cg=x(O());c();var GI=x(O());var bg=GI.createContext(It);function HI(e){let{node:t,children:o,attributes:n}=e;return Cg.createElement(ye,{...e},Cg.createElement(te,{tag:t.type===It?"ol":"ul",...n},Cg.createElement(bg.Provider,{value:t.type},o)))}c();var ei=x(O());z();function XI(e){let{node:t,parent:o,children:n,editor:r}=e,{readOnly:i}=r,[,a]=R(N),s=ei.useContext(bg),l=t.data.toFrozenObject(),u=s===Vo,d=s===It,m=s===oo,f=ei.useMemo(()=>ft(r,t.key,[{key:"list",commands:[{key:"ul",title:"List Unordered",icon:S.ListUnordered,selected:o.type===Vo,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:Vo})})}},{key:"ol",title:"List Ordered",icon:S.ListOrdered,selected:o.type===It,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:It})})}},{key:"tasks",title:"Tasks List",icon:S.ListTasks,selected:o.type===oo,trigger:()=>{r.change(C=>{C.setNodeByKey(o.key,{type:oo})})}}]}]),[r,t.key,o.type]),g=C=>{r.change(w=>{ot.checkTaskItem(w,t.key,C)})},y=Rn(t.nodes.first()),h=C=>C<10?p.medium:C<100?p.large:"auto";return ei.createElement(ye,{tag:"li",palette:f,contentProps:{style:pd.blockListItem},...e},m&&ei.createElement(te,{editable:!1,style:[pd.blockListItemPrefix,{height:y}]},ei.createElement(Ua,{value:!!l.checked,onValueChange:g,readOnly:i,size:E.ICON_M})),u&&ei.createElement(te,{editable:!1,style:[pd.blockListItemPrefix,{height:y}]},ei.createElement(S.Dot,{size:12,style:a.text})),d&&ei.createElement(nt,{editable:!1,style:[pd.blockListItemPrefix,{height:y,width:h(o.getChildIndex(t.key)+1)},a.Body,a.text]},p5(o,t)),ei.createElement(b,{style:pd.blockListItemContent},n))}function p5(e,t){let o=e.data.toFrozenObject(),n=e.getChildIndex(t.key);return`${(o.start||1)+n}.`}var pd=F.create({blockListItem:{position:"relative",display:"flex",flexDirection:"row"},blockListItemPrefix:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:p.small,marginRight:p.small},blockListItemContent:{flex:1}});c();var fd=x(li());var f5=(0,fd.isKeyHotkey)("tab"),g5=(0,fd.isKeyHotkey)("shift+tab"),h5=(0,fd.isKeyHotkey)("enter"),y5=(0,fd.isKeyHotkey)("backspace"),KI={onKeyDown:b5,shouldNodeComponentUpdate:v5};function v5(e,t){if(e.node.type===Nt){let{parent:o,node:n}=e,{parent:r,node:i}=t;if(o.object!=="block"||r.object!=="block")throw new Error("Parent of list-item must be a block");if(o.type===It&&o.getChildIndex(n.key)!==r.getChildIndex(i.key))return!0}return null}function b5(e,t,o){if(h5(e))return C5(e,t,o);if(f5(e)||g5(e))return w5(e,t,o);if(y5(e))return S5(e,t,o)}function C5(e,t,o){if(e.shiftKey)return;let{value:n}=t,r=ot.getCurrentItem(n);if(!r)return;if(e.preventDefault(),n.isExpanded&&t.delete(),r.isEmpty)return ot.getItemDepth(n)>1?ot.decreaseItemsDepth(t):ot.unwrapList(t);ot.splitListItem(t);let i=ot.getListForItem(t.value,r);if(i&&i.type===oo){let a=t.value.document.getNextSibling(r.key);return a?ot.checkTaskItem(t,a.key,!1):t}return t}function S5(e,t,o){let{value:n}=t,{startOffset:r,selection:i}=n;if(!de.isTextRange(i)||i.isExpanded||r>0)return;let a=ot.getCurrentItem(n);if(a&&i.isAtStartOf(a))return e.preventDefault(),ot.unwrapList(t)}function w5(e,t,o){return e.shiftKey?(e.preventDefault(),ot.decreaseItemsDepth(t)):(e.preventDefault(),ot.increaseItemsDepth(t))}c();c();var UI=x(li());function k5(e){let{transform:t}=e,o=e.onHotkey?(0,UI.isKeyHotkey)(e.onHotkey):()=>!1,n=e.onInput?x5(e.onInput):()=>!1,r=e.ignoreIn?jI(e.ignoreIn):null,i=e.onlyIn?jI(e.onlyIn):null;function a(m,f,g){if(!o(m))return;let y=u(f.value);if(y)return l(y,m,f,g),!0}function s(m,f,g){if(m.inputType!=="insertText"||!n(m))return;let y=u(f.value);if(y)return l(y,m,f,g),!0}function l(m,f,g,y){let{value:h}=g,{startOffset:C}=h,w=0;return d(m,C).forEach(I=>{g.moveOffsetsTo(I.start,I.end).delete(),w+=I.total}),C-=w,g.moveOffsetsTo(C,C),g.call(t,f,m,y),f.preventDefault(),!0}function u(m){if(m.isExpanded)return null;let{startBlock:f}=m;if(!f)return null;let{type:g}=f;if(i&&!i(g)||r&&r(g))return null;let{startText:y,startOffset:h}=m;gr(y);let{text:C}=y,w=null,k=null;return e.after&&(w=C.slice(h).match(e.after)),e.before&&(k=C.slice(0,h).match(e.before)),e.before&&e.after&&!k&&(w=null),e.before&&e.after&&!w&&(k=null),!k&&!w?null:(w&&(w[0]=w[0].replace(/\s+$/,"")),k&&(k[0]=k[0].replace(/^\s+/,"")),{before:k,after:w})}function d(m,f){let{before:g,after:y}=m,h=[],C=0;if(g){let w=g[0],k=0,I=0;g.slice(1,g.length).forEach(_=>{_!==void 0&&(I=w.indexOf(_,I),k=f-C+I-w.length,h.push({start:k,end:k+_.length,total:_.length}),C+=_.length,I+=_.length)})}if(y){let w=y[0],k=0,I=0;y.slice(1,y.length).forEach(_=>{_!==void 0&&(I=w.indexOf(_,I),k=f-C+I,h.push({start:k,end:k+_.length,total:0}),C+=_.length,I+=_.length)})}return h}return{onKeyDown:a,onBeforeInput:s}}function x5(e){if(typeof e=="string")return t=>!!(t.data&&t.data===e);if(typeof e=="function")return e;if(e instanceof RegExp)return t=>!!(t.data&&t.data.match(e));throw new Error("Invalid onInput option")}function jI(e){if(Array.isArray(e))return t=>e.includes(t);if(typeof e=="string")return t=>t===e;if(typeof e=="function")return e;throw new Error("Invalid matcher type")}var Pr=k5;var O5=Pr({onlyIn:[le],onInput:"*",before:/\*\*[^*]+?\*$/,transform:(e,t,o)=>{if(ql(e.value,[Sn,no])||Sg(e.value))return e.insertText("*");let n=o.before[0].slice(2).slice(0,-1);return gd(e.value,n,[no,wn])?e.insertText("*"):e.deleteBackward(n.length+3).addMark(Sn).insertText(n).removeMark(Sn)}}),_5=Pr({onlyIn:[le],onInput:"_",before:/\b_[^_]+?$/,transform:(e,t,o)=>{if(ql(e.value,[wn,no])||Sg(e.value))return e.insertText("_");let n=o.before[0].slice(1);return gd(e.value,n,[Sn,no])?e.insertText("_"):e.deleteBackward(n.length+1).addMark(wn).insertText(n).removeMark(wn)}}),R5=Pr({onlyIn:[le],onInput:"~",before:/\~\~[^*]+?\~$/,transform:(e,t,o)=>{if(ql(e.value,[hr,no])||Sg(e.value))return e.insertText("~");let n=o.before[0].slice(2).slice(0,-1);return gd(e.value,n,[hr,no])?e.insertText("~"):e.deleteBackward(n.length+3).addMark(hr).insertText(n).removeMark(hr)}}),I5=Pr({onlyIn:[le],onInput:/`/,before:/`[^`]+?$/,transform:(e,t,o)=>{if(ql(e.value,no))return e.insertText("`");let n=o.before[0].slice(1);return gd(e.value,n,[Sn,wn])?e.insertText("`"):e.deleteBackward(n.length+1).addMark(no).insertText(n).removeMark(no)}}),P5=Pr({onlyIn:[le],onInput:"$",before:/\$\$[^*]+?\$$/,transform:(e,t,o)=>{if(ql(e.value,no)||Sg(e.value))return e.insertText("$");let n=o.before[0].slice(2).slice(0,-1);if(gd(e.value,n,[Sn,no,wn]))return e.insertText("$");e.deleteBackward(n.length+3);let r=Ws.createMathInline(n);return e.insertInline(r),e}}),E5=Pr({onlyIn:[le],onHotkey:"enter",before:/^\$\$$/,transform:(e,t,o)=>{let n=Ws.createMathBlock();return ZI(e,n)}}),T5=Pr({onlyIn:[le],onInput:" ",before:/^(-|\*)$/,transform:e=>YI(e.value)?e:ot.wrapInList(e,Vo)}),M5=Pr({onlyIn:le,onInput:" ",before:/^(([1-9]{1}\d*)\.)$/,transform:(e,t,o)=>{if(YI(e.value))return e;let n=parseInt(o.before[1],10);return ot.wrapInList(e,It,n&&n!==1?{start:n}:{})}}),L5=Pr({onlyIn:le,onInput:"]",before:/^(\[[ xX])$/,transform:(e,t,o)=>{let n=ot.getCurrentList(e.value);if(n)e.setNodeByKey(n.key,{type:oo});else{if(!e.value.isEmpty)return e.insertText(`${o.before[0]}]`);e=ot.wrapInList(e,oo)}let r=ot.getCurrentItem(e.value),i=o.before[0][1]!==" ";return r?ot.checkTaskItem(e,r.key,i):e}}),N5=Pr({onlyIn:le,onHotkey:"enter",before:/^(```\S*\s*)$/,transform:(e,t,o)=>{let[n]=o.before,r=n.replace(/^```/,"").trim(),i=Zm(r),a=vo.createCodeBlock("",{syntax:i.key});return ZI(e,a)}}),D5=Pr({onlyIn:le,onInput:" ",before:/^(>)$/,transform:(e,t,o)=>e.wrapBlock(Ct)});function YI(e){let{startBlock:t,document:o}=e;if(!t)return!1;let n=o.getParent(t.key);return(n==null?void 0:n.type)===Nt}var A5=[Me,Ne,Xe],B5=Pr({onlyIn:le,onInput:" ",before:/^(#{1,3})$/,transform:(e,t,o)=>{let[n]=o.before,r=n.length,i=A5[r-1];return e.setBlocks({type:i})}});function ql(e,t){let o=typeof t=="string"?[t]:t;return e.marks.some(n=>o.includes(n.type))}function gd(e,t,o){let{startText:n,startOffset:r}=e;if(!n)return!1;let i=r-t.length,{leaf:a}=n.searchLeafAtOffset(i);return a?ql(a,o):!1}function Sg(e){let{startText:t,startOffset:o}=e;if(!t)return!1;let n=t.text.slice(0,o);return!(!n||n.match(/^[^`]+$/))}function ZI(e,t){let{startBlock:o}=e.value;if(o)return e.insertBlock(t).collapseToStartOf(t).removeNodeByKey(o.key)}var $I=[O5,_5,R5,I5,T5,M5,L5,B5,P5,E5,N5,D5];c();var Bv=x(O());c();var ti=x(O());z();var wg={[le]:E.ICON_S,[Me]:E.ICON_XL,[Ne]:E.ICON_L,[Xe]:E.ICON_S};function QI(e){let{node:t,attributes:o,isSelected:n,parent:r}=e,i=t.data.toFrozenObject();return ti.createElement(ti.Suspense,{fallback:ti.createElement(z5,{selected:n,attributes:o,parentType:r.type})},ti.createElement(W5,{reference:i.ref,selected:n,attributes:o,parentType:r.type}))}function z5(e){let{selected:t,attributes:o,parentType:n}=e,[,r]=R(JI),[,i]=R(N),a=t?i.primaryStandout:i.text,s=wg[n||le]||wg[le];return ti.createElement(b,{style:[r.mention,t&&r.mentionSelected],...o},ti.createElement(Se,{size:s,style:a}))}function W5(e){let{reference:t,selected:o,attributes:n,parentType:r}=e,[,i]=R(JI),[,a]=R(N),s=B.useInteractiveState(),l=uo(t),u=wg[r||le]||wg[le],d=o?a.primaryStandout:a.text;return ti.createElement(Te,{...s.events,...cs(l)},ti.createElement(te,{tag:"span",style:[i.mention,s.hovered&&i.mentionHovered,o&&i.mentionSelected,v.directionRow,v.alignCenter],...n},l.secondaryIcon?ti.createElement(l.secondaryIcon,{size:u,style:[d,i.mentionIcon]}):null,ti.createElement(A,{style:[d,a.Bold]},l.title)))}var JI=L.create({mention:e=>({borderRadius:e.radiuses.medium,paddingHorizontal:p.xsmall/2}),mentionHovered:e=>({backgroundColor:e.colors.background.muted}),mentionSelected:e=>({backgroundColor:e.colors.primary.muted}),mentionIcon:{marginRight:p.xsmall/2}});c();var vs=x(O());function eP(e){let{mark:t,node:o,offset:n,attributes:r,children:i,editor:a}=e,{value:s,symbol:l}=t.data.toObject(),u=vs.useRef(null),d=mt(s),{contentReferenceContext:m,logAnalyticsEvent:f}=vs.useContext(ie),g=ae(u);return vp(()=>{if(!g.opened&&a.value.isFocused){let y=h=>{a.change(C=>{let w=de.create({anchorKey:o.key,anchorOffset:n,focusKey:o.key,focusOffset:n+d.current.length+1});C.insertInlineAtRange(w,{type:wu,data:{ref:h},isVoid:!0}).focus()}),f({type:"edit_page_document_insert_mention",kind:h.kind})};g.open(Ya(cn(y,{...m,document:a.value.document},{withSearch:!1,accept:l==="@"?["user"]:["url","anchor","page","space","collection","file"]}),s))}},150),vs.useEffect(()=>{g.opened&&g.typeQuery(s)},[g,s]),vs.createElement(nt,{ref:u,...r},i)}var tP="mentionContext",V5=/(^|\s)(@|#)(\w*)$/,oP={renderMark:G5,renderNode:F5,decorateValue:q5};function q5(e){let{selection:t}=e,o=H5(e),n=[];return de.isTextRange(t)&&o!==null&&n.push(de.create({anchorKey:t.startKey,anchorOffset:t.startOffset-o.value.length-1,focusKey:t.startKey,focusOffset:t.startOffset,marks:[{type:tP,data:{value:o.value,symbol:o.symbol}}],isAtomic:!0})),n}function F5(e){let{node:t}=e;switch(t.type){case wu:return Bv.createElement(QI,{...e})}}function G5(e){let{mark:t}=e;switch(t.type){case tP:return Bv.createElement(eP,{...e})}}function H5(e){if(!e.isCollapsed)return null;let{document:t,startText:o,startBlock:n,selection:r}=e;if(!de.isTextRange(r)||!o||!n||!fa({document:t,block:n},wu))return null;let{startOffset:i}=r,a=o.text.slice(0,i),s=V5.exec(a);return s?{symbol:s[2],value:s[3]}:null}c();var oi=x(O());z();c();function kg(e,t,o=[]){return ft(e,t,[{key:"types",commands:()=>{let n=e.value.document.assertBlock(t),r=e.value.document.getParent(t);if(!r)return[];let i=a=>{e.change(s=>{s.setNodeByKey(n.key,{type:a}).focus()})};return[{key:le,title:"Paragraph",selected:n.type===le,icon:S.Paragraph,trigger:()=>{i(le)}},_e(r,Me)?{key:Me,title:"Heading 1",selected:n.type===Me,icon:S.Heading1,trigger:()=>{i(Me)}}:null,_e(r,Ne)?{key:Ne,title:"Heading 2",selected:n.type===Ne,icon:S.Heading2,trigger:()=>{i(Ne)}}:null,_e(r,Xe)?{key:Xe,title:"Heading 3",selected:n.type===Xe,icon:S.Heading3,trigger:()=>{i(Xe)}}:null].filter(he)}},...o])}function nP(e){let{editor:t,node:o,parent:n,children:r,attributes:i}=e,[,a]=R(N),[,s]=R(j5),l=oi.useContext(as),u=oi.useContext(jn),d=K5(n),m=[a.Body,a.text,s[l],s[u]],f=oi.createElement(A,{selectable:!0,style:m},r),g=oi.useMemo(()=>kg(t,o.key),[t,o.key]),y=ku(o);return X5(n)?!t.readOnly&&y?oi.createElement(FR,{...e,placeholder:d},f):oi.createElement(ye,{...e,palette:g},f):oi.createElement(te,{...i},!t.readOnly&&d&&y&&wm(n)?oi.createElement(te,{editable:!1,pointerEvents:"none",style:[F.absoluteFill]},oi.createElement(A,{selectable:!0,style:[m,a.textMuted]},d)):null,f)}function X5(e){return e.type===ny||e.type===oy||e.type===As?!0:!(e.object==="fragment"||e.type===Nt)}function K5(e){return e.type===MS?"Parameter description (optional)":e.type===ny?"Response description (optional)":e.type===oy?"Operation description (optional)":e.type===da?"Title":e.type===As?"Expandable content":e.type===Di?"Annotate this text":e.type===Bn?"Tab content":""}var j5=L.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},quote:e=>({color:e.colors.text.mid}),swaggerParameter:e=>({color:e.colors.text.mid,...ze.Label}),swaggerResponse:e=>({color:e.colors.text.mid}),caption:e=>({...ze.Caption,color:e.colors.text.muted}),expandableTitle:e=>({...ze.Heading3,color:e.colors.text.main})});c();var hd=x(li());var rP={onKeyDown:U5};function U5(e,t){if((0,hd.default)("enter",e)||(0,hd.default)("shift+enter",e))return Y5(e,t);if((0,hd.default)("backspace",e))return iP(e,t)}function Y5(e,t){let{value:o}=t;if(o.isExpanded)return;let{startBlock:n,startOffset:r,endOffset:i}=o;if(n){if(n.isVoid){let{document:a}=o,s=a.getParent(n.key);gr(s);let l=s.getChildIndex(n.key),u=yo.create({type:le,nodes:[Cu.create("")]});return t.insertNodeByKey(s.key,l+1,u).moveToRangeOf(u)}if(n.type===le){if((0,hd.default)("shift+enter",e))return t.insertText(`
`)}else{let a=n.text.length;if(r===0&&a===0)return iP(e,t);if(i===a)return e.preventDefault(),t.splitBlock().setBlocks({type:le,data:{}})}}}function iP(e,t){let{value:o}=t;if(o.isExpanded||o.startOffset>0)return;let{startBlock:n,startText:r}=o;if(!(!n||!(n.getFirstText()===r))){if(n.type===le){let a=o.document.getParent(n.key);return a&&ve.isSwaggerFragment(a)&&a.getChildIndex(n.key)===0?t:void 0}if(!(n.type===zn||n.type===Hr))return e.preventDefault(),n.isVoid?t.removeNodeByKey(n.key):t.setNodeByKey(n.key,{type:le,isVoid:!1})}}c();var xg=x(O());function aP(e){let{children:t,isFocused:o,editor:n}=e,{readOnly:r}=n,[,i]=R(Z5);return xg.default.createElement(ye,{tag:"blockquote",...e,contentProps:{style:i.blockQuote}},xg.default.createElement(jn.Provider,{value:"quote"},t),!r&&o?xg.default.createElement(Nl,{style:i.blockExitHint}):null)}var Z5=L.create({blockQuote:e=>({position:"relative",color:e.colors.text.mid,paddingLeft:Hu,borderLeftWidth:Gu,borderLeftColor:e.colors.border.mid}),blockExitHint:{position:"absolute",bottom:p.small,right:p.small}});c();var Ia=x(O());z();c();var yd={info:{title:"Info",color:j.primary.base,icon:S.InfoCircle},warning:{title:"Warning",color:j.orange.base,icon:S.Warning},success:{title:"Success",color:j.green.base,icon:S.CheckCircle},danger:{title:"Danger",color:j.scarlet.base,icon:S.Alert}};c();function sP(e,t){let o=["info","warning","danger","success"];return ft(e,t,[{key:"levels",commands:()=>{let n=e.value.document.assertBlock(t),r=n.data.get("style");return o.map(i=>({key:i,selected:r===i,title:yd[i].title,icon:yd[i].icon,trigger:()=>{e.change(a=>{a.setNodeByKey(n.key,{data:{style:i}})})}}))}}])}function cP(e){let{node:t,children:o,editor:n,isFocused:r}=e,{readOnly:i}=n,a=t.data.toFrozenObject(),[,s]=R($5),l=yd[a.style],u=()=>{let C=["info","warning","danger","success"],w=a.style===C[C.length-1]?C[0]:C[C.indexOf(a.style)+1];n.change(k=>k.setNodeByKey(t.key,{data:{style:w}}))},d=Ia.useMemo(()=>sP(n,t.key),[n,t.key]),m=t.nodes.first(),f=Qr(m,t),g=E.ICON_L,y=f.paddingTop+(Rn(m)-g)/2,h=Ia.createElement(l.icon,{size:g,style:{color:l.color}});return Ia.createElement(ye,{...e,palette:d,contentProps:{style:[s.blockHint,v.directionRow,{borderColor:l.color}]}},Ia.createElement(b,{style:[s.blockHintIconSpacer,v.directionRow,v.justifyContentCenter,{paddingTop:y}]},i?h:Ia.createElement(Te,{onPress:u},h)),Ia.createElement(b,{style:v.flex1},o),!i&&r?Ia.createElement(Nl,{style:s.blockExitHint}):null)}var $5=L.create({blockHint:e=>({position:"relative",width:"100%",backgroundColor:e.colors.background.muted,paddingRight:p.large,borderLeftWidth:Xu,borderRadius:e.radiuses.medium}),blockHintIconSpacer:{width:Ku},blockExitHint:{position:"absolute",bottom:p.small,right:p.small}});c();var Og=x(li());var lP={onKeyDown:t3},Q5=(0,Og.isKeyHotkey)("backspace"),J5=(0,Og.isKeyHotkey)("enter"),e3=(0,Og.isKeyHotkey)("mod+enter");function t3(e,t,o){let{value:n}=t;if(Q5(e)&&n.isCollapsed)return o3(e,t);if(J5(e))return n3(e,t);if(e3(e))return r3(e,t);if(e.key===">")return i3(e,t)}function o3(e,t){let{value:o}=t,{startOffset:n,selection:r}=o;if(!de.isTextRange(r)||n>0)return;let i=zv(o);if(!i)return;let a=r.anchorKey?i.getClosestBlock(r.anchorKey):null;if(!(!a||!r.isAtStartOf(a))&&i.nodes.size===1)return e.preventDefault(),t.unwrapBlock(i.type)}function n3(e,t){let{value:o}=t,{startBlock:n,selection:r}=o;if(!de.isTextRange(r))return;let i=zv(o);if(i&&!(n&&n.text.length!==0))return e.preventDefault(),t.unwrapBlock(i.type)}function r3(e,t){let{value:o}=t,n=zv(o);if(n)return e.preventDefault(),St(t,n),t}function i3(e,t){let{value:o}=t,{selection:n}=o;if(de.isTextRange(n)&&!(n.startOffset!==0||n.isCollapsed))return e.preventDefault(),t.wrapBlock(Ct),t}function zv(e,t=null){let{document:o,selection:n}=e;if(!de.isTextRange(n))return null;if(!t){if(!n.startKey)return null;t=e.startBlock}let r=t?o.getParent(t.key):null;return r&&a3(r)?r:null}function a3(e){return"type"in e&&(e.type===Ct||e.type===to)}c();function uP(e,t,o){if(!e.selection)return[];let{anchorOffset:n,focusOffset:r,isAtomic:i,isBackward:a,isFocused:s}=e.selection;return[de.create({anchorKey:t,anchorOffset:n,focusKey:o,focusOffset:r,isAtomic:i,isBackward:a,isFocused:s,data:{userId:e.userId,userName:e.name,userColor:e.color}})]}c();var Wv=x(O());c();var In=x(O());z();var Fl=2,s3=250;function dP(e){let{selection:t}=e,o=t.data.get("userName"),n=t.data.get("userColor"),[r,i]=In.useState(!1),a=va(()=>new dt.Value(r?1:0)),s={"data-cursor":!0},l={backgroundColor:n};return In.useEffect(()=>{dt.timing(a.current,{toValue:r?1:0,delay:kn.TRANSITION_DURATION_SHORT,useNativeDriver:!1}).start()},[r]),In.createElement(te,{tag:"span",...s,style:[vd.cursor]},In.createElement(Ka,{wrapper:jr,onOpen:()=>i(!0),onClose:()=>i(!1),anchor:({ref:u,open:d,close:m})=>In.createElement(B.WithInteractiveState,{onHoverIn:d,onHoverOut:m},({events:f})=>In.createElement(b,{ref:u,...f,style:[vd.carret,l]},In.createElement(b,{style:[vd.carretTop,l]})))},In.createElement(dt.View,{style:[vd.bubble,{opacity:a.current.interpolate({inputRange:[0,1],outputRange:[0,1]})}]},In.createElement(b,{style:[vd.bubbleContent,l,p.Padding.smallHorizontal]},In.createElement(Cr,{theme:{color:hp(n)}},In.createElement(c3,{userName:o}))))))}function c3({userName:e}){let[,t]=R(N);return In.createElement(A,{numberOfLines:1,style:[t.Body,t.text]},e)}var vd=F.create({cursor:{position:"absolute"},carret:{userSelect:"none",width:Fl,top:3,height:"1.2em"},carretTop:{position:"absolute",top:-Fl*3,left:-Fl,borderRadius:100,width:Fl*3,height:Fl*3},bubble:{position:"absolute",left:-Fl,top:"-1.2em",width:s3},bubbleContent:{position:"absolute",borderRadius:E.RADIUS_M}});c();var mP=x(fm()),pP=x(O());function fP(e){let{children:t,selection:o}=e,n=o.data.get("userColor");return pP.createElement(nt,{...{"data-cursor":!0},style:[{backgroundColor:l3(n,.2)}]},t)}function l3(e,t){let o=Math.round((0,mP.default)(t||1,0,1)*255);return e+o.toString(16).toUpperCase()}c();var gP="focus",hP="range";var yP={renderSelection:u3};function u3(e){let{type:t}=e;switch(t){case gP:return Wv.createElement(dP,{...e});case hP:return Wv.createElement(fP,{...e})}}c();var Ve=x(O());c();var Er=x(O());function vP(e){let{editor:t,node:o}=e,{contentReferenceContext:n}=Er.useContext(ie),r=mt(n),i=Er.useMemo(()=>ft(t,o.key,[{key:"edit",commands:[{key:"edit_ref",title:"Edit link target",icon:S.PageLink,trigger:()=>cn(a=>{t.change(s=>{s.setDataByKey(o.key,["ref"],a)})},r.current,{accept:["page","space","collection"]})}]}]),[t,o.key,r]);return Er.createElement(ye,{...e,palette:i},Er.createElement(Bt,{...e},Er.createElement(Er.Suspense,{fallback:Er.createElement(Gi,{icon:Se,title:""})},Er.createElement(d3,{contentRef:o.data.get("ref")}))))}function d3(e){let{contentRef:t}=e,o=uo(t);return Er.createElement(Gi,{title:o.title,icon:o.icon||o.secondaryIcon,...cs(o)})}c();var bs=x(O());z();function bP(e){let{ancestors:t,node:o,children:n,attributes:r}=e,i=o.data.toFrozenObject(),{blockLayoutComponent:a}=bs.useContext(ie),s=Fe(),l=El({ancestors:t,node:o.blockNodes.first(),diff:!0});return bs.createElement(a,{renderMode:l.renderMode},bs.createElement(_a.View,{isPDF:s},bs.createElement(b,{style:l.blockStyle},bs.createElement(b,{...r},l.diffLine?bs.createElement($f,{diff:i,...l.diffLine}):null,n))))}c();var CP=x(O());z();function SP(e){let{mark:t,attributes:o,children:n}=e;return CP.createElement(nt,{style:m3[t.type],...o},n)}var m3=F.create({[ym]:{color:ic.added},[vm]:{color:ic.deleted,textDecorationLine:"line-through"},[bm]:{color:ic.modified}});c();var Ae=x(O());c();var Ko=x(O());z();c();var wo=x(O());function wP(e){let{onClose:t}=e,[o,n]=Vn(),r=wo.useRef(null),[i,a]=wo.useState(!1),s=mt(i),l=mt(t),u=mt(o),d=wo.useCallback(()=>{u.current||n(()=>l.current())},[l,u]);return wo.useEffect(()=>dp("editor-block-modal"),[]),wr({[We.EDITOR_SAVE]:m=>{d()}},"editor-block-modal",[]),wo.useEffect(()=>{let m=null,f=g=>{g.key==="Escape"&&(s.current?(m&&clearTimeout(m),d()):(a(!0),m=setTimeout(()=>{a(!1)},2e3)))};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f),m&&clearTimeout(m)}},[s,d]),wo.useEffect(()=>{var m,f;i?(m=r.current)==null||m.open():(f=r.current)==null||f.close()},[i,r]),wo.createElement(D,{tooltipRef:r,icon:S.X,disabled:o,onPress:d,title:i?wo.createElement(wo.Fragment,null,"Press ",wo.createElement(Ur,{shortcut:"ESC"})," again to save & close"):wo.createElement(wo.Fragment,null,"Save & Close ",wo.createElement(Ur,{shortcut:We.EDITOR_SAVE})),tooltipPreferredPlacement:"left"})}c();c();c();var kP=Um("05ab87fa95f4c5a09220a4e1067733011498ba1a47c8b145f5ec78dcb9ffe75d",()=>import("https://app.gitbook.com/public/app/chunks/excalidraw.lazy-ZRAGXCGZ.min.js"));var lc=kP;async function xP(e){let{default:{exportToSvg:t}}=await lc.load(),o=await t({appState:{exportEmbedScene:!0},elements:e.elements,files:e.files});return new XMLSerializer().serializeToString(o)}c();var Vv=Xr({getValue:async e=>{if(!e)return{elements:[],files:{}};let{default:{loadFromBlob:t}}=await lc.load(),n=await(await fetch(e)).blob(),r=await t(n,null,null);return{elements:r.elements,files:r.files}}}),OP=Xr({getValue:async({downloadURL:e,theme:t})=>{let{default:{exportToSvg:o}}=await lc.load(),n=await Vv.readAsync(e),r=await o({appState:{viewBackgroundColor:"transparent",exportWithDarkMode:t==="dark"},elements:n.elements,files:n.files});return r.style.maxWidth="100%",r.removeAttribute("width"),r.removeAttribute("height"),r}});function _P(e){let{blockData:t,onClose:o}=e,[,n]=R(g3),r=Ko.useRef(),i=Xa(kn.fade),a=Xa(kn.pop,{onEnd:()=>{var s;(s=r.current)==null||s.refresh()}});return Ko.createElement(on,null,Ko.createElement(b,{ref:i,style:[L.absoluteFill,n.modalBackdrop]},Ko.createElement(b,{ref:a,style:n.modalBody},Ko.createElement(Ko.Suspense,{fallback:Ko.createElement(Xt,{size:"large"})},Ko.createElement(p3,{blockData:t,onClose:o,excalidrawRef:r})))))}function p3(e){var g,y;let{excalidrawRef:t,blockData:o,onClose:n}=e,r=jc(),i=ao(),{Excalidraw:a,useExcalidrawStyle:s}=lc.loadSuspense().default;s();let u=(y=(g=uo(o.ref).resolution)==null?void 0:g.extra)==null?void 0:y.file,{result:d,error:m}=Vv.readSafe((u==null?void 0:u.downloadURL)||null),f=async()=>{let h=t.current;if(!h){n(void 0);return}let C=h.getSceneElements(),w=h.getFiles();if(d&&d.elements&&!f3(d.elements,C)){n(void 0);return}let k=await xP({elements:C,files:w});n(new File([new Blob([k])],(u==null?void 0:u.name)||"file.excalidraw.svg",{type:"image/svg+xml"}))};return Ko.useEffect(()=>{m&&i.notify({kind:"danger",icon:S.Warning,title:"Error loading drawing",details:m.expose?m.message:"An unexpected error occurred while loading the drawing"})},[m]),Ko.createElement(b,{style:[L.absoluteFill]},Ko.createElement(a,{ref:t,initialData:{...d,scrollToContent:!0},theme:r.color,UIOptions:{canvasActions:{export:!1,loadScene:!1,saveToActiveFile:!1,toggleTheme:!1,saveAsImage:!1,changeViewBackgroundColor:!1,clearCanvas:!1}},renderTopRightUI:(h,C)=>Ko.createElement(b,null,Ko.createElement(wP,{onClose:f}))}))}function f3(e,t){return e.length!==t.length?!0:e.some((o,n)=>{let r=t[n];return o.version!==r.version})}var g3=L.create({modalBackdrop:e=>({backgroundColor:e.colors.backdrop.background}),modalBody:e=>({position:"absolute",top:p.large,bottom:p.large,right:p.xlarge,left:p.xlarge,borderRadius:E.RADIUS_L,backgroundColor:e.colors.background.main,overflow:"hidden"})});c();var Ut=x(O());z();var IP=Ut.forwardRef(function(t,o){let{readOnly:n,contentRef:r}=t,i=Ut.useRef(null),a=jc(),s=Sl(),[,l]=R(PP),[u,d]=Ut.useState(null),f=uo(r).href,g=u;return r&&!f&&(g=new Pc.NotFound("Drawing file not found, the file may have been deleted")),Ut.useImperativeHandle(o,()=>({openInGallery:()=>{s.open([{url:f}])}})),Ut.useEffect(()=>{let y=!0;return OP.readAsync({downloadURL:f,theme:a.color}).then(h=>{let C=i.current;C&&h&&y&&(C.innerHTML="",C.appendChild(h.cloneNode(!0)))},h=>{y&&d(h)}),()=>{y=!1}},[f,a.color]),g?Ut.createElement(RP,{kind:"danger",icon:S.Warning,message:g.expose?g.message:"An error occurred while rendering this drawing file."}):Ut.createElement(b,{style:l.wrapper},f?Ut.createElement("div",{ref:i},Ut.createElement("img",{src:f,style:{width:"100%"}})):Ut.createElement(RP,{icon:S.EditDrawing,message:n?"Drawing file not found":"Double click to start sketching out your thoughts."}))});function RP(e){let{icon:t,message:o,kind:n="default"}=e,[,r]=R(PP),[,i]=R(N);return Ut.createElement(b,{style:[r.fallback,p.Padding.large,v.alignCenter,v.justifyContentCenter]},Ut.createElement(b,null,Ut.createElement(t,{size:E.ICON_XL,style:n==="danger"?i.danger:i.textMuted})),Ut.createElement(b,{style:p.Margin.mediumTop},Ut.createElement(A,{style:[n==="danger"?i.danger:i.textMuted,i.Body]},o)))}var PP=L.create({wrapper:{},fallback:e=>({height:200,borderWidth:1,backgroundColor:e.colors.background.main,borderColor:e.colors.border.mid,borderRadius:E.RADIUS_M,borderStyle:"dashed"})});var EP=B.createInteractiveHandle("drawing-block");function TP(e){let{node:t,editor:o,isSelected:n}=e,{readOnly:r}=o,i=At(),{uploadFiles:a,updateFile:s}=Ae.useContext(ie),[l,u]=Ae.useState(null),[d,m]=Vn(),f=Ae.useRef(),g=Ae.useRef(null),y=t.data.toFrozenObject(),h=()=>{var T;(T=C.current)==null||T.close(),u("edit")},C=Ae.useRef(null),w=Ae.useRef(null);Ae.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);let k=Sp(h),I=T=>{var W,H,q;r?(W=g.current)==null||W.openInGallery():(w.current&&clearTimeout(w.current),k(T)?(H=C.current)==null||H.close():((q=C.current)==null||q.open(),w.current=setTimeout(()=>{var G;(G=C.current)==null||G.close()},1e3)))},_=T=>{f.current=T?URL.createObjectURL(T):void 0,T&&m(async()=>{let W=y.ref;y.ref&&W?await s(W,T):W=(await a([T]))[0],sm(W,y.ref)&&o.change(H=>{H.setDataByKey(t.key,["ref"],W)})}),u(null)},P=async()=>{let[T]=await i.prompt({title:"Replace drawing file",acceptURL:!1,accept:"drawings"});(T==null?void 0:T.kind)==="file"&&o.change(W=>{W.insertDataByKey(t.key,["ref"],T)})},M=ft(o,t.key,[{key:"types",commands:[{key:"edit",title:"Edit drawing",icon:S.EditDrawing,trigger:()=>{h()}},{key:"files",title:"Replace file\u2026",icon:S.Replace,trigger:()=>{P()}}]}]);return Ae.createElement(Ae.Fragment,null,Ae.createElement(ye,{...e,palette:M},Ae.createElement(Bt,{...e},Ae.createElement(B.TouchableOpacity,{onPress:I},Ae.createElement(B.View,{handle:EP},Ae.createElement(Ae.Suspense,{fallback:Ae.createElement($n,null)},Ae.createElement(IP,{ref:g,readOnly:r,contentRef:f.current&&d?{kind:"url",url:f.current}:y.ref})),r?null:Ae.createElement(Cr,{theme:{color:"dark"}},Ae.createElement(Fn,{ref:C,preferredPlacement:"left",tooltip:"Double click to edit!"},(T,W)=>Ae.createElement(h3,{ref:W,saving:d,isSelected:n,palette:M})))))),Ae.createElement(hs,{...e})),Ae.createElement(st,null,l==="edit"?Ae.createElement(_P,{blockData:y,onClose:_}):null))}var h3=Ae.forwardRef(function(t,o){let{isSelected:n,saving:r,palette:i}=t,[,a]=R(y3);return Ae.createElement(B.View.Child,{ref:o,descendantOf:EP,style:[a.blockToolbar,v.directionRow],inactiveStyle:n||r?ce.visible:ce.hidden,activeStyle:ce.visible},r?Ae.createElement(D,{size:"small",icon:Se},"Saving"):i.groups.map(s=>Array.isArray(s.commands)?s.commands:[]).flat().map((s,l,u)=>Ae.createElement(D,{key:s.key,title:s.title,size:"small",icon:s.icon,style:[l<u.length-1?p.Margin.smallRight:null],onPress:()=>{var d;(d=s.trigger)==null||d.call(s,i)}})))}),y3=L.create({blockToolbar:e=>({position:"absolute",top:p.small,right:p.small,padding:p.small,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.mid,...e.shadows.base})});c();var Yi=x(O());function MP(e){let{node:t,editor:o}=e,n=At(),r=async()=>{let[a]=await n.prompt({title:"Replace file"});(a==null?void 0:a.kind)==="file"&&o.change(s=>{s.insertDataByKey(t.key,["ref"],a)})},i=ft(o,t.key,[{key:"types",commands:()=>[{key:"files",title:"Replace file\u2026",icon:S.Paperclip,trigger:()=>{r()}}]}]);return Yi.createElement(ye,{...e,palette:i},Yi.createElement(Bt,{...e},Yi.createElement(Yi.Suspense,{fallback:Yi.createElement(Gi,{icon:Se,title:""})},Yi.createElement(v3,{...e,onReplace:r}))),Yi.createElement(hs,{...e}))}function v3(e){var u,d;let{node:t,editor:o,onReplace:n}=e,{ref:r}=t.data.toFrozenObject(),a=(d=(u=uo(r).resolution)==null?void 0:u.extra)==null?void 0:d.file,s=()=>{a?Sa(ha(a.downloadURL)):o.readOnly||n()},l=Ht(Il,{file:a},[a]);return Yi.createElement(Gi,{onPress:s,icon:l,title:a?a.name:"File has been deleted",subtitle:a?Nu(a.size):void 0,details:a?Ix(a):void 0})}c();var un=x(O());c();var Cs=x(O());z();function LP(e){let{node:t,editor:o,onClose:n}=e,r=Rm(t.text),[i,a]=Cs.useState(()=>t.data.get("id")||""),s=u=>{let d=Rm(u);d.length===u.length?a(d):a(u)},l=()=>{o.change(u=>{i?u.setDataByKey(t.key,["id"],Rm(i)):u.removeDataByKey(t.key,["id"])}),n()};return Cs.createElement(wt,{size:"small",title:"Edit heading anchor",footer:Cs.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},Cs.createElement(D,{kind:"secondary",onPress:n,style:p.Margin.smallRight},"Close"),Cs.createElement(D,{kind:"primary",onPress:l},"Save")),onClose:n},Cs.createElement(Kt,{autoFocus:!0,size:"large",icon:S.Hash,label:"Anchor",labelDescription:"Edit this anchor to customize a nice looking url for this heading.",value:i,onChangeText:s,onSubmit:l,placeholder:r}))}var b3=X.createResponsiveComponent(te);function NP(e){let{editor:t,node:o,parent:n,children:r}=e,[,i]=R(N),[,a]=R(S3),[s,l]=un.useState(null),u=un.useContext(as),d=un.useContext(jn),m=un.useMemo(()=>kg(t,o.key,[{key:"edit",commands:[{key:"edit",title:"Edit anchor",icon:S.Link,trigger:()=>{l("edit")}}]}]),[t,o.key]),{anchorElement:f,anchoredBlockId:g,anchoredBlockInteractiveState:y,onAnchoredBlockPress:h}=cg(o,{accessibilityLabel:"Direct link to heading",anchorIconSize:x3[o.type]}),C=n.type===Ct;return un.createElement(un.Fragment,null,un.createElement(ye,{...e,palette:m},un.createElement(b3,{tag:C3(o.type),nativeID:g,onClick:C?()=>{}:()=>h(),...y.events,style:[v.directionRow,v.alignEnd]},un.createElement(X.Text,{selectable:!0,mobileStyle:[k3[o.type]],desktopStyle:[w3[o.type]],nativeID:`text-${g}`,style:[i.text,a[u],a[d]]},r,C?null:f))),un.createElement(st,null,s==="edit"?un.createElement(LP,{node:o,editor:t,onClose:()=>l(null)}):null))}function C3(e){switch(e){case Me:return"h2";case Ne:return"h3";case Xe:return"h4";default:throw new Error(`invalid node type (${e}) for heading`)}}var S3=L.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},caption:{},quote:{},swaggerParameter:{}}),w3={[Me]:ro.Heading1,[Ne]:ro.Heading2,[Xe]:ro.Heading3},k3={[Me]:ro.Heading2,[Ne]:ro.Heading3,[Xe]:ro.Body},x3={[Me]:E.ICON_L,[Ne]:E.ICON_S,[Xe]:E.ICON_XXS};c();var _g=x(O());function DP(e){let{node:t,children:o,style:n,attributes:r}=e,{sections:i}=_g.useContext($r),a=i.get(t.key);return _g.createElement("div",{id:a,...r,style:n},o)}c();var qv=x(O());z();function AP(e){let{node:t,editor:o,children:n}=e,{align:r="center"}=t.data.toFrozenObject(),i=At(),a=l=>{o.change(u=>{u.insertDataByKey(t.key,["align"],l)})},s=ft(o,t.key,[{key:"types",commands:()=>[{key:"files",title:"Add images\u2026",icon:S.Image,trigger:()=>{i.prompt({accept:"images",title:"Select image",acceptURL:!0}).then(l=>{o.change(u=>{l.forEach(d=>{u.appendNodeByKey(t.key,Fo.createImageBlock(d))})})})}}]},{key:"align",commands:[{key:"left",title:"Left align",selected:r==="left",icon:S.AlignTextLeft,trigger:()=>a("left")},{key:"center",title:"Center",selected:r==="center",icon:S.AlignTextCenter,trigger:()=>a("center")},{key:"right",title:"Right align",selected:r==="right",icon:S.AlignTextRight,trigger:()=>a("right")}]}]);return qv.createElement(ye,{palette:s,...e},qv.createElement(X.View,{style:[v.directionRow,r==="center"&&v.justifyContentCenter,r==="left"&&v.justifyContentStart,r==="right"&&v.justifyContentEnd,O3.imagesWrapper],mobileStyle:[v.wrap,v.justifyContentCenter]},n))}var O3=F.create({imagesWrapper:{columnGap:p.medium,rowGap:p.medium}});c();var Qe=x(O());z();c();var yi=x(O());z();function Rg(e){let{node:t,editor:o,onClose:n}=e,[r,i]=yi.useState(()=>Fo.getImageAltText(t)||""),a=()=>{o.change(s=>{s.insertDataByKey(t.key,["alt"],r)}),n()};return yi.createElement(wt,{title:"Set image alt text",onClose:n,footer:yi.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},yi.createElement(D,{kind:"secondary",onPress:n,style:p.Margin.smallRight},"Cancel"),yi.createElement(D,{kind:"primary",onPress:a},"Save"))},yi.createElement(b,{style:[p.Margin.largeBottom]},yi.createElement(b,{style:[p.Margin.mediumBottom]},yi.createElement($m,null,"This will be read out by screen readers when the image is encountered. Describe the image in detail \u2013 it's how visually impaired readers know what's in front of them.")),yi.createElement(Kt,{autoFocus:!0,size:"large",value:r,placeholder:"Edit alt text",onChangeText:i,onSubmit:a})))}async function _3(e,t){let o=e.nodes.toArray().map(i=>{let{ref:a}=i.data.toFrozenObject();return a}),n={url:"",broken:!0},r=o.map(i=>L_(i,t).then(({uri:a})=>typeof a!="string"||a===""?n:{url:a,broken:!1}).catch(()=>n));return Promise.all(r)}function BP(e){let{node:t,parent:o,isSelected:n,attributes:r,editor:i}=e,{readOnly:a}=i,{ref:s}=t.data.toFrozenObject(),l=ng(i,t.key),{contentReferenceContext:u}=Qe.useContext(ie),d=_f(s,u),[,m]=R(Fv),f=Sl(),g=B.useInteractiveState(),y=o.nodes.size>1,[{dragging:h},C]=Ki({type:"block",item:{id:t.key,type:"block",blockType:t.type,previewLabel:"Move image"},canDrag:()=>!a,collect:W=>({dragging:W.isDragging()})}),w=B.useInteractiveState(),[k,I]=Qe.useState(null),_=Fo.getImageAltText(t),P=()=>{I("alt")},M=()=>{I(null)},T=async()=>{if(!d||!d.uri)return;let W=await _3(o,u),H=o.getChildIndex(t.key);f.open(W,H)};return Qe.createElement(Qe.Fragment,null,Qe.createElement(st,null,k==="alt"?Qe.createElement(Rg,{...e,onClose:M}):null),Qe.createElement(b,{style:[m.imageWrapper],...g.events,...r},Qe.createElement(Bt,{...e},d?Qe.createElement(B.TouchableOpacity,{onPress:T},Qe.createElement(Po,{source:d,accessibilityLabel:_,loading:l?"priority":"lazy",style:[m.image,h&&ce.translucent]})):Qe.createElement(R3,{accessibilityLabel:_})),a?null:Qe.createElement(Cr,{theme:{color:"dark"}},(n||g.hovered)&&!h?Qe.createElement(I3,{...e,openAltTextModal:P}):null,y?Qe.createElement(b,{ref:C,style:[m.imageDragHandle,{display:(g.hovered||w.hovered)&&!h?"flex":"none"}],...w.events},Qe.createElement(S.GrabberVertical,{size:E.ICON_S,style:[m.imageDragHandleIcon]})):null)),Qe.createElement(hs,{...e,isSelected:e.isSelected||g.hovered}))}function R3(e){let{style:t,...o}=e,[,n]=R(N),[,r]=R(Fv);return Qe.createElement(b,{style:[v.alignCenter,v.justifyContentCenter,r.brokenImage,p.Padding.large,t],...o},Qe.createElement(b,null,Qe.createElement(S.CloudOff,{size:E.ICON_L,style:[n.textMuted]})),Qe.createElement(b,{style:[p.Margin.mediumTop]},Qe.createElement(A,{style:[n.Caption,n.textMuted]},"Could not load image")))}function I3(e){let{editor:t,node:o,isSelected:n,openAltTextModal:r}=e,[,i]=R(Fv),a=At(),s=async()=>{let[l]=await a.prompt({title:"Replace image",accept:"images",acceptURL:!0});l&&t.change(u=>{u.insertDataByKey(o.key,["ref"],l)})};return Qe.createElement(Qe.Fragment,null,Qe.createElement(b,{style:[i.imageToolbar,v.directionRow]},Qe.createElement(D,{title:"ALT text",size:"small",icon:S.AltText,style:[p.Margin.smallRight],onPress:r}),n?Qe.createElement(D,{title:"Replace",size:"small",icon:S.Replace,style:[p.Margin.smallRight],onPress:()=>s()}):null))}var Fv=L.create({imageWrapper:{position:"relative",borderRadius:E.RADIUS_M},imageCaption:{position:"relative",textAlign:"center"},image:{borderRadius:E.RADIUS_M,maxWidth:"100%"},imageToolbar:e=>({position:"absolute",top:p.small,right:p.small,padding:p.small,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.mid,...e.shadows.base}),imageDragHandle:{position:"absolute",top:p.small,left:p.small,cursor:"grab"},imageDragHandleIcon:{textShadowColor:j.BLACK,textShadowRadius:3,color:j.WHITE},brokenImage:e=>({borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.muted})});c();var Ie=x(O());z();function zP(e){let{editor:t,node:o,parent:n,ancestors:r}=e,i=ng(t,o.key),a=Ie.useRef(null),s=Rn(n.object==="block"?n:null),[,l]=R(WP),u=r.some(m=>m.object==="inline"&&m.type===Io),d=m=>Ie.createElement(Al,{...m,...e,style:l.inlineFrame},Ie.createElement(Ie.Suspense,{fallback:Ie.createElement(Se,{size:E.ICON_S})},Ie.createElement(P3,{node:o,parentLineHeight:s,ref:a,withPriorityLoading:i})));return t.readOnly?d(u?{}:{onPress:()=>{var m;(m=a.current)==null||m.openInGallery()}}):Ie.createElement(T3,{...e,anchor:d})}var P3=Ie.forwardRef(function(t,o){let{node:n,parentLineHeight:r,withPriorityLoading:i}=t,a=n.data.get("ref"),s=n.data.get("size","original"),l=Fo.getImageAltText(n),{contentReferenceContext:u}=Ie.useContext(ie),d=_f(a,u),m=Sl();Ie.useImperativeHandle(o,()=>({openInGallery:()=>{d!=null&&d.uri&&m.open([{url:d.uri}])}}),[d==null?void 0:d.uri]);let f={};s==="original"?f={maxWidth:300}:f={maxHeight:r};let g=Ie.createElement(E3,{accessibilityLabel:l});return d?Ie.createElement(Po,{accessibilityLabel:l,source:d,style:f,errorFallback:g,loading:i?"priority":"lazy"}):g});function E3(e){let[,t]=R(WP),[,o]=R(N);return Ie.createElement(b,{style:t.brokenImage,...e},Ie.createElement(S.CloudOff,{size:E.ICON_M,style:o.textMuted}))}function T3(e){let{node:t,anchor:o,isFocused:n,editor:r}=e,i=Ie.useRef(null),a=At(),[s,l]=Ie.useState(null),u=n&&r.value.selection.isCollapsed,[d,m]=Ie.useState(!1);Ie.useEffect(()=>{if(u){m(!0);return}let C=setTimeout(()=>{m(!1)},300);return()=>{clearTimeout(C)}},[u]);let f=()=>{r.change(C=>{C.collapseToStartOf(t).focus()})},g=C=>{r.change(w=>{w.insertDataByKey(t.key,["size"],C),w.collapseToStartOf(t).focus()})},y=()=>{r.change(C=>{Fo.replaceInlineImageWithBlock(C,t)})},h=async()=>{let[C]=await a.prompt({title:"Replace image",accept:"images",acceptURL:!0});C&&r.change(w=>{w.insertDataByKey(t.key,["ref"],C)})};return Ha(()=>{var C;(C=i.current)==null||C.updatePosition()},[t.data]),Ie.createElement(Ie.Fragment,null,Ie.createElement(st,null,s==="alt"?Ie.createElement(Rg,{...e,onClose:()=>l(null)}):null),Ie.createElement(zi,{ref:i,opened:u||d,anchor:({ref:C})=>o({ref:C,onPress:f})},Ie.createElement(nn,{kind:"tooltip"},Ie.createElement(b,{style:[v.directionRow,p.Padding.xsmall]},Ie.createElement(D,{size:"small",title:"Inline size",kind:"default_inverted",onPress:()=>g("line"),icon:S.ImageSizeSmall}),Ie.createElement(D,{size:"small",title:"Original size",kind:"default_inverted",onPress:()=>g("original"),icon:S.ImageSizeLarge}),Ie.createElement(D,{size:"small",title:"Convert to block",kind:"default_inverted",onPress:y,icon:S.ImageSizeBlock}),Ie.createElement(D,{size:"small",kind:"default_inverted",title:"Replace",onPress:h,icon:S.Replace}),Ie.createElement(D,{size:"small",kind:"default_inverted",title:"ALT text",onPress:()=>l("alt"),icon:S.AltText})))))}var WP=L.create({brokenImage:e=>({padding:p.xsmall,borderRadius:E.RADIUS_M,backgroundColor:e.colors.background.muted}),inlineFrame:{maxWidth:"100%"}});c();var VP=x(O());function qP(e){let{children:t,attributes:o}=e;return VP.createElement(nt,{tag:"strong",style:ro.Bold,...o},t)}c();var FP=x(O());function GP(e){let{children:t,attributes:o}=e;return FP.createElement(nt,{tag:"em",style:ro.Italic,...o},t)}c();var HP=x(O());function XP(e){let{children:t,attributes:o}=e;return HP.createElement(nt,{tag:"span",style:ro.Strikethrough,...o},t)}c();var KP=x(O());function jP(e){let{children:t,attributes:o}=e,[,n]=R(M3);return Hw(),KP.createElement(nt,{tag:"code",style:[n.markCode],...o},t)}var M3=L.create({markCode:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.medium,paddingLeft:p.xsmall,paddingRight:p.xsmall,fontFamily:Bm})});c();var UP=x(O());function YP(e){let{children:t,mark:o,attributes:n}=e,r=o.data.toObject(),i=Kr(),a=r.background&&r.background!=="default",s=r.text&&r.text!=="default",l=a&&i.color==="dark"?{color:j.lightModeText.base}:null;s&&(l=Lp.find(d=>d.key===r.text)||null);let u=a?Np.find(d=>d.key===r.background):null;return UP.createElement(nt,{tag:"mark",style:[{color:l?l.color:"inherit",backgroundColor:u?u.color:"inherit"}],...n},t)}c();var Zi=x(O());z();c();var Lo=x(O());z();function Ig(e){let{node:t,anchor:o,isSelected:n,isOnlyNodeSelected:r,isFocused:i,editor:a}=e,{formula:s}=t.data.toFrozenObject(),l=Lo.useRef(null),[u,d]=Lo.useState(!1),[m,f]=Lo.useState(!1),[g,y]=Ai(s,[s]),[,h]=R(N),C=()=>{d(!1),f(!1)},w=()=>{u||(a.change(P=>{P.collapseToStartOf(t).focus()}),d(!0))};Lo.useEffect(()=>{var P;u&&((P=l.current)==null||P.focus())},[u]),Lo.useEffect(()=>{r&&w()},[r]);let k=P=>{y(P),f(!1)},I=()=>{C(),a.change(P=>{P.blur(),P.insertDataByKey(t.key,["formula"],t.object==="inline"?g.replace(/\n/g," "):g)})},_=()=>{C(),a.change(P=>{var M;if(P.blur(),P.insertDataByKey(t.key,["formula"],t.object==="inline"?g.replace(/\n/g," "):g),t.object==="block")St(P);else{let T=(M=t.getFirstText())==null?void 0:M.key;if(T){let W=P.value.document.getNextText(T);W&&P.collapseToStartOf(W)}}P.focus()})};return a.readOnly?o({formula:s}):Lo.createElement(ck,{opened:u,onClose:I,wrapper:Aw,anchor:({ref:P})=>o({ref:P,isFocused:n&&i||u,onPress:w,formula:g,onError:()=>{f(!0)}})},Lo.createElement(nn,{kind:"tooltip"},Lo.createElement(b,null,Lo.createElement(Kt,{ref:l,multiline:!0,numberOfLines:3,autoFocus:!0,selectTextOnFocus:!0,value:g,onChangeText:k,placeholder:"Enter your TeX formula",onSubmit:_,kind:"inverted",textStyle:m?[h.danger]:void 0}),Lo.createElement(A,{style:[h.Label,h.textInverted,ZP.blockExitHint]},"Exit with ",Lo.createElement(Ur,{kind:"muted",shortcut:"enter"})),m?Lo.createElement(Fn,{tooltip:"There is an error in your math formula",preferredPlacement:"bottom"},(P,M)=>Lo.createElement(b,{ref:M,style:ZP.blockErrortBadge,...P.events},Lo.createElement(io,{icon:S.ExclamationCircle,kind:"danger"}))):null)))}var ZP=F.create({blockExitHint:{position:"absolute",bottom:p.small,right:p.small},blockErrortBadge:{position:"absolute",bottom:p.small,left:p.small}});c();var Pg=Ym("f1a718ae5a0b5d0a680254c13fabc0ed4b38f7b4037704dda83756645a7f1027",()=>import("https://app.gitbook.com/public/app/chunks/MathTeXView.lazycomponent.legacy-GZ5G6FWT.min.js"));function $P(e){return Zi.createElement(Ig,{anchor:({formula:t,onError:o,...n})=>Zi.createElement(ye,{...e},Zi.createElement(Bt,{...e,...n},Zi.createElement(Zi.Suspense,{fallback:Zi.createElement($n,null)},Zi.createElement(Ei,{horizontal:!0,showsVerticalScrollIndicator:!1,contentContainerStyle:L3.container},Zi.createElement(Pg,{formula:t,inline:!1,onError:o}))))),...e})}var L3=F.create({container:{marginLeft:"auto",marginRight:"auto"}});c();var Ss=x(O());function QP(e){return Ss.createElement(Ig,{anchor:({formula:t,onError:o,...n})=>Ss.createElement(Al,{...e,...n},Ss.createElement(Ss.Suspense,{fallback:Ss.createElement(Se,{size:E.ICON_S})},Ss.createElement(Pg,{formula:t,inline:!0,onError:o}))),...e})}c();var Zt=x(O());c();var JP=x(O()),Eg=JP.createContext(new Map);c();c();var Xv=x(O());c();c();var Gv=x(O());z();var e0={title:"Checkbox",description:"A single checkbox that can be checked or unchecked.",IconComponent:S.ColumnTypeCheckbox,ValueComponent:N3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":t&&o(!1);break;case"enter":o(!t);break}}};function N3(e){let{value:t,readOnly:o,onValueChange:n,style:r}=e;return Gv.default.createElement(b,{style:[r,v.flex1,v.directionRow,v.alignCenter]},Gv.default.createElement(Ua,{value:t,onValueChange:n,readOnly:o}))}c();var Pn=x(O());z();var t0={title:"Link",description:"Reference another page, file, space or collection.",IconComponent:S.PageLink,ValueComponent:D3};function D3(e){let{value:t,selected:o,readOnly:n,displayMode:r,style:i,onValueChange:a}=e,s=Pn.default.useRef(null),l=ae(s),{contentReferenceContext:u}=Pn.default.useContext(ie),d=()=>{l.open(cn(a,u,{accept:["page","file","space","collection","anchor","url"]}))};return Pn.default.createElement(b,{ref:s,style:[v.directionRow,v.wrap,v.flex1,v.alignCenter,i]},Pn.default.createElement(Pn.default.Suspense,{fallback:Pn.default.createElement(Se,null)},t?Pn.default.createElement(b,{style:[v.flex1,v.directionRow]},Pn.default.createElement(A3,{contentRef:t})):null,(r==="block"||o)&&!n?Pn.default.createElement(D,{icon:S.MoreVertical,title:r!=="block"?"Select target":null,kind:"secondary",size:"small",onPress:d},r==="block"?"Select target":null):null))}function A3(e){let{contentRef:t}=e,{contentReferenceContext:o}=Pn.default.useContext(ie),[n]=dv([t],o),[,r]=R(N);return n?Pn.default.createElement(b,{style:[v.directionRow,v.alignCenter]},n.icon?Pn.default.createElement(b,{style:[p.Margin.smallRight]},Pn.default.createElement(n.icon,{size:E.ICON_M,style:[r.textMuted]})):null,Pn.default.createElement(Vi,{url:n.href,onPress:i=>{i.preventDefault(),n.open()},style:[r.Body]},n.title)):null}c();var tr=x(O());z();var o0={title:"Files",description:"Attachments allow you to add images, documents, or other files which can then be viewed or downloaded.",IconComponent:S.ColumnTypeFile,ValueComponent:B3};function B3(e){let{value:t,selected:o,readOnly:n,displayMode:r,onValueChange:i,style:a}=e,s=At(),l=async()=>{let d=await s.prompt({title:"Select file"});i([...t,...d.filter(m=>m.kind==="file").map(m=>m.file)])},u=d=>{let m=[...t];m.splice(d,1),i(m)};return tr.default.createElement(b,{style:[v.directionRow,v.wrap,v.flex1,t.length>0?W3.filesList:null,a]},tr.default.createElement(tr.default.Suspense,{fallback:tr.default.createElement(Se,null)},t.map((d,m)=>tr.default.createElement(z3,{key:d,fileId:d,readOnly:n,onRemove:()=>u(m)}))),(r==="block"||o)&&!n?tr.default.createElement(D,{icon:S.Plus,title:"Add attachment",kind:"secondary",size:"small",onPress:l},r==="block"?"Add file":null):null)}function z3(e){var m,f;let{fileId:t,readOnly:o,onRemove:n}=e,[,r]=R(N),i=B.useInteractiveState(),a=tr.default.useRef(null),s=ae(a),l=uo({kind:"file",file:t}),u=(f=(m=l.resolution)==null?void 0:m.extra)==null?void 0:f.file;return tr.default.createElement(Te,{onPress:()=>{o?l.href&&Sa(l.href):s.open(oe({groups:[{key:"file",commands:[{key:"remove",title:"Remove",icon:S.Trashcan,trigger:()=>{n()}},u?{key:"download",title:"Download",icon:S.Download,trigger:()=>{Sa(l.href)}}:null].filter(he)}]}))},...i.events},tr.default.createElement(b,{ref:a,style:[v.directionRow,v.alignCenter,p.Margin.smallRight]},tr.default.createElement(b,{style:[p.Margin.smallRight]},tr.default.createElement(Il,{file:u,size:E.BUTTON_S})),tr.default.createElement(b,null,tr.default.createElement(A,{style:[r.Body,i.active||s.opened?r.primary:r.text]},(u==null?void 0:u.name)||"Deleted"))))}var W3=F.create({filesList:{gap:p.small}});c();var Hv=x(O());z();var n0={title:"Number",description:"",IconComponent:S.Numbers,ValueComponent:V3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":o(null);break;case"enter":typeof t!="number"&&o(0);break}}};function V3(e){let{readOnly:t,value:o,onValueChange:n,onSelectionChange:r,style:i}=e,[,a]=R(N),s=[a.Body,q3.numberInput,a.textMid,i],l=()=>{r(!0)};return t?Hv.default.createElement(A,{style:s},typeof o=="number"?String(o):""):Hv.default.createElement(qr,{style:s,value:typeof o=="number"?String(o):"",onChangeText:u=>n(Number(u)),onFocus:l})}var q3=F.create({numberInput:{height:"auto",padding:0,width:"100%",borderWidth:0}});c();var uc=x(O());z();var F3=8,G3={info:j.primary.light,merge:j.violet.light,upgrade:j.fuchsia.light,danger:j.scarlet.light},r0={title:"Rating",description:"",IconComponent:S.ColumnTypeRating,ValueComponent:X3,commands:H3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":o(0);break;case"enter":break}}};function H3(e){let{definition:t,setDefinition:o}=e;return[{key:"rating",commands:[{key:"rating.max_value",title:"Max",icon:S.MaximumValue,descendant:()=>oe({search:"Select max rating\u2026",groups:[{key:"max_values",commands:[...Array(5).keys()].map(n=>({key:`${n+1}`,title:`${n+1}`,selected:t.max===n+1,trigger:()=>{o({...t,max:n+1})}}))}]})}]}]}function X3(e){let{value:t,definition:o,definitionColorKind:n,onValueChange:r,readOnly:i,style:a}=e,[s,l]=R(j3),[u,d]=uc.default.useState(0),m=[...Array(o.max+1).keys()].slice(1),f=C=>{r(C===t?null:C)},g=C=>{i||d(C)},y=l.circleBase,h=n?{backgroundColor:G3[n]}:l.circleActiveDefault;return uc.default.createElement(b,{style:[v.directionRow,v.flex1,v.alignCenter,a]},m.map(C=>uc.default.createElement(B.WithInteractiveState,{key:String(C),onHoverIn:()=>g(C),onHoverOut:()=>g(0)},({events:w})=>uc.default.createElement(Te,{...w,onPress:()=>f(C)},uc.default.createElement(K3,{size:F3+2*(C-1),style:[u===0&&t&&t>=C||u>=C?h:y,{marginRight:p.xsmall}]})))))}function K3({size:e,style:t}){return uc.default.createElement(b,{style:[{width:e,height:e,borderRadius:e/2},t]})}var j3=L.create({circleBase:e=>({backgroundColor:e.colors.background.standout}),circleActiveDefault:()=>({backgroundColor:j.primary.light})});c();var i0=x(wM()),dn=x(O());z();var a0={title:"Select",description:"Select allows you to select an option from predefined options in a dropdown.",IconComponent:S.ColumnTypeSelect,ValueComponent:Z3,commands:U3,onKeyDown:(e,t,o)=>{switch(e){case"backspace":t.length>0&&o([]);break}}};function U3(e){let{definition:t,setDefinition:o}=e;return[{key:"select",commands:[{key:"select.allow_multiple",title:"Allow multiple",icon:S.OptionAdd,enabled:t.multiple,trigger:()=>{let[n]=o({...t,multiple:!t.multiple});return n}},{key:"select.options",title:"Manage options",icon:S.OptionManage,descendant:()=>s0(e)}]}]}function s0(e){let{definition:t,setDefinition:o,openModal:n}=e,{options:r}=t,i=r.map((a,s)=>{let l=u=>{let d=[...r];d[s]={...a,label:u},o({...t,options:d})};return{key:a.value,title:a.label,descendant:()=>oe({groups:[{key:"select.options.manageOption",commands:[{key:"editOption",title:"Edit option",icon:S.Edit,trigger:()=>{n(u=>dn.default.createElement(Y3,{...u,option:a,onSave:l}))}},{key:"deleteOption",title:"Delete option",icon:S.Trashcan,trigger:()=>{let u=[...r];u.splice(s,1),o({...t,options:u})}}]}]})}});return oe({search:"Search options or type to add",groups:[{key:"select.options.manage",commands:a=>{let s=a.query.text.trim();return a.query.text&&!i.find(l=>l.title===s)?[{key:"add_new_option",title:s,icon:S.Plus,trigger:()=>{let u={value:pm(),label:s,color:"blue"},[,d]=o({...t,options:[...r,u]});return s0(d)}},...i]:i}}]})}function Y3(e){let{option:t,definition:o,onSave:n,onClose:r}=e,{options:i}=o,a=[...i].filter(g=>g.label!==t.label),[s,l]=dn.default.useState(t),u=g=>g.length===0?"The label can not be empty":a.filter(h=>h.label===g).length>0?"Another option already exists with this label":null,d=()=>{n(s.label),r()},m=g=>{l({...s,label:g})},f=u(s.label);return dn.default.createElement(wt,{title:"Edit option",footer:dn.default.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},dn.default.createElement(D,{kind:"secondary",onPress:r,style:p.Margin.smallRight},"Cancel"),dn.default.createElement(D,{kind:"primary",onPress:d,disabled:!!f},"Save")),onClose:r},dn.default.createElement(b,null,dn.default.createElement(Kt,{autoFocus:!0,value:s.label,label:"Label",onChangeText:m,feedback:f?{type:"danger",message:f}:void 0})))}function Z3(e){let{value:t,selected:o,definition:n,onValueChange:r,definitionColorKind:i,readOnly:a,displayMode:s,style:l}=e,u=dn.default.useRef(null),d=ae(u),[,m]=R(N),f=()=>{d.open($3(n,t,r))},g=dn.default.createElement(b,{style:[v.directionRow,v.wrap,v.flex1,t.length>0?Q3.optionsList:null]},t.map(y=>{let h=n.options.find(C=>C.value===y);return h?dn.default.createElement(o1,{key:h.value,deletable:!a&&n.multiple,kind:i!=null?i:"info",onPress:()=>n.multiple?r(t.filter(C=>C!==h.value)):null,size:"small"},h.label):null}));return a||s==="inline"&&!o?g:dn.default.createElement(Te,{ref:u,onPress:f,style:[l]},dn.default.createElement(b,{style:[v.directionRow,v.flex1,v.alignCenter]},g,s==="inline"?dn.default.createElement(b,{style:[p.Margin.smallLeft]},dn.default.createElement(S.ChevronDown,{size:E.ICON_XS,style:m.textMuted})):null))}function $3(e,t,o){return oe({search:"Find an option\u2026",position:{width:"small"},groups:[{key:"options",commands:e.options.map(n=>{let r=t.includes(n.value);return{key:n.value,title:n.label,selected:e.multiple?r:void 0,trigger:()=>{o(r?t.filter(i=>i!==n.value):(0,i0.default)(e.multiple?[...t,n.value]:[n.value]))}}})}]})}var Q3=F.create({optionsList:{gap:p.small}});c();var Tg=x(O());z();var c0={title:"Text",description:"",IconComponent:S.ColumnTypeText,ValueComponent:e8,commands:J3};function J3(e){return[{key:"text.alignment",commands:[{key:"text.alignment",title:"Alignment",descendant:()=>l0(e)}]}]}function l0(e){let{definition:t,setDefinition:o}=e;return oe({groups:[{key:"text.alignment.select",commands:[{label:"Left",value:"left",icon:S.AlignTextLeft},{label:"Center",value:"center",icon:S.AlignTextCenter},{label:"Right",value:"right",icon:S.AlignTextRight}].map(n=>({key:`text.alignment.${n.value}`,title:n.label,selected:t.textAlignment===n.value,icon:n.icon,trigger:()=>{let[,r]=o({...t,textAlignment:n.value});return l0(r)}}))}]})}function e8(e){let{value:t,definition:o,style:n,readOnly:r}=e;return t==null?null:Tg.default.createElement(b,{style:[v.flex1,!r&&t8.editableFragment,n]},Tg.default.createElement(as.Provider,{value:o.textAlignment},Tg.default.createElement(On,{fragment:t})))}var t8=F.create({editableFragment:{cursor:"text"}});c();var mn=x(O());z();var u0={title:"Users",description:"A user field lets you add collaborators to your records.",IconComponent:S.Users,ValueComponent:n8,commands:o8};function o8(e){let{definition:t,setDefinition:o}=e;return[{key:"users",commands:[{key:"users.allow_multiple",title:"Allow multiple",icon:S.Team,enabled:t.multiple,trigger:()=>{let[n]=o({...t,multiple:!t.multiple});return n}}]}]}function n8(e){let{value:t,selected:o,readOnly:n,displayMode:r,definition:i,onValueChange:a,style:s}=e,l=mn.default.useRef(null),u=ae(l),d=g=>{let y=[...t];y.splice(g,1),a(y)},m=()=>{u.open(oe({search:"Search users\u2026",position:{width:"small"},groups:[{key:"users",commands:g=>wa.read({query:g.query.text,types:["users"]}).map(h=>h.index!=="users"?null:{key:h.object.objectID,title:h.object.displayName,icon:({size:C})=>mn.default.createElement(ka,{user:h.object,size:C}),trigger:()=>{a([...t,h.object.objectID])}}).filter(he)}]}))},f=i.multiple?"Add users":"Replace";return mn.default.createElement(b,{style:[v.flex1,v.directionRow,s]},mn.default.createElement(b,{style:[v.directionRow,v.wrap,v.flex1,t.length>0?i8.filesList:null]},mn.default.createElement(mn.default.Suspense,{fallback:null},t.map((g,y)=>mn.default.createElement(r8,{key:g,userId:g,readOnly:n,onRemove:()=>d(y)})))),(r==="block"||o)&&!n?mn.default.createElement(D,{ref:l,icon:i.multiple?S.Plus:S.ChevronDown,title:r==="block"?void 0:f,kind:"secondary",size:"small",onPress:m,active:u.opened},r==="block"?f:null):null)}function r8(e){let{userId:t,readOnly:o,onRemove:n}=e,[,r]=R(N),i=B.useInteractiveState(),a=mn.default.useRef(null),s=ae(a),[l]=Xn([Tc(t)]);return mn.default.createElement(Te,{onPress:()=>{s.open(oe({position:{width:"small"},groups:[{key:"user",commands:[o?null:{key:"remove",title:"Remove",icon:S.Trashcan,trigger:()=>{n()}}].filter(he)}]}))},...i.events},mn.default.createElement(b,{ref:a,style:[v.directionRow,v.alignCenter,p.Margin.smallRight]},l?mn.default.createElement(b,{style:[p.Margin.smallRight]},mn.default.createElement(ka,{user:l,size:E.BUTTON_S})):null,mn.default.createElement(b,null,mn.default.createElement(A,{style:[r.Body,i.active||s.opened?r.primary:r.text]},(l==null?void 0:l.displayName)||"Deleted"))))}var i8=F.create({filesList:{gap:p.small}});var Tr={checkbox:e0,number:n0,text:c0,files:o0,select:a0,users:u0,rating:r0,"content-ref":t0},d0=["text","number","checkbox","select","users","files","content-ref","rating"];function Pa(e){return e.title||Tr[e.type].title}function Gl(e){let{record:t,definition:o,readOnly:n,displayMode:r="inline",editor:i,nodeKey:a,selected:s,definitionColorKind:l,style:u}=e,{ValueComponent:d}=Tr[e.definition.type],m=y=>{i.change(h=>{$.setRecordValue(h,a,t.key,o.id,y)})},f=y=>{y&&i.change(h=>{$.moveTableSelection(h,a,{recordId:t.key,definitionId:o.id})})},g=Xv.createElement(d,{editor:i,nodeKey:a,readOnly:n,displayMode:r,selected:s,value:t.value.values[o.id],definitionColorKind:l,definition:o,onValueChange:m,onSelectionChange:f,style:u});return o.type==="text"?g:Xv.createElement(te,{style:v.flex1,onClick:y=>{y.stopPropagation(),f(!0)}},g)}c();function Ea(e,t={}){return oe({search:"Select column type",groups:[{key:"types",commands:d0.map(o=>{let n=Tr[o];return{key:o,icon:n.IconComponent,title:n.title,selected:t.selectedType?t.selectedType===o:void 0,trigger:()=>{e(o)}}})}]})}c();var ws=x(O());z();function m0(e){return e.readOnly?ws.createElement(a8,{...e}):ws.createElement(s8,{...e})}function a8(e){let{definition:t,style:o}=e,[,n]=R(N);return ws.createElement(A,{style:[v.directionRow,t.type==="text"?Mg[t.textAlignment]:null,n.Body,n.textMid,n.Medium,Mg.columnHeader,o],selectable:!0},Pa(t))}function s8(e){let{editor:t,nodeKey:o,definition:n,style:r}=e,[i,a]=R(N),s=f=>{t.change(g=>{$.renameColumn(g,o,n.id,f)})},l=n.title||"",u=Pa(n),d=ws.useMemo(()=>F.flatten([r,a.Body,a.textMid,a.Medium,Mg.columnHeader,n.type==="text"?Mg[n.textAlignment]:null]),[r,n]),m=ws.useMemo(()=>Qm(l||u||"",d),[l,u,d]);return ws.createElement(Sr,{component:qr,value:l,placeholder:u,placeholderTextColor:i.colors.text.muted,onChangeText:s,style:[d,m===void 0?{}:{width:m,maxWidth:"100%"}]})}var Mg=F.create({columnHeader:{wordWrap:"anywhere"},left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}});c();var f0=x(O()),p0=["info","merge","upgrade","danger"];function c8(e,t){let{definitionColorsKindsMap:o}=t.reduce((n,r)=>{let i=e[r];if(i.type==="rating"||i.type==="select"){let a=p0[n.colorIndexToBeClaimed];n.definitionColorsKindsMap[r]=a,n.colorIndexToBeClaimed=(n.colorIndexToBeClaimed+1)%p0.length}return n},{colorIndexToBeClaimed:0,definitionColorsKindsMap:{}});return o}function g0(e,t){return f0.default.useMemo(()=>c8(e,t),[e])}c();var Mr=x(O());c();c();c();var Kv=x(O());function h0(e){return Kv.default.createElement(Kv.default.Fragment,null)}c();c();function Hl(e,t,o={}){let{selected:n=[],search:r="Select columns\u2026",multiple:i=!1,filterDefinition:a=()=>!0}=o;return oe({search:r,groups:[{key:"columns",commands:Object.entries(e).filter(([s,l])=>a(l)).map(([s,l])=>{let u=Tr[l.type],d=n.includes(s);return{key:s,title:Pa(l),icon:u.IconComponent,selected:d,trigger:()=>t(i?d?n.filter(m=>m!==s):[...n,s]:d?[]:[s])}})}]})}c();function jo(e,t,o,n){let{focus:r="end",definition:i,record:a}=n;if(!o.selection.definitionId)return!1;let s=o.records.findIndex(m=>m.key===o.selection.recordId),l=o.view.columns.indexOf(o.selection.definitionId),u=o.records["relative"in a?s+a.relative:a.absolute],d=o.view.columns["relative"in i?l+i.relative:i.absolute];return!d||!u?!1:($.moveTableSelection(e,t,{recordId:u.key,definitionId:d},r),!0)}function dc(e,t,o,n){let r=o.records.findIndex(a=>a.key===o.selection.recordId),i=o.records["relative"in n?r+n.relative:n.absolute];return i?($.moveTableSelection(e,t,{recordId:i.key,definitionId:void 0}),!0):!1}var y0=(e,t,o,n)=>{if(!o.selection.definitionId&&o.selection.recordId)return u8(e,t,o,n);if(o.selection.definitionId&&o.selection.recordId)return l8(e,t,o,n)},l8=(e,t,o,n)=>{let r=o.view.cardSize==="medium"?3:2;switch(e){case"move-up":case"move-down":{jo(n,t,o,{definition:{relative:e==="move-up"?-1:1},record:{relative:0},focus:e==="move-up"?"end":"start"})||jo(n,t,o,{definition:{absolute:e==="move-up"?o.view.columns.length-1:0},record:{relative:e==="move-up"?-r:r},focus:e==="move-up"?"end":"start"})||(e==="move-up"?zc(n,t):St(n,t));break}case"move-left":case"move-right":{jo(n,t,o,{definition:{absolute:0},record:{relative:e==="move-left"?-1:1},focus:e==="move-left"?"end":"start"});break}case"tab":case"enter":{if(!jo(n,t,o,{definition:{relative:1},record:{relative:0},focus:"end"})&&!jo(n,t,o,{definition:{absolute:0},record:{relative:1},focus:"end"})){let i=$.insertEmptyRecord(n,t.key);$.moveTableSelection(n,t,{recordId:i,definitionId:o.view.columns[0]},"start")}break}case"backspace":{jo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:"end"})||$.moveTableSelection(n,t,{recordId:o.selection.recordId,definitionId:void 0});break}}},u8=(e,t,o,n)=>{let r=o.view.cardSize==="medium"?3:2;switch(e){case"tab":{dc(n,t,o,{relative:1});break}case"shift+tab":{dc(n,t,o,{relative:-1});break}case"move-left":case"move-right":{dc(n,t,o,{relative:e==="move-left"?-1:1})||(e==="move-left"?zc(n,t):St(n,t));break}case"move-up":case"move-down":{dc(n,t,o,{relative:e==="move-up"?-r:r})||(e==="move-up"?zc(n,t):St(n,t));break}case"backspace":{dc(n,t,o,{relative:-1})||dc(n,t,o,{relative:1}),$.removeRecord(n,t.key,o.selection.recordId);break}case"enter":{jo(n,t,o,{definition:{absolute:0},record:{relative:0},focus:"start"});break}}};c();var Ma=x(O());c();var Lg=x(O());function v0(e){let{editor:t,nodeKey:o,defaultTextDefinitionId:n}=e,[,r]=R(d8),[,i]=R(N),a=()=>{t.change(s=>{let l=$.insertEmptyRecord(s,o);$.moveTableSelection(s,o,{recordId:l,definitionId:n})})};return Lg.createElement(B.TouchableOpacity,{style:[v.flex1,r.cardPlaceholder,v.directionRow,v.alignCenter,v.justifyContentCenter,p.Padding.medium],activeStyle:r.cardPlaceholderActive,onPress:a},Lg.createElement(B.Text.Child,{style:[i.Body,i.textMuted],activeStyle:i.primary},Lg.createElement(S.Plus,{size:E.ICON_M,style:[p.Margin.smallRight]}),"New card"))}var d8=L.create({cardPlaceholder:e=>({borderRadius:e.radiuses.large,borderColor:e.colors.border.mid,borderWidth:1,borderStyle:"dashed"}),cardPlaceholderActive:e=>({borderColor:e.colors.primary.main})});c();var vi=x(O());z();c();var Ta=x(O());z();function b0(e){var w;let{nodeKey:t,editor:o,record:n,style:r,view:i,visible:a,onExpand:s}=e,l=Ta.useRef(null),u=At(),d=ae(l),{contentReferenceContext:m}=Ta.useContext(ie),f=i.coverDefinition?((w=n.value.values[i.coverDefinition])==null?void 0:w.length)>0:!1,g=i.targetDefinition?!!n.value.values[i.targetDefinition]:!1,y=async()=>{let[k]=await u.prompt({title:"Select file",accept:"images",acceptURL:!1});!k||k.kind!=="file"||o.change(I=>{$.cards.setCardCoverForRecord(I,t,n.key,k)})},h=()=>cn(k=>{o.change(I=>{$.cards.setCardTargetForRecord(I,t,n.key,k)})},m,{accept:["page","file","space","collection","anchor","url"]}),C=k=>{k.preventDefault(),k.stopPropagation(),d.open(oe({groups:[{key:"actions",commands:[{key:"actions.target",icon:S.PageLink,...g?{title:"Target link",descendant:()=>oe({groups:[{key:"target",commands:[{key:"target.set",title:"Replace target",icon:S.Replace,trigger:()=>h()},{key:"target.remove",title:"Remove target",icon:S.Trashcan,trigger:()=>{o.change(I=>{$.cards.removeCardTargetForRecord(I,t,n.key)})}}]}]})}:{title:"Add target link",trigger:()=>h()}},{key:"actions.cover",icon:S.Image,...f?{title:"Cover",descendant:()=>oe({groups:[{key:"cover",commands:[{key:"cover.set",title:"Replace cover",icon:S.Replace,trigger:()=>{y()}},{key:"cover.remove",title:"Remove cover",icon:S.Trashcan,trigger:()=>{o.change(I=>{$.cards.removeCardCoverForRecord(I,t,n.key)})}}]}]})}:{title:"Add cover",trigger:()=>{y()}}},{key:"actions.delete",title:"Delete record",icon:S.Trashcan,trigger:()=>{o.change(I=>{$.removeRecord(I,t,n.key)})}}]}]}))};return Ta.createElement(Lt,{onPressIn:k=>{k.preventDefault(),k.stopPropagation()}},Ta.createElement(B.View,{descendantOf:ci.interactiveHandle,inactiveStyle:d.opened||a?"visible":"hidden",activeStyle:"visible",style:[v.directionRow,r]},Ta.createElement(D,{kind:"secondary",size:"small",rounded:!0,icon:S.Maximize,style:[p.Margin.smallRight],onPress:s,title:"Open card",tooltipDelay:300}),Ta.createElement(D,{ref:l,kind:"secondary",size:"small",rounded:!0,icon:S.MoreVertical,onPress:C,title:"Edit card",tooltipDelay:300})))}c();var jv=x(O());z();function C0(e){var a,s;let{coverRef:t}=e,[,o]=R(m8),n=uo(t),r=(s=(a=n.resolution)==null?void 0:a.extra)==null?void 0:s.file,i=n&&r&&Fa(r)?di(r.downloadURL,{width:371}):null;return i?jv.createElement(b,{style:o.cardCover},jv.createElement(ZC,{source:{uri:i},style:o.cardImage})):null}var m8=L.create({cardCover:e=>({backgroundColor:e.colors.background.muted}),cardImage:{width:"100%",aspectRatio:16/9}});function S0(e){var h,C;let{nodeKey:t,definition:o,editor:n,readOnly:r,record:i,view:a,selected:s,onExpand:l}=e,[,u]=R(p8),[,d]=R(N),m=a.targetDefinition?i.value.values[a.targetDefinition]:void 0,f=uo(m),g=()=>{n.change(w=>{$.moveTableSelection(w,t,{recordId:i.key}),w.focus()})},y=vi.createElement(b,{style:[v.flex1,p.Padding.medium,!r&&u.editableArea]},a.columns.map((w,k)=>{let I=o[w],_=vi.createElement(Gl,{record:i,selected:!1,definition:I,nodeKey:t,editor:n,readOnly:r});return vi.createElement(b,{key:w,style:[k<a.columns.length-1?p.Margin.smallBottom:null]},a.hideColumnTitle?null:vi.createElement(b,null,vi.createElement(A,{style:[d.Label,d.textMid]},I.title)),_)}));return vi.createElement(Tv,{style:[v.flex1],readOnly:r,selected:s,onSelect:g},vi.createElement(ci,{style:[v.flex1,v.directionColumn],...m?{component:B.TouchableOpacity,href:r?f.href:void 0,onPress:w=>{w.preventDefault(),f==null||f.open()}}:{component:B.View}},a.coverDefinition&&((h=i.value.values[a.coverDefinition])!=null&&h[0])?vi.createElement(C0,{coverRef:{kind:"file",file:(C=i.value.values[a.coverDefinition])==null?void 0:C[0]}}):null,r?y:vi.createElement(Lt,{onPressIn:w=>{w.preventDefault(),w.stopPropagation()}},y),r?null:vi.createElement(b0,{nodeKey:t,editor:n,record:i,view:a,style:u.controlButton,visible:s,onExpand:l})))}var p8=L.create({controlButton:{position:"absolute",top:p.small,right:p.small},editableArea:{cursor:"text"}});function w0(e){let{nodeKey:t,editor:o,readOnly:n,definition:r,records:i,view:a,selection:s,openRecord:l}=e,u=Ma.useMemo(()=>a.columns.find(f=>r[f].type==="text")||void 0,[a.columns,r]),d=Ma.useMemo(()=>{switch(a.cardSize){case"medium":return{mobile:1,tablet:2,desktop:3};case"large":return{mobile:1,tablet:1,desktop:2};default:Oe(a.cardSize)}},[a.cardSize]),m=Ma.useCallback(({item:f})=>f.key==="new"?Ma.createElement(v0,{editor:o,nodeKey:t,defaultTextDefinitionId:u}):Ma.createElement(S0,{nodeKey:t,editor:o,readOnly:n,definition:r,record:f,view:a,selected:!s.definitionId&&s.recordId===f.key,onExpand:()=>l(f.key)}),[t,o,n,r,a,s.recordId,!!s.definitionId,u,l]);return Ma.createElement(Fw,{data:n?i:[...i,{key:"new"}],renderItem:m,numColumnsPerScreen:d,columnSpacing:p.medium,rowSpacing:p.medium})}var k0={IconComponent:S.Cards3Columns,title:"Cards",recordName:"card",selectableView:!1,ViewComponent:w0,DefinitionSettingsComponent:h0,commands:f8,onKeyDown:y0};function f8(e){let{view:t,setView:o}=e;return[{key:"cards.definitions",commands:[{key:"cards.selectCover",title:"Cover image",icon:S.Image,descendant:()=>g8(e)},{key:"cards.selectTarget",title:"Target link",icon:S.PageLink,descendant:()=>h8(e)}]},{key:"cards.size",commands:[{key:"cards.size.medium",title:"Medium",icon:S.Cards3Columns,selected:t.cardSize==="medium",trigger:()=>{let[n]=o({...t,cardSize:"medium"});return n}},{key:"cards.size.large",title:"Large",icon:S.Cards2Columns,selected:t.cardSize==="large",trigger:()=>{let[n]=o({...t,cardSize:"large"});return n}}]},{key:"cards.options",commands:[{key:"cards.hideColumnTitle",title:"Show labels",icon:S.EyeOff,enabled:!t.hideColumnTitle,trigger:()=>{let[n]=o({...t,hideColumnTitle:!t.hideColumnTitle});return n}},{key:"cards.definitions",title:"Columns",icon:S.EyeOff,descendant:()=>x0(e)}]}]}function g8(e){let{view:t,definition:o,setView:n}=e;return Hl(o,r=>{n({...t,coverDefinition:r[0]})},{multiple:!1,search:"Select column for cover\u2026",selected:t.coverDefinition?[t.coverDefinition]:[],filterDefinition:r=>r.type==="files"})}function h8(e){let{view:t,definition:o,setView:n}=e;return Hl(o,r=>{n({...t,targetDefinition:r[0]})},{multiple:!1,search:"Select column for target\u2026",selected:t.targetDefinition?[t.targetDefinition]:[],filterDefinition:r=>r.type==="content-ref"})}function x0(e){let{view:t,definition:o,setView:n}=e;return Hl(o,r=>{let[,i]=n({...t,columns:r});return x0(i)},{multiple:!0,search:"Select visible columns\u2026",selected:t.columns})}c();c();var bd=x(O());c();var _0=x(fm()),Ot=x(O());z();var La=Ot.createContext(new Map),R0=Ot.forwardRef((e,t)=>{let{nodeKey:o,editor:n,view:r,children:i}=e,{readOnly:a}=n,[,s]=R(I0),[l]=_a.useDimensions(),u=Fe(),d=u?l.width:l.width-2,{widths:m,totalWidth:f}=Ot.useMemo(()=>Jf(r,d,u),[d,r.columns,r.columnWidths]),[g,y]=Ot.useState({left:!1,right:!1});Ot.useEffect(()=>{y(I=>({left:f>d?I.left:!1,right:f>d?I.right:!1}))},[f,d]);let h=mt(g),C=Ot.useCallback(I=>{let{contentOffset:_,contentSize:P,layoutMeasurement:M}=I.nativeEvent,T=_.x>0,W=_.x<P.width-M.width;h.current.left===T&&h.current.right===W||y({left:T,right:W})},[]),w=Ot.useCallback((I,_)=>{let P=m.get(I);gr(P),n.change(M=>{M.setDataByKey(o,["view","columnWidths",I],(0,_0.default)(P.width+_,Qf,sd),{normalize:!1}),M.setDataByKey(o,["view","useNewSizing"],!0,{normalize:!1})})},[m]),k=(I,_)=>{n.change(P=>{$.moveColumn(P,o,_.id,I)})};return Ot.createElement(b,{ref:t},Ot.createElement(La.Provider,{value:m},Ot.createElement(Ei,{horizontal:!0,style:s.tableScrollWrapper,onScroll:C,scrollEventThrottle:100,contentContainerStyle:s.tableWrapper},i,a?null:[...r.columns].reverse().reduce((I,_,P,M)=>{let T=m.get(_);return gr(T),Ot.createElement(y8,{key:_,columnId:_,columnAfterId:M[P-1],tableKey:o,controller:T.controller,width:T.animated,onResizeComplete:w,onDropBefore:W=>k(_,W)},I)},null))),!u&&g.left?Ot.createElement(b,{style:s.tableScrollIndicatorLeft,pointerEvents:"none"}):null,!u&&g.right?Ot.createElement(b,{style:s.tableScrollIndicatorRight,pointerEvents:"none"}):null)});function y8(e){let{tableKey:t,columnId:o,columnAfterId:n,controller:r,width:i,children:a,onDropBefore:s,onResizeComplete:l}=e,[u,d]=R(I0),m=Ot.useMemo(()=>Qd.create({onStartShouldSetPanResponder:(h,C)=>!1,onStartShouldSetPanResponderCapture:(h,C)=>!1,onMoveShouldSetPanResponder:(h,{dx:C})=>!0,onMoveShouldSetPanResponderCapture:(h,C)=>!1,onPanResponderGrant:(h,{dx:C})=>{},onPanResponderMove:(h,{dx:C})=>{r.setValue(C)},onPanResponderTerminationRequest:(h,C)=>!1,onPanResponderRelease:(h,{dx:C})=>{l(o,C)},onPanResponderTerminate:(h,C)=>{}}),[o,r,l]),f=B.useInteractiveState(m.panHandlers),[g,y]=pi({accept:"table-definition",drop:(h,C)=>{C.didDrop()||s(h)},canDrop:h=>o!==h.id&&n!==h.id&&t===h.blockKey,collect:h=>({highlighted:h.isOver({shallow:!0})&&h.canDrop()})},[o,n,t]);return Ot.createElement(dt.View,{ref:y,style:[d.columnLine,{left:i}]},Ot.createElement(b,{style:d.blockGrabber,...f.events},Ot.createElement(b,{style:[d.blockGrabberBar,(f.hovered||f.dragging||g.highlighted)&&{backgroundColor:u.colors.primary.main}]})),a)}var Ng=10,O0=3,I0=L.create({tableScrollWrapper:{borderWidth:0},tableScrollIndicatorLeft:e=>({position:"absolute",left:-1,top:0,bottom:0,width:1,shadowColor:j.BLACK,shadowOffset:{width:5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableScrollIndicatorRight:e=>({position:"absolute",right:-1,top:0,bottom:0,width:1,shadowColor:j.BLACK,shadowOffset:{width:-5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableWrapper:{position:"relative",overflow:"hidden",flexDirection:"column"},columnLine:{position:"absolute",top:0,bottom:0},blockGrabber:{position:"absolute",top:0,right:-(Ng/2),bottom:0,width:Ng,cursor:"ew-resize"},blockGrabberBar:{position:"absolute",top:0,right:Ng/2-O0/2,bottom:0,width:O0,borderRadius:E.RADIUS_M},blockGrabberPlus:{position:"absolute",top:p.small,left:-(E.BUTTON_XS/2)+Ng/2}});function P0(e){var a;let{view:t,columnId:o,setView:n}=e,r=bd.default.useContext(La);function i(s){var l;if(s){let{[o]:u,...d}=t.columnWidths||{};n({...t,useNewSizing:!0,columnWidths:d})}else n({...t,useNewSizing:!0,columnWidths:{...t.columnWidths,[o]:((l=r.get(o))==null?void 0:l.width)||ms}})}return bd.default.createElement(bd.default.Fragment,null,bd.default.createElement(Jm,{value:typeof((a=t.columnWidths)==null?void 0:a[o])>"u",onValueChange:i,label:"Fill available space",labelDescription:"Expand this column to fill the available horizontal space"}))}c();var E0=(e,t,o,n)=>{let r=(i=o.selection.definitionId)=>{if(!i)return;let a=o.records.findIndex(d=>d.key===o.selection.recordId),s=o.records[a],l=o.records[a+1],u=$.insertEmptyRecord(n,t.key,{before:s.value.orderIndex,after:l==null?void 0:l.value.orderIndex});$.moveTableSelection(n,t,{recordId:u,definitionId:i},"start")};switch(e){case"move-up":case"move-down":{jo(n,t,o,{definition:{relative:0},record:{relative:e==="move-up"?-1:1},focus:e==="move-up"?"end":"start"})||(e==="move-up"?zc(n,t):St(n,t));break}case"tab":case"move-right":{let i=e==="tab"?"select":"start";jo(n,t,o,{definition:{relative:1},record:{relative:0},focus:i})||!jo(n,t,o,{definition:{absolute:0},record:{relative:1},focus:i})&&e==="tab"&&r(o.view.columns[0]);break}case"shift+tab":case"move-left":{let i=e==="shift+tab"?"select":"end";jo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:i})||jo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:i});break}case"enter":{r();break}case"backspace":{if(jo(n,t,o,{definition:{relative:-1},record:{relative:0},focus:"end"}))break;o.selection.recordId&&$.isRowEmpty(t,o.selection.recordId)?(jo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:"end"}),$.removeRecord(n,t.key,o.selection.recordId)):jo(n,t,o,{definition:{absolute:o.view.columns.length-1},record:{relative:-1},focus:"end"});break}}};c();var fn=x(O());z();c();var ni=x(O());c();var Dg=p.Padding.mediumLeft;c();var En=x(O());z();var Ag=En.default.forwardRef(function(t,o){let{recordKey:n,columnId:r,selected:i,width:a,children:s,header:l=!1,isFirstColumn:u=!1,isFirstRow:d=!1,isLastColumn:m=!1,isLastRow:f=!1,onPress:g,readOnly:y,...h}=t,C=En.default.useRef(null),w=Ga(C,o),[,k]=R(v8);En.default.useEffect(()=>{i&&C.current&&pl(C.current,{behavior:"smooth",scrollMode:"if-needed"})},[i]);let I=En.default.createElement(dt.View,{ref:w,style:[k.cell,v.directionRow,v.alignCenter,u?k.farLeftCell:{},d?k.topCell:{},f?k.bottomCell:{},d&&u?k.topLeftCell:{},d&&m?k.topRightCell:{},f&&u?k.bottomLeftCell:{},f&&m?k.bottomRightCell:{},l?k.columnHeader:{},d?ro.Bold:{},{width:a}]},s,i?En.default.createElement(En.default.Fragment,null,En.default.createElement(b,{style:[k.cellSelectionBorderTop,k.cellSelectedBorder]}),En.default.createElement(b,{style:[k.cellSelectionBorderBottom,k.cellSelectedBorder]}),En.default.createElement(b,{style:[k.cellSelectionBorderRight,k.cellSelectedBorder]}),En.default.createElement(b,{style:[k.cellSelectionBorderLeft,k.cellSelectedBorder]})):null);return En.default.createElement(te,{style:[k.unsetDefaultTH,v.directionRow,v.justifyContentCenter],tag:l?"th":"td"},y?En.default.createElement(En.default.Fragment,null,I):En.default.createElement(Lt,{...h},I))}),pn=1,v8=L.create({unsetDefaultTH:{textAlign:"left"},cell:e=>({position:"relative",paddingVertical:p.small,paddingHorizontal:p.medium,borderLeftWidth:1,borderTopWidth:1,borderColor:e.colors.border.mid}),cellSelectionBorderTop:{position:"absolute",top:-Math.floor(pn/2),left:-Math.floor(pn/2),right:-Math.floor(pn/2),height:pn},cellSelectionBorderBottom:{position:"absolute",bottom:-Math.floor(pn/2),left:-Math.floor(pn/2),right:-Math.floor(pn/2),height:pn},cellSelectionBorderRight:{position:"absolute",bottom:-Math.floor(pn/2),top:-Math.floor(pn/2),right:-Math.floor(pn/2),width:pn},cellSelectionBorderLeft:{position:"absolute",bottom:-Math.floor(pn/2),top:-Math.floor(pn/2),left:-Math.floor(pn/2),width:pn},cellSelectedBorder:e=>({backgroundColor:e.colors.primary.main}),topCell:{borderTopWidth:0},farLeftCell:{borderLeftWidth:0},topLeftCell:{},bottomLeftCell:{},topRightCell:{},bottomRightCell:{},bottomCell:{borderBottomWidth:1},columnHeader:e=>({backgroundColor:"transparent"})});var M0=ni.memo(function(t){let{editor:o,nodeKey:n,readOnly:r,definition:i,view:a}=t,s=ni.useContext(La),[,l]=R(S8);return ni.createElement(te,{tag:"thead"},ni.createElement(te,{style:[v.directionRow,l.background],tag:"tr"},a.columns.map((u,d)=>{let m=i[u],f=s.get(u);return gr(f),ni.createElement(C8,{key:u,columnId:u,editor:o,nodeKey:n,columnDef:m,view:a,readOnly:r,width:f.animated,isFirstColumn:d===0,isLastColumn:d===a.columns.length-1,isFirstRow:!0,header:!0})})))}),T0=B.createInteractiveHandle("table-column"),b8=B.createInteractiveComponent(te);function C8(e){let{columnDef:t,readOnly:o,editor:n,nodeKey:r,view:i,...a}=e;return ni.createElement(b8,{handle:T0},ni.createElement(Ag,{focusable:!1,readOnly:o,...a},ni.createElement(m0,{editor:n,nodeKey:r,definition:t,readOnly:o,style:[v.flex1,a.isFirstColumn&&!o?Dg:null]}),o?null:ni.createElement(Bg,{editor:n,nodeKey:r,view:i,definition:t,descendantOf:T0,icon:S.GrabberVertical,rounded:!0})))}var S8=L.create({background:e=>({backgroundColor:e.colors.background.mid,borderBottomColor:e.colors.border.mid,borderBottomWidth:2})});c();var _t=x(O());z();var L0=B.createInteractiveHandle("table-row"),w8=B.createInteractiveComponent(te),A0=_t.memo(_t.forwardRef(function(t,o){let{nodeKey:n,editor:r,readOnly:i,record:a,definition:s,view:l,isFirstRow:u,isLastRow:d,beforeOrderIndex:m,afterOrderIndex:f,selectedColumnId:g,definitionColorKinds:y,openRecord:h,style:C}=t,w=_t.useContext(La),k={id:a.key,type:"table-record",blockKey:n,previewLabel:"Move record",previewIcon:"TableRecord"},[{dragging:I},_]=Ki({type:k.type,item:k,canDrag:()=>!i,collect:G=>({dragging:G.isDragging()})}),P=(G,Y)=>{r.change(U=>{$.moveRecord(U,n,G.id,Y)})},M=_t.useRef(null),T=ae(M),W=()=>{T.open(oe({search:"Select action\u2026",groups:[{key:"table.row",commands:[{key:"table.row.open",title:"Open row",icon:S.Maximize,trigger:()=>{h(a.key)}},{key:"table.row.insertAbove",title:"Insert above",icon:S.TableInsertRowAbove,trigger:()=>{r.change(G=>{$.insertEmptyRecord(G,n,{after:a.value.orderIndex,before:m})})}},{key:"table.row.insertBelow",title:"Insert below",icon:S.TableInsertRow,trigger:()=>{r.change(G=>{$.insertEmptyRecord(G,n,d?{before:a.value.orderIndex}:{after:a.value.orderIndex,before:f})})}},{key:"table.row.addColumn",icon:S.TableInsertColumn,title:"Add column",trigger:()=>{r.change(G=>{$.insertColumn(G,n,$.createColumnFromType("text"))})},descendant:()=>Ea(G=>{r.change(Y=>{$.insertColumn(Y,n,$.createColumnFromType(G))})})},{key:"table.row.remove",title:"Delete row",icon:S.Trashcan,trigger:()=>{r.change(G=>{$.removeRecord(G,n,a.key)})}}]}]}))},[,H]=R(B0),q=_t.createElement(w8,{ref:o,handle:L0,style:[v.directionRow,I&&ce.translucent,C],tag:"tr"},l.columns.map((G,Y)=>{let U=s[G],ue=g===G,Ye=y[G],at=_t.createElement(Gl,{definitionColorKind:Ye,record:a,selected:ue,definition:U,nodeKey:n,editor:r,readOnly:i}),Nn=w.get(G);return gr(Nn),_t.createElement(Ag,{key:G,recordKey:a.key,columnId:G,width:Nn.animated,selected:ue,isFirstColumn:Y===0,isLastColumn:Y===l.columns.length-1,isFirstRow:u,isLastRow:d,onPressIn:Qo=>{Qo.type!=="keydown"&&(Qo.preventDefault(),r.change(go=>{$.moveTableSelection(go,n,{recordId:a.key,definitionId:G})}))},readOnly:i},Y>0||i?at:_t.createElement(_t.Fragment,null,_t.createElement(B.View.Child,{descendantOf:L0,ref:_,style:[v.justifyContentCenter,H.rowGrabber],inactiveStyle:T.opened?{}:ce.hidden,activeStyle:ce.visible},_t.createElement(D,{ref:M,size:"xsmall",rounded:!0,kind:"grey",active:T.opened,title:`Click for options.
Drag to move.`,icon:S.GrabberVertical,onPress:W})),_t.createElement(b,{style:[v.flex1,v.justifyContentCenter,Dg]},at)))}));return i?q:_t.createElement(b,null,q,_t.createElement(N0,{currentItem:k,position:"before",onDrop:G=>P(G,{before:m,after:a.value.orderIndex})}),d?_t.createElement(N0,{currentItem:k,position:"after",onDrop:G=>P(G,{before:a.value.orderIndex,after:f})}):null)}));function N0(e){let{currentItem:t,position:o,onDrop:n}=e,r=B.useInteractiveState(),[,i]=R(B0),{logAnalyticsEvent:a}=_t.useContext(ie),[s,l]=pi({accept:"table-record",drop:(u,d)=>{d.didDrop()||(a({type:"edit_page_document_move_block",method:"dnd",blockType:"table-row",toParent:"table",fromParent:"table"}),n(u))},canDrop:u=>t.id!==u.id&&t.blockKey===u.blockKey,collect:u=>({highlighted:u.isOver()&&u.canDrop()})});return _t.createElement(b,{ref:l,style:[i.insertionLineWrapper,o==="after"?i.insertionLineAfter:i.insertionLineBefore],...r.events},_t.createElement(b,{style:[i.insertionLineBar,(r.hovered&&r.dragging||s.highlighted)&&i.insertionLineBarHovered]}))}var zg=10,D0=3,B0=L.create({insertionLineWrapper:{position:"absolute",left:0,right:0,height:zg},insertionLineBefore:{top:-(zg/2)},insertionLineAfter:{bottom:-(zg/2)},insertionLineBar:{position:"absolute",left:0,right:0,top:zg/2-D0/2,height:D0,borderRadius:E.RADIUS_M},insertionLineBarHovered:e=>({backgroundColor:e.colors.primary.main}),rowGrabber:{position:"absolute",left:p.xsmall,bottom:"auto",zIndex:10}});var k8=20;function z0(e){let{view:t,editor:o,nodeKey:n}=e,[r,i]=fn.useState(),a=fn.useCallback(s=>{s!==null&&i(s)},[]);return fn.createElement(R0,{editor:o,nodeKey:n,view:t,ref:a},fn.createElement(x8,{...e,parentRef:r}))}function x8(e){let{selection:t,records:o,definition:n,view:r,readOnly:i,editor:a,nodeKey:s,parentRef:l,openRecord:u}=e,{mode:d}=fn.useContext(Eo),m=a.value.document.getNode(s),f=fn.useContext(La),g=Qw({enabled:d==="app"&&o.length>k8,parentRef:l?{current:l}:void 0,getEstimatedItemHeight:w=>Pv(m,String(w.key),f),list:o.map(w=>({key:w.key}))}),y=g0(n,r.columns),C=!(r.hideHeader||i&&$.isHeaderEmpty({definition:n,view:r,records:{}}))||!!t.recordId;return fn.createElement(te,{tag:"table"},C?fn.createElement(M0,{definition:n,view:r,editor:a,nodeKey:s,readOnly:i}):null,fn.createElement(te,{tag:"tbody"},g.map(([w,k,I],_)=>{let P=o[_],M=_>0?o[_-1]:void 0,T=o[_+1];return k?fn.createElement(A0,{key:P.key,ref:w.nodeRef,selectedColumnId:t.recordId===P.key?t.definitionId:void 0,record:P,definition:n,view:r,readOnly:i,editor:a,nodeKey:s,isFirstRow:!C&&_===0,isLastRow:_===o.length-1,beforeOrderIndex:M==null?void 0:M.value.orderIndex,afterOrderIndex:T==null?void 0:T.value.orderIndex,definitionColorKinds:y,openRecord:u,...w.nodeProps}):fn.createElement(b,{key:P.key,style:{height:I},ref:w.nodeRef},fn.createElement(A,null,$.getTableRowPlainText(m,P.value)))})))}var W0={IconComponent:S.Table,title:"Table",recordName:"row",selectableView:!0,ViewComponent:z0,DefinitionSettingsComponent:P0,commands:_8,definitionCommands:O8,onKeyDown:E0};function O8(e){var i;let{view:t,definition:o,setView:n}=e,r=typeof((i=t.columnWidths)==null?void 0:i[o.id])>"u";return[{key:"grid",commands:[{key:"grid.autoSize",title:"Auto size",icon:S.AutoSize,enabled:r,trigger:()=>{if(r)n({...t,useNewSizing:!0,columnWidths:{...t.columnWidths,[o.id]:ms}});else{let{[o.id]:a,...s}=t.columnWidths||{};n({...t,useNewSizing:!0,columnWidths:s})}}}]}]}function _8(e){let{view:t,setView:o}=e;return[{key:"grid",commands:[{key:"grid.toggleHeader",title:"Show header",enabled:!t.hideHeader,trigger:()=>{let[n]=o({...t,hideHeader:!t.hideHeader});return n}},{key:"grid.resetSizing",title:"Reset column sizing",trigger:()=>{let{columnWidths:n,...r}=t;o({...r,useNewSizing:!0})}},{key:"grid.columns",title:"Hide Columns",icon:S.EyeOff,descendant:()=>V0(e)}]}]}function V0(e){let{view:t,definition:o,setView:n}=e;return Hl(o,r=>{let[,i]=n({...t,columns:r});return V0(i)},{multiple:!0,search:"Select visible columns",selected:t.columns})}var bi={grid:W0,cards:k0};function Bg(e){let{nodeKey:t,editor:o,view:n,definition:r,descendantOf:i,icon:a,rightIcon:s,rounded:l}=e,u={id:r.id,type:"table-definition",blockKey:t,previewLabel:Pa(r)},[,d]=R(R8),m=Mr.useRef(null),f=ae(m),g=B.useInteractiveState(),[,y]=vf({type:u.type,item:u,canDrag:()=>!0}),[h,C]=Mr.useState(null),w=W=>{o.change(H=>{$.setColumnDefinition(H,t,r.id,W)})},k=()=>{let H=o.value.document.assertBlock(t).data.toFrozenObject(),q=H.definition[r.id];return[_(H.view,q),I(H.view,q)]},I=(W,H)=>({definition:H,view:W,setView:q=>(o.change(G=>{$.setView(G,t,q)}),k()),setDefinition:q=>(w(q),k()),openModal:q=>{C({type:"command",modal:Mr.createElement(q,{definition:H,onClose:()=>C(null)})})}}),_=(W,H)=>{let q=Tr[H.type],G=bi[W.type],Y=I(W,H);return oe({search:"Select action\u2026",groups:[{key:"definition.type",commands:[{key:"definition.type.change",title:q.title,icon:q.IconComponent,descendant:()=>Ea(U=>{C({type:"change_type",columnType:U})},{selectedType:H.type})}]},...q.commands?q.commands(Y):[],...G.definitionCommands?G.definitionCommands(Y):[],{key:"definition.danger",commands:[{key:"definition.add",title:"Add column",icon:S.TableInsertColumn,trigger:()=>{o.change(U=>{let ue=[...W.columns].findIndex(Ye=>H.id===Ye);$.insertColumn(U,t,$.createColumnFromType("text"),ue+1)})},descendant:()=>Ea(U=>{let ue=[...W.columns].findIndex(Ye=>H.id===Ye);o.change(Ye=>{$.insertColumn(Ye,t,$.createColumnFromType(U),ue+1)})})},{key:"definition.hide",title:"Hide column",icon:S.EyeOff,trigger:()=>{o.change(U=>{$.hideColumn(U,t,H.id)})}},{key:"definition.delete",title:"Delete column",icon:S.Trashcan,trigger:()=>{C({type:"delete"})}}]}]})},P=()=>{f.open(_(n,r))},M=W=>{C(null),W&&o.change(H=>{$.removeColumn(H,t,r.id)})},T=W=>{C(null),W&&(h==null?void 0:h.type)==="change_type"&&w($.changeColumnType(r,h.columnType))};return Mr.createElement(Mr.Fragment,null,(h==null?void 0:h.type)==="delete"?Mr.createElement(Iu,{kind:"danger",title:"Delete column",confirmButtonText:"Delete",onComplete:M},"Do you really want to delete this column and all of its data?"):null,(h==null?void 0:h.type)==="change_type"?Mr.createElement(Iu,{title:"Change column type",confirmButtonText:"Change",onComplete:T},"You are about to change this column type from ",r.type," to"," ",h.columnType,". We will try to convert any value automatically, but you may lose data if we cannot convert them."):null,(h==null?void 0:h.type)==="command"?h.modal:null,Mr.createElement(B.View.Child,{...g.events,descendantOf:i,ref:y,style:[v.justifyContentCenter,d.columnGrabber],inactiveStyle:f.opened||g.focused?{}:ce.hidden,activeStyle:ce.visible,focusStyle:ce.translucent},Mr.createElement(D,{kind:"grey",size:"small",ref:m,title:`Click for options.
Drag to move.`,active:f.opened,icon:a,rightIcon:s,rounded:l,onPress:P})))}var R8=L.create({columnGrabber:{position:"absolute",right:p.xsmall,bottom:"auto"}});function Wg(e,t){let o=t.data.toFrozenObject(),n=bi[o.view.type],r=n.commands?n.commands(q0(e,o,t.key)):[];return{...ft(e,t.key,[{key:"views",commands:Object.entries(bi).map(([i,a])=>({key:i,title:a.title,icon:a.IconComponent,selected:i===o.view.type,trigger:()=>{e.change(l=>{$.setView(l,t.key,{type:i})});let s=e.value.document.assertBlock(t.key);return Wg(e,s)}}))},{key:"table",commands:[{key:"addColumn",icon:S.ArrowRight,title:"Add column",trigger:()=>{e.change(i=>{$.insertColumn(i,t.key,$.createColumnFromType("text"))})},descendant:()=>Ea(i=>{e.change(a=>{$.insertColumn(a,t.key,$.createColumnFromType(i))})})},{key:"insertRow",icon:S.ArrowDown,title:`Insert ${n.recordName}`,trigger:()=>{e.change(i=>{$.insertEmptyRecord(i,t.key)})}}]},...r]),search:"Select action\u2026"}}function q0(e,t,o){return{view:t.view,definition:t.definition,setView:n=>{e.change(i=>{$.setView(i,o,n)});let r=e.value.document.assertBlock(o);return[Wg(e,r),q0(e,r.data.toFrozenObject(),o)]}}}c();var G0=x(VS()),Yt=x(O());z();c();var mc=x(O());z();var F0=B.createInteractiveHandle("record-column-value-line");function Uv(e){let{nodeKey:t,editor:o,readOnly:n,record:r,view:i,definition:a,style:s}=e,[,l]=R(I8);return mc.createElement(B.View,{handle:F0,style:s},mc.createElement(b,{style:[v.directionRow,v.alignCenter,p.Margin.xsmallBottom]},mc.createElement(b,{style:[v.flex1]},mc.createElement(Qc,null,Pa(a))),n?null:mc.createElement(Bg,{nodeKey:t,editor:o,view:i,definition:a,descendantOf:F0,icon:Tr[a.type].IconComponent,rightIcon:S.ChevronDown})),mc.createElement(Gl,{nodeKey:t,editor:o,readOnly:n,record:r,definition:a,selected:!1,displayMode:"block",style:[l.recordValueBox,p.Padding.smallVertical,p.Padding.mediumHorizontal]}))}var I8=L.create({recordValueBox:e=>({borderWidth:1,borderColor:e.colors.border.mid,backgroundColor:e.colors.background.main,borderRadius:e.radiuses.large,minHeight:E.BUTTON_L})});function H0(e){let{nodeKey:t,editor:o,readOnly:n,record:r,records:i,view:a,definition:s,openRecord:l,onClose:u}=e,[,d]=R(N),[,m]=R(P8),[f,g]=Yt.useState(!1),y=bi[a.type],h=a.columns,C=Yt.useMemo(()=>(0,G0.default)(Object.keys(s),h),[h,a,s]),w=Yt.useMemo(()=>i.findIndex(_=>_.key===r.key),[i,r.key]),k=i[w-1],I=i[w+1];return Yt.createElement(wt,{title:`Edit ${y.recordName}`,size:"large",footer:Yt.createElement(b,{style:[v.directionRow,v.alignCenter,v.justifySpaceBetween]},n?null:Yt.createElement(D,{icon:S.Trashcan,kind:"secondary",size:"medium",onPress:()=>{o.change(_=>{$.removeRecord(_,t,r.key)}),u()}},`Delete ${y.recordName}`),Yt.createElement(b,{style:[v.directionRow,v.alignCenter]},Yt.createElement(D,{icon:S.ChevronLeft,kind:"secondary",size:"medium",title:`Previous ${y.recordName}`,disabled:!k,onPress:()=>{k&&l(k.key)}}),Yt.createElement(b,{style:[p.Padding.mediumHorizontal]},Yt.createElement(A,{style:[d.Body,d.textMuted]},`${w+1} of ${i.length}`)),Yt.createElement(D,{icon:S.ChevronRight,kind:"secondary",size:"medium",title:`Next ${y.recordName}`,disabled:!I,onPress:()=>{I&&l(I.key)}}))),onClose:u},Yt.createElement(b,null,h.map((_,P)=>Yt.createElement(Uv,{key:_,nodeKey:t,editor:o,readOnly:n,view:a,record:r,definition:s[_],style:[P<h.length-1?p.Margin.mediumBottom:null]}))),C.length>0||!n?Yt.createElement(b,{style:[v.directionRow,v.justifySpaceBetween,p.Margin.mediumTop]},C.length>0?Yt.createElement(D,{icon:f?S.ChevronUp:S.ChevronDown,kind:"grey",size:"medium",onPress:()=>{g(_=>!_)}},f?"Hide":"Show hidden columns"):null,n?null:Yt.createElement(tp,{icon:S.Plus,kind:"grey",size:"medium",palette:()=>Ea(_=>{o.change(P=>{$.insertColumn(P,t,$.createColumnFromType(_))})})},"Add column")):null,f?Yt.createElement(b,{style:[m.hiddenColumnsGroup,p.Margin.mediumTop,p.Padding.mediumTop]},C.map((_,P)=>Yt.createElement(Uv,{key:_,nodeKey:t,editor:o,readOnly:n,view:a,record:r,definition:s[_],style:[P<C.length-1?p.Margin.mediumBottom:null]}))):null)}var P8=L.create({hiddenColumnsGroup:e=>({borderTopWidth:1,borderTopColor:e.colors.border.mid,borderTopStyle:"dashed"})});c();function X0(e){return $.defaultRecordSortedKeys(e).map(o=>({key:o,value:e.records[o]}))}function K0(e){let{node:t,editor:o,isFocused:n}=e,r=t.data.toFrozenObject(),i=Zt.useMemo(()=>X0(r),[r]),[a,s]=Zt.useState(null),l=Zt.useMemo(()=>a===null?null:i.find(y=>y.key===a),[i,a]),u=Zt.useCallback(y=>{s(y)},[s]),d=Zt.useMemo(()=>o.readOnly?{}:$.getTableSelection(o.value,t),[i,t,o.readOnly,o.value.selection]),m={view:r.view,definition:r.definition,records:i,selection:d},f=Zt.useContext(Eg);f.set(t.key,m),Zt.useEffect(()=>()=>{f.delete(t.key)},[f,t.key]);let g=bi[m.view.type];return Zt.createElement(Zt.Fragment,null,Zt.createElement(ye,{...e,palette:Wg(o,t)},Zt.createElement(Bt,{...e,selectable:g.selectableView,isFocused:n&&!d.definitionId&&!d.recordId,onSelect:()=>{o.change(y=>{$.moveTableSelection(y,t,{}),y.focus()})}},Zt.createElement($w,{readOnly:!!l},Zt.createElement(g.ViewComponent,{editor:e.editor,nodeKey:t.key,readOnly:o.readOnly,openRecord:u,...m})))),l?Zt.createElement(H0,{editor:e.editor,nodeKey:t.key,readOnly:o.readOnly,view:m.view,records:m.records,definition:m.definition,record:l,openRecord:u,onClose:()=>{s(null)}}):null)}c();var pc=x(li()),qg=x(O());var j0=(0,pc.isKeyHotkey)("enter"),E8=(0,pc.isKeyHotkey)("shift+enter"),U0=(0,pc.isKeyHotkey)("mod+enter"),Yv=(0,pc.isKeyHotkey)("tab"),Vg=(0,pc.isKeyHotkey)("shift+tab"),Y0=(0,pc.isKeyHotkey)("backspace");function Z0(){let e=qg.useContext(Eg);return[qg.useMemo(()=>({onKeyDown:(...o)=>T8(e,...o)}),[e])]}function T8(e,t,o,n){if(t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowRight"&&t.key!=="ArrowLeft"&&!(j0(t)&&!E8(t))&&!U0(t)&&!Y0(t)&&!Yv(t)&&!Vg(t))return;let{selection:r}=o.value;if(IS.isBlockRange(r)||!r.isCollapsed&&!Yv(t)&&!Vg(t))return;let i=$.getCurrentTable(o.value);if(!i)return;let{table:a,fragment:s}=i;if(i.ancestorBlocks&&i.ancestorBlocks.size>0)return;if(U0(t))return t.preventDefault(),St(o,a),o;let l=e.get(a.key);if(!l||!l.selection.recordId&&!l.selection.definitionId)return;let u=a.data.toFrozenObject(),d=l.selection.recordId?u.records[l.selection.recordId]:null,m=l.selection.definitionId?u.definition[l.selection.definitionId]:null,f=bi[l.view.type],g=m?Tr[m.type]:null,y=C=>{if(!g||!g.onKeyDown||!d||!m)return!1;let w=!1;return g.onKeyDown(C,d.values[m.id],k=>{w=!0,$.setRecordValue(o,a.key,l.selection.recordId,l.selection.definitionId,k)}),w},h=C=>{f.onKeyDown&&f.onKeyDown(C,a,l,o)};if(j0(t)){if(s&&!r.hasAnchorAtEndOf(s))return;t.preventDefault(),y("enter")||h("enter")}else if(Y0(t)){if(s&&!r.hasAnchorAtStartOf(s))return;t.preventDefault(),y("backspace")||h("backspace")}else if(Yv(t)||Vg(t))t.preventDefault(),h(Vg(t)?"shift+tab":"tab");else if(t.key==="ArrowDown"){if(s&&!L8(s,r))return;t.preventDefault(),h("move-down")}else if(t.key==="ArrowUp"){if(s&&!M8(s,r))return;t.preventDefault(),h("move-up")}else if(t.key==="ArrowRight"){if(s&&!r.hasAnchorAtEndOf(s))return;t.preventDefault(),h("move-right")}else if(t.key==="ArrowLeft"){if(s&&!r.hasAnchorAtStartOf(s))return;t.preventDefault(),h("move-left")}return o}function M8(e,t){let o=e.nodes.first();return o?t.hasAnchorIn(o):!1}function L8(e,t){let o=e.nodes.last();return o?t.hasAnchorIn(o):!1}c();var $t=x(O());z();c();var $0=x(O());z();function Zv(e){let{children:t}=e,[,o]=R(N8);return $0.default.createElement(b,{style:o.blockTabsBody},t)}var N8=L.create({blockTabsBody:e=>({border:`1px solid ${e.colors.border.main}`,backgroundColor:e.colors.background.main,paddingHorizontal:av,borderRadius:e.radiuses.medium,borderTopLeftRadius:0,"@media print":{padding:0,border:0}})});c();var Fg=x(O());z();function $v(e){let{children:t}=e,[,o]=R(D8);return Fg.default.createElement(b,{style:o.blockTabsHeader},Fg.default.createElement(Yc,{style:o.blockTabsHeaderContainer},Fg.default.createElement(b,{style:o.blockTabsHeaderContent},t)))}var D8=L.create({blockTabsHeader:{position:"relative",display:"flex",flexDirection:"row",width:"100%",alignItems:"center",whiteSpace:"nowrap",marginBottom:-1,"@media print":{display:"none"},zIndex:1},blockTabsHeaderContainer:{maxWidth:"100%",display:"flex"},blockTabsHeaderContent:e=>({maxWidth:"100%",display:"flex",flexDirection:"row",borderTopRightRadius:e.radiuses.medium,borderTopLeftRadius:e.radiuses.medium,pointerEvents:"auto"})});c();var fo=x(O()),h7=x(m7());z();c();var Xl=x(O());z();var g7=Xl.default.forwardRef(function(t,o){let{active:n,editor:r,tab:i,isLast:a,onDropBefore:s,onDropAfter:l,onInsertLeft:u,onInsertRight:d,onDelete:m,children:f,...g}=t;return Xl.default.createElement(b,{style:[f7.tabItemControls,n&&f7.tabItemControlsActive],...g,ref:o},Xl.default.createElement(p7,{position:"before",onDrop:s,onInsert:u}),f,a?Xl.default.createElement(p7,{position:"after",onDrop:l,onInsert:d}):null)});function p7(e){let{position:t,onDrop:o,onInsert:n}=e,[r,i]=pi({accept:["tab"],drop:(a,s)=>{s.didDrop()||a.type==="tab"&&o(a.id)},canDrop:a=>a.type==="tab",collect:a=>({hovered:a.isOver({shallow:!0})&&a.canDrop()})});return Xl.default.createElement(Tu,{ref:i,dropHovered:r.hovered,position:t==="before"?"left":"right",button:{kind:"default",size:"xsmall",icon:S.Plus,onPress:n}})}var f7=F.create({tabItemControls:{position:"relative",flexShrink:1},tabItemControlsActive:{flexShrink:0},tabItemInsertionLine:{flex:1,opacity:0,display:"flex",alignItems:"center",justifyContent:"center"},tabItemInsertionLineHovered:{opacity:1}});function ob(e){let{editor:t,tab:o,index:n,active:r,isFirst:i,isLast:a,onSelect:s}=e,{readOnly:l}=t,u=o.data?o.data.get("title"):"Untitled",[{isDragging:d},m]=Ki({type:"tab",item:{type:"tab",id:o.key,previewLabel:"Move tab"},canDrag:()=>!l,collect:C=>({isDragging:C.isDragging()})}),f=C=>{t.change(w=>{let k=w.value.document.getParent(o.key);if(!k)return;let I=si.createTabsItem("Untitled");w.insertNodeByKey(k.key,n+C,I);let _=w.value.document.getDescendant(I.key);_&&w.collapseToStartOf(_).focus(),s(I)})},g=C=>{t.change(w=>{w.setNodeByKey(o.key,{data:o.data.merge({title:C})})})},y=(C,w)=>{t.change(k=>{w==="before"?k.moveBeforeNodeByKey(C,o.key):k.moveAfterNodeByKey(C,o.key);let I=k.value.document.getDescendant(C);I&&k.collapseToStartOf(I).focus()})},h=()=>{t.change(C=>{C.removeNodeByKey(o.key)})};return l?fo.default.createElement(Lt,{onPress:()=>s(o)},fo.default.createElement(tb,{title:u,active:r,isFirst:i,isLast:a,isEditable:!1,withOptions:!1,editor:t,tab:o})):fo.default.createElement(Lt,{onPress:()=>s(o)},fo.default.createElement(g7,{onInsertLeft:()=>f(0),onInsertRight:()=>f(1),onDropBefore:C=>y(C,"before"),onDropAfter:C=>y(C,"after"),onDelete:h,...e},fo.default.createElement(tb,{title:u,active:r,isFirst:i,isLast:a,isEditable:r,onTitleChange:g,editor:t,tab:o,withOptions:!0,isDragging:d,dragHandleRef:m})))}var tb=fo.default.forwardRef((e,t)=>{let{title:o,titlePlaceholder:n="Untitled",active:r=!1,isFirst:i=!1,isLast:a=!1,isDragging:s=!1,isEditable:l,withOptions:u,onTitleChange:d,editor:m,tab:f,dragHandleRef:g,...y}=e,[h,C]=fo.default.useState(o),[w,k]=R(K8),I=d?()=>{d(h||"")}:void 0;fo.default.useEffect(()=>{C(o)},[o]);let _=fo.default.useRef(null),P=Ga(_,g),M=ae(_),T=()=>{M.open(oe({position:{width:"small"},groups:[{key:"tab",commands:[{key:"delete",title:"Delete",icon:S.Trashcan,trigger:()=>{m.change(W=>{si.removeTab(W,f.key)})}}]}]}))};return fo.default.createElement(B.View,{ref:t,style:[k.blockTabsBodyItem,p.Padding.xsmallVertical,r&&k.blockTabsBodyItemActive,i&&k.blockTabsBodyItemFirst,a&&k.blockTabsBodyItemLast],...y},fo.default.createElement(b,{style:k.flexPadding}),fo.default.createElement(b,{style:[k.blockTabsBodyItemTitleContainer,s&&ce.translucent,p.Padding.xsmallVertical]},l?fo.default.createElement(fo.default.Fragment,null,fo.default.createElement(h7.default,{value:h,inputStyle:{...ze.Label,color:w.colors.text.main,backgroundColor:"transparent",border:"none",...Vm.Bold,padding:0,margin:0,lineHeight:"22px"},title:h,placeholder:n,onChange:W=>C(W.target.value),onBlur:I})):fo.default.createElement(A,{style:[ro.Label,k.blockTabsBodyItemReadonlyTitle,r&&k.blockTabsBodyItemTitleReadonlyActive]},h||n)),u?fo.default.createElement(B.View.Child,{style:[k.tabItemOptions],inactiveStyle:M.opened||l?ce.visible:ce.hidden,activeStyle:ce.visible},fo.default.createElement(D,{ref:P,kind:"grey",size:"small",rounded:!0,active:M.opened,onPress:T,icon:S.GrabberVertical,title:`Click for options.
Drag to move.`})):null,fo.default.createElement(b,{style:k.flexPadding}))});tb.displayName="TabItem";var K8=L.create({blockTabsBodyItem:e=>({flexGrow:0,flexShrink:1,flexBasis:"auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,borderWidth:1,borderColor:e.colors.border.main,borderLeftColor:"transparent",backgroundColor:e.colors.background.muted,flexDirection:"row",cursor:"pointer"}),blockTabsBodyItemFirst:e=>({borderLeftColor:e.colors.border.main,borderTopLeftRadius:e.radiuses.medium}),blockTabsBodyItemLast:e=>({borderTopRightRadius:e.radiuses.medium}),blockTabsBodyItemActive:e=>({flexGrow:0,flexShrink:0,flexBasis:"auto",cursor:"auto",backgroundColor:e.colors.background.main,borderBottomColor:e.colors.background.main}),flexPadding:{minWidth:8,width:16,flexGrow:1,flexShrink:1,flexBasis:"16px"},blockTabsBodyItemTitleContainer:{flexGrow:0,flexShrink:1,flexBasis:"auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexDirection:"row"},blockTabsBodyItemReadonlyTitle:e=>({color:e.colors.text.muted,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),blockTabsBodyItemTitleReadonlyActive:e=>({color:e.colors.text.main}),tabItemOptions:{marginLeft:p.medium,display:"flex",alignItems:"center",justifyContent:"center"}});c();var v7=x(O());z();function nb(e){let{active:t,children:o,...n}=e;return v7.default.createElement(b,{style:[y7.blockTabsItem,t&&y7.blockTabsItemActive],...n},o)}var y7=F.create({blockTabsItem:{display:"none",pageBreakInside:"avoid"},blockTabsItemActive:{display:"flex"}});c();var Sd=x(O());var j8=5,b7={activeKeys:{},activeTitles:[]},U8=eo({key:"tabsAtom",default:b7,effects:[Jc.recoilEffect("@recoil/tabsAtom",b7)]});function C7(e){let{sections:t,selected:o}=Sd.useContext($r),n=Sd.useMemo(()=>{let u=new Map;return e.blockNodes.forEach(d=>{let m=Wc();[...t.entries()].filter(([f])=>d.getNode(f)).forEach(([f,g])=>{m.set(f,g)}),u.set(d.key,m)}),u},[t,e]),[r,i]=tn(U8),[a,s]=Ai(!1,[o]),l=$c();return Sd.useMemo(()=>{let{value:u,readOnly:d}=l;return[(d?null:Z8(u,e))||Y8(r,e,a,n,o)||(d?$8(r,e):null)||e.blockNodes.first(),f=>{let g=f.data.get("title");s(!0),i(y=>({activeKeys:{...y.activeKeys,[e.key]:f.key},activeTitles:g?y.activeTitles.filter(h=>h!==g).concat([g]).slice(-j8):y.activeTitles}))}]},[l,r,i,a,n,o])}function Y8(e,t,o,n,r){let i=e.activeKeys[t.key];return o&&i?t.blockNodes.find(a=>a.key===i):t.blockNodes.find(a=>{var s;return[...((s=n.get(a.key))==null?void 0:s.values())||[]].includes(r||"")})}function Z8(e,t){if(e.selection.isFocused)return t.blockNodes.find(o=>de.isTextRange(e.selection)&&(e.selection.hasAnchorIn(o)||e.selection.hasFocusIn(o)))}function $8(e,t){return t.blockNodes.map(o=>{let n=o.data.get("title");return{node:o,score:e.activeTitles.indexOf(n)}}).filter(({score:o})=>o>=0).sortBy(({score:o})=>-o).map(({node:o})=>o).first()||void 0}function S7(e){let{node:t,children:o,editor:n}=e,[r,i]=C7(t),a=t.getChildIndex(r.key),s=Fe(),l=$t.default.useRef(null),u=$t.default.useRef(null),d=$t.default.useCallback(g=>{let y=l.current;y&&y.measureInWindow((h,C)=>{u.current=C}),n.readOnly||n.change(h=>{h.blur()}),i(g)},[n,i]);$t.default.useEffect(()=>{let{current:g}=u;g&&(u.current=null,window.requestAnimationFrame(()=>{let y=l.current;y&&y.measureInWindow((h,C)=>{window.scrollBy(0,C-g)})}))},[r]);let m=t.blockNodes.map((g,y)=>$t.default.createElement(ob,{key:g.key,editor:n,tab:g,index:y,active:y===a,isFirst:y===0,isLast:y===t.nodes.size-1,onSelect:h=>d(h)})),f=$t.default.Children.map(o,(g,y)=>$t.default.createElement(nb,{key:g&&typeof g=="object"&&"key"in g?g.key:y,active:y===a},g));return s?$t.default.createElement(ye,{...e},$t.default.createElement(b,{ref:l,style:rb.blockTabs},$t.default.Children.map(o,(g,y)=>{let h=t.nodes.toArray()[y];return $t.default.createElement(ye,{key:h.key,...e},$t.default.createElement(b,{ref:l,style:rb.blockTabs},$t.default.createElement($v,null,$t.default.createElement(ob,{editor:n,key:h.key,tab:h,index:y,active:!0,isFirst:!0,isLast:!1,onSelect:()=>{}})),$t.default.createElement(Zv,null,$t.default.createElement(nb,{active:!0},g))))}))):$t.default.createElement(ye,{...e},$t.default.createElement(b,{ref:l,style:rb.blockTabs},$t.default.createElement($v,null,m),$t.default.createElement(Zv,null,f)))}var rb=F.create({blockTabs:{}});c();var ib=x(O());z();function k7(e){let{attributes:t,children:o,editor:n,isFocused:r}=e,{readOnly:i}=n;return ib.default.createElement(b,{...t,style:[w7.blockTabsItem]},o,!i&&r&&Q8(n.value)?ib.default.createElement(Nl,{style:w7.blockExitHint}):null)}function Q8(e){let{startBlock:t}=e;if(!t)return!1;let o=e.document.getAncestors(t.key);return o?o.skipUntil(n=>n.object==="block"&&n.type===Bn).skip(1).every(n=>n.object==="block"&&Cm.includes(n.type)):!1}var w7=F.create({blockTabsItem:{},blockExitHint:{position:"absolute",bottom:-p.medium,right:-p.medium}});c();var wd=x(li());var x7={onKeyDown:J8};function J8(e,t){let{value:o}=t;return(0,wd.default)("backspace",e)&&o.isCollapsed?eD(e,t):(0,wd.default)("enter",e)?tD(e,t):(0,wd.default)("mod+enter",e)?oD(e,t):(0,wd.default)("mod+a",e)?nD(e,t):null}function eD(e,t){let{value:o}=t,n=si.getCurrentTab(o);return!n||!ku(n)?null:(e.preventDefault(),si.removeTab(t,n.key))}function tD(e,t){let{value:o}=t,n=si.getCurrentTab(o);if(!n||n.nodes.size<=1||!ku(n.blockNodes.last()))return null;let r=o.document.getClosest(o.startKey,u=>"type"in u&&u.type===Cn);if(!r)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter is pressed twice");let i=o.document.getParent(r.key);if(!i)throw new Error("Could not find parent of tab while exiting tab when enter is pressed twice");let a=i.getChildIndex(r.key);if(a<0)throw new Error("Could not find child of parent while exiting tab when enter is pressed twice");e.preventDefault();let s=n.blockNodes.last();s&&t.removeNodeByKey(s.key);let l=yo.create({type:le,nodes:[Cu.create("")]});return t.insertNodeByKey(i.key,a+1,l).collapseToStartOf(l)}function oD(e,t){let{value:o}=t;if(!si.getCurrentTab(o))return null;let r=o.document.getClosest(o.startKey,l=>"type"in l&&l.type===Cn);if(!r)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter are pressed twice");let i=o.document.getParent(r.key);if(!i)throw new Error("Could not find parent of tab while exiting tab on mod+enter");let a=i.getChildIndex(r.key);if(a<0)throw new Error("Could not find child of parent while exiting tab on mod+enter");e.preventDefault();let s=yo.create({type:le,nodes:[Cu.create()]});return t.insertNodeByKey(i.key,a+1,s).collapseToStartOf(s)}function nD(e,t){let{value:o}=t,n=si.getCurrentTab(o);return n?(e.preventDefault(),t.collapseToStartOf(n).extendToEndOf(n)):null}var O7={renderNode:rD,renderVirtualNode:iD,renderMark:aD,estimateNodeSize:(e,t)=>{let o=Qr(e,t);return{height:ac(e,t,{blockSpacing:o})}}};function rD(e){if(yo.isBlock(e.node)&&!ey.isInline(e.parent)){let t=e;switch(e.node.type){case le:return Ve.createElement(nP,{...t,node:e.node,parent:e.parent});case Vo:case It:case oo:return Ve.createElement(HI,{...t,node:e.node,parent:e.parent});case Nt:return Ve.createElement(XI,{...t,node:e.node,parent:e.parent});case Me:case Ne:case Xe:return Ve.createElement(NP,{...t,node:e.node,parent:e.parent});case zn:return Ve.createElement(K0,{...t,node:e.node,parent:e.parent});case ai:return Ve.createElement(nI,{...t,node:e.node,parent:e.parent});case Hr:return Ve.createElement(aI,{...t,node:e.node,parent:e.parent});case Mi:return Ve.createElement(AP,{...t,node:e.node,parent:e.parent});case Ns:return Ve.createElement(BP,{...t,node:e.node,parent:e.parent});case ua:return Ve.createElement(MP,{...t,node:e.node,parent:e.parent});case An:return Ve.createElement(uI,{...t,node:e.node,parent:e.parent});case qo:return Ve.createElement(CR,{...t,node:e.node,parent:e.parent});case to:return Ve.createElement(cP,{...t,node:e.node,parent:e.parent});case Ct:return Ve.createElement(aP,{...t,node:e.node,parent:e.parent});case Cn:return Ve.createElement(S7,{...t,node:e.node,parent:e.parent});case Bn:return Ve.createElement(k7,{...t,node:e.node,parent:e.parent});case Ds:return Ve.createElement($P,{...t,node:e.node,parent:e.parent});case Bc:return Ve.createElement(bP,{...t,node:e.node,parent:e.parent});case ma:return Ve.createElement(vP,{...t,node:e.node,parent:e.parent});case Li:return Ve.createElement(CI,{...t,node:e.node,parent:e.parent});case la:return Ve.createElement(TP,{...t,node:e.node,parent:e.parent});case Ni:return Ve.createElement(mI,{...t,node:e.node,parent:e.parent})}}if(ey.isInline(e.node)&&!Nc.isDocument(e.parent))switch(e.node.type){case Io:return Ve.createElement(WI,{...e,node:e.node,parent:e.parent});case Ac:return Ve.createElement(zP,{...e,node:e.node,parent:e.parent});case Dc:return Ve.createElement(QP,{...e,node:e.node,parent:e.parent});case hm:return Ve.createElement(tI,{...e,node:e.node,parent:e.parent})}return null}function iD(e){switch(e.node.type){case Me:case Ne:case Xe:return Ve.createElement(DP,{...e})}}function aD(e){switch(e.mark.type){case Sn:return Ve.createElement(qP,{...e});case wn:return Ve.createElement(GP,{...e});case hr:return Ve.createElement(XP,{...e});case no:return Ve.createElement(jP,{...e});case Su:return Ve.createElement(YP,{...e});case ym:case bm:case vm:return Ve.createElement(SP,{...e})}return null}var _7=Je.forwardRef(function(t,o){var dr,Jt;let{value:n,baseValue:r,participants:i=[],onChange:a,onActivity:s,placeholder:l,contentReferenceContext:u,uploadFiles:d,updateFile:m,logAnalyticsEvent:f,readOnly:g=!1,style:y,sectionIDs:h,selectedSection:C,isDiff:w,blockLayoutComponent:k,rightGutterComponent:I,integrationBlocksRemote:_,integrationBlocks:P,onBlockHover:M}=t,{mode:T}=Je.useContext(Eo),W=Je.useRef(null),H=Ga(W,o),q=Je.useMemo(()=>({...cv,...k?{blockLayoutComponent:k}:{},...I?{rightGutterComponent:I}:{},onBlockHover:M,integrationBlocks:P||{}}),[u==null?void 0:u.space,u==null?void 0:u.revision,u==null?void 0:u.page,M,P]);u&&(q.contentReferenceContext=u),d&&(q.uploadFiles=d),m&&(q.updateFile=m),f&&(q.logAnalyticsEvent=f),q.integrationBlocksRemote=_;let[,G]=R(N),Y=KR(q),[U]=Z0(),ue=fI(P),Ye=FI(q),at=Uw(n.document,ai),Nn=Je.useMemo(()=>[O7,U,jR,sI,lP,x7,rP,KI,Ye,...$I,oP,bI,DI,ue,gI,SI,oI,at,yP,Y,$R,MR,UR],[Y,Ye,at]),Qo=Fe(),go=Je.useRef(null),zr=ct=>{let V=ct.value,Z=n.document!==V.document;s&&Z&&(go.current?clearTimeout(go.current):s({typing:!0}),go.current=setTimeout(()=>{go.current=null,s({typing:!1})},2e3)),a(ct)},lr=yr(n.document),Wr=Je.useMemo(()=>{let ct=i.map(V=>{if(!V.selection||!V.selection.anchorPath||!V.selection.focusPath)return;let Z=n.document.getNodeAtPath(V.selection.anchorPath),K=n.document.getNodeAtPath(V.selection.focusPath);if(!(!Z||!K))return uP(V,Z.key,K.key)}).filter(he).flat();return mm.create(ct)},[i,n.document]);Je.useEffect(()=>{var ct,V;if((ct=W.current)!=null&&ct.value.isFocused)return dp((V=W.current)!=null&&V.value.selection.isCollapsed?"editor-selection-collapsed":"editor-selection-expanded")},[(dr=W.current)==null?void 0:dr.value.isFocused,(Jt=W.current)==null?void 0:Jt.value.selection.isCollapsed]);let[ur,Jo]=Je.useState(null),Ro=Je.useMemo(()=>({sections:h||Wc(),active:ur,selected:C,setActive:Jo}),[h,ur]),en=r===null?null:r===void 0?void 0:r.document;return Je.createElement(NR,{original:en,modified:n.document},Je.createElement($r.Provider,{value:Ro},Je.createElement(ie.Provider,{value:q},Je.createElement(_a.View,{style:[Kl.editor,y],isPDF:Qo},g?null:Je.createElement(Lt,{onPress:()=>{var ct;(ct=W.current)==null||ct.change(V=>iy(V,"DOCUMENT_START"))}},Je.createElement(b,{style:[Kl.editorFocusArea,Kl.editorFocusAreaTop]})),lr&&l&&!n.isFocused&&!g?Je.createElement(q.blockLayoutComponent,{renderMode:"centered"},Je.createElement(b,{style:[Kl.placeholder]},Je.createElement(A,{style:[G.Body,G.textMuted]},l))):null,Je.createElement(Jw,{ref:H,testID:"page.contentEditor",value:n,onChange:zr,readOnly:g,selections:Wr,plugins:Nn,virtualize:T==="app",enableBlockContainment:g&&!w},g?null:Je.createElement(EI,{value:n})),g?null:Je.createElement(Lt,{onPress:()=>{var ct;(ct=W.current)==null||ct.change(V=>iy(V,"DOCUMENT_END"))}},Je.createElement(b,{style:[Kl.editorFocusArea,Kl.editorFocusAreaBottom]}))))))}),Kl=F.create({editor:{position:"relative"},editorFocusArea:{position:"absolute",cursor:"text",right:0,left:0},editorFocusAreaTop:{height:p.large,top:-p.large},editorFocusAreaBottom:{height:p.large,bottom:-p.large},placeholder:{position:"absolute",top:p.small}});c();var Tn=x(O());c();c();var Md=x(O());c();var $i=x(O());c();var gn=x(O());c();var fc="right-scroll-bar-position",gc="width-before-scroll-bar",ab="with-scroll-bars-hidden",sb="--removed-body-scroll-bar-size";c();c();function R7(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}c();var I7=x(O());function P7(e,t){var o=(0,I7.useState)(function(){return{value:e,callback:t,facade:{get current(){return o.value},set current(n){var r=o.value;r!==n&&(o.value=n,o.callback(n,r))}}}})[0];return o.callback=t,o.facade}c();function kd(e,t){return P7(t||null,function(o){return e.forEach(function(n){return R7(n,o)})})}c();c();c();function E7(e){return e}function T7(e,t){t===void 0&&(t=E7);var o=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(i){var a=t(i,n);return o.push(a),function(){o=o.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(n=!0;o.length;){var a=o;o=[],a.forEach(i)}o={push:function(s){return i(s)},filter:function(){return o}}},assignMedium:function(i){n=!0;var a=[];if(o.length){var s=o;o=[],s.forEach(i),a=o}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),o={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),o}}}};return r}function xd(e,t){return t===void 0&&(t=E7),T7(e,t)}function hc(e){e===void 0&&(e={});var t=T7(null);return t.options=Wo({async:!0,ssr:!1},e),t}c();var M7=x(O()),L7=function(e){var t=e.sideCar,o=Ms(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M7.createElement(n,Wo({},o))};L7.isSideCarExport=!0;function yc(e,t){return e.useMedium(t),L7}var Gg=hc();var cb=function(){},Hg=gn.forwardRef(function(e,t){var o=gn.useRef(null),n=gn.useState({onScrollCapture:cb,onWheelCapture:cb,onTouchMoveCapture:cb}),r=n[0],i=n[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,f=e.sideCar,g=e.noIsolation,y=e.inert,h=e.allowPinchZoom,C=e.as,w=C===void 0?"div":C,k=Ms(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=f,_=kd([o,t]),P=Wo(Wo({},k),r);return gn.createElement(gn.Fragment,null,d&&gn.createElement(I,{sideCar:Gg,removeScrollBar:u,shards:m,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!h,lockRef:o}),a?gn.cloneElement(gn.Children.only(s),Wo(Wo({},P),{ref:_})):gn.createElement(w,Wo({},P,{className:l,ref:_}),s))});Hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hg.classNames={fullWidth:gc,zeroRight:fc};c();c();YC();var ht=x(O());c();var Od="data-focus-lock",Xg="data-focus-lock-disabled",N7="data-no-focus-lock",D7="data-autofocus-inside",A7="data-no-autofocus";var W7=x(O());c();var jl=x(O());var Ul={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},B7=function(t){var o=t.children;return jl.createElement(jl.Fragment,null,jl.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Ul}),o,o&&jl.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Ul}))};B7.propTypes={};B7.defaultProps={children:null};c();var Kg=xd({},function(e){var t=e.target,o=e.currentTarget;return{target:t,currentTarget:o}}),jg=xd(),z7=xd(),Ug=hc({async:!0});var cD=[],lb=ht.forwardRef(function(t,o){var n,r=ht.useState(),i=r[0],a=r[1],s=ht.useRef(),l=ht.useRef(!1),u=ht.useRef(null),d=t.children,m=t.disabled,f=t.noFocusGuards,g=t.persistentFocus,y=t.crossFrame,h=t.autoFocus,C=t.allowTextSelection,w=t.group,k=t.className,I=t.whiteList,_=t.hasPositiveIndices,P=t.shards,M=P===void 0?cD:P,T=t.as,W=T===void 0?"div":T,H=t.lockProps,q=H===void 0?{}:H,G=t.sideCar,Y=t.returnFocus,U=t.focusOptions,ue=t.onActivation,Ye=t.onDeactivation,at=ht.useState({}),Nn=at[0],Qo=ht.useCallback(function(){u.current=u.current||document&&document.activeElement,s.current&&ue&&ue(s.current),l.current=!0},[ue]),go=ht.useCallback(function(){l.current=!1,Ye&&Ye(s.current)},[Ye]);(0,W7.useEffect)(function(){m||(u.current=null)},[]);var zr=ht.useCallback(function(Jt){var ct=u.current;if(ct&&ct.focus){var V=typeof Y=="function"?Y(ct):Y;if(V){var Z=typeof V=="object"?V:void 0;u.current=null,Jt?Promise.resolve().then(function(){return ct.focus(Z)}):ct.focus(Z)}}},[Y]),lr=ht.useCallback(function(Jt){l.current&&Kg.useMedium(Jt)},[]),Wr=jg.useMedium,ur=ht.useCallback(function(Jt){s.current!==Jt&&(s.current=Jt,a(Jt))},[]),Jo=Ic((n={},n[Xg]=m&&"disabled",n[Od]=w,n),q),Ro=f!==!0,en=Ro&&f!=="tail",dr=kd([o,ur]);return ht.createElement(ht.Fragment,null,Ro&&[ht.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:Ul}),_?ht.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:Ul}):null],!m&&ht.createElement(G,{id:Nn,sideCar:Ug,observed:i,disabled:m,persistentFocus:g,crossFrame:y,autoFocus:h,whiteList:I,shards:M,onActivation:Qo,onDeactivation:go,returnFocus:zr,focusOptions:U}),ht.createElement(W,Ic({ref:dr},Jo,{className:k,onBlur:Wr,onFocus:lr}),d),en&&ht.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:Ul}))});lb.propTypes={};lb.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var V7=lb;c();function ub(e){var t=window,o=t.setImmediate;typeof o<"u"?o(e):setTimeout(e,1)}var q7=V7;c();var Yg=hc(),Zg="data-focus-on-hidden";var F7=$i.forwardRef(function(e,t){var o=$i.useState(!1),n=o[0],r=o[1],i=e.children,a=e.autoFocus,s=e.shards,l=e.enabled,u=l===void 0?!0:l,d=e.scrollLock,m=d===void 0?!0:d,f=e.focusLock,g=f===void 0?!0:f,y=e.returnFocus,h=y===void 0?!0:y,C=e.inert,w=e.allowPinchZoom,k=e.sideCar,I=e.className,_=e.shouldIgnore,P=e.style,M=e.as,T=Ms(e,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),W=k,H=n.onActivation,q=n.onDeactivation,G=Ms(n,["onActivation","onDeactivation"]),Y=Wo(Wo({},G),{sideCar:k,shards:s,allowPinchZoom:w,as:M,inert:C,style:P,enabled:u&&m});return $i.createElement($i.Fragment,null,$i.createElement(q7,{ref:t,sideCar:k,disabled:!(n&&u&&g),returnFocus:h,autoFocus:a,shards:s,onActivation:H,onDeactivation:q,className:I,whiteList:_,lockProps:Y,as:Hg},i),u&&$i.createElement(W,Wo({},T,{sideCar:Yg,setLockProps:r,shards:s})))});c();c();c();var cE=x(O());c();c();c();function _d(e,t){return _d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_d(e,t)}function db(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_d(e,t)}yM();var $g=x(O());function lD(e,t){function o(n){return n.displayName||n.name||"Component"}return function(r){var i=[],a;function s(){a=e(i.map(function(u){return u.props})),t(a)}var l=function(u){db(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a};var m=d.prototype;return m.componentDidMount=function(){i.push(this),s()},m.componentDidUpdate=function(){s()},m.componentWillUnmount=function(){var g=i.indexOf(this);i.splice(g,1),s()},m.render=function(){return $g.default.createElement(r,this.props)},d}($g.PureComponent);return UC(l,"displayName","SideEffect("+o(r)+")"),l}}var G7=lD;c();c();c();c();var hn=function(e){for(var t=Array(e.length),o=0;o<e.length;++o)t[o]=e[o];return t},Rd=function(e){return Array.isArray(e)?e:[e]};c();var uD=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},H7=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},X7=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},dD=function(e,t){return!e||X7(e)||!uD(e)&&t(H7(e))},mb=function(e,t){var o=e.get(t);if(o!==void 0)return o;var n=dD(t,mb.bind(void 0,e));return e.set(t,n),n},mD=function(e,t){return e&&!X7(e)?fD(e)?t(H7(e)):!1:!0},pb=function(e,t){var o=e.get(t);if(o!==void 0)return o;var n=mD(t,pb.bind(void 0,e));return e.set(t,n),n},fb=function(e){return e.dataset},pD=function(e){return e.tagName==="BUTTON"},K7=function(e){return e.tagName==="INPUT"},gb=function(e){return K7(e)&&e.type==="radio"},j7=function(e){return!((K7(e)||pD(e))&&(e.type==="hidden"||e.disabled))},fD=function(e){var t=e.getAttribute(A7);return![!0,"true",""].includes(t)},Id=function(e){var t;return Boolean(e&&((t=fb(e))===null||t===void 0?void 0:t.focusGuard))},Yl=function(e){return!Id(e)},U7=function(e){return Boolean(e)};c();var gD=function(e,t){var o=e.tabIndex-t.tabIndex,n=e.index-t.index;if(o){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return o||n},hb=function(e,t,o){return hn(e).map(function(n,r){return{node:n,index:r,tabIndex:o&&n.tabIndex===-1?(n.dataset||{}).focusGuard?0:-1:n.tabIndex}}).filter(function(n){return!t||n.tabIndex>=0}).sort(gD)};c();c();var Y7=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var yb=Y7.join(","),hD="".concat(yb,", [data-focus-guard]"),Z7=function(e,t){var o;return hn(((o=e.shadowRoot)===null||o===void 0?void 0:o.children)||e.children).reduce(function(n,r){return n.concat(r.matches(t?hD:yb)?[r]:[],Z7(r))},[])},Qg=function(e,t){return e.reduce(function(o,n){return o.concat(Z7(n,t),n.parentNode?hn(n.parentNode.querySelectorAll(yb)).filter(function(r){return r===n}):[])},[])},$7=function(e){var t=e.querySelectorAll("[".concat(D7,"]"));return hn(t).map(function(o){return Qg([o])}).reduce(function(o,n){return o.concat(n)},[])};var vb=function(e,t){return hn(e).filter(function(o){return mb(t,o)}).filter(function(o){return j7(o)})},bb=function(e,t){return t===void 0&&(t=new Map),hn(e).filter(function(o){return pb(t,o)})},Pd=function(e,t,o){return hb(vb(Qg(e,o),t),!0,o)},Cb=function(e,t){return hb(vb(Qg(e),t),!1)},Q7=function(e,t){return vb($7(e),t)},ks=function(e,t){return e.shadowRoot?ks(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:hn(e.children).some(function(o){return ks(o,t)})};c();var yD=function(e){for(var t=new Set,o=e.length,n=0;n<o;n+=1)for(var r=n+1;r<o;r+=1){var i=e[n].compareDocumentPosition(e[r]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(r),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter(function(a,s){return!t.has(s)})},J7=function(e){return e.parentNode?J7(e.parentNode):e},Zl=function(e){var t=Rd(e);return t.filter(Boolean).reduce(function(o,n){var r=n.getAttribute(Od);return o.push.apply(o,r?yD(hn(J7(n).querySelectorAll("[".concat(Od,'="').concat(r,'"]:not([').concat(Xg,'="disabled"])')))):[n]),o},[])};c();var eE=function(e){return e.activeElement?e.activeElement.shadowRoot?eE(e.activeElement.shadowRoot):e.activeElement:void 0},$l=function(){return document.activeElement?document.activeElement.shadowRoot?eE(document.activeElement.shadowRoot):document.activeElement:void 0};var vD=function(e){return e===document.activeElement},bD=function(e){return Boolean(hn(e.querySelectorAll("iframe")).some(function(t){return vD(t)}))},Jg=function(e){var t=document&&$l();return!t||t.dataset&&t.dataset.focusGuard?!1:Zl(e).some(function(o){return ks(o,t)||bD(o)})};c();var Sb=function(){var e=document&&$l();return e?hn(document.querySelectorAll("[".concat(N7,"]"))).some(function(t){return ks(t,e)}):!1};c();c();c();var CD=function(e,t){return t.filter(gb).filter(function(o){return o.name===e.name}).filter(function(o){return o.checked})[0]||e},eh=function(e,t){return gb(e)&&e.name?CD(e,t):e},tE=function(e){var t=new Set;return e.forEach(function(o){return t.add(eh(o,e))}),e.filter(function(o){return t.has(o)})};c();var wb=function(e){return e[0]&&e.length>1?eh(e[0],e):e[0]},kb=function(e,t){return e.length>1?e.indexOf(eh(e[t],e)):t};var xb="NEW_FOCUS",oE=function(e,t,o,n){var r=e.length,i=e[0],a=e[r-1],s=Id(o);if(!(o&&e.indexOf(o)>=0)){var l=o!==void 0?t.indexOf(o):-1,u=n?t.indexOf(n):l,d=n?e.indexOf(n):-1,m=l-u,f=t.indexOf(i),g=t.indexOf(a),y=tE(t),h=o!==void 0?y.indexOf(o):-1,C=h-(n?y.indexOf(n):l),w=kb(e,0),k=kb(e,r-1);if(l===-1||d===-1)return xb;if(!m&&d>=0)return d;if(l<=f&&s&&Math.abs(m)>1)return k;if(l>=g&&s&&Math.abs(m)>1)return w;if(m&&Math.abs(C)>1)return d;if(l<=f)return k;if(l>g)return w;if(m)return Math.abs(m)>1?d:(r+d+m)%r}};c();var SD=function(e){return function(t){var o,n=(o=fb(t))===null||o===void 0?void 0:o.autofocus;return t.autofocus||n!==void 0&&n!=="false"||e.indexOf(t)>=0}},nE=function(e,t,o){var n=e.map(function(i){var a=i.node;return a}),r=bb(n.filter(SD(o)));return r&&r.length?wb(r):wb(bb(t))};c();var _b=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&_b(e.parentNode.host||e.parentNode,t),t},Ob=function(e,t){for(var o=_b(e),n=_b(t),r=0;r<o.length;r+=1){var i=o[r];if(n.indexOf(i)>=0)return i}return!1},th=function(e,t,o){var n=Rd(e),r=Rd(t),i=n[0],a=!1;return r.filter(Boolean).forEach(function(s){a=Ob(a||s,s)||a,o.filter(Boolean).forEach(function(l){var u=Ob(i,l);u&&(!a||ks(u,a)?a=u:a=Ob(u,a))})}),a},rE=function(e,t){return e.reduce(function(o,n){return o.concat(Q7(n,t))},[])};var wD=function(e,t){var o=new Map;return t.forEach(function(n){return o.set(n.node,n)}),e.map(function(n){return o.get(n)}).filter(U7)},iE=function(e,t){var o=document&&$l(),n=Zl(e).filter(Yl),r=th(o||e,e,n),i=new Map,a=Cb(n,i),s=Pd(n,i).filter(function(f){var g=f.node;return Yl(g)});if(!(!s[0]&&(s=a,!s[0]))){var l=Cb([r],i).map(function(f){var g=f.node;return g}),u=wD(l,s),d=u.map(function(f){var g=f.node;return g}),m=oE(d,l,o,t);return m===xb?{node:nE(a,d,rE(n,i))}:m===void 0?m:u[m]}};c();var Rb=function(e){var t=Zl(e).filter(Yl),o=th(e,e,t),n=new Map,r=Pd([o],n,!0),i=Pd(t,n).filter(function(a){var s=a.node;return Yl(s)}).map(function(a){var s=a.node;return s});return r.map(function(a){var s=a.node,l=a.index;return{node:s,index:l,lockItem:i.indexOf(s)>=0,guard:Id(s)}})};c();var kD=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},Ib=0,Pb=!1,aE=function(e,t,o){o===void 0&&(o={});var n=iE(e,t);if(!Pb&&n){if(Ib>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Pb=!0,setTimeout(function(){Pb=!1},1);return}Ib++,kD(n.node,o.focusOptions),Ib--}};var Eb=aE;var xD=function(){return document&&document.activeElement===document.body},OD=function(){return xD()||Sb()},Jl=null,Ql=null,eu=null,Ed=!1,_D=function(){return!0},RD=function(t){return(Jl.whiteList||_D)(t)},ID=function(t,o){eu={observerNode:t,portaledElement:o}},PD=function(t){return eu&&eu.portaledElement===t};function sE(e,t,o,n){var r=null,i=e;do{var a=n[i];if(a.guard)a.node.dataset.focusAutoGuard&&(r=a);else if(a.lockItem){if(i!==e)return;r=null}else break}while((i+=o)!==t);r&&(r.node.tabIndex=0)}var ED=function(t){return t&&"current"in t?t.current:t},TD=function(t){return t?Boolean(Ed):Ed==="meanwhile"},MD=function e(t,o,n){return o&&(o.host===t&&(!o.activeElement||n.contains(o.activeElement))||o.parentNode&&e(t,o.parentNode,n))},LD=function(t,o){return o.some(function(n){return MD(t,n,n)})},oh=function(){var t=!1;if(Jl){var o=Jl,n=o.observed,r=o.persistentFocus,i=o.autoFocus,a=o.shards,s=o.crossFrame,l=o.focusOptions,u=n||eu&&eu.portaledElement,d=document&&document.activeElement;if(u){var m=[u].concat(a.map(ED).filter(Boolean));if((!d||RD(d))&&(r||TD(s)||!OD()||!Ql&&i)&&(u&&!(Jg(m)||d&&LD(d,m)||PD(d,u))&&(document&&!Ql&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=Eb(m,Ql,{focusOptions:l}),eu={})),Ed=!1,Ql=document&&document.activeElement),document){var f=document&&document.activeElement,g=Rb(m),y=g.map(function(h){var C=h.node;return C}).indexOf(f);y>-1&&(g.filter(function(h){var C=h.guard,w=h.node;return C&&w.dataset.focusAutoGuard}).forEach(function(h){var C=h.node;return C.removeAttribute("tabIndex")}),sE(y,g.length,1,g),sE(y,-1,-1,g))}}}return t},lE=function(t){oh()&&t&&(t.stopPropagation(),t.preventDefault())},nh=function(){return ub(oh)},uE=function(t){var o=t.target,n=t.currentTarget;n.contains(o)||ID(n,o)},ND=function(){return null},DD=function(t){var o=t.children;return cE.createElement("div",{onBlur:nh,onFocus:uE},o)};DD.propTypes={};var dE=function(){Ed="just",setTimeout(function(){Ed="meanwhile"},0)},AD=function(){document.addEventListener("focusin",lE),document.addEventListener("focusout",nh),window.addEventListener("blur",dE)},BD=function(){document.removeEventListener("focusin",lE),document.removeEventListener("focusout",nh),window.removeEventListener("blur",dE)};function zD(e){return e.filter(function(t){var o=t.disabled;return!o})}function WD(e){var t=e.slice(-1)[0];t&&!Jl&&AD();var o=Jl,n=o&&t&&t.id===o.id;Jl=t,o&&!n&&(o.onDeactivation(),e.filter(function(r){var i=r.id;return i===o.id}).length||o.returnFocus(!t)),t?(Ql=null,(!n||o.observed!==t.observed)&&t.onActivation(),oh(!0),ub(oh)):(BD(),Ql=null)}Kg.assignSyncMedium(uE);jg.assignMedium(nh);z7.assignMedium(function(e){return e({moveFocusInside:Eb,focusInside:Jg})});var mE=G7(zD,WD)(ND);var S0e=yc(Ug,mE);c();c();var yt=x(O());c();c();var rh=x(O());c();c();c();var gE=x(O());c();c();var pE;var fE=function(){if(pE)return pE;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fE();return t&&e.setAttribute("nonce",t),e}function qD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Tb=function(){var e=0,t=null;return{add:function(o){e==0&&(t=VD())&&(qD(t,o),FD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var Mb=function(){var e=Tb();return function(t,o){gE.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&o])}};var vc=function(){var e=Mb(),t=function(o){var n=o.styles,r=o.dynamic;return e(n,r),null};return t};c();var GD={left:0,top:0,right:0,gap:0},Lb=function(e){return parseInt(e||"",10)||0},HD=function(e){var t=window.getComputedStyle(document.body),o=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Lb(o),Lb(n),Lb(r)]},Nb=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GD;var t=HD(e),o=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-o+t[2]-t[0])}};var XD=vc(),KD=function(e,t,o,n){var r=e.left,i=e.top,a=e.right,s=e.gap;return o===void 0&&(o="margin"),`
  .`.concat(ab,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),o==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),o==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fc,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(gc,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gc," .").concat(gc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(sb,": ").concat(s,`px;
  }
`)},Db=function(e){var t=e.noRelative,o=e.noImportant,n=e.gapMode,r=n===void 0?"margin":n,i=rh.useMemo(function(){return Nb(r)},[r]);return rh.createElement(XD,{styles:KD(i,!t,r,o?"":"!important")})};c();var Ab=!1;if(typeof window<"u")try{Td=Object.defineProperty({},"passive",{get:function(){return Ab=!0,!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch(e){Ab=!1}var Td,bc=Ab?{passive:!1}:!1;c();var jD=function(e){return e.tagName==="TEXTAREA"},hE=function(e,t){var o=window.getComputedStyle(e);return o[t]!=="hidden"&&!(o.overflowY===o.overflowX&&!jD(e)&&o[t]==="visible")},UD=function(e){return hE(e,"overflowY")},YD=function(e){return hE(e,"overflowX")},Bb=function(e,t){var o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var n=yE(e,o);if(n){var r=vE(e,o),i=r[1],a=r[2];if(i>a)return!0}o=o.parentNode}while(o&&o!==document.body);return!1},ZD=function(e){var t=e.scrollTop,o=e.scrollHeight,n=e.clientHeight;return[t,o,n]},$D=function(e){var t=e.scrollLeft,o=e.scrollWidth,n=e.clientWidth;return[t,o,n]},yE=function(e,t){return e==="v"?UD(t):YD(t)},vE=function(e,t){return e==="v"?ZD(t):$D(t)},QD=function(e,t){return e==="h"&&t==="rtl"?-1:1},bE=function(e,t,o,n,r){var i=QD(e,window.getComputedStyle(t).direction),a=i*n,s=o.target,l=t.contains(s),u=!1,d=a>0,m=0,f=0;do{var g=vE(e,s),y=g[0],h=g[1],C=g[2],w=h-C-i*y;(y||w)&&yE(e,s)&&(m+=w,f+=y),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(r&&m===0||!r&&a>m)||!d&&(r&&f===0||!r&&-a>f))&&(u=!0),u};var ih=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CE=function(e){return[e.deltaX,e.deltaY]},SE=function(e){return e&&"current"in e?e.current:e},JD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},t4=0,tu=[];function wE(e){var t=yt.useRef([]),o=yt.useRef([0,0]),n=yt.useRef(),r=yt.useState(t4++)[0],i=yt.useState(function(){return vc()})[0],a=yt.useRef(e);yt.useEffect(function(){a.current=e},[e]),yt.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var h=nS([e.lockRef.current],(e.shards||[]).map(SE),!0).filter(Boolean);return h.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),h.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var s=yt.useCallback(function(h,C){if("touches"in h&&h.touches.length===2)return!a.current.allowPinchZoom;var w=ih(h),k=o.current,I="deltaX"in h?h.deltaX:k[0]-w[0],_="deltaY"in h?h.deltaY:k[1]-w[1],P,M=h.target,T=Math.abs(I)>Math.abs(_)?"h":"v";if("touches"in h&&T==="h"&&M.type==="range")return!1;var W=Bb(T,M);if(!W)return!0;if(W?P=T:(P=T==="v"?"h":"v",W=Bb(T,M)),!W)return!1;if(!n.current&&"changedTouches"in h&&(I||_)&&(n.current=P),!P)return!0;var H=n.current||P;return bE(H,C,h,H==="h"?I:_,!0)},[]),l=yt.useCallback(function(h){var C=h;if(!(!tu.length||tu[tu.length-1]!==i)){var w="deltaY"in C?CE(C):ih(C),k=t.current.filter(function(P){return P.name===C.type&&P.target===C.target&&JD(P.delta,w)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var I=(a.current.shards||[]).map(SE).filter(Boolean).filter(function(P){return P.contains(C.target)}),_=I.length>0?s(C,I[0]):!a.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),u=yt.useCallback(function(h,C,w,k){var I={name:h,delta:C,target:w,should:k};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(_){return _!==I})},1)},[]),d=yt.useCallback(function(h){o.current=ih(h),n.current=void 0},[]),m=yt.useCallback(function(h){u(h.type,CE(h),h.target,s(h,e.lockRef.current))},[]),f=yt.useCallback(function(h){u(h.type,ih(h),h.target,s(h,e.lockRef.current))},[]);yt.useEffect(function(){return tu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",l,bc),document.addEventListener("touchmove",l,bc),document.addEventListener("touchstart",d,bc),function(){tu=tu.filter(function(h){return h!==i}),document.removeEventListener("wheel",l,bc),document.removeEventListener("touchmove",l,bc),document.removeEventListener("touchstart",d,bc)}},[]);var g=e.removeScrollBar,y=e.inert;return yt.createElement(yt.Fragment,null,y?yt.createElement(i,{styles:e4(r)}):null,g?yt.createElement(Db,{gapMode:"margin"}):null)}var m7e=yc(Gg,wE);c();var ch=x(O());c();var o4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ou=new WeakMap,ah=new WeakMap,sh={},zb=0,n4=function(e,t,o,n){var r=Array.isArray(e)?e:[e];sh[o]||(sh[o]=new WeakMap);var i=sh[o],a=[],s=new Set,l=new Set(r),u=function(m){!m||s.has(m)||(s.add(m),u(m.parentNode))};r.forEach(u);var d=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(f){if(s.has(f))d(f);else{var g=f.getAttribute(n),y=g!==null&&g!=="false",h=(ou.get(f)||0)+1,C=(i.get(f)||0)+1;ou.set(f,h),i.set(f,C),a.push(f),h===1&&y&&ah.set(f,!0),C===1&&f.setAttribute(o,"true"),y||f.setAttribute(n,"true")}})};return d(t),s.clear(),zb++,function(){a.forEach(function(m){var f=ou.get(m)-1,g=i.get(m)-1;ou.set(m,f),i.set(m,g),f||(ah.has(m)||m.removeAttribute(n),ah.delete(m)),g||m.removeAttribute(o)}),zb--,zb||(ou=new WeakMap,ou=new WeakMap,ah=new WeakMap,sh={})}},kE=function(e,t,o){o===void 0&&(o="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),r=t||o4(e);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),n4(n,r,o,"aria-hidden")):function(){return null}};c();var xE=x(O());var r4=vc(),i4=`
 [`+Zg+`] {
   pointer-events: none !important;
 }
`,OE=function(){return xE.createElement(r4,{styles:i4})};var xs=x(O()),_E=function(e){return"current"in e?e.current:e};function RE(e){var t=e.setLockProps,o=e.onEscapeKey,n=e.onClickOutside,r=e.shards,i=e.onActivation,a=e.onDeactivation,s=e.noIsolation,l=(0,xs.useState)(void 0),u=l[0],d=l[1],m=(0,xs.useRef)(null),f=(0,xs.useRef)(0);return ch.useEffect(function(){var g=function(w){w.defaultPrevented||(w.code==="Escape"||w.key==="Escape"||w.keyCode===27)&&o&&o(w)},y=function(w){w.defaultPrevented||w.target===m.current||w instanceof MouseEvent&&w.button!==0||r&&r.map(_E).some(function(k){return k&&k.contains(w.target)||k===w.target})||n&&n(w)},h=function(w){y(w),f.current=w.touches.length},C=function(w){f.current=w.touches.length};if(u)return document.addEventListener("keydown",g),document.addEventListener("mousedown",y),document.addEventListener("touchstart",h),document.addEventListener("touchend",C),function(){document.removeEventListener("keydown",g),document.removeEventListener("mousedown",y),document.removeEventListener("touchstart",h),document.removeEventListener("touchend",C)}},[u,n,o]),(0,xs.useEffect)(function(){if(u)return i&&i(u),function(){a&&a()}},[!!u]),(0,xs.useEffect)(function(){var g=function(){return null},y=!1,h=function(w){s||(g=kE(oS([w],(r||[]).map(_E)),document.body,Zg)),d(function(){return w})},C=function(){g(),y||d(null)};return t({onMouseDown:function(w){m.current=w.target},onTouchStart:function(w){m.current=w.target},onActivation:h,onDeactivation:C}),function(){y=!0,t(!1)}},[]),ch.createElement(OE,null)}var IE=yc(Yg,RE);var a4=function(e){return Md.createElement(IE,Wo({},e))},Wb=Md.forwardRef(function(e,t){return Md.createElement(F7,Wo({},e,{ref:t,sideCar:a4}))});z();var WE=x(zE());function VE(e){let t=Tn.useRef(null),[o,n]=tn(Hy),{medias:r,currentIndex:i}=o,a=()=>{n({medias:[],currentIndex:0})},s=()=>{n(d=>({...d,currentIndex:Math.max(d.currentIndex-1,0)}))},l=()=>{n(d=>({...d,currentIndex:Math.min(d.currentIndex+1,d.medias.length-1)}))},u=d=>{n(m=>({...m,currentIndex:d}))};return Bi({opened:r.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},t),wr(r.length?{Left:()=>s(),Right:()=>l()}:{},"all",[n,!r.length]),r.length?Tn.createElement(on,{ref:t},Tn.createElement(Wb,null,Tn.createElement(b,{style:ru.imagesZoonPortal},Tn.createElement(WE.default,{imageUrls:r.map(d=>({url:d.url})),index:i,renderIndicator:d=>Tn.createElement(b,{style:ru.indactor},Tn.createElement(b,{style:ru.indicatorElement}),Tn.createElement(b,{style:[ru.indicatorElement,v.alignCenter,v.justifyContentCenter]},Tn.createElement(A,{style:ru.indicatorText},`${d}/${r.length}`)),Tn.createElement(b,{style:[ru.indicatorElement,v.alignEnd,v.justifyContentCenter]},Tn.createElement(D,{icon:S.X,defaultTextStyle:{color:j.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>Tn.createElement(D,{icon:S.ChevronLeft,defaultTextStyle:{color:j.WHITE},onPress:()=>s()}),renderArrowRight:()=>Tn.createElement(D,{icon:S.ChevronRight,defaultTextStyle:{color:j.WHITE},onPress:()=>l()}),onChange:d=>u(d||0),onCancel:()=>a(),enableSwipeDown:!0})))):null}var ru=F.create({imagesZoonPortal:{position:"fixed",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:j.WHITE}});c();var qE=x(O());function FE(e){let t=al(),{navigate:o}=we(),n=ao(),r=x1(),i=R1(e),a=_1(e),s=mt(i),l=uy(a,"create-space"),u=uy(a,"create-collection")&&w4(e,r);return qE.default.useMemo(()=>({createSpace:l?async(d=!0)=>{let m=new Fr("startSpace",{sampleRate:1});m.label("User",t.uid),m.label("Owner type",e.user?"user":"organization"),m.label("Owner",e.user?e.user:e.organization),e.collection&&m.label("Collection",e.collection),m.label("Perm",a);let[{space:f},g]=by(y=>_S(y,{user:t.uid,owner:e,at:Zh(s.current.spaces),perm:a}));return m.wrapPromise(g),g.catch(y=>{n.notify({title:"Error while creating space",details:Ti(y),kind:"danger"})}),J(Gt(f,{type:"space_create"})),d&&o({screen:{type:"space",space:f.key,organization:f.organization,page:""}}),f}:void 0,createCollection:u?async(d=!0)=>{let m=new Fr("startCollection");m.label("User",t.uid),m.label("Owner type",e.user?"user":"organization"),m.label("Owner",e.user?e.user:e.organization),e.collection&&m.label("Collection",e.collection),m.label("Perm",a);let[f,g]=by(y=>hS(y,{title:"New Collection",owner:e,at:Zh(s.current.collections),createdBy:t.uid,perm:a}));return m.wrapPromise(g),J(mw(f,{type:"collection_create",collection:f.key,restricted:!1})),d&&o({screen:{type:"collection",collection:f.key,organization:f.organization}}),f}:void 0}),[e.user,e.collection,e.organization,t.uid,s,o,l,u])}function w4(e,t){let o=0,n=e.collection;for(;n;){let r=t.collections.find(i=>i.key===n);n=r?r.collection:void 0,o++}return o<gS}c();var jb=x(O());function GE(e){let{active:t=!0,interactive:o=!1,size:n,rating:r}=e,[,i]=R(x4),a=k4[r];return jb.createElement(B.View,{style:[i.ratingIcon,{width:n,height:n,borderRadius:n}],inactiveStyle:t?i[r]:i.inactiveButton,activeStyle:o?i[r]:null},jb.createElement(a.Child,{size:.75*n,activeStyle:o?i.activeIcon:null,style:t&&i.activeIcon}))}var k4={["ok"]:B.createInteractiveComponent(S.FeedbackOk),["good"]:B.createInteractiveComponent(S.FeedbackGood),["bad"]:B.createInteractiveComponent(S.FeedbackBad)},x4=L.create({ratingIcon:{borderRadius:E.BUTTON_S,alignItems:"center",justifyContent:"center"},inactiveButton:e=>({backgroundColor:e.colors.background.mid,color:e.colors.text.mid}),activeIcon:e=>({color:e.colors.primary.textInside}),["ok"]:e=>({backgroundColor:e.colors.warning.main}),["good"]:e=>({backgroundColor:e.colors.success.main}),["bad"]:e=>({backgroundColor:e.colors.danger.main})});c();var Dd=x(O());c();var or=x(O());z();function HE(e){let{sources:t,pickSource:o,withGitSyncAction:n,onClose:r}=e,[,i]=R(XE),{navigate:a}=we(),s=()=>{r(),a({screen:l=>l.type!=="space"?l:{sideSheet:{type:"gitsync"}}})};return or.createElement(Za,{size:"large",onClose:r,title:"Import your content",subtitle:"Choose a file type or platform below to get started importing your data.",footer:or.createElement(Gn,{icon:S.GitHub,kind:"default",title:"Need to stay in sync?",details:n?"Set up GitHub or GitLab Sync and link a repo for two-way syncing.":"Start a new space, set up GitHub or GitLab Sync, and link a repo for two-way syncing.",actions:n?[{label:"Set up now",onPress:s}]:void 0})},or.createElement(b,{style:[i.cardsWrapper]},t.map(({title:l,name:u,source:d,icon:m})=>or.createElement(O4,{key:l,title:u,onPress:()=>o(d),icon:m}))))}function O4(e){let{title:t,description:o,icon:n,onPress:r,style:i}=e,[,a]=R(N),[,s]=R(XE);return or.createElement(B.TouchableOpacity,{style:[v.directionRow,v.alignCenter,p.Padding.smallVertical,p.Padding.smallRight,s.importCard,i],onPress:r},or.createElement(b,{style:p.Margin.smallLeft},typeof n=="function"?or.createElement(n,{size:E.ICON_L}):or.createElement(Po,{source:n,style:s.importCardImage})),or.createElement(b,{style:p.Margin.smallLeft},or.createElement(b,null,or.createElement(B.Text.Child,{style:[a.Label,a.text],activeStyle:a.primary},t)),or.createElement(b,null,or.createElement(B.Text.Child,{style:[a.Body,a.textMuted],activeStyle:a.primary},o))))}var XE=L.create({importCard:e=>({borderWidth:1,borderColor:e.colors.border.main,borderRadius:4,flexShrink:0,flexGrow:0,flexBasis:"32%",padding:p.small,marginRight:p.small,marginBottom:p.small}),importCardImage:{width:E.ICON_L,height:E.ICON_L},cardsWrapper:{flexWrap:"wrap",flexDirection:"row",marginRight:-p.small}});c();var fh=x(O());c();var Lr=x(O());c();var nr=x(O());z();c();var Ci=x(O());z();c();var _s=x(O());z();function KE(e){let{fileIcon:t,files:o,setFiles:n}=e,[,r]=R(N),i=Ht(t,{style:r.primary},[t]),a=_s.useCallback(({item:s})=>{let l=()=>{n(u=>u.filter(d=>d.key!==s.key))};return _s.createElement(Ca,{layout:"wide",icon:i,title:s.file.name,buttons:[s.uploaded||s.failed?null:_s.createElement(Se,{size:E.ICON_M}),s.failed?_s.createElement(D,{tint:j.scarlet.base,icon:S.Alert,title:"Failed to upload. Please try again.",onPress:l}):null,_s.createElement(D,{icon:S.X,title:"Remove",onPress:l})]})},[t,n]);return _s.createElement(Zd,{data:o,renderItem:a})}function mh(e){let{getSpace:t,files:o,setFiles:n,fileIcon:r,fileExtension:i,limitWarning:a=!1,fileUploadsLimit:s=1/0}=e,[,l]=R(N),u=ao(),d=(y,h)=>{n(C=>C.map(w=>w.key===y?{...w,...h}:w))},m=async y=>{let h=await t();try{let C=await nw({kind:"space_import",space:h.key},y.file);d(y.key,{uploaded:C})}catch(C){throw u.notify({kind:"danger",title:"Error while uploading files",details:"Please try again or contact support if the problem persists.",icon:S.Alert}),d(y.key,{failed:!0}),C}},f=y=>{let h=[];for(let C of y){if(o.length>=s){u.notify({kind:"danger",title:"Cannot upload file",details:`You can only upload ${s} file for this operation`,timeout:5e3});break}if(C.size>209715200){u.notify({kind:"danger",title:`Your file must be less than ${Nu(209715200)}`,details:`Please try a different file that's below ${Nu(209715200)}`,timeout:5e3});continue}let w={key:pm(),file:C};h.push(w)}n(C=>C.concat(h)),h.forEach(C=>m(C))};return Ci.createElement(Ci.Fragment,null,Ci.createElement(b,null,Ci.createElement(fk,{icon:r,onDropFiles:f,onPress:async()=>{let y=await z1();f(y)},hint:`Drop your ${i} file here or choose a file`})),a?Ci.createElement(b,{style:p.Margin.smallTop},Ci.createElement(A,{style:[l.Caption,l.textMuted]},"GitBook has limits for imported content,"," ",Ci.createElement(Vi,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))):null,o.length>0?Ci.createElement(b,{style:[p.Margin.mediumTop]},Ci.createElement(KE,{fileIcon:r,files:o,setFiles:n})):null)}function Qi(e){let{getSpace:t,title:o,subtitle:n,fileIcon:r,fileExtension:i,steps:a=[],startImport:s,onClose:l,limitWarning:u=!1,fileUploadsLimit:d}=e,[,m]=R(N),[f,g]=nr.useState([]),h=f.some(w=>!w.uploaded)||f.length===0,C=async()=>{if(!h){let w=await t();s(f.map(k=>{var I;return(I=k.uploaded)==null?void 0:I.downloadURL}).filter(he),w)}};return nr.createElement(Za,{title:o,subtitle:n,footer:nr.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},nr.createElement(D,{kind:"secondary",onPress:l,style:p.Margin.smallRight},"Back"),nr.createElement(D,{kind:"primary",disabled:h,onPress:C},"Start import")),onClose:l},a.length>0?nr.createElement(b,{style:[p.Margin.mediumBottom]},a.map((w,k)=>nr.createElement(b,{key:k,style:[v.directionRow]},nr.createElement(b,{style:[p.Margin.smallRight]},nr.createElement(A,{style:[m.Body,m.textMid]},`${k+1}.`)),nr.createElement(b,{style:v.flex1},nr.createElement(A,{style:[m.Body,m.textMid]},w))))):null,nr.createElement(mh,{getSpace:t,files:f,setFiles:g,fileIcon:r,fileExtension:i,limitWarning:u,fileUploadsLimit:d}))}c();var Wt=x(O());z();c();var Si=x(O());z();function UE(e){let{url:t,setURL:o,placeholder:n="e.g: https://mysite.com/a_file",supportedFormats:r=[],validate:i=Gr}=e,[,a]=R(N),s=i(t);return Si.createElement(Si.Fragment,null,Si.createElement(b,null,Si.createElement(Kt,{size:"large",placeholder:n,value:t,cleareable:!0,onChangeText:o,feedback:t&&!s?{type:"danger",message:"URL is invalid. It must be a valid absolute URL starting with https:// or http://"}:{type:"none"}})),r.length>1?Si.createElement(b,{style:[p.Margin.smallTop,v.directionRow,v.alignCenter]},Si.createElement(b,null,Si.createElement(S.InfoCircle,{size:E.ICON_S,style:a.info})),Si.createElement(b,{style:[p.Margin.smallLeft,v.flex1]},Si.createElement(A,{style:[a.Caption,a.info]},`Supported formats: ${r.join(", ")}`))):null)}function YE(e){let{getSpace:t,title:o,subtitle:n,fileIcon:r,fileExtension:i,steps:a=[],startImport:s,onClose:l,limitWarning:u=!1,fileUploadsLimit:d}=e,[,m]=R(N),[f,g]=Wt.useState([]),[y,h]=Wt.useState(""),[C,w]=Wt.useState("files"),k=f.some(M=>!M.uploaded),I=M=>Gr(M),_=(k||f.length===0)&&(!y||!I(y)),P=async()=>{if(!_){let M=await t();s(C==="files"?f.map(T=>{var W;return(W=T.uploaded)==null?void 0:W.downloadURL}).filter(he):[y],M)}};return Wt.createElement(Za,{title:o,subtitle:n,footer:Wt.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},Wt.createElement(D,{kind:"secondary",onPress:l,style:p.Margin.smallRight},"Back"),Wt.createElement(D,{kind:"primary",disabled:_,onPress:P},"Start import")),onClose:l},a.length>0?Wt.createElement(b,{style:[p.Margin.mediumBottom]},a.map((M,T)=>Wt.createElement(b,{key:T,style:[v.directionRow]},Wt.createElement(b,{style:[p.Margin.smallRight]},Wt.createElement(A,{style:[m.Body,m.textMid]},`${T+1}.`)),Wt.createElement(b,{style:v.flex1},Wt.createElement(A,{style:[m.Body,m.textMid]},M))))):null,Wt.createElement(b,{style:[v.flex1,v.directionRow,v.alignCenter]},Wt.createElement($a,null,Wt.createElement($a.Tab,{active:C==="files",onPress:()=>w("files")},"Files"),Wt.createElement($a.Tab,{active:C==="url",onPress:()=>w("url")},"URL"))),Wt.createElement(b,{style:[v.directionColumn,p.Margin.smallTop]},C==="files"?Wt.createElement(mh,{getSpace:t,files:f,setFiles:g,fileIcon:r,fileExtension:i,limitWarning:u,fileUploadsLimit:d}):null,C==="url"?Wt.createElement(UE,{url:y,validate:I,setURL:h,placeholder:"https://myapi.io/swagger.yaml",supportedFormats:["JSON","YAML"]}):null))}c();var ph=x(O());function ZE(e,t){let{createSpace:o}=FE({organization:e}),n=ph.useRef();return ph.useCallback(async()=>{if(t)return n.current=t,Promise.resolve(t);if(n.current)return Promise.resolve(n.current);if(o)return n.current=await o(!1),n.current},[])}c();var No=x(O());z();function Ub(e){let{title:t="Import a Website",subtitle:o="Enter a link to a web page below to import it into your space.",onSubmit:n,onClose:r}=e,[i,a]=No.useState(""),[,s]=R(N),l=i?Gr(i):!1,u=()=>{l&&n(i)};return No.createElement(Za,{title:t,subtitle:o,footer:No.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},No.createElement(D,{kind:"secondary",onPress:r,style:p.Margin.smallRight},"Back"),No.createElement(D,{kind:"primary",onPress:u},"Start import")),onClose:r},No.createElement(b,{style:[p.Margin.smallBottom]},No.createElement(Sr,{label:"URL",labelDescription:"We\u2019ll crawl your site and pull in as much of your content as possible.",placeholder:"https://docs.mycompany.com",value:i,onChangeText:a,onSubmit:u,feedback:i?{type:l?"success":"danger",message:l?"":"URL is not valid"}:void 0})),No.createElement(b,{style:p.Margin.mediumBottom},No.createElement(A,{style:[s.Caption,s.textMuted]},"GitBook has limits for imported content,"," ",No.createElement(Vi,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))),i&&l?No.createElement(No.Suspense,{fallback:null},No.createElement(_4,{url:i})):null)}function _4(e){let{url:t}=e,[o]=qp(t);return o.data?No.createElement(b,{style:[p.Margin.mediumBottom]},No.createElement(Gi,{title:o.data.title,details:o.data.site,icon:Ke(qn,{source:{uri:o.data.icon||void 0}}),onPress:()=>{Sa(t)}})):null}function $E(e){let{sourceInfo:t,startImport:o,organization:n,space:r,setSource:i,onBack:a}=e,s=ZE(n,r),{source:l}=t!=null?t:{};if(t===void 0||l===void 0)return null;switch(l){case"website":return Lr.createElement(Ub,{title:t.title,subtitle:t.subtitle,onSubmit:async u=>{let d=await s();o([u],d)},onClose:()=>{i(null)}});case"github-wiki":return Lr.createElement(Ub,{title:t.title,subtitle:t.subtitle,onSubmit:async u=>{let d=await s();o([u],d)},onClose:()=>{i(null)}});case"docx":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"markdown":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"html":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"zip":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"dropbox-paper":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"google-docs":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"confluence":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"quip":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o});case"notion":return Lr.createElement(Qi,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,limitWarning:!0});case"open-api":return Lr.createElement(YE,{getSpace:s,title:t.title,subtitle:t.subtitle,steps:t.steps,fileIcon:t.fileIcon,fileExtension:t.fileExtension,onClose:a,startImport:o,fileUploadsLimit:1,limitWarning:!0});default:Oe(l)}}c();var Pe=x(O());z();c();var Yb="https://app.gitbook.com/public/app/assets/confluence-XZRVQN7T.png";var Zb="https://app.gitbook.com/public/app/assets/dropbox-paper-F627BIKK.png";var $b="https://app.gitbook.com/public/app/assets/google-docs-T6C75XLR.png";var Qb="https://app.gitbook.com/public/app/assets/openapi-H4Y5H3P5.png";var Jb="https://app.gitbook.com/public/app/assets/quip-SHLUXOMG.png";function QE(){let[e]=R(),[,t]=R(N),o=Ht(S.FileCode,{style:t.primary}),n=Ht(S.FileText,{style:{color:j.scarlet.light}}),r=Ht(S.FileWord,{style:{color:j.primary.light}}),i=Ht(S.FileCode,{style:{color:j.violet.light}}),a=Ht(S.FileZIP,{style:{color:j.orange.light}}),s=Ht(S.GitHub,{style:{color:e.colors.text.main}}),l=Ht(S.Notion,{style:{color:e.colors.text.main}}),u=Ht(qn,{source:{uri:Yb}}),d=Ht(qn,{source:{uri:Jb}}),m=Ht(qn,{source:{uri:Zb}}),f=Ht(qn,{source:{uri:$b}}),g=Ht(qn,{source:{uri:Qb}});return[{name:"Website",title:"Import a Website",subtitle:"Enter a link to a web page below to import it into your space.",source:"website",icon:o,type:"application"},{name:"Markdown",title:"Import a Markdown file",source:"markdown",icon:n,subtitle:"Drag and drop your .md file below to start the import.",fileIcon:S.FileText,fileExtension:".md",type:"file"},{name:"MS Word",title:"Import a Word document",source:"docx",icon:r,subtitle:"Drag and drop your .docx file below to start the import.",fileIcon:S.FileWord,fileExtension:".docx",type:"application"},{name:"HTML",title:"Import a HTML file",source:"html",subtitle:"Drag and drop your .html file below to start the import.",icon:i,fileIcon:S.FileCode,fileExtension:".html",type:"file"},{name:"ZIP",title:"Import a ZIP file",source:"zip",subtitle:"Drag and drop your .zip file below to start the import.",icon:a,fileIcon:S.FileZIP,fileExtension:".zip",type:"file"},{name:"Confluence",title:"Import from Confluence",icon:u,source:"confluence",type:"application",subtitle:"Export your space as ZIP to bring your content from Confluence.",fileExtension:".zip",fileIcon:S.FileZIP,steps:[Pe.createElement(Pe.Fragment,null,"Go to ",Pe.createElement(A,{style:[t.Bold,t.text]},"Space Settings")," for the space you're looking to export and select the"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"Content tools")," section."),Pe.createElement(Pe.Fragment,null,"Click on the ",Pe.createElement(A,{style:[t.Bold,t.text]},"Export")," tab, and select"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"HTML"),", then hit"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"Next, and Export"),"."),Pe.createElement(Pe.Fragment,null,"Choose ",Pe.createElement(A,{style:[t.Bold,t.text]},"Normal Export")," unless you want to choose specific pages to export.")]},{name:"Notion",title:"Import from Notion",icon:l,source:"notion",type:"application",subtitle:"Export your workspace as Markdown to bring your content from Notion.",steps:[Pe.createElement(Pe.Fragment,null,"Go to the Workspace you're looking to export and select the"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"\u2026")," button in the top right."),Pe.createElement(Pe.Fragment,null,"Choose ",Pe.createElement(A,{style:[t.Bold,t.text]},"Export All as Markdown"))],fileIcon:S.FileText,fileExtension:".md"},{name:"GitHub Wiki",title:"Import from GitHub Wiki",subtitle:"Enter a link to a GitHub Wiki below to import it into your space.",icon:s,source:"github-wiki",type:"application"},{name:"Quip",title:"Import from Quip",icon:d,source:"quip",fileIcon:S.FileText,fileExtension:".md",type:"application"},{name:"Dropbox Paper",title:"Import from Dropbox Paper",icon:m,source:"dropbox-paper",steps:[Pe.createElement(Pe.Fragment,null,`Click "\u2026" (ellipsis) in the Paper doc you're viewing.`),Pe.createElement(Pe.Fragment,null,"Click ",Pe.createElement(A,{style:[t.Bold,t.text]},"Export"),"."),Pe.createElement(Pe.Fragment,null,"Select ",Pe.createElement(A,{style:[t.Bold,t.text]},".docx")," and click"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"Download"),"."),Pe.createElement(Pe.Fragment,null,"Drag your downloaded files to the box below to import.")],fileIcon:S.FileWord,fileExtension:".docx",type:"application"},{name:"Google docs",title:"Import from Google Docs",icon:f,source:"google-docs",type:"application",subtitle:"Export your documents as .docx or webpage to bring your content from Google Docs.",steps:[Pe.createElement(Pe.Fragment,null,"Click on ",Pe.createElement(A,{style:[t.Bold,t.text]},"File ",">"," Download"),"."),Pe.createElement(Pe.Fragment,null,"Choose between ",Pe.createElement(A,{style:[t.Bold,t.text]},"Microsoft Word")," or"," ",Pe.createElement(A,{style:[t.Bold,t.text]},"Web Page"),".")],fileIcon:S.FileWord,fileExtension:".docx"},{name:"OpenAPI",title:"Import from OpenAPI",icon:g,source:"open-api",type:"application",subtitle:"Provide an OpenAPI specification file or URL to import your API.",fileIcon:S.FileText,fileExtension:".yaml or .json",fileUploadsLimit:1}]}function JE({target:e,onStartImport:t,onComplete:o,onBack:n}){let[r,i]=fh.useState(null),a=QE(),s=ao(),{page:l,space:u,changeRequest:d,organization:m}=e||{},f=C=>{C&&(u?J(Gt(u,{type:"edit_pick_import",source:C})):m&&J(dw(m,{type:"templates_pick_import",source:C}))),i(C)},g=async(C,w)=>{if(!r)return;let k=await ol(),I={url:C,source:r};return l&&d?k.spaces.importContentInChangeRequestPageById(w.key,d.key,l,I):l?k.spaces.importContentInPageById(w.key,l,I):d!=null&&d.key?k.spaces.importContentInChangeRequest(w.key,d.key,I):k.spaces.importContent(w.key,I)},y=async(C,w)=>{if(r){J(pw(w,void 0,{type:"edit_import",source:r})),t?t(w):n();try{(await s.notifyProgress(Promise.all(C.map(async _=>{let P=await g(_,w);return P?P.data:void 0})),{title:"Importing docs",details:"We are importing your docs, this might take a while."})).some(_=>_&&_.totalResources!==_.importedResources)?s.notify({kind:"warning",title:"Incomplete import",timeout:0,icon:S.Alert,details:"Some of your docs were not imported due to file limits, try splitting them into several imports."}):(s.notify({icon:S.CheckCircle,kind:"success",title:"Imported docs",details:"Docs have been successfully imported. Enjoy!"}),o&&o(w))}catch(k){throw s.notify({kind:"danger",title:"Error while importing docs",details:Ti(k,"Please try again or contact support if the problem persists."),icon:S.Alert}),k}}},h=a.find(({source:C})=>C===r);return{modals:fh.createElement($E,{sourceInfo:h,startImport:y,space:u,organization:m,setSource:i,onBack:n}),source:r,sources:a,onSelectSource:f}}function e6(e){let{target:t,onStartImport:o,onComplete:n,onClose:r}=e,{modals:i,source:a,sources:s,onSelectSource:l}=JE({onStartImport:u=>{o?o(u):r()},onComplete:n,onBack:()=>l(null),target:t});return Dd.createElement(Dd.Fragment,null,a?i:Dd.createElement(HE,{withGitSyncAction:!!t.space,sources:s,pickSource:l,onClose:r}))}c();var n6=x(O());function r6(e){let t=wa.read(e);return n6.useMemo(()=>M4(t),[t])}function M4(e){let t=up(e,L4),o=[],n=new Set,r=new Map,i=s=>{let l=s[s.length-1];if(!l)return null;let u=r.get(o6(l));return u===void 0?i(s.slice(0,-1)):u},a=s=>{if(n.has(s.key)){let u=o.findIndex(d=>d.key===s.key);o.splice(u,1,s);return}n.add(s.key);let l=i(s.groups)||o.length;o.splice(l,0,s),s.groups.forEach(u=>{let d=o6(u);r.set(d,Math.max(l+1,r.get(d)||0))}),r.forEach((u,d)=>{u>l&&r.set(d,u+1)})};return t.forEach(s=>{if(s)switch(s.type){case"page":case"collection":case"space":{a(s);break}case"section":{i([s.groups[s.groups.length-1]])===null&&a(N4(s.space,s.revision,s.page)),a(s);break}default:Oe(s)}}),o}function L4(e){switch(e.index){case"spaces":return{type:"space",key:`space:${e.object.objectID}`,title:e.object._highlightResult.title.value||e.object.title,space:e.object,groups:[]};case"collections":return{type:"collection",key:`space:${e.object.objectID}`,title:e.object._highlightResult.title.value||e.object.title,collection:e.object,groups:[]};case"pages":{let t=t6(e.object.space,e.object.page);return t?{type:"page",key:`page:${t.space.key}:${t.page.key}`,title:e.object._highlightResult.title.value||e.object.title,path:He(t.revision,t.page.key),space:t.space,revision:t.revision,page:t.page,ancestors:Lc(t.revision,t.page.key),groups:eC(t.space,t.revision,t.page)}:null}case"sections":{let t=t6(e.object.space,e.object.page);return t?{type:"section",key:`section:${e.object.objectID}`,title:e.object.title,body:e.object._highlightResult.body.value||e.object.body,space:t.space,revision:t.revision,page:t.page,path:He(t.revision,t.page.key),anchor:e.object.anchor,groups:[...eC(t.space,t.revision,t.page),{type:"page",space:t.space,page:t.page}]}:null}default:throw new Error(`Unknown search entry type: ${e.index}`)}}function N4(e,t,o){return{type:"page",key:`page:${e.key}:${o.key}`,title:o.title,path:He(t,o.key),space:e,revision:t,page:o,ancestors:Lc(t,o.key),groups:eC(e,t,o)}}function t6(e,t){var i,a;let o=(i=il([ho(e)])[0])==null?void 0:i.result,n=o?(a=lp([{space:o.key,revision:o.revision}])[0])==null?void 0:a.result:null,r=n?n.pages[t]:null;return!r||!o||!n?null:{space:o,revision:n,page:r}}function eC(e,t,o){var i;let n=Lc(t,o.key),r=((i=n[0])==null?void 0:i.kind)==="group"?n[0]:null;return[{type:"space",space:e},...r?[{type:"page",space:e,page:r}]:[]]}function o6(e){switch(e.type){case"space":return`space:${e.space.key}`;case"page":return`page:${e.space.key}:${e.page.key}`}}c();var i6=x(O());var D4=5,a6=eo({key:"recentSearches",default:[],effects:[Jc.recoilEffect("@recoil/recentSearches",[])]});function s6(){return pr(a6)}function c6(e){let t=ia(a6);i6.useEffect(()=>{if(!e)return;let o=setTimeout(()=>{t(n=>n.includes(e)?n:[e,...n.slice(0,D4-1)])},3e3);return()=>clearTimeout(o)},[e])}c();var et=x(O());c();var tC=JSON.parse('{"loadingDelayedText":"loadingDelayedText_WVBF7","loadingDelayedTextVisible":"loadingDelayedTextVisible_y5onq"}');c();var Nr=x(O());c();var l6=JSON.parse('{"aiAnswerFooter":"aiAnswerFooter_UeG4c"}');c();var wc=x(O());function u6(e){let{answer:t,singleSpace:o}=e,{navigate:n}=we(),r=wc.useMemo(()=>A4(t,o),[t,o]),i=wc.useCallback(s=>{switch(J({type:"ai_search_open_source"}),s.type){case"space":n({screen:{type:"space",space:s.space.key,organization:s.space.organization,page:""}});break;case"page":n({screen:{type:"space",space:s.space.key,organization:s.space.organization,page:s.path}});break;default:Oe(s)}},[n]),a=wc.useCallback(s=>{switch(s.type){case"space":return{icon:Tw(Ke(bo,{code:aw(s.space)})),title:s.space.title||ca,action:"Go to space"};case"page":return{icon:S.Page.CSS,title:s.page.title,subtitle:s.ancestors.filter(l=>l.key!==s.page.key).map(l=>l.title).join(" \u203A "),nested:!o,action:"Go to page"};default:Oe(s)}},[o]);return wc.createElement(es,{data:r,getKey:B4,renderItem:a,onOpen:i})}function A4(e,t){let o=new Map;return up(e.pages,n=>{var u,d;let r=(u=il([ho(n.space)])[0])==null?void 0:u.result;if(!r)return null;let i=(d=lp([{space:r.key,revision:r.revision}])[0])==null?void 0:d.result;if(!i)return null;let a=i.pages[n.page];if(!a||a.kind!=="sheet")return null;let s=Lc(i,a.key),l=o.get(r.key)||[];l.length===0&&!t&&l.push({type:"space",space:r}),l.push({type:"page",space:r,page:a,ancestors:s,path:He(i,a.key)}),o.set(r.key,l)}),Array.from(o.values()).flat()}function B4(e){switch(e.type){case"space":return`space:${e.space.key}`;case"page":return`page:${e.space.key}/${e.page.key}`;default:Oe(e)}}function d6(e){let{answer:t,singleSpace:o}=e,[n,r]=Nr.useState(!1),i=re();return Nr.createElement(pe,{style:[ee.flex.column,ee.padding.mediumHorizontal,ee.padding.mediumVertical,l6.aiAnswerFooter]},Nr.createElement(pe,{style:[ee.flex.row]},Nr.createElement(pe,{style:[ee.flex.flex1]},Nr.createElement(D,{size:"small",rightIcon:n?S.ChevronDown:S.ChevronRight,onPress:()=>{r(!n)}},i("search_answer_sources",`${t.pages.length}`)))),n?Nr.createElement(pe,{style:ee.margin.mediumTop},Nr.createElement(Nr.Suspense,{fallback:Nr.createElement(Xt,{size:"medium"})},Nr.createElement(u6,{answer:t,singleSpace:o}))):null)}c();var Ji=x(O());function m6(e){let{query:t,answer:o}=e,[n,r]=Ji.useState(!1),i=ao(),a=Km(),s=re(),l=()=>{a.writeTextAndNotify(o.text)},u=()=>{J({type:"ai_search_upvote_answer",query:t,answer:o.text}),r(!0),i.notify({icon:S.ThumbsUp,title:s("search_answer_feedback_title"),details:s("search_answer_feedback_details")})},d=()=>{J({type:"ai_search_downvote_answer",query:t,answer:o.text}),r(!0),i.notify({icon:S.ThumbsUp,title:s("search_answer_feedback_title"),details:s("search_answer_feedback_details")})};return Ji.createElement(pe,{style:[ee.flex.row]},Ji.createElement(D,{size:"small",title:s("search_answer_copy"),icon:S.Copy,onPress:l}),n?null:Ji.createElement(Ji.Fragment,null,Ji.createElement(D,{size:"small",icon:S.ThumbsUp,title:s("search_answer_feedback_upvote"),onPress:u,style:p.Margin.xsmallLeft}),Ji.createElement(D,{size:"small",icon:S.ThumbsDown,title:s("search_answer_feedback_downvote"),onPress:d,style:p.Margin.xsmallLeft})))}c();var nC=x(O());c();var oC=JSON.parse('{"aiSearchSpinner":"aiSearchSpinner_cTH2Q","aiSearchSpinnerAnim":"aiSearchSpinnerAnim_75OX-","aiSearchSpinnerIcon":"aiSearchSpinnerIcon_MOqIL"}');function p6(e){let{size:t=E.ICON_L}=e;return nC.createElement(pe,{style:oC.aiSearchSpinner,inlineStyle:{width:t,height:t}},nC.createElement(S.AILens.CSS,{style:oC.aiSearchSpinnerIcon}))}function f6(e){let{query:t,target:o}=e,n=et.useCallback((r,i,a)=>{J(o.space?Gt(o.space,{type:"ai_search_crash",query:t}):{type:"ai_search_crash",query:t})},[t]);return et.createElement(nm,{fallback:()=>et.createElement(q4,null),onError:n},et.createElement(et.Suspense,{fallback:et.createElement(W4,null)},et.createElement(z4,{...e})))}function z4(e){let{target:t,query:o,onAnswerLoaded:n}=e,r=m1(t.space?{operationId:"askQueryInSpace",params:{spaceId:t.space.key},query:{query:o}}:{operationId:"askQuery",params:{},query:{query:o}}),{answer:i}=r.data;return et.useEffect(()=>{J(t.space?Gt(t.space,{type:"ai_search_view_answer",query:o,hasAnswer:!!i}):{type:"ai_search_view_answer",query:o,hasAnswer:!!i})},[o,!!i,t.space]),et.useEffect(()=>{i&&(n==null||n())},[i,n]),i?et.createElement(pe,{style:[ee.flex.column]},et.createElement(pe,{style:[ee.flex.column,ee.padding.large]},et.createElement(pe,{style:[ee.flex.row,ee.margin.mediumBottom]},et.createElement(pe,{style:[ee.margin.mediumRight,ee.flex.flex1]},et.createElement(Hn,{style:[ee.text.heading2,ee.textColor.main]},o)),et.createElement(pe,{style:ee.margin.smallRight},et.createElement(m6,{query:o,answer:i}))),et.createElement(el,{markdown:i.text})),et.createElement(d6,{query:o,answer:i,singleSpace:!!t.space})):et.createElement(V4,null)}function W4(e){let[t,o]=et.useState(!1),n=re();return et.useEffect(()=>{let r=setTimeout(()=>{o(!0)},3e3);return()=>{clearTimeout(r)}},[]),et.createElement(Wi,{size:"small",icon:p6,title:n("search_answer_loading")},et.createElement(Hn,{style:[tC.loadingDelayedText,t&&tC.loadingDelayedTextVisible]},n("search_answer_loading_wait")))}function V4(e){let t=re();return et.createElement(Wi,{size:"small",title:t("search_answer_none_title")},t("search_answer_none_details"))}function q4(e){let t=re();return et.createElement(Wi,{size:"small",icon:S.Alert,title:t("search_answer_error_title")},t("search_answer_error_details"))}c();var g6=x(O());function gh(e){let t=p1(e===null?null:e.space?{operationId:"getRecommendedQuestionsInSpace",params:{spaceId:e.space.key},query:{}}:{operationId:"getRecommendedQuestions",params:{},query:{},body:{documents:e.documents}});return g6.useMemo(()=>t?t.data.questions.map(o=>({type:"recommended-question",question:o})):[],[t])}c();var F4=x(O());var G4=eo({key:"recentAISearches",default:[],effects:[Jc.recoilEffect("@recoil/recentAISearches",[])]});function hh(){return pr(G4)}c();var Da=x(O());function h6(e){let{allowEnterToOpen:t,target:o,onSubmitAIQuery:n}=e,r=re(),i=hh(),a=gh(o),s=Da.useCallback(m=>{switch(m.type){case"recent-search":return{icon:S.Search.CSS,title:m.query,action:r("search_ask")};case"recommended-question":return{icon:S.AILens.CSS,title:m.question,action:r("search_ask")};default:Oe(m)}},[r]),l=Da.useCallback(m=>{switch(m){case"recent-search":return{title:r("search_blankslate_recent_questions")};case"recommended-question":return{title:r("search_blankslate_recommended_questions")};default:return}},[r]),u=(m,f)=>{switch(m.type){case"recent-search":{n(m.query),J({type:"ai_search_pick_suggestion_recent_search",suggestionIndex:f});break}case"recommended-question":J({type:"ai_search_pick_suggestion_question"}),n(m.question);break;default:Oe(m)}},d=Da.useMemo(()=>[...i.map(f=>({type:"recent-search",query:f})),...a],[i,a]);return d.length===0?Da.createElement(Wi,null,r("search_blankslate_ai")):Da.createElement(pe,{style:[ee.flex.flex1,ee.flex.column]},Da.createElement(es,{data:d,getKey:H4,renderItem:s,renderGroup:l,groupItem:X4,getGroupKey:K4,onOpen:u,style:[ee.padding.mediumHorizontal,ee.padding.mediumVertical],allowEnterToOpen:t}))}function H4(e){switch(e.type){case"recent-search":return`recent-search:${e.query}`;case"recommended-question":return`recommended-question:${e.question}`;default:Oe(e)}}function X4(e){return e.type}function K4(e){return e}c();c();c();var rr=x(O());c();var rC=x(O()),y6=rC.createContext(()=>{}),j4=rC.createContext([]);c();var U4=Ls();function v6(){let e=al();return iC(e.uid)}function iC(e){return`${e}-${U4}`}c();var b6=x(O());function C6(){return b6.useContext(y6)}c();var kc=x(O());var Y4=kc.createContext({updateRevision:()=>{throw new Error("useUpdateRevision was called outside the UpdateRevisionProvider")},notifyEditing:()=>{throw new Error("useNotifyEditing was called outside the UpdateRevisionProvider")}});function Vt(){let e=kc.useContext(Y4);if(!e)throw new Error("useUpdateRevision was called outside the UpdateRevisionProvider");return e.updateRevision}c();var uC=x(O());c();c();var Z4=$e("edits"),S6=({onSet:e})=>{e(t=>{Z4.debug("state",t)})};c();c();function iu(e,t,o,n,r){var l,u,d,m,f,g;let i=(u=(l=e[t])==null?void 0:l[o])==null?void 0:u.pages[n],a=typeof r=="function"?r(i):r;function s(y){var h;return{...e,[t]:{...e[t],[o]:{...(h=e[t])==null?void 0:h[o],pages:y}}}}if(a===void 0){let y={...(m=(d=e[t])==null?void 0:d[o])==null?void 0:m.pages};return delete y[n],s(y)}return s({...(g=(f=e[t])==null?void 0:f[o])==null?void 0:g.pages,[n]:a})}function au(e,t,o=()=>!0,n=()=>!0){for(let r in e)if(o(r)){for(let i in e[r])if(n(r,i)){for(let a in e[r][i].pages)if(t(r,i,a,e[r][i].pages[a])===!1)return}}}function Ad(e,t,o,n){var r,i;return(i=(r=e[t])==null?void 0:r[o])==null?void 0:i.pages[n]}function ri(e){return!e.initialSheet||!e.value?!1:!e.initialSheet.value.document.equals(e.value.document)}function k6(e,t,o,n){let r=e?ri(e):!1,a={initialSheet:e!=null&&e.initialSheet&&r&&e.initialSheet.beforeSaveKey===n?e.initialSheet:{key:n,value:o},value:t,save:e==null?void 0:e.save,restored:r||e==null?void 0:e.restored,modifiedOnce:(e==null?void 0:e.modifiedOnce)||!1};return a.modifiedOnce=a.modifiedOnce||ri(a),a}function aC(e,t){return Boolean(e.restored&&e.restored.initialSheetKey===t)}function x6(e,t,o){return e.restored?{initialSheet:{key:o,value:t},value:e.restored.value,restored:void 0,modifiedOnce:!0}:e}function O6(e){if(!e.restored)return e}function _6(e,t){if(!e.value)throw new Error("Cannot mark a page as saved without a value");return{initialSheet:t,value:e.value,save:"saved",modifiedOnce:e.modifiedOnce}}var w6=new WeakMap;function Bd(e,t=void 0){if(!t){let r=w6.get(e);if(r)return r}let o=new Set;au(e,(r,i,a,s)=>{if(s.save==="failed")return o.add("crashed"),!1;s.save==="saving"?o.add("saving"):ri(s)?o.add("modified"):s.save==="saved"&&o.add("saved")},r=>!t||t.spaceKey===r,(r,i)=>!t||t.spaceKey===r&&(t.changeRequestKey||"root")===i);let n="untouched";return o.has("crashed")?n="crashed":o.has("modified")?n="modified":o.has("saving")?n="saving":o.has("saved")&&(n="saved"),t||w6.set(e,n),n}var zd=$e("edits:backup"),sC=new Cw("edits-backup");sC.version(1).stores({pages:"++id"});var yh=sC.table("pages"),R6=qm(2e3,{maxWait:1*60*1e3,concurrent:!1}),I6=({setSelf:e,onSet:t})=>{t((o,n)=>{let r=Bd(n instanceof ii?{}:n),i=Bd(o);r!==i&&zd.debug("status is going from",r,"to",i);let a=()=>Q4(o);i==="saved"&&r!=="saved"?(R6.cancel(),a()):R6(a)}),e($4())};async function $4(){let e={},t=await yh.limit(200).toArray();if(t.length===0)return zd.info("No backups stored"),e;zd.info(`Loading ${t.length} backup pages: ${t.map(n=>n.pageKey).join(",")}`);let o=new Fr("edits:load-backup",{sampleRate:1});return o.label("Entries",t.length),o.wrapSync(()=>(t.forEach(n=>{let r;try{let i=PS(JSON.parse(n.value));if(gm.isValue(i))r=i;else throw new Error("invalid JSON in local database, not an editor value")}catch(i){zd.warning("Error while reading entry from edits backup database:",i);return}e=iu(e,n.spaceKey,n.changeRequestKey,n.pageKey,{modifiedOnce:!1,restored:{value:r,initialSheetKey:n.initialSheetKey}})}),e))}async function Q4(e){let t=new Fr("edits:flush-backup");await t.wrap(async()=>{let o=[];au(e,(n,r,i,a)=>{if(ri(a)&&a.value){let s=FS(a.value);o.push({spaceKey:n,changeRequestKey:r,pageKey:i,value:JSON.stringify(ty(s)),initialSheetKey:a.initialSheet.key})}else a.restored&&o.push({spaceKey:n,changeRequestKey:r,pageKey:i,value:JSON.stringify(ty(a.restored.value)),initialSheetKey:a.restored.initialSheetKey})}),t.label("Entries",o.length),await sC.transaction("rw",yh,async n=>{await yh.clear(),o.length>0&&await yh.bulkPut(o)}),zd.info(`Backup ${o.length} pages: (${o.map(n=>n.pageKey).join(", ")})`)})}c();c();var vh=60*1e3;function P6(e,t,o){let n=M1(fp(e,t||"root",o)),r=_w(vh),i=v6();return n&&n.participantId!==i&&n.lockedAt>r-vh?n:null}var E6=$e("edits:lock"),T6=({onSet:e})=>{let t=new Map,o=new Map,n=(r,i,a,s)=>{let l=fp(r,i,a),{currentUser:u}=fr.auth();if(!u)return;let d=u.uid,m=iC(d);if(s){let f=0,g=()=>{f+=1;let h={userId:d,participantId:m,lockedAt:Date.now()};E6.info(`Locking page ${r}/${i}/${a} for ${m} (${f})`,h),l.set(h)};if(g(),!t.has(l.toString())){let h=l.onDisconnect();h.remove(),t.set(l.toString(),h)}let y=setInterval(()=>{g()},vh/2);o.set(l.toString(),y)}else{E6.info(`Removing lock for page ${r}/${i}/${a} for ${m}`),l.transaction(y=>y&&y.participantId!==m?y:null);let f=t.get(l.toString());f&&(f.cancel(),t.delete(l.toString()));let g=o.get(l.toString());g&&(clearInterval(g),o.delete(l.toString()))}};e((r,i)=>{au(r,(a,s,l,u)=>{let d=Ad(i instanceof ii?{}:i,a,s,l),m=ri(u),f=d?ri(d):!1;m!==f&&n(a,s,l,m)}),au(i instanceof ii?{}:i,(a,s,l)=>{Ad(r,a,s,l)||n(a,s,l,!1)})})};c();var su=$e("edits:save"),J4=qm(5e3,{maxWait:3*60*1e3,concurrent:!1}),M6=({onSet:e,setSelf:t})=>{e(o=>{J4(()=>eA(o,t))})};async function eA(e,t){let o=Object.entries(e).flatMap(([n,r])=>Object.entries(r).flatMap(([i,a])=>{let s=[],l=Object.entries(a.pages).filter(([d,m])=>ri(m));if(l.length===0)return;l.forEach(([d])=>{s.push([n,i,d])}),t(d=>cC(e,d instanceof ii?{}:d,s,"saving"));let u=i==="root"?void 0:i;return tA(n,u,l).then(d=>(t(m=>cC(e,m instanceof ii?{}:m,s,"saved",d.sheets)),[n,u,d.revision]),()=>(t(d=>cC(e,d instanceof ii?{}:d,s,"failed")),[n,u,null]))})).filter(he);return o.length===0?[]:await Promise.all(o)}function cC(e,t,o,n,r=new Map){let i={...t};return o.forEach(([a,s,l])=>{i=iu(i,a,s,l,u=>{if(!u)return;let d=Ad(e,a,s,l);if(!d||!d.value||!u.value)return;let m=r.get(l);if(n==="saved"){if(!m){su.warning(`Could not find sheet for page ${a}/${s}/${l}. Page was probably deleted, removing it from state.`);return}return _6(u,m)}return d.value.document!==u.value.document?u:{...u,save:n}})}),i}async function tA(e,t,o){let{currentUser:n}=fr.auth(),r=new Fr("edits:saveSpace",{sampleRate:1});r.label("Space",e),r.label("Change Request",t),r.label("Pages",o.length);let i=new Map;try{if(!n)throw new Error(`Attempted to save locally changed space ${e} ${t?`with change request ${t} `:""}but user is not logged in`);let a=await r.wrap(async()=>(su.info(`starting save of ${o.length} pages in space ${e} ${t?`(change request: ${t}) `:""}`),B1(e,t,(s,l)=>{o.forEach(([u,d])=>{br(s,u,m=>{if(m.kind!=="sheet"||!d.value)return m;let f=GS({document:d.value.document,users:[n.uid],revision:s.key,page:u});return f.previous=m.sheet,HS(l,e,f),su.debug("Updating page",u,"with sheet",f.key),d.initialSheet.key!==m.sheet&&su.warning(`sheet in page "${u}" has been modified since the edits started, expected sheet "${d.initialSheet.key}" but got "${m.sheet}". Potential changes will be replaced.`),i.set(u,{key:f.key,beforeSaveKey:m.sheet,value:d.value}),{...m,sheet:f.key}})})})));return su.info(`Saved ${o.length} page(s) (${o.map(s=>s[0]).join(", ")}) to new revision ${a.key} in ${t?`change request ${t} in `:""}space ${e}`),{sheets:i,revision:a}}catch(a){throw su.error(`Couldn't save ${o.length} locally stored pages (${o.map(s=>s[0]).join(", ")}) in ${t?`change request ${t} in `:""}space ${e}`,a.stack),a}}var bh=eo({key:"globalPageEditsAtom",default:{},effects:[M6,I6,T6,S6]}),L6=em({key:"pageEditsSelector",get:([e,t,o])=>({get:n})=>{var i,a;return(a=(i=n(bh)[e])==null?void 0:i[t])==null?void 0:a.pages[o]},set:([e,t,o])=>({set:n},r)=>{r instanceof ii||n(bh,i=>iu(i,e,t,o,r))}});c();var oA=em({key:"editsStatusSelector",get:e=>({get:t})=>{let o=t(bh);return Bd(o,e)}});function N6(e){return pr(oA(e))}c();var Vd=x(O());c();var Ch=x(O());var Wd=Ch.createContext({baseRevision:null,pages:[],diffs:new Map,diffMode:null});c();var D6=x(O());function A6(e){let t=Object.keys(e.integrations||{}).sort(),o=Xn(t.map(n=>Xc(n)));return D6.useMemo(()=>{let n={};return o.forEach(r=>{r&&(n[r.name]=(r.blocks||[]).map(i=>({...i,icon:i.icon||r.iconURL})))}),n},[...o])}c();var xc=x(O());var B6=xc.createContext({pages:[],setContentDiffPage:e=>{}});function Sh(e,t,o=!1){let{diffs:n,diffMode:r}=Vd.useContext(Wd),i=r==="full"?n.get(t.key):null,a=(i==null?void 0:i.type)==="modified"&&i.before.page.kind==="sheet"?i.before.page.sheet:null,s=cx(t.sheet?{spaceKey:e,sheetKey:t.sheet}:null,`${e}-${t.key}`);if(t.sheet&&!s)throw new Error(`Sheet "${t.sheet}" not found`);let[l]=qy([a?{spaceKey:e,sheetKey:a}:null]);if(a&&!l)throw new Error(`Original sheet "${a}" not found`);return[Vd.useMemo(()=>{let d=o&&!i?"conflicts":"document",m=s?lC(s,d):ay(t.key);if(i){let f=l?lC(l,d):ay(t.key);return gm.create({document:NS(f.document,m.document)})}return m},[s,t.key,i,l,o]),s]}function W6(e,t){let{baseRevision:o,diffMode:n}=Vd.useContext(Wd),r=n==="quick"?o==null?void 0:o.pages[t.key]:null,i=r&&r.kind==="sheet"?r.sheet:null,[a]=qy([i?{spaceKey:e,sheetKey:i}:null]);if(i&&!a)throw new Error(`Original sheet "${i}" not found`);if(n!==null)return a?lC(a,"document"):null}var z6=new WeakMap;function lC(e,t){let o=t!=="conflicts",n=z6.get(e),r=o&&n?n:Fc(e.body,t);if(o&&z6.set(e,r),yr(r.document)){let i=r.change();return i.focus(),i.value}return r}var qd=$e("edits:page");function V6({revision:e,changeRequest:t,page:o,analyticsContext:n}){let r=ao(),[i,a]=Sh(e.space,o,e.conflicts&&o.key in e.conflicts.pages),s=N6({spaceKey:e.space,changeRequestKey:(t==null?void 0:t.key)||null}),[l,u]=tn(L6([e.space,(t==null?void 0:t.key)||"root",o.key]));uC.useEffect(()=>{var y,h;if(!(l!=null&&l.restored))return;let f=()=>{u(C=>C&&x6(C,i,a==null?void 0:a.key))},g=()=>{u(C=>C&&O6(C))};if(aC(l,a==null?void 0:a.key))qd.info(`performing a fast-forward restore on sheet ${(h=l==null?void 0:l.restored)==null?void 0:h.initialSheetKey}`),f(),r.close("restore-page-edits"),r.notify({id:"restore-page-edits",kind:"info",title:"Previous session restored",details:"We\u2019ve automatically restored the latest unsaved changes you've made.",timeout:3500});else{qd.info(`user has changes made against sheet ${(y=l==null?void 0:l.restored)==null?void 0:y.initialSheetKey} that cannot be fast-forwarded as current sheet is ${a==null?void 0:a.key}. prompting user for their desired action`);let C=r.notifyOrUpdate({id:"restore-page-edits",kind:"info",title:"Unsaved changes found",details:"We have found unsaved changes you've previously made on this page. Restoring these changes will overwrite the current content. Would you like to restore them?",timeout:0,actions:[{label:"Restore",onPress:()=>{qd.info("user restored changes from the non-fast-forward backup"),f(),C()}},{label:"Discard",onPress:()=>{qd.info("user discarded changes from the non-fast-forward backup"),g(),C()}}]});return C}},[l,i,a,u,r]);let[d,m]=nA(l,i,a==null?void 0:a.key);return uC.useEffect(()=>{qd.info(`resolved page value with resolution ${m}`)},[m]),{value:d,onChange:f=>{u(g=>{let y=k6(g,f.value,i,a==null?void 0:a.key);return y.modifiedOnce&&!(g!=null&&g.modifiedOnce)&&J({...n,page:o.key,type:"edit_page_document_start",collaborators:0}),y})},crashed:s==="crashed"}}function nA(e,t,o){var n;if(!e)return[t,"no-local-edits-or-backup"];if(ri(e)){if(!e.value)throw new Error("Should never be modified and value being null");return[e.value,"local-edits"]}return!e.value&&e.restored?aC(e,o)?[e.restored.value,"backup-fast-forward"]:[t,"backup-no-ff"]:e.value&&((n=e.initialSheet)==null?void 0:n.beforeSaveKey)===o?[e.value,"local-no-edits-post-save"]:e.value?[t.merge({history:e.value.history,decorations:e.value.decorations,selection:e.value.selection.normalize(t.document)}),"local-no-edits-selection-only"]:[t,"local-no-edits"]}var rA=B.createInteractiveComponent(S.EmojiReaction);function q6(e){let{analyticsContext:t,page:o,size:n,readOnly:r=!0}=e,i=rr.useRef(null),[,a]=R(N),s=Vt(),[l,u]=Vn(),d=async m=>{var f;(f=i.current)==null||f.close(),m!==o.emoji&&(await u(()=>s(g=>{br(g,o.key,{emoji:m})})),J({...t,...m?{type:"edit_pick_page_emoji",pageKind:o.kind,emoji:m}:{type:"edit_remove_page_emoji",pageKind:o.kind}}))};return r?o.emoji?rr.createElement(bo,{code:o.emoji,size:n}):null:rr.createElement(Ka,{ref:i,wrapper:jr,anchor:({ref:m,opened:f,toggle:g})=>rr.createElement(B.TouchableOpacity,{ref:m,onPress:g},l?rr.createElement(Se,{size:n}):rr.createElement(rr.Fragment,null,o.emoji?rr.createElement(bo,{code:o.emoji,size:n}):rr.createElement(rA.Child,{size:n,style:f?a.textMid:a.textMuted,activeStyle:a.textMid})))},rr.createElement(nn,{kind:"wide",preferredAlignment:"middle"},rr.createElement(Ap,{onPick:d,onRemove:o.emoji?()=>d(void 0):void 0})))}c();var se=x(O());z();c();var wi=x(O());z();c();function F6(e){let{screen:t}=qi(),[,o]=R(iA),n=pr(Gy);if(!e)return null;let r=t.type==="space"&&t.comments?t.comments.node:null,i=n&&n.highlighting&&n.node!==r?n.node:null;return r===e?o.highlightOpened:i===e?o.highlightHovered:null}var iA=L.create({container:{position:"relative"},highlightHovered:e=>({backgroundColor:e.colors.background.muted}),highlightOpened:(e,t)=>({backgroundColor:t.color==="light"?j.primary.xxxlight:e.colors.background.muted})});c();var ea=x(O());z();var G6=x(Nw());var H6=e=>{let{nodeKey:t,visible:o,buttonSize:n,style:r,shortcutsActive:i}=e,a=ea.useContext(Uy),{navigate:s}=we(),l=ea.useMemo(()=>a(t),[t]),u=(0,G6.useSubscription)(l),d=ea.useMemo(()=>(u!=null?u:[]).reduce((C,w)=>{let k=Object.values(w.replies).reduce((I,_)=>I+_.count,0);return 1+C+k},0),[u]),m=d>0,f=u==null?void 0:u[0],g=()=>{var C;f&&s({screen:{type:"space",space:f.space,sideSheet:void 0,comments:{node:(C=f.node)!=null?C:void 0,comment:f.key}}})},y=()=>{s({screen:{comments:{node:t,context:"post",comment:void 0}}})},h=()=>m&&f?g():y();return wr(i?{[We.EDITOR_COMMENT]:h}:{},["editor-selection-collapsed","editor-selection-expanded"],[i,f]),ea.createElement(te,{editable:!1,style:[o||m?ce.visible:ce.hidden,r,m?dC.commentsButtonWithComments:null]},ea.createElement(mk,{kind:"secondary",size:"small",style:v.justifyContentEnd},ea.createElement(D,{icon:S.Comment,title:m?`${d} Comment${d>1?"s":""}`:"Comment",onPress:h,size:n,style:[dC.commentButton]},m?d:null),m?ea.createElement(D,{icon:S.Plus,size:n,title:"Leave another comment",onPress:y,style:[dC.commentButton]}):null))},dC=F.create({commentButton:{width:"fit-content"},commentsButtonWithComments:{right:-48-p.xlarge}});var yn={};jC(yn,{COMMENTS_COLUMN_EXPANDED_WIDTH:()=>kh,MAX_PAGE_OUTLINE_WIDTH:()=>Rs,PAGE_BODY_DESKTOP_H_PADDING:()=>vt,PAGE_BODY_DESKTOP_WIDTH:()=>wh,PAGE_BODY_MAX_WIDTH:()=>ir,PAGE_BODY_MOBILE_H_PADDING:()=>xo,PAGE_OUTLINE_WIDTH:()=>fC,PUBLIC_DESKTOP_HEADER_HEIGHT:()=>aA,PUBLIC_MOBILE_HEADER_HEIGHT:()=>sA,SPACE_HEADER_HEIGHT:()=>mC,TOC_DESKTOP_WIDTH:()=>pC,columnsWidthThreadhold:()=>Oc,getPageOutlineWrapperWidth:()=>gC,getToCWrapperDesktopWidth:()=>X6,pageSwitchThreadhold:()=>Is});c();var mC=E.L,ir=750,vt=110,xo=p.medium,wh=ir+2*vt,pC=300,kh=300,fC=220,Rs=300,aA=E.XL,sA=E.L;function Oc(e,t=0){let o=t+pC+wh+fC;return e===2||(o+=kh-xo),o}function Is(e=0){return e+wh}function X6(e){let t=`(100vw - ${wh}px) / 2 - ${e||0}px`;return`max(${pC}px, calc(${t}))`}function gC(e,t){let o=`100vw - ${X6(e)} - ${ir}px - ${vt}px - ${typeof t>"u"?vt:t||0}px - ${e||0}px`;return`max(${fC}px, calc(${o}))`}function cA(e){let{children:t,renderMode:o,isDiffViewEnabled:n,isCommentMarginVisible:r,isFullPage:i,isPDF:a,node:s,interactive:l}=e,{desktopSidebarWidth:u}=wi.useContext(kr),{customBreakpointsPageBodyStyles:d}=wi.useMemo(()=>({customBreakpointsPageBodyStyles:{[Oc(2,u)]:v.justifyContentCenter}}),[u]),m=F6(s);return o==="unstyled"?wi.createElement(b,{...l==null?void 0:l.events},t):wi.createElement(X.View,{style:[a?ta.pdfContainer:null,m,v.flex1,v.directionRow,i?v.justifyContentCenter:v.justifyContentEnd],mobileStyle:[o==="full-width"||o==="centered"?ta.pageBodyMobileRightPadding:void 0,v.justifyContentCenter],desktopStyle:[o==="full-width"||o==="centered"?a?ta.pageBodyPDFRightPadding:ta.pageBodyDesktopRightPadding:void 0],customBreakpointsStyles:d,...l==null?void 0:l.events},wi.createElement(b,{style:o==="centered"||o==="marginless-centered"?[v.flex1,ta.pageBody,(r||n)&&ta.pageBodyWithComments]:[v.flex1]},wi.createElement(X.View,{mobileStyle:[o==="full-width"||o==="centered"?ta.pageBodyMobileLeftMargin:void 0,n?ta.pageBodyMobileWithDiff:null],desktopStyle:o==="full-width"||o==="centered"?a?ta.pageBodyPDFLeftMargin:ta.pageBodyDesktopLeftMargin:void 0},t)))}function K6(e){let{isCommentMarginVisible:t,isDiffViewEnabled:o,isFullPage:n}=e,r=Fe();return wi.useMemo(()=>[i=>wi.createElement(cA,{...i,isPDF:r,isDiffViewEnabled:o,isCommentMarginVisible:t,isFullPage:n}),r||!t?void 0:H6],[o,n,t,r])}var ta=F.create({pdfContainer:{breakInside:"avoid",breakBefore:"auto"},pageBody:{maxWidth:ir+2*vt},pageBodyWithComments:{maxWidth:ir+vt,paddingRight:0},pageBodyMobileWithDiff:{marginLeft:xo*2},pageBodyDesktopLeftMargin:{marginLeft:vt},pageBodyDesktopRightPadding:{paddingRight:vt},pageBodyMobileLeftMargin:{marginLeft:xo},pageBodyMobileRightPadding:{paddingRight:xo},pageBodyPDFLeftMargin:{marginLeft:xo},pageBodyPDFRightPadding:{paddingRight:xo}});c();var fe=x(O());z();c();var hC=x(SM()),tt=x(O());z();function j6(e){let{analyticsContext:t,parentPages:o,childPages:n,onClose:r,revision:i,page:a}=e,[,s]=R(dA),[l,u]=Vn(),d=Vt(),m=async(f=!0)=>{await u(async()=>{await d(g=>{if(f){[a,...o,...n].forEach(y=>{xu(g,y.key)});return}xu(g,a.key)}),await J({...t,type:"edit_conflicts_keep_page",pageKind:a.kind})}),r()};return tt.createElement(wt,{title:"Keep page",onClose:r,footer:tt.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},tt.createElement(D,{kind:"secondary",onPress:()=>{},style:p.Margin.smallRight,disabled:l},"Cancel"),tt.createElement(ba,{kind:"secondary",onPress:()=>m(!1),style:p.Margin.smallRight},"Keep only this page"),tt.createElement(ba,{kind:"merge",onPress:()=>m()},"Keep"))},(0,hC.default)(o)?null:tt.createElement(b,{style:[(0,hC.default)(n)?null:s.parentPages]},tt.createElement(lA,{revision:i,pages:o,onClose:r})),tt.createElement(uA,{revision:i,pages:n,onClose:r}))}function lA(e){let{pages:t,revision:o}=e,{conflicts:n}=o,[,r]=R(N),i=t.length;return t.length?tt.createElement(b,{style:[p.Margin.mediumTop]},tt.createElement(b,{style:[v.directionRow,p.Margin.smallBottom]},tt.createElement(io,{kind:"warning",icon:S.Warning}),tt.createElement(A,{style:[p.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",i>1?"are":"is"," ",t.length," conflicted parent"," ",tt.createElement(ui,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",tt.createElement(ui,{count:i,singular:"it",plural:"all of them"}))),tt.createElement(b,null,t.map(a=>{let s=n==null?void 0:n.pages[a.key];return tt.createElement(Ca,{key:a.key,layout:"wide",icon:()=>s==="deleted-in-head-subtree-modified-in-base"||s==="deleted-in-base-subtree-modified-in-head"?tt.createElement(io,{kind:"warning",icon:S.Conflict}):tt.createElement(io,{kind:"danger",icon:S.Trashcan}),title:a.title})}))):null}function uA(e){let{pages:t,revision:o}=e,{conflicts:n}=o,[,r]=R(N),i=t.length;return t.length?tt.createElement(b,{style:[p.Margin.mediumTop]},tt.createElement(b,{style:[v.directionRow,p.Margin.smallBottom]},tt.createElement(io,{kind:"warning",icon:S.Warning}),tt.createElement(A,{style:[p.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",t.length>1?"are":"is"," ",t.length," nested"," ",tt.createElement(ui,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",tt.createElement(ui,{count:i,singular:"it",plural:"all of them"}))),tt.createElement(b,null,t.map(a=>{let s=n==null?void 0:n.pages[a.key];return tt.createElement(Ca,{key:a.key,layout:"wide",icon:()=>s==="deleted-in-head-subtree-modified-in-base"||s==="deleted-in-base-subtree-modified-in-head"?tt.createElement(io,{kind:"warning",icon:S.Conflict}):tt.createElement(io,{kind:"danger",icon:S.Trashcan}),title:a.title})}))):null}var dA=L.create({parentPages:e=>({borderBottomColor:e.colors.border.mid,borderBottomWidth:1,marginBottom:p.large,paddingBottom:p.large})});c();var bt=x(O());z();c();var ar=x(O());z();var U6=4;function Y6(e){let{space:t,page:o,readOnly:n,...r}=e,[i,a]=ar.useState(!1),s=vC(t,o),l=yC();if(s.length===0)return null;let u=i?s:s.slice(0,U6),d=s.length-U6,m=!i&&d>0;return ar.createElement(b,{...r,style:[v.directionRow,v.wrap]},u.map(f=>ar.createElement(b,{key:f.key,style:[p.Margin.mediumRight,p.Margin.mediumTop]},ar.createElement(D,{kind:"default",size:"small",icon:S.ArrowDownLeft,onPress:()=>l(f)},f.page.title))),m?ar.createElement(b,{style:[p.Margin.mediumTop]},ar.createElement(D,{kind:"grey",size:"small",onPress:()=>a(!0),title:ar.createElement(ar.Fragment,null,"Show ",d," more"," ",ar.createElement(ui,{count:d,singular:"backlink",plural:"backlinks"}))},`+${d} more`)):null)}function yC(){let{navigate:e}=we();return ar.useCallback(t=>{let{page:o,revision:n}=t;if(o.kind==="link")return;let r=He(n,o.key);e({screen:i=>i.type==="space"&&n.space===i.space?{page:r}:{type:"space",space:n.space,page:r,changeRequest:void 0,revision:void 0}})},[])}function vC(e,t){return mA([{kind:"page",page:t.key},{kind:"page",page:t.key,space:e.key}]).filter(n=>n.page.key!==t.key||n.revision.space!==e.key)}function mA(e){let t=e.map(r=>cm(r)),[o]=Xn([H1(t)]),n=I1(o.map(r=>({space:r.space,revision:r.revision})));return o.map((r,i)=>{var l;let a=(l=n[i])==null?void 0:l.result;return a?Object.keys(r.pages).filter(u=>Object.keys(r.pages[u].references).some(d=>t.includes(d))).map(u=>({key:`${a.space}-${u}`,revision:a,page:a.pages[u]})):null}).filter(he).flat().sort((r,i)=>r.page.key<i.page.key?-1:r.page.key>i.page.key?1:0)}function xh(e){let{space:t,analyticsContext:o,page:n,onClose:r,revision:i}=e,[,a]=R(N),s=Vt(),l=async u=>{u&&(await s(d=>{YS(d,n.key,{deleteEmptyGroupParent:!0})}),J({...o,type:"edit_remove_page",pageKind:n.kind})),r()};return bt.createElement(Iu,{title:n.kind==="group"?"Delete group":"Delete page",kind:"danger",confirmButtonText:"Delete",onComplete:l},bt.createElement(b,null,bt.createElement(A,{style:[a.Body,a.text]},"Confirming will delete all the content; however, it will still be available in the version history.")),bt.createElement(bt.Suspense,{fallback:null},bt.createElement(pA,{space:t,page:n,onClose:r})),n.kind!=="link"&&bt.createElement(fA,{revision:i,page:n,onClose:r}))}function pA(e){let{space:t,page:o,onClose:n}=e,[,r]=R(N),i=yC(),a=vC(t,o);return a.length===0?null:bt.createElement(b,{style:[p.Margin.mediumTop]},bt.createElement(b,null,bt.createElement(A,{style:[r.Label,r.textMuted]},"Deleting this page will break links in the following ",a.length," pages:")),bt.createElement(b,{style:[v.directionRow,v.wrap]},a.map(s=>bt.createElement(b,{key:s.key,style:[p.Margin.smallRight,p.Margin.smallTop]},bt.createElement(D,{kind:"secondary",size:"small",icon:S.ArrowDownLeft,onPress:()=>{n(),i(s)}},s.page.title)))))}function fA(e){let{page:t,revision:o,onClose:n}=e,[,r]=R(N),{navigateToPage:i}=ss(),s=bu(o,t.key).map(u=>{var d;return((d=o.conflicts)==null?void 0:d.pages[u.key])==="deleted-in-base"?u:null}).filter(Boolean),l=s.length;return l?bt.createElement(b,{style:[p.Margin.mediumTop]},bt.createElement(b,{style:[v.directionRow,p.Margin.mediumBottom]},bt.createElement(io,{kind:"warning",icon:S.Warning}),bt.createElement(A,{style:[p.Margin.mediumLeft,r.Label,r.text,r.Bold]},"There ",l>1?"are":"is"," ",s.length," nested"," ",bt.createElement(ui,{count:Object.keys(s.length).length,singular:"page",plural:"pages"})," ","deleted in the primary content but modified in your change request.",bt.createElement("br",null),"Deleting the current page, you would delete ",l>1?"all of them":"it",".")),bt.createElement(b,null,s.map(u=>bt.createElement(Ca,{key:u.key,layout:"wide",icon:()=>bt.createElement(io,{kind:"danger",icon:S.Trashcan}),title:u.title,buttons:[bt.createElement(D,{size:"medium",kind:"secondary",onPress:()=>{n(),i(o,u.key)}},"Open")]})))):null}function Z6(e){let{page:t,document:o,conflictType:n,pageWithComments:r,pageIsDiff:i}=e,[,a]=R(yA),s=Vt(),[l,u]=Vn(),d=ao(),m=vr.getDocumentConflicts(o),f=m.isEmpty(),g=()=>{f&&u(async()=>{let h=await s(C=>{xu(C,t.key)});h&&!wS(h)&&d.notify({kind:"success",icon:S.CheckCircle,title:"All conflicts have been resolved",details:"You can now merge this change request."})})},y=()=>{switch(n){case"deleted-in-head":case"deleted-in-base":case"deleted-in-base-subtree-modified-in-head":case"deleted-in-head-subtree-modified-in-base":return fe.createElement(hA,{conflictType:n,onPressMarkAsResolved:g,loading:l,...e});default:return typeof n=="boolean"?fe.createElement(gA,{conflictNodes:m,canBeResolved:f,loading:l,onPressMarkAsResolved:g,...e}):null}};return fe.createElement(b,{style:[v.directionRow,v.justifyContentCenter,p.Margin.mediumBottom,a.alert]},fe.createElement(b,{style:[v.flex1,r||i?a.alertWithComments:a.alertFullWidth]},fe.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.mediumVertical,p.Padding.mediumHorizontal,a.alertInner]},y())))}var gA=e=>{let{hasBeenResolved:t,canBeResolved:o,loading:n,conflictNodes:r,onPressMarkAsResolved:i}=e,[,a]=R(N),s=fe.useRef(),l=f=>{let g=ja(f);g&&yk(g)},u=f=>{var C;let y=(s.current?r.findIndex(w=>w.key===s.current):-1)+f;y<0?y=r.size-1:y>=r.size&&(y=0);let h=(C=r.get(y))==null?void 0:C.key;h&&(s.current=h,l(h))},d=()=>{u(1)},m=()=>{u(-1)};return fe.createElement(fe.Fragment,null,fe.createElement(b,{style:p.Margin.mediumRight,testID:"conflictBanner.badge"},t?fe.createElement(io,{kind:"success",size:"large",icon:S.Check}):fe.createElement(io,{kind:"merge",size:"large",icon:S.Conflict})),fe.createElement(b,{style:[v.flex1]},fe.createElement(A,{style:[a.Label,a.textMid],testID:"conflictBanner.message"},t?"All conflicts with the primary content have been resolved for this page.":fe.createElement(fe.Fragment,null,"This page has ",o?"no":r.size," unresolved"," ",fe.createElement(ui,{count:r.size,singular:"conflict",plural:"conflicts"})," ","with the primary content."," ",o?"Confirm by marking this page as resolved.":"Resolve them by editing this document."))),t?null:fe.createElement(b,{style:[p.Margin.mediumLeft,v.directionRow]},o?null:fe.createElement(fe.Fragment,null,fe.createElement(D,{size:"medium",rightIcon:S.ChevronUp,onPress:m,testID:"conflictBanner.prevButton"},"Prev"),fe.createElement(D,{size:"medium",rightIcon:S.ChevronDown,onPress:d,style:p.Margin.smallRight,testID:"conflictBanner.nextButton"},"Next")),fe.createElement(D,{size:"medium",kind:"secondary",title:o?"Confirm resolution of all conflicts in this page":"You need to first resolve conflicts in the document",disabled:n||!o,icon:n?Se:S.Check,onPress:i,testID:"conflictBanner.resolveButton"},"Mark as resolved")))},hA=e=>{let{hasBeenResolved:t,loading:o,onPressMarkAsResolved:n,page:r,space:i,analyticsContext:a,revision:s,conflictType:l}=e,[u,d]=fe.useState(!1),[m,f]=fe.useState(!1),[,g]=R(N),y=bu(s,r.key).filter(P=>{var M,T;return((M=s==null?void 0:s.conflicts)==null?void 0:M.pages[P.key])==="deleted-in-head"||((T=s==null?void 0:s.conflicts)==null?void 0:T.pages[P.key])==="deleted-in-base"}),h=()=>{let P="Do you want to keep the modified page or delete it?",M=y.length>1?"pages":"page";switch(l){case"deleted-in-base":return`This page has been deleted in the primary content, but has been modified in this change request. ${P}`;case"deleted-in-head":return`This page has been deleted in this change request, but has been modified in the primary content ${P}`;case"deleted-in-base-subtree-modified-in-head":return`This page has been deleted in the primary content but has ${y.length} conflicted child ${M}. Do you want to keep or delete it?`;case"deleted-in-head-subtree-modified-in-base":return`This page has been deleted in your change request but has ${y.length} conflicted child ${M}. Do you want to keep or delete it?`}},w=(P=>{let M=[];function T(W){var q;let H=Object.values(s.pages).find(G=>{var Y;return(Y=G==null?void 0:G.pages)==null?void 0:Y.includes(W.key)});H&&((q=s.conflicts)!=null&&q.pages[H.key])&&(M.push(H),T(H))}return T(P),M})(r),k=bu(s,r.key),I=()=>f(!0),_=()=>{if(w.length||k.length){d(!0);return}n()};return fe.createElement(fe.Fragment,null,fe.createElement(fe.Fragment,null,fe.createElement(b,{style:p.Margin.mediumRight,testID:"conflictBanner.badge"},t?fe.createElement(io,{kind:"success",size:"large",icon:S.Check}):l==="deleted-in-base-subtree-modified-in-head"||l==="deleted-in-head-subtree-modified-in-base"?fe.createElement(io,{kind:"warning",size:"large",icon:S.Conflict}):fe.createElement(io,{kind:"danger",size:"large",icon:S.Trashcan})),fe.createElement(b,{style:[v.flex1]},fe.createElement(A,{style:[g.Label,g.textMid],testID:"conflictBanner.message"},t?"All conflicts with the primary content have been resolved for this page.":h())),t?null:fe.createElement(b,{style:[p.Margin.mediumLeft,v.directionRow]},fe.createElement(b,{style:[p.Margin.mediumLeft,v.directionRow]},fe.createElement(D,{size:"medium",icon:o?Se:S.Copy,onPress:_,testID:"conflictBanner.keepButton"},"Keep"),fe.createElement(D,{size:"medium",icon:o?Se:S.Trashcan,onPress:I,testID:"conflictBanner.deleteButton"},"Delete")))),fe.createElement(st,null,u?fe.createElement(j6,{page:r,revision:s,analyticsContext:a,onClose:()=>d(!1),parentPages:w,childPages:k}):null),fe.createElement(st,null,m?fe.createElement(xh,{space:i,page:s.pages[r.key],revision:s,analyticsContext:a,onClose:()=>f(!1)}):null))},yA=L.create({alert:e=>({position:"sticky",top:-E.RADIUS_L,right:0,left:0,zIndex:1}),alertInner:e=>({borderRadius:E.RADIUS_L,borderWidth:1,borderColor:e.colors.border.mid,backgroundColor:e.colors.background.main,...e.shadows.tight}),alertFullWidth:{maxWidth:ir+2*vt},alertWithComments:{maxWidth:ir+vt}});c();var be=x(O());z();var Q6=kp({width:1448,height:240}),bA=B.createInteractiveComponent(Q6.View);function J6(e){let{page:t}=e;return lm(t)?be.createElement(be.Suspense,{fallback:be.createElement(CA,null)},be.createElement(SA,{...e})):null}function CA(e){return be.createElement(b,{style:[Aa.pageCover]},be.createElement(eT,null))}function SA(e){let{page:t,revision:o,readOnly:n,analyticsContext:r}=e,[i,a]=be.useState(!1),s=At(),l=Vt(),u=Fe(),[d,m]=Vn(),f=$6(),g=null;if(t.cover){let T=t.cover.kind==="file"?o.files[t.cover.file]:null;f=(t.cover.kind==="file"?T?ha(T==null?void 0:T.downloadURL):null:t.cover.url)||f,T!=null&&T.dimensions&&(g=T.dimensions)}let y=t.coverY||0,h=be.useMemo(()=>new dt.Value(y),[t.key,t.coverY]),C=be.useRef(y);be.useEffect(()=>{let T=h.addListener(({value:W})=>{C.current=W});return()=>{h.removeListener(T)}},[h]);let w=async()=>{a(!1),await l(T=>{br(T,t.key,{coverY:C.current})}),J({...r,type:"edit_reposition_cover"})},k=()=>{a(!1),h.flattenOffset(),h.setValue(y)},I=be.useRef(null),_=ae(I),P=be.useCallback(async()=>{let[T]=await s.prompt({title:"Select cover image",accept:"images",acceptURL:!0});T&&(await m(()=>l(W=>{Em(W,t.key,T)})),J({...r,type:"edit_upload_cover"}))},[r,l,t.key]),M=be.useMemo(()=>{if(!n)return oe({groups:[{key:"pageCover",commands:[{key:"pageCover.select",icon:S.Image,title:"Select image",trigger:()=>{P()}},{key:"pageCover.reposition",icon:S.ArrowsMove,title:"Reposition",trigger:()=>{a(!0)}},{key:"pageCover.remove",icon:S.Trashcan,title:"Remove",trigger:async()=>{await l(T=>{US(T,t.key)}),J({...r,type:"edit_remove_cover"})}}]}]})},[r,t.key,l,n,P]);return be.createElement(bA,{style:[Aa.pageCover],isPDF:u},be.createElement(wA,{coverUrl:f,animatedY:h,repositioning:i,isPDF:u,coverFileDimensions:g}),d?be.createElement(eT,null):null,n||u?null:be.createElement(B.View.Child,{style:[Aa.pageCoverButton,v.directionRow],activeStyle:"visible",inactiveStyle:i||_.opened?"visible":"hidden"},i?be.createElement(be.Fragment,null,be.createElement(D,{kind:"secondary",size:"medium",style:[p.Margin.smallRight],onPress:k},"Cancel"),be.createElement(D,{kind:"primary",size:"medium",onPress:w},"Save")):be.createElement(be.Fragment,null,t.cover?null:be.createElement(D,{icon:S.Image,kind:"secondary",size:"medium",style:[p.Margin.smallRight],onPress:()=>{P()}},"Change cover"),be.createElement(D,{ref:I,icon:S.MoreVertical,rounded:!0,size:"medium",kind:"secondary",active:_.opened,onPress:()=>{M&&_.open(M)}}))))}function wA(e){let{coverUrl:t,animatedY:o,repositioning:n,isPDF:r,coverFileDimensions:i}=e,a=Kr(),s=be.useRef(null),[l,u]=be.useState(i),[d,m]=Q6.useDimensions(),f=l?kA(d,l):0,g=be.useMemo(()=>Qd.create({onStartShouldSetPanResponder:(k,I)=>!1,onStartShouldSetPanResponderCapture:(k,I)=>!1,onMoveShouldSetPanResponder:(k,{dx:I})=>n,onMoveShouldSetPanResponderCapture:(k,I)=>!1,onPanResponderGrant:(k,{dx:I})=>{o.extractOffset()},onPanResponderMove:(k,{dy:I})=>{o.setValue(I/f)},onPanResponderTerminationRequest:(k,I)=>!0,onPanResponderRelease:(k,{dy:I})=>{o.flattenOffset()}}),[f,n]),y=l?l.width*f:0,h=l?l.height*f:0,C=(d.height-h)/2,w=!!l&&m;return be.createElement(b,{...g.panHandlers,style:[F.absoluteFill,Aa.pageCoverInner,n&&xA.pageCoverRepositioning]},!r&&be.createElement(b,{style:[Aa.pageCoverOverlay,a.color==="dark"&&Aa.pageCoverOverlayDark,w&&Aa.pageCoverOverlayReady]}),be.createElement(Ew,{ref:s,source:{uri:t},loading:"priority",style:[Aa.pageCoverImage,y&&h?{top:r?0:dt.diffClamp(dt.add(C,dt.multiply(o,f)),-(h-d.height),0),left:(d.width-y)/2,width:y,height:h}:{width:"100%",top:o}],onLoad:()=>{var k,I,_,P;u({width:(I=(k=s.current)==null?void 0:k.width)!=null?I:0,height:(P=(_=s.current)==null?void 0:_.height)!=null?P:0})}}))}function eT(){return be.createElement(b,{style:Aa.pageCoverLoadingOverlay},be.createElement(Se,{size:E.ICON_L}))}function kA(e,t){let o=e.width/t.width,n=e.height/t.height;return t.height*o<e.height?n:o}var xA=F.create({pageCoverRepositioning:{cursor:"grab"}}),Aa=F.create({pageCoverOverlay:{position:"absolute",inset:0,opacity:1,zIndex:1,transitionDelay:"200ms",transition:"opacity 500ms ease-in, z-index 1000ms ease-in",backgroundColor:"rgba(255,255,255,.2)",backdropFilter:"blur(10px)"},pageCoverOverlayDark:{backgroundColor:"rgba(0,0,0,.2)"},pageCoverOverlayReady:{zIndex:-1,opacity:0},pageCover:{position:"relative",height:240,backgroundColor:j.GREY_BLUE_LIGHT},pageCoverInner:{overflow:"hidden"},pageCoverImage:{position:"absolute",left:0,right:0,objectFit:"cover",pointerEvents:"none"},pageCoverButton:{position:"absolute",bottom:p.medium,right:p.medium},pageCoverLoadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:j.GREY_BLUE_LIGHT,justifyContent:"center",alignItems:"center"}});c();var Be=x(O());z();c();var Ao=x(O());z();c();var Do=x(O());c();var qe=x(O());z();function tT(e){let{revision:t,analyticsContext:o,page:n,onClose:r}=e,i=qe.useRef(null),[,a]=R(N),[s,l]=qe.useState(n.title),[u,d]=qe.useState(n.emoji),[m,f]=qe.useState("path"in n&&n.path?n.path:""),[g,y]=qe.useState("ref"in n?n.ref:void 0),h=Vt(),C=vu(t,n.key),w=C?He(t,C.key):"",k=n.kind!=="link"?OS(t,n.key,s):"",I=async()=>{await h(M=>{let T=n.kind!=="link"?{title:s,emoji:u,path:m?Qh(m):void 0}:{title:s,emoji:u,ref:g};br(M,n.key,T)}),n.title!==s&&J({...o,type:"edit_page_title",pageKind:n.kind}),m&&n.path!==m&&J({...o,type:"edit_page_path",pageKind:n.kind}),n.emoji!==u&&J({...o,...u?{type:"edit_pick_page_emoji",pageKind:n.kind,emoji:u}:{type:"edit_remove_page_emoji",pageKind:n.kind}}),r()},_=M=>{var T;(T=i.current)==null||T.close(),d(M)},P=qe.useMemo(()=>u?Ke(bo,{code:u}):null,[u]);return qe.createElement(wt,{title:"Edit page",onClose:r,footer:qe.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},qe.createElement(D,{kind:"secondary",onPress:r,style:p.Margin.smallRight},"Cancel"),qe.createElement(ba,{kind:"primary",onPress:I},"Save"))},qe.createElement(b,{style:[p.Margin.largeBottom]},qe.createElement(b,{style:[p.Margin.smallBottom]},qe.createElement(Qc,null,"Title")),qe.createElement(b,{style:[v.directionRow,v.alignEnd]},qe.createElement(b,{style:[p.Margin.mediumRight]},qe.createElement(Ka,{ref:i,wrapper:jr,anchor:({ref:M,opened:T,toggle:W})=>qe.createElement(D,{ref:M,active:T,onPress:W,kind:"secondary",size:"large",icon:P||S.EmojiReaction})},qe.createElement(nn,{kind:"wide"},qe.createElement(Ap,{onPick:_,onRemove:u?()=>_(void 0):void 0})))),qe.createElement(b,{style:[v.flex1]},qe.createElement(Kt,{size:"large",value:s,onChangeText:l,onSubmit:I})))),n.kind==="link"?qe.createElement(b,null,qe.createElement(xf,{label:"Reference",size:"large",value:g,context:{space:t.space,revision:t.key},onChangeValue:y})):qe.createElement(b,null,qe.createElement(Kt,{label:"Slug",size:"large",prefix:`${w}/`,value:m,placeholder:k,onChangeText:f,onSubmit:I,feedback:m&&!dS(m)?{type:"warning",message:qe.createElement(qe.Fragment,null,"The page slug contains unsupported characters for an URL. Saving will replace it by"," ",qe.createElement(A,{style:[a.Bold]},Qh(m)),".")}:void 0})))}c();var Oo=x(O());z();c();var bC="https://app.gitbook.com/public/app/assets/docs-page.raw-MB3QTRCE.svg";var CC="https://app.gitbook.com/public/app/assets/editorial-post.raw-527V74B3.svg";var SC="https://app.gitbook.com/public/app/assets/landing-page.raw-EDHVYRIQ.svg";var IA=225,PA=200,EA=112,wC=E.ICON_XL,TA=[{type:"docs",name:"Docs page",description:"A standard page, with table of contents and an outline.",icon:Ke(qn,{source:{uri:bC}})},{type:"editorial",name:"Editorial post",description:"No table of contents, but visible page outline. Great for blogs!",icon:Ke(qn,{source:{uri:CC}})},{type:"landing",name:"Landing page",description:"A full-width page, with no table of contents and no outline.",icon:Ke(qn,{source:{uri:SC}})}];function oT(e){let{page:t,page:{layout:o=sa(t)},analyticsContext:n,onClose:r}=e,[i,a]=Oo.useState(o),s=Vt(),l=d=>{a(d)},u=async()=>{o!==i&&(await s(d=>{br(d,t.key,{layout:i})}),J({...n,type:"edit_page_layout",pageKind:t.kind,pageLayout:i})),r()};return Oo.createElement(wt,{size:"xlarge",title:"Page Layout",subtitle:"Customize this page by selecting a layout. Some layouts include changes that only apply to public content.",onClose:r,footer:Oo.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},Oo.createElement(D,{kind:"secondary",onPress:r,style:p.Margin.smallRight},"Cancel"),Oo.createElement(ba,{kind:"primary",onPress:u},"Save"))},Oo.createElement(b,{style:[v.directionRow,v.justifySpaceBetween,p.Margin.mediumVertical]},TA.map(({name:d,description:m,type:f,icon:g})=>Oo.createElement(MA,{key:f,type:f,name:d,description:m,icon:g,selected:f===i,onSelect:l}))))}function MA({type:e,name:t,description:o,onSelect:n,selected:r,style:i,icon:a}){let[,s]=R(LA),[,l]=R(N);return Oo.createElement(b,null,r?Oo.createElement(b,{style:[s.checkCircle]},Oo.createElement(Ww,{kind:"primary",size:wC,icon:S.Check})):null,Oo.createElement(B.TouchableOpacity,{style:[s.layoutOptionCardWrapper,v.flexGrow1,r&&s.optionSelected,i],onPress:()=>n(e)},Oo.createElement(b,{style:[s.layoutOptionCardIllustrationWrapper]},Oo.createElement(a,{size:64})),Oo.createElement(b,{style:[s.layoutOptionCardContentWrapper,p.Padding.smallVertical,p.Padding.mediumHorizontal,v.flex1]},Oo.createElement(b,{style:[v.directionRow,v.alignCenter]},Oo.createElement(A,{style:[l.Heading3,l.text]},t)),Oo.createElement(A,{style:[l.Label,l.textMid]},o))))}var LA=L.create({layoutOptionCardWrapper:e=>({width:IA,minHeight:PA,flexDirection:"column",backgroundColor:e.colors.background.muted,borderRadius:E.RADIUS_XL,borderWidth:1,borderColor:e.colors.border.main,overflow:"hidden"}),layoutOptionCardIllustrationWrapper:e=>({justifyContent:"center",alignItems:"center",height:EA}),layoutOptionCardContentWrapper:e=>({backgroundColor:e.colors.secondary.main,borderTopWidth:1,borderTopColor:e.colors.border.main}),checkCircle:()=>({position:"absolute",left:"50%",top:-wC/2,transform:[{translateX:-wC/2}],zIndex:1}),optionSelected:e=>({borderColor:e.colors.primary.main})});c();var Mn=x(O());c();var ki=x(O());z();function nT(e){let{revision:t,onClose:o,onSubmit:n}=e,[r,i]=ki.useState(""),[a,s]=ki.useState(),l=async()=>{a?await n(CS(a,r)):o()};return ki.createElement(wt,{title:"Insert link",onClose:o,subtitle:"Insert a link to external content in your content navigation, this link will open in a new tab.",footer:ki.createElement(b,{style:[v.directionRow,v.justifyContentEnd]},ki.createElement(D,{kind:"secondary",onPress:o,style:p.Margin.smallRight},"Cancel"),ki.createElement(ba,{kind:"primary",onPress:l,disabled:!a},"Insert"))},ki.createElement(b,{style:[p.Margin.largeBottom]},ki.createElement(Kt,{autoFocus:!0,label:"Title",size:"large",placeholder:"Enter title to display",value:r,onChangeText:i})),ki.createElement(xf,{label:"To",size:"large",placeholder:"Paste in or type a url",value:a,onChangeValue:s,context:{space:t.space,revision:t.key}}))}c();var kC=x(O());function cu(e){let{space:t,changeRequest:o,analyticsContext:n,page:r,onClose:i}=e;return nl({screen:"space_import",...n},[t.key,o==null?void 0:o.key]),kC.createElement(on,null,kC.createElement(e6,{target:{page:r,space:t,changeRequest:o},onClose:i}))}function rT(e){let{space:t,revision:o,changeRequest:n,analyticsContext:r,parent:i}=e,{navigateToPagePath:a}=ss(),[s,l]=Mn.useState(null),u=Vt(),d=Mn.useCallback(async h=>{let C=await u(w=>{Pm(w,i,h)});C&&(J({...r,type:"edit_create_page",pageKind:h.kind}),h.kind!=="link"&&a(He(C,h.key)))},[u]),m=Mn.useCallback(async()=>{let h=SS({title:um(o,"Group")}),C=Jh({title:um(o,"Page")}),w=await u(k=>{Pm(k,i,h),Pm(k,h.key,C)});w&&(J({...r,type:"edit_create_page",pageKind:h.kind}),a(He(w,C.key)))},[o,u]),f=Mn.useMemo(()=>oe({groups:[{key:"insertPage",commands:[{key:"insertPage.sheet",icon:S.Page,title:"New document page",trigger:async()=>{await d(Jh({title:um(o)}))}},i?null:{key:"insertPage.group",icon:S.AddPageGroup,title:"New group",trigger:async()=>{await m()}},{key:"insertPage.link",icon:S.Link,title:"New link",trigger:()=>{l("link")}}].filter(he)},{key:"insertExisting",commands:[{key:"insertExisting.import",icon:S.Download,title:"Import new pages",trigger:()=>{l("import")}}].filter(he)}]}),[o,i,m,d]),g=()=>{l(null)};return[Mn.createElement(Mn.Fragment,null,Mn.createElement(st,null,s==="link"?Mn.createElement(nT,{revision:o,onClose:g,onSubmit:async h=>{await d(h),l(null)}}):null),Mn.createElement(st,null,s==="import"?Mn.createElement(cu,{space:t,changeRequest:n,page:i,analyticsContext:r,onClose:g}):null)),f]}function xC(e){let{space:t,revision:o,changeRequest:n,page:r,analyticsContext:i,readOnly:a}=e,[s,l]=Do.useState(null),u=Vt(),{getNavigationHref:d,navigateToPage:m}=ss(),f=Do.useContext(Eo),g=re(),y=Km(),[h,C]=rT({space:t,revision:o,changeRequest:n,parent:r.key,analyticsContext:i}),w=Object.keys(o.pages).length>1,k=r.kind==="sheet",I=Do.useMemo(()=>{var P,M,T,W,H;return oe({groups:[a?null:{key:"pageEdit",commands:[r.kind!=="link"?{key:"pageEdit.insert",icon:S.AddPageGroup,title:"Insert subpage",descendant:()=>C}:null,r.kind!=="link"?{key:"pageEdit.import",icon:S.Download,title:"Import subpages",trigger:()=>{l("import")}}:null,r.kind==="sheet"&&!lm(r)?{key:"pageEdit.addCover",icon:S.Image,title:"Add cover",trigger:async()=>{await u(q=>{Em(q,r.key)}),J({...i,type:"edit_add_cover"})}}:null,{key:"pageEdit.edit",icon:S.Type,title:r.kind==="link"?"Edit":"Rename",trigger:()=>{l("edit")}},{key:"pageEdit.duplicate",icon:S.PageDuplicate,title:"Duplicate",trigger:async()=>{let q=Ls(),G=await u(Y=>QS(Y,{newKey:q,originalPageKey:r.key}));G&&(J(Dm(t,r,{...i,type:"edit_duplicate_page",pageKind:r.kind})),r.kind!=="link"&&m(G,q))}},w?{key:"pageEdit.delete",icon:S.Trashcan,title:"Delete",trigger:()=>{l("delete")}}:null].filter(he)},a?null:{key:"pagePublic",commands:[k?{key:"pagePublic.pageLayout",icon:S.Page,title:"Page Layout",trigger:()=>{l("layout")}}:null].filter(he)},{key:"pageRead",commands:[r.kind==="sheet"&&(t.hasPDFExport||f.mode!=="public-content")?{key:"pageRead.export",icon:S.PDF,title:g("export_pdf"),testID:"page.exportButton",trigger:()=>{m(o,r.key,{sideSheet:{type:"share",tab:"pdf"}})}}:null,r.kind!=="link"?{key:"pageRead.copyURL",icon:S.Link,title:g("copy_link"),trigger:()=>{let q=d(o,r.key),G=`${window.location.origin}${q}`;y.writeTextAndNotify(G,{title:"Page URL copied to clipboard"})}}:null,r.kind!=="link"&&t.showEditOnGitProvider&&((P=t.git)!=null&&P.url)&&((M=t.git)!=null&&M.installationProvider)&&((T=r.git)!=null&&T.filePath)&&f.mode==="public-content"?{key:"pageRead.editOnGitHub",icon:F1[(W=t.git)==null?void 0:W.installationProvider],title:g("edit_on_github",G1[(H=t.git)==null?void 0:H.installationProvider]),trigger:()=>{var q,G;window.location.assign(`${(q=t.git)==null?void 0:q.url}/${(G=r.git)==null?void 0:G.filePath}`)}}:null].filter(he)}].filter(he)})},[a,t,o,r,w,f.mode,n]);nl(s==="layout"?{...i,screen:"space_page_layout"}:null,[s]);let _=()=>{l(null)};return[Do.createElement(Do.Fragment,null,h,Do.createElement(st,null,s==="edit"?Do.createElement(tT,{revision:o,page:r,analyticsContext:i,onClose:_}):null),Do.createElement(st,null,s==="delete"?Do.createElement(xh,{space:t,page:r,revision:o,analyticsContext:i,onClose:_}):null),Do.createElement(st,null,s==="import"?Do.createElement(cu,{space:t,changeRequest:n,page:r.key,analyticsContext:i,onClose:_}):null),Do.createElement(st,null,s==="layout"&&r.kind==="sheet"?Do.createElement(oT,{page:r,analyticsContext:i,onClose:_}):null)),I]}var NA=B.createInteractiveComponent(xn),iT=Ao.memo(function(t){let[,o]=R(BA),[n,r]=xC(t);return Ao.createElement(Ao.Fragment,null,Ao.createElement(b,{style:[o.pageToolbar,p.Margin.largeBottom]},r.groups.map((i,a)=>Array.isArray(i.commands)?Ao.createElement(b,{key:i.key,style:[p.Padding.smallVertical,a===0&&p.Padding.noneTop,a===r.groups.length-1&&p.Padding.noneBottom]},i.commands.map(s=>Ao.createElement(DA,{key:s.key,command:s}))):null)),n)});function DA(e){let{command:t}=e,o=Ao.useRef(null),n=ae(o),[,r]=R(N),i=t.icon?B.createInteractiveComponent(t.icon):null;return Ao.createElement(B.TouchableOpacity,{ref:o,style:[v.directionRow,v.alignCenter,p.Padding.largeHorizontal,p.Padding.xsmallVertical,AA.pageActionItem],testID:t.testID,onPress:()=>{t.trigger?n.executeCommand(t):t.descendant&&n.open(t.descendant())}},i?Ao.createElement(b,{style:[p.Margin.smallRight]},Ao.createElement(i.Child,{size:E.ICON_S,style:[r.textMuted,n.opened&&r.primary],activeStyle:r.primary})):null,Ao.createElement(NA.Child,{style:[r.Label,r.textMid,v.flex1,n.opened&&r.primary],activeStyle:r.primary},t.title))}function aT(e){let[t,o]=xC(e);return Ao.createElement(Ao.Fragment,null,t,Ao.createElement(tp,{palette:o,icon:S.MoreVertical,kind:"grey",size:"large",title:"Page actions",rounded:!0,testID:"pageCompactToolbar.paletteButton"}))}var AA=F.create({pageActionItem:{width:"fit-content",maxWidth:"100%"}}),BA=L.create({pageToolbar:e=>({minWidth:196})});c();var Ps=x(O());z();function sT(e){let{lock:t}=e,[o]=Xn([Tc(t.userId)]),[,n]=R(N),r=Ht(ka,{user:o},[o]);return Ps.createElement(Fn,{icon:o?r:void 0,tooltip:Ps.createElement(Ps.Fragment,null,Ps.createElement(A,{style:n.Bold},(o==null?void 0:o.displayName)||"Someone")," is editing this page.")},(i,a)=>Ps.createElement(b,{ref:a,...i.events},Ps.createElement(S.Lock,{size:E.ICON_M,style:n.textMid})))}var lu={mobile:"MobileMainTitle",desktop:"MainTitle"},VA=X.createResponsiveComponent(Sr),e8e=X.createResponsiveComponent(Y6),qA=X.createResponsiveComponent(nt),lT=Be.memo(function(t){let{space:o,revision:n,page:r,changeRequest:i,readOnly:a,onSubmitDescription:s,analyticsContext:l,lock:u,withDiff:d}=t,[m,f]=R(N),[,g]=R(GA),y=Fe(),h=re(),C=Be.useRef(null),w=[f.Description,f.textMuted],k=Vt(),{desktopSidebarWidth:I}=Be.useContext(kr),_=Be.useMemo(()=>({[Oc(2,I)]:"visible"}),[I]),P=async H=>{await k(q=>{br(q,r.key,{title:vS(H)})}),J({...l,type:"edit_page_title",pageKind:r.kind})},M=async H=>{await k(q=>{br(q,r.key,{description:bS(H)})}),J({...l,type:"edit_page_description",pageKind:r.kind})},T=H=>{H.nativeEvent.key==="Enter"&&(H.preventDefault(),C.current&&C.current.focus())},W=H=>{H.nativeEvent.key==="Enter"&&(H.preventDefault(),s&&s())};return Be.createElement(b,{style:[v.directionColumn,p.Padding.largeTop,p.Margin.largeBottom]},Be.createElement(b,{style:[v.directionRow]},Be.createElement(X.View,{style:[v.directionRow,v.justifyContentEnd,v.alignCenter],mobileStyle:g.emojiWrapperMobile,desktopStyle:g.emojiWrapperDesktop},r.emoji||!a?Be.createElement(b,{style:[p.Padding.mediumHorizontal]},Be.createElement(q6,{analyticsContext:l,page:r,readOnly:a,size:E.ICON_XL})):null),a?Be.createElement(b,{style:[v.flex1]},Be.createElement(qA,{testID:"page.title",tag:"h1",style:[f.text],selectable:!0,mobileStyle:f[lu.mobile],desktopStyle:f[lu.desktop]},r.title)):Be.createElement(VA,{key:r.key,testID:"page.title",component:cT,value:r.title,maxLength:100,style:[f.text,v.flex1,f.Body],onChangeText:P,onKeyPress:T,placeholder:h("untitled_page"),placeholderTextColor:m.colors.text.muted,mobileStyle:f[lu.mobile],desktopStyle:f[lu.desktop]}),u?Be.createElement(Be.Suspense,{fallback:null},Be.createElement(b,{style:[v.directionRow,v.alignCenter,p.Margin.mediumRight]},Be.createElement(sT,{lock:u}))):null,y?null:Be.createElement(X.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[v.directionRow,v.alignCenter],customBreakpointsStyles:_},Be.createElement(aT,{space:o,changeRequest:i,revision:n,page:r,analyticsContext:l,readOnly:a}))),Be.createElement(X.View,{style:[p.Margin.mediumTop],mobileStyle:g.pageBodyMobileLeftMargin,desktopStyle:g.pageBodyDesktopLeftMargin},a?r.description?Be.createElement(b,null,Be.createElement(A,{style:w,selectable:!0},r.description)):d?Be.createElement(X.View,{style:FA.pageDescriptionDiffPlaceholder,mobileStyle:"hidden"}):null:Be.createElement(Sr,{key:r.key,ref:C,component:cT,value:r.description,style:w,maxLength:200,onChangeText:M,onSubmitEditing:s,onKeyPress:W,placeholder:h("page_description"),placeholderTextColor:m.colors.text.muted})),null,Be.createElement(X.View,{mobileStyle:g.pageBodyMobileLeftMargin,desktopStyle:g.pageBodyDesktopLeftMargin}))}),cT=Be.forwardRef(function(t,o){let{style:n,...r}=t,[i,a]=Be.useState(void 0);return Be.createElement(qr,{ref:o,...r,multiline:!0,style:[n,typeof i<"u"?{height:i}:void 0],onContentSizeChange:l=>{l.nativeEvent.contentSize.height!==i&&a(l.nativeEvent.contentSize.height)}})}),FA=F.create({pageDescriptionDiffPlaceholder:{height:Wm.mediumLarge}}),GA=L.create({emojiWrapperMobile:{minWidth:xo,width:"auto",height:ze[lu.mobile].lineHeight},emojiWrapperDesktop:{width:vt,height:ze[lu.desktop].lineHeight},pageBodyDesktopLeftMargin:{marginLeft:vt},pageBodyMobileLeftMargin:{marginLeft:xo}});c();var Mt=x(O());z();var uT=X.createResponsiveComponent(ci),dT=B.createInteractiveComponent(xn),mT=Mt.memo(function(t){let{space:o,revision:n,page:r,style:i}=t,{getNavigationLinkProps:a}=we(),[,s]=R(N),l=re(),u=Fe(),d=B.useInteractiveComponent(S.ArrowLeft),m=B.useInteractiveComponent(S.ArrowRight),{desktopSidebarWidth:f}=Mt.useContext(kr),{nextPage:g,previousPage:y}=Mt.useMemo(()=>{let I=HA(n),_=I.findIndex(P=>P.key===r.key);return _===-1?{nextPage:null,previousPage:null}:{nextPage:OC(I,_,1),previousPage:OC(I,_,-1)}},[n,r.key]),{previousLinkProps:h,previousGroup:C,nextLinkProps:w,nextGroup:k}=Mt.useMemo(()=>({previousLinkProps:y?a({screen:{page:He(n,y.key),comments:void 0}}):void 0,previousGroup:y?vu(n,y.key):null,nextLinkProps:g?a({screen:{page:He(n,g.key),comments:void 0}}):void 0,nextGroup:g?vu(n,g.key):null}),[g,y]);return o.showPagination===!1||!g&&!y||u?null:Mt.createElement(X.View,{style:i,desktopStyle:v.directionRow,customBreakpointsStyles:{[Is(f)]:v.directionColumn}},y?Mt.createElement(uT,{...h,style:[v.alignCenter,p.Padding.medium,v.flex1],desktopStyle:g?p.Margin.smallRight:null,customBreakpointsStyles:g?{[Is(f)]:[p.Margin.noneRight,p.Margin.smallBottom]}:void 0},Mt.createElement(b,{style:[p.Margin.mediumRight]},Mt.createElement(d.Child,{size:E.XS,style:[s.textMuted],hoverStyle:s.primary})),Mt.createElement(b,{style:[v.flex1,v.alignEnd]},Mt.createElement(b,null,Mt.createElement(A,{style:[s.Caption,s.textMuted]},C&&C.kind==="group"?`${C.title} - `:"",l("previous"))),Mt.createElement(dT.Child,{style:[s.Body,s.Medium,s.text],activeStyle:s.primary},y.title))):null,g?Mt.createElement(uT,{...w,style:[v.alignCenter,p.Padding.medium,v.flex1],desktopStyle:y?p.Margin.smallLeft:null,customBreakpointsStyles:y?{[Is(f)]:[p.Margin.noneLeft,p.Margin.smallTop]}:void 0},Mt.createElement(b,{style:[v.flex1]},Mt.createElement(b,null,Mt.createElement(A,{style:[s.Caption,s.textMuted]},l("next"),k&&k.kind==="group"?` - ${k.title}`:"")),Mt.createElement(dT.Child,{style:[s.Body,s.Medium,s.text],activeStyle:s.primary},g.title)),Mt.createElement(b,{style:[p.Margin.mediumLeft]},Mt.createElement(m.Child,{size:E.XS,style:[s.textMuted],hoverStyle:s.primary}))):null)});function HA(e){let t=[];function o(n){var i;let r=e.pages[n];t.push(r),(i=r.pages)!=null&&i.length&&r.pages.forEach(o)}return e.rootPages.forEach(o),t}function OC(e,t,o){let n=e[t+o];if(n)return n.kind!=="sheet"?OC(e,t+o,o):n}c();var _o=x(O());z();var XA=X.createResponsiveComponent(ci),KA=B.createInteractiveComponent(xn);function pT(e){let{subPages:t,revision:o}=e,{desktopSidebarWidth:n}=_o.useContext(kr),r=re(),[,i]=R(N);return Fe()?null:_o.createElement(b,null,_o.createElement(A,{style:[i.Body,i.text]},r("page_articles_section")),_o.createElement(X.View,{style:[p.Padding.largeTop,v.wrap],desktopStyle:v.directionRow,customBreakpointsStyles:{[Is(n)]:v.directionColumn}},t.map((s,l)=>_o.createElement(_o.Suspense,{fallback:_o.createElement(fT,{page:s,revision:o,index:l,totalPageNumber:t.length}),key:s.key},_o.createElement(jA,{page:s,revision:o,index:l,totalPageNumber:t.length})))))}function jA(e){let{page:t,revision:o}=e,n=Un(t.kind==="link"?t.ref:void 0,{space:o.space,revision:o.key});return _o.createElement(fT,{...e,contentRef:n})}function fT(e){let{page:t,revision:o,index:n,totalPageNumber:r,contentRef:i}=e,{desktopSidebarWidth:a}=_o.useContext(kr),{getNavigationLinkProps:s}=we(),[,l]=R(N),u=t.emoji?B.createInteractiveComponent(Ke(bo,{code:t.emoji})):null,d=B.createInteractiveComponent((i==null?void 0:i.secondaryIcon)||Se),m=r%2===0;return _o.createElement(XA,{...t.kind==="link"?i?cs(i):{}:s({screen:{page:He(o,t.key),comments:void 0}}),style:[v.alignCenter,p.Padding.medium,v.flex1,{minWidth:`calc(50% - ${p.small}px)`}],desktopStyle:[n%2===0?m?p.Margin.smallRight:null:p.Margin.smallLeft,n<r-(m?2:1)?p.Margin.smallBottom:null],customBreakpointsStyles:{[Is(a)]:[p.Margin.noneHorizontal,n<r-1?p.Margin.smallBottom:null]}},u?_o.createElement(b,{style:[p.Margin.mediumRight]},_o.createElement(u.Child,{size:E.XS,style:[l.textMuted],hoverStyle:l.primary})):null,_o.createElement(KA.Child,{style:[l.Body,l.Medium,l.text],activeStyle:l.primary},t.title),t.kind==="link"&&(!i||i.secondaryIcon)?_o.createElement(b,{style:[p.Margin.mediumLeft]},_o.createElement(d.Child,{size:E.XS,style:[l.textMuted],hoverStyle:l.primary})):null)}c();var Dr=x(O());z();function gT(e){let{space:t,changeRequest:o,analyticsContext:n}=e,{navigate:r}=we(),[i,a]=R(UA),s=Fe(),[l,u]=Dr.useState(null);return s?null:Dr.createElement(Dr.Fragment,null,Dr.createElement(st,null,l==="import"?Dr.createElement(cu,{space:t,changeRequest:o,analyticsContext:n,onClose:()=>{u(null)}}):null),Dr.createElement(b,{style:[p.Padding.smallHorizontal,p.Padding.smallVertical,p.Margin.mediumTop,a.blankslateBox,v.directionRow,v.wrap]},Dr.createElement(D,{icon:S.Download,size:"medium",style:p.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{u("import"),J({...n,type:"space_blank_slate_initiate",kind:"import"})}},"Import content"),Dr.createElement(D,{icon:S.Page,size:"medium",style:p.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({overlay:{type:"template",space:t.key,organization:t.organization}}),J({...n,type:"space_blank_slate_initiate",kind:"template"})}},"Use a template"),Dr.createElement(D,{icon:S.GitHub,size:"medium",style:p.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({screen:{sideSheet:{type:"gitsync"}}}),J({...n,type:"space_blank_slate_initiate",kind:"gitsync"})}},"Sync with GitHub / GitLab"),t.organization?Dr.createElement(D,{icon:S.User,size:"medium",style:p.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{r({screen:{sideSheet:{type:"share",tab:"invite"}}}),J({...n,type:"space_blank_slate_initiate",kind:"invite-members"})}},"Add members"):null))}var UA=L.create({blankslateBox:e=>({borderRadius:E.RADIUS_L,borderWidth:1,borderColor:e.colors.border.mid})});c();var Es=x(O());c();var xi=x(O());z();var ZA=B.createInteractiveComponent(xn),$A={[Me]:null,[Ne]:p.Margin.smallLeft,[qo]:null},K8e=xi.memo(function(t){let{sections:o,activeSection:n}=t,[,r]=R(N),[,i]=R(hT),a=re();return xi.createElement(b,{style:[i.pageOutline]},xi.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.largeHorizontal,p.Margin.smallBottom]},xi.createElement(A,{style:[r.GroupTitle,r.textMuted,r.Bold]},a("outline"))),o.map(s=>xi.createElement(QA,{key:s.key,section:s,active:n===s.key})))});function QA(e){let{section:t,active:o}=e,[,n]=R(N),[,r]=R(hT),{navigateToHash:i}=we();return xi.createElement(B.TouchableOpacity,{style:[v.directionRow,p.Padding.largeHorizontal,r.sectionItem,o&&r.sectionItemActive],onPress:()=>{i(t.anchor)}},t.tag?xi.createElement(Wn,{backgroundColor:tc[t.tag]||j.orange.base,style:[r.sectionTag,p.Margin.xsmallRight,v.alignSelfCenter]},xi.createElement(A,{style:[n.textInsideColor,n.MobileCaption,n.Bold,n.Uppercase]},t.tag)):null,xi.createElement(ZA.Child,{style:[n.Label,n.textMid,t.type&&$A[t.type],o&&n.primary],hoverStyle:n.primary},t.title))}var hT=L.create({pageOutline:e=>({borderLeftWidth:1,borderLeftColor:e.colors.border.main,maxWidth:Rs}),sectionItem:{paddingTop:p.xsmall,paddingBottom:p.xsmall,marginLeft:-1,borderLeftWidth:2,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:e=>({borderLeftColor:e.colors.primary.main}),sectionTag:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:p.small,justifyContent:"center"}});function yT(e,t){let o=p.large,n=e.length,r=Math.floor(Math.log2(n)+1),i=0,a=n-1,s=Math.ceil((i+a)/2),l=-1,u=null;for(let d=0;d<r;d++){let m=e[s];if(!m)return null;let f=ja(m.key),g=f?f.getBoundingClientRect().top-t:null;if(g===null||g>o)a=s,s=Math.floor((i+a)/2);else{if(g>=-o&&g<=o)return e[s].key;g<o&&((u===null||g>u)&&(u=g,l=s),i=s,s=Math.ceil((i+a)/2))}}return l!==-1?e[l].key:null}var vT=.9;function bT(e,t){let[o,n]=Es.useState(null),r=b1(),i=Es.useRef(0),a=Es.useRef(null),s=Es.useRef(new Map),l=e.length>1,u=JA(()=>{typeof i.current!="number"&&(i.current=t.current.getBoundingClientRect().top);let m=yT(e,i.current);m!==o&&n(m)},500),d=m=>{m.forEach(g=>{let y=g.target.getAttribute("data-key");y&&s.current.set(y,g.isIntersecting&&g.intersectionRatio>=vT)});let f=Array.from(s.current.entries()).find(([,g])=>g);f&&n(f[0])};return Es.useEffect(()=>{var m;if(!(!(t!=null&&t.current)||!l)){if(!r)(m=t.current)==null||m.addEventListener("scroll",u);else{let f=e.map(g=>ja(g.key)).filter(he);a.current=new IntersectionObserver(d,{rootMargin:`-${yn.PUBLIC_DESKTOP_HEADER_HEIGHT}px 0px -40% 0px`,threshold:vT}),f.forEach(g=>{var y;(y=a.current)==null||y.observe(g)})}return()=>{var f,g;(f=t.current)==null||f.removeEventListener("scroll",u),(g=a.current)==null||g.disconnect()}}},[t==null?void 0:t.current,l]),o}function JA(e,t){let o=!1;return(...n)=>{o||(e.apply(this,n),o=!0,setTimeout(()=>o=!1,t))}}var eB=$e("sheet"),tB=X.createResponsiveComponent(te);function Oh(e){return e.readOnly?se.createElement(oB,{...e}):se.createElement(nB,{...e})}function oB(e){let[t]=Sh(e.space.key,e.page);return se.createElement(CT,{...e,value:t,onChange:()=>{}})}function nB(e){var a;let{onChange:t,value:o,crashed:n}=V6(e),r=P6(e.space.key,(a=e.changeRequest)==null?void 0:a.key,e.page.key);return se.createElement(CT,{...e,value:o,onChange:t,documentReadOnly:n||!!r,lock:r})}function CT(e){var GC,HC,XC;let{space:t,revision:o,page:n,changeRequest:r,readOnly:i=!0,withComments:a,value:s,onChange:l,lock:u,analyticsContext:d,withToC:m,outline:f,footer:g,withDiff:y,scrollRef:h,sideColumnStickyTop:C}=e,w=i||!!e.documentReadOnly,k=se.useRef(null),I=C6(),{mode:_}=se.useContext(Eo),{pages:P,setContentDiffPage:M}=se.useContext(B6),T=A6(t),W=qi(),H=Vt(),q=Ox({spaceId:t.key}),G=re(),Y=Fe(),U=se.useRef(),{sections:ue,sectionIDs:Ye}=se.useMemo(()=>{let Ge=BS(s.document,U.current),Dn=Vc(s.document,Ge).filter(Pi=>Pi.parentType==="document"&&Pi.type!==null&&[Me,Ne,qo].includes(Pi.type));return{sectionIDs:Ge,sections:Dn}},[s.document,U]);U.current=Ye;let at=W.screen.type==="space"?{commentKey:(GC=W.screen.comments)==null?void 0:GC.comment,nodeKey:(HC=W.screen.comments)==null?void 0:HC.node}:void 0;se.useEffect(()=>{var Ge;at!=null&&at.commentKey&&(at!=null&&at.nodeKey)&&((Ge=ja(at.nodeKey))==null||Ge.scrollIntoView())},[at==null?void 0:at.commentKey]);let Nn=Ge=>{I({pageKey:n.key,focus:"page",activity:Ge.typing?"typing":"viewing"})},Qo=se.useRef(null),go=se.useCallback(()=>{let Ge=Qo.current;if(!Ge)return;let Dn=Ge.value.change();yr(Dn.value.document)||Dn.collapseToStartOf(Ge.value.document),Dn.focus(),l(Dn)},[Qo]),zr=se.useMemo(()=>P.find(Ge=>Ge.page.key===n.key&&Ge.diff),[P,n.key]),lr=Ge=>{l(Ge),!zr&&r&&!s.document.equals(Ge.value.document)&&M({diff:"modified",page:n})},Wr=go,ur=ue.length>1,Jo=!f,Ro=bT(ue,h),en=O1(),dr=se.useMemo(()=>({space:t.key,revision:o.key,page:n.key}),[t.key,o.key,n.key]),Jt=Ge=>{J({...d,...Ge})},ct=async Ge=>{let Dn=[],Pi=await H((jd,Ud,gM)=>{Dn=[],gM.forEach(hM=>{let KC=jS(hM,en.uid);Dn.push({kind:"file",file:KC.key}),$S(jd,KC)})},()=>ly({kind:"space_file",space:t.key},Ge));return Pi&&Dn.forEach((jd,Ud)=>{eB.info(`file ${jd.file} uploaded to revision ${Pi.key} (${Ud+1} / ${Dn.length})`)}),Dn},V=async(Ge,Dn)=>{await H((Pi,jd,Ud)=>{ZS(Pi,Ge.file,Ud)},async()=>{let[Pi]=await ly({kind:"space_file",space:t.key},[Dn]);return Pi})},{desktopSidebarWidth:Z}=se.useContext(kr),{customBreakpointsOutlineStyles:K,customBreakpointsPageBodyStyles:Q}=se.useMemo(()=>{let Ge=Oc(2,Z);return{customBreakpointsOutlineStyles:{[Ge]:"hidden"},customBreakpointsPageBodyStyles:{[Ge]:v.justifyContentCenter}}},[Z]),Ce=gC(Z,kh),Le=o.conflicts&&n.key in o.conflicts.pages,Rt=(XC=o.conflicts)==null?void 0:XC.pages[n.key],Ze=Le&&o.conflicts&&o.conflicts.pages[n.key],lt=yr(s.document),Ft=lt&&Object.keys(o.pages).length===1&&!w,{diffs:bn}=se.useContext(Wd),mr=bn.has(n.key),Vr=W6(t.key,n),[ra,Gh]=K6({isDiffViewEnabled:y,isCommentMarginVisible:a,isFullPage:m||Jo}),gu=gx(),Hh=se.useCallback(Ge=>{Ge?gu.highlight(Ge,{highlighting:!1,postButton:!0}):gu.highlight(null)},[gu]),FC=!W.overlay&&lt&&!w;return se.useEffect(()=>{FC&&go()},[n.key,FC,go]),se.createElement(se.Fragment,null,se.createElement(J6,{revision:o,page:n,readOnly:i,analyticsContext:d}),se.createElement(b,{ref:k,style:[v.flex1,v.directionRow]},se.createElement(X.View,{style:[v.flex1,v.directionRow,v.justifyContentCenter]},se.createElement(te,{tag:"main",style:[v.flex1,v.directionColumn]},se.createElement(X.View,{style:[v.directionRow,m||Jo?v.justifyContentCenter:v.justifyContentEnd],mobileStyle:vn.pageBodyMobileRightPadding,desktopStyle:Y?vn.pageBodyPDFRightPadding:vn.pageBodyDesktopRightPadding,customBreakpointsStyles:Q},se.createElement(b,{style:[v.flex1,vn.pageBody,(a||y)&&vn.pageBodyWithComments]},se.createElement(lT,{space:t,revision:o,page:n,changeRequest:r,readOnly:i,onSubmitDescription:Wr,analyticsContext:d,lock:u,withDiff:y}))),se.createElement(X.View,{desktopStyle:Y?void 0:p.Padding.xlargeBottom},Le?se.createElement(ra,{renderMode:"marginless-centered"},se.createElement(Z6,{space:t,page:n,revision:o,document:s.document,hasBeenResolved:!Ze,pageIsDiff:y,conflictType:Rt,analyticsContext:d})):null,w&&lt&&n.pages.length?se.createElement(ra,{renderMode:"centered"},se.createElement(pT,{subPages:n.pages.map(Ge=>o.pages[Ge]),revision:o})):se.createElement(_x,{withComments:a,spaceKey:t.key,pageKey:n.key,changeRequestKey:r==null?void 0:r.key},se.createElement(_7,{ref:Qo,value:s,baseValue:Vr,onActivity:Nn,onChange:lr,readOnly:w,isDiff:mr,logAnalyticsEvent:Jt,contentReferenceContext:dr,uploadFiles:ct,updateFile:V,placeholder:"Enter your content here\u2026",sectionIDs:Ye,selectedSection:W.screen.hash||null,blockLayoutComponent:ra,rightGutterComponent:Gh,integrationBlocks:T,integrationBlocksRemote:q,onBlockHover:Hh}),Ft?se.createElement(ra,{renderMode:"centered"},se.createElement(gT,{space:t,revision:o,analyticsContext:d,changeRequest:r})):null),Ft?null:se.createElement(X.View,{style:[p.Margin.largeTop,v.directionRow,m||Jo?v.justifyContentCenter:v.justifyContentEnd],mobileStyle:vn.pageBodyMobileRightPadding,desktopStyle:Y?vn.pageBodyPDFRightPadding:vn.pageBodyDesktopRightPadding,customBreakpointsStyles:Q},se.createElement(b,{style:[v.flex1,vn.pageBody,(a||y)&&vn.pageBodyWithComments]},se.createElement(X.View,{mobileStyle:vn.pageBodyMobileLeftMargin,desktopStyle:Y?vn.pageBodyPDFLeftMargin:vn.pageBodyDesktopLeftMargin},se.createElement(mT,{analyticsContext:d,space:t,revision:o,page:n,style:p.Margin.largeBottom}),g||null)))))),Y||Jo?null:se.createElement(tB,{tag:"aside",accessibilityLabel:G("page_outline"),testID:"page.outline",style:[vn.pageSideColumn,p.Margin.largeVertical,{top:C!==void 0?C:p.large,maxHeight:C!==void 0?`calc(100vh - ${C}px)`:`calc(100vh - ${mC+p.large}px)`},_==="app"?vn.pageSideMaxWidth:vn.pageSidePublicMaxWidth],mobileStyle:"hidden",desktopStyle:{width:Ce},customBreakpointsStyles:K},se.createElement(iT,{space:t,page:n,changeRequest:r,revision:o,analyticsContext:d,readOnly:i}),ur?se.createElement(f,{sections:ue,activeSection:Ro}):null)))}var vn=F.create({pageSideMaxWidth:{maxWidth:Rs},pageSidePublicMaxWidth:{maxWidth:`max(50%, ${Rs}px)`},pageSideColumn:{position:"sticky",overflowY:"auto",alignSelf:"flex-start"},pageBody:{maxWidth:ir+2*vt},pageBodyWithComments:{maxWidth:ir+vt,marginRight:0},pageBodyDesktopRightPadding:{paddingRight:vt},pageBodyMobileRightPadding:{paddingRight:xo},pageBodyPDFRightPadding:{paddingRight:xo},pageBodyDesktopLeftMargin:{marginLeft:vt},pageBodyMobileLeftMargin:{marginLeft:xo},pageBodyPDFLeftMargin:{marginLeft:xo}});c();var _C=x(O());z();function Rh(e){let{withPageOutline:t=!0}=e;return _C.createElement(X.View,{style:[v.directionRow,v.justifyContentCenter],desktopStyle:[p.Padding.xxlargeTop,_h.pageSheetLoadingDesktop,t&&_h.pageSheetLoadingDesktopWithOutline],mobileStyle:[p.Padding.mediumTop,_h.pageSheetLoadingMobile]},_C.createElement(Xt,{size:"xlarge",style:_h.pageBody}))}var _h=F.create({pageSheetLoadingDesktop:{paddingRight:vt,paddingLeft:vt},pageSheetLoadingDesktopWithOutline:{paddingRight:Rs+vt},pageSheetLoadingMobile:{paddingLeft:xo,paddingRight:xo},pageBody:{maxWidth:ir+2*vt}});c();var RC=x(O());function Ih(e,t,o){let n=Fe(),r=Fm();RC.useEffect(()=>{var i;!t.hash&&!n&&r.current&&((i=e==null?void 0:e.current)==null||i.scrollTo(0,0))},[o,!!t.hash,n]),RC.useEffect(()=>{if(t.hash&&!n){let i=window.document.getElementById(t.hash);i&&i.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}},[t.hash,n])}c();var Qt=x(O());z();var rB=$e("app:crash");function Fd(e){let{children:t}=e,o=Qt.useCallback((n,r,i)=>{rB.emergency(`An error occured during rendering:

`,n,`

The error is located at:
`,r),J({type:"crash",crashType:IC(n),sentryEvent:i})},[]);return Qt.createElement(nm,{fallback:n=>Qt.createElement(iB,{...n}),onError:o,beforeCapture:cB},t)}function iB(e){let{eventId:t,error:o}=e,[,n]=R(lB),r=()=>{iS({eventId:t||void 0})},i=()=>{window.location.reload()};Qt.useEffect(()=>{let s=document.querySelector(".gitbook-splashscreen");s==null||s.remove()},[]);let a=()=>{switch(IC(o)){case"network-crash":return Qt.createElement(sB,{onReload:i,...e});case"crash":default:return Qt.createElement(aB,{onShareFeedback:r,onReload:i,...e})}};return Qt.createElement(b,{style:[n.background]},a())}function aB(e){let t=re(),{onReload:o,onShareFeedback:n}=e;return Qt.createElement(_u,{title:t("something_wrong"),action:Qt.createElement(Qt.Fragment,null,Qt.createElement(D,{kind:"primary",size:"medium",onPress:o,style:p.Margin.smallRight},t("reload")),Qt.createElement(D,{kind:"secondary",size:"medium",onPress:n},t("let_us_know")))},t("we_have_been_notified"))}function sB(e){let{onReload:t}=e,o=re(),n=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return Qt.createElement(_u,{title:o("connection_lost"),icon:S.CloudOff,action:Qt.createElement(Qt.Fragment,null,Qt.createElement(D,{kind:"primary",size:"medium",onPress:t,style:p.Margin.smallRight},o("reload")),Qt.createElement(D,{size:"medium",icon:S.Link,onPress:n},o("network_troubleshooting")))},o("device_offline"))}function cB(e,t){switch(IC(t)){case"network-crash":e.setTag("error_category","network-crash");break;case"crash":default:e.setTag("error_category","react-crash")}}function IC(e){return e.name==="FirebaseError"&&e.code==="unavailable"?"network-crash":"crash"}var lB=L.create({background:e=>({backgroundColor:e.colors.background.main,minHeight:"100vh"})});c();var Br=x(O());c();var PC=x(O());function Ph(e){let{children:t,ssrRequestPath:o,ssrRouterContext:n}=e;return n?PC.createElement(tx,{location:o,context:n},t):PC.createElement(Wy,null,t)}c();var Eh=x(O());function ST(e="https://policies.gitbook.com/privacy/cookies",t=!1){let o=ao(),n=re();Eh.useEffect(()=>{if(!t)return;let r=!1;if(Am()!==null)return;let i=o.notify({title:n("cookies"),details:n("cookie_prompt",Eh.createElement(Vi,{url:e},n("cookie_policy"))),timeout:0,icon:S.Cookies,actions:[{label:n("reject_all"),onPress:()=>{r=!0,dy(!1),i()}}],onClose:()=>{r||dy(!0)}})},[])}c();var me=x(O());z();c();var Ln=x(O());z();var{TOC_DESKTOP_WIDTH:uB}=yn,dB=X.createResponsiveComponent(Te),mB=B.createInteractiveComponent(dB),EC=uB-p.large-p.large;function Th(e){var f;let{space:t,collection:o,mobileStyle:n,desktopStyle:r}=e,[,i]=R(N),{getNavigationLinkProps:a}=we(),s=(o?(o==null?void 0:o.publishedTitle)||(o==null?void 0:o.title):t.publishedTitle||t.title)||ca,l=s.length>14,u=l?2:1,m=Z1(t)&&(f=o==null?void 0:o.logoURL)!=null?f:t.logoURL;return Ln.createElement(mB,{style:[v.directionRow,v.alignCenter],mobileStyle:n,desktopStyle:r,...a({screen:{space:t.key,page:""}}),testID:"public.headerHomeLink",accessibilityLabel:s},m?Ln.createElement(X.View,{style:[v.flex1,v.directionRow,v.alignCenter,Gd.headerDesktop],mobileStyle:Gd.logoMobile,desktopStyle:Gd.logoDesktop},Ln.createElement(X.View,{desktopStyle:"visible",mobileStyle:"hidden"},Ln.createElement(Po,{source:{uri:di(m,{height:40,fit:"contain"})},loading:"priority",style:{maxHeight:40,maxWidth:EC,width:"auto",height:"auto"}})),Ln.createElement(X.View,{desktopStyle:"hidden",mobileStyle:"visible"},Ln.createElement(Po,{source:{uri:di(m,{height:30,fit:"contain"})},style:{maxHeight:30,maxWidth:EC,width:"auto",height:"auto"}}))):Ln.createElement(b,{style:[Gd.headerDesktop,v.flex1,v.directionRow,v.justifyContentStart,v.alignCenter]},Ln.createElement(b,null,Ln.createElement(X.View,{mobileStyle:"hidden",desktopStyle:"visible"},Ln.createElement(Cy,{content:o||t,renderFor:"public-content",size:E.BUTTON_L,style:[p.Margin.mediumRight]})),Ln.createElement(X.View,{mobileStyle:"visible",desktopStyle:"hidden"},Ln.createElement(Cy,{content:o||t,renderFor:"public-content",size:E.ICON_XL,style:[p.Margin.mediumRight]}))),Ln.createElement(X.Text,{style:Gd.textOverflow,mobileStyle:[i.Heading3],desktopStyle:[l?i.Heading3:i.Heading2]},Ln.createElement(B.Text.Child,{numberOfLines:u,ellipsizeMode:"tail",inactiveStyle:i.text,activeStyle:e.space.headerTheme==="bold"?i.textStandout:i.primary},s))))}var Gd=F.create({textOverflow:{overflow:"hidden"},logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:EC}});c();var _c=x(O());z();c();c();var Ar=x(O());z();var pB=X.createResponsiveComponent(B.TouchableOpacity),fB=B.createInteractiveComponent(X.View);function Mh(e){return`hsla(${kw(e.colors.text.primary).h}, 60%, 70%, 0.1)`}var wT=Ar.forwardRef(function(t,o){let{isLast:n,leftIcon:r,icon:i,rightIcon:a,kind:s="primary",children:l,expanded:u=!1,onChevronPress:d,active:m=!1,onPress:f,textStyle:g,href:y}=t,h=B.useInteractiveState(),[C,w]=R(gB),[,k]=R(N),I=s==="primary"?k.textMid:k.textMuted,_=m?k.primary:I,P=f?pB:fB,M=u?S.ChevronDown:S.ChevronRight;return Ar.createElement(P,{ref:o,...h.events,style:[w.tocMenuItem,p.Padding.smallHorizontal,p.Margin.smallRight,n?null:p.Margin.xsmallBottom,m?{backgroundColor:Mh(C)}:null],hoverStyle:f&&!m?w.tocMenuItemHovered:null,mobileStyle:w.tocMenuItemMobile,desktopStyle:w.tocMenuItemDesktop,onPress:f,href:y&&f?y:void 0},r?Ar.createElement(b,{style:[p.Margin.mediumRight]},Ar.createElement(r,{size:E.ICON_M,style:[_,g]})):null,i?Ar.createElement(b,{style:[p.Margin.mediumRight]},Ar.createElement(i,{size:E.ICON_M,style:[_,g]})):null,Ar.createElement(A,{style:[v.flex1,p.Padding.xsmallVertical,s==="group"?k.GroupTitle:k.Label,_,g,m?k.Bold:null]},l),d?Ar.createElement(Te,{style:[v.directionRow,v.alignCenter],onPress:d},Ar.createElement(M,{size:E.ICON_S,style:_})):null,a?Ar.createElement(b,{style:w.tocMenuItemRightIcon},Ar.createElement(a,{size:E.ICON_M,style:k.textMuted})):null)}),gB=L.create({tocMenuItem:e=>({flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,borderRadius:e.radiuses.medium,minHeight:E.XS}),tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:e=>({backgroundColor:e.colors.background.standout}),tocMenuItemRightIcon:{marginLeft:p.small,marginRight:(E.S-E.ICON_M)/2}});c();var du=x(O());c();var _i=x(O());z();c();var hB=750,yB=p.xxlarge,kT=hB+2*yB,Lh=300,vB=220;function xT(e=0){return e+Lh+kT+vB}function OT(e){let t=`(100vw - ${kT}px) / 2 - ${e||0}px`;return`max(${Lh}px, calc(${t}))`}c();var Hd=x(O());z();c();var Uo=x(O());z();function TC(e){return Uo.createElement(Uo.Suspense,{fallback:Uo.createElement(_T,{...e})},Uo.createElement(bB,{...e}))}function bB(e){let{revision:t,treePage:o}=e,{page:n}=o,r=Un(n.kind==="link"?n.ref:void 0,{space:t.space,revision:t.key});return Uo.createElement(_T,{...e,contentRef:r})}function _T(e){let{revision:t,treePage:o,parent:n,currentPage:r,contentRef:i,isLastPage:a}=e,{page:s}=o,{getNavigationHref:l,navigateToPage:u}=ss(),d=r?r.key:null,m=d===s.key,f=!!d&&kS(t,s.key,d),[g,y]=Uo.useState(f),[,h]=R(CB),C=w=>{w.isDefaultPrevented()||w.nativeEvent.metaKey||w.nativeEvent.ctrlKey||(w.preventDefault(),s.kind==="sheet"?u(t,s.key):s.kind==="link"&&(i==null||i.open()))};return Uo.useEffect(()=>{f&&y(!0)},[f]),Uo.createElement(b,{style:[s.kind==="group"&&p.Margin.mediumVertical]},Uo.createElement(wT,{isLast:a,kind:s.kind==="group"?"group":!n||n.kind==="group"?"primary":"secondary",icon:s.emoji?Ke(bo,{code:s.emoji}):void 0,rightIcon:s.kind==="link"?i?i.secondaryIcon:Se:void 0,active:m,expanded:g,onPress:s.kind==="group"?void 0:C,href:(()=>s.kind==="link"?i==null?void 0:i.href:l(t,s.key))(),onChevronPress:o.pages.length>0&&s.kind==="sheet"?w=>{w.preventDefault(),y(k=>!k)}:void 0},s.title),(g||s.kind==="group")&&o.pages.length>0?Uo.createElement(b,{style:[h.tocItemChildren,...s.kind==="group"?[p.Margin.noneLeft]:[p.Margin.smallLeft,p.Margin.xsmallTop,p.Margin.smallBottom]]},o.pages.map((w,k)=>Uo.createElement(b,{style:s.kind==="group"?null:p.Margin.smallLeft,key:w.renderKey},Uo.createElement(TC,{...e,treePage:w,isLastPage:k===o.pages.length-1,parent:s}))),s.kind==="group"?null:Uo.createElement(b,{style:h.tocItemChildrenLine})):null)}var CB=L.create({tocItemChildren:{position:"relative"},tocItemChildrenLine:e=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:e.colors.border.main})});c();var Oi=x(O());z();var RT=x(Nk());var MC=40,SB=B.createInteractiveComponent(Mw);function uu(e){return Oi.createElement(qs,null,Oi.createElement(wB,{...e}))}function wB(e){let{space:t,floating:o}=e,[n,r]=R(kB),[,i]=R(N),a=re(),s=new URLSearchParams({utm_source:"content",utm_medium:"trademark",utm_campaign:t.key}),l=`https://${Va.homepage.domain}/?${s.toString()}`,u=()=>{J(Gt(t,{type:"public_content_click_trademark"}))};return Oi.createElement(b,{style:o&&r.floatingWrapper},o?Oi.createElement(RT.default,{colors:[`${n.colors.background.main}00`,n.colors.background.main],style:r.floatingTopGradient}):null,Oi.createElement(b,{style:o&&[p.Padding.mediumHorizontal,p.Padding.mediumBottom,r.floatingBackground]},Oi.createElement(B.TouchableOpacity,{style:[v.directionRow,v.alignCenter,...o?[r.trademarkFloating,p.Padding.smallVertical,p.Padding.mediumHorizontal]:[r.tradeMarkDefault]],activeStyle:i.primary,onPress:u,href:l,target:"_blank"},Oi.createElement(SB,{size:MC,style:i.textMuted,activeStyle:i.primary}),Oi.createElement(b,{style:[v.flex1,p.Padding.mediumLeft]},Oi.createElement(B.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",Oi.createElement(A,{style:i.Bold},"GitBook")))))))}var kB=L.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:p.medium},floatingBackground:e=>({backgroundColor:e.colors.background.main}),tradeMarkDefault:e=>({backgroundColor:"transparent"}),trademarkFloating:e=>({backgroundColor:e.colors.background.standout,borderRadius:e.radiuses.xlarge})});function Nh(e){let{showingTrademark:t,revision:o}=e,n=Hd.useMemo(()=>Sy(o.pages,o.rootPages),[o]);return Hd.createElement(Ei,{style:v.flex1,contentContainerStyle:[p.Padding.mediumVertical,t?xB.scrollviewWithTrademark:null]},n.map((r,i)=>Hd.createElement(TC,{key:r.renderKey,...e,treePage:r,isLastPage:i===n.length-1})))}var xB=F.create({scrollviewWithTrademark:{paddingBottom:p.medium+MC+2*p.medium}});c();var Bo=x(O());z();c();var Ba=x(O());z();function IT(e){let[,{open:t}]=vy(),o=re();return Ba.createElement(D,{icon:S.SearchPublic,size:"medium",kind:e.headerTheme==="bold"?"default_bold":"default",alignItems:"start",onPress:t,style:[p.Padding.noneHorizontal],accessibilityLabel:o("search")})}function Dh(e){let{headerTheme:t}=e,[,{open:o}]=vy(),n=re(),[,r]=R(N),[,i]=R(OB),a=jc(),s=Kr(),l=t==="bold"?r.text:r.textMid,u=()=>t==="bold"?s.color==="light"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)":s.color==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.10)";return Ba.createElement(B.TouchableOpacity,{style:[{backgroundColor:u()},i.searchBarButton,v.directionRow,v.justifySpaceBetween,v.alignCenter,p.Padding.mediumLeft,p.Padding.smallRight],activeStyle:i.searchBarButtonActive,accessibilityLabel:n("search"),onPress:o},Ba.createElement(b,{style:[v.directionRow,v.alignCenter]},Ba.createElement(S.SearchPublic,{size:E.ICON_XS,style:[l,p.Margin.smallRight]}),Ba.createElement(B.Text.Child,{style:[r.Label,l],activeStyle:r.text},n("search"))),Ba.createElement(b,null,Ba.createElement(Cr,{theme:t==="bold"?a:s},Ba.createElement(Ur,{kind:"main",shortcut:We.SEARCH_OPEN}))))}var OB=L.create({searchBarButton:e=>({width:"100%",height:E.BUTTON_L,borderRadius:e.radiuses.large,borderWidth:1,borderColor:"transparent"}),searchBarButtonActive:e=>({borderColor:e.colors.border.mid})});function Ah(e){let{space:t,collection:o,collectionSpaces:n,currentPage:r,revision:i}=e,[,a]=R(LC),s=n&&(o==null?void 0:o.publishingType)==="variants"?Bo.createElement(Bh,{key:"variants-picker",currentVariant:t,collection:o,variants:n,revision:i,currentPage:r}):null;return Bo.createElement(Bo.Fragment,null,Bo.createElement(_B,{key:"mobile-closing-bar",variantsSwitcher:s}),t.headerTheme==="none"?Bo.createElement(Bo.Fragment,null,Bo.createElement(RB,{key:"space-header",space:t,collection:o,variantsSwitcher:s}),Bo.createElement(X.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[a.searchBarSection,p.Padding.smallTop,p.Padding.mediumBottom,p.Padding.smallRight,p.Padding.noneLeft,v.directionRow]},Bo.createElement(Dh,{key:"search-bar"}))):null)}function _B(e){let[,t]=R(LC),o=tl(tn(wl),Bo.useState(!1));return Bo.createElement(X.View,{style:[t.mobileClosingBar,p.Padding.smallHorizontal,v.justifySpaceBetween,v.alignCenter,v.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},Bo.createElement(D,{icon:S.X,size:"large",kind:"default",onPress:()=>o.closeMobile(),style:[v.alignSelfCenter,p.Padding.smallHorizontal],accessibilityLabel:"Close"}),e.variantsSwitcher)}function RB(e){let{space:t,collection:o,variantsSwitcher:n}=e,[,r]=R(LC);return Bo.createElement(X.View,{style:[r.spaceTitleWrapper,v.directionRow,v.justifyContentCenter,v.alignCenter],mobileStyle:"hidden",desktopStyle:"visible"},Bo.createElement(Th,{space:t,collection:o,desktopStyle:v.flex1}),Bo.createElement(b,{style:[v.alignSelfCenter,p.Margin.smallHorizontal]},n))}var LC=L.create({searchBarSection:e=>({borderColor:e.colors.border.mid,borderBottomWidth:1}),selectedTab:e=>({borderLeftColor:e.colors.primary.main,borderLeftWidth:2}),hoverTab:e=>({backgroundColor:e.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:E.BUTTON_M,lineHeight:E.BUTTON_M,borderRadius:0,paddingHorizontal:p.medium},mainBadge:{fontFamily:hw,fontSize:zm.xxsmall,lineHeight:E.BUTTON_M,...Vm.Bold,textTransform:"uppercase",letterSpacing:1},spaceTitleWrapper:e=>({height:E.L}),mobileClosingBar:e=>({height:E.L,borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main}),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:NC}=yn;function PT(e){let{space:t}=e,o=re(),n=rm(t.headerTheme,t.themeMode),[,r]=R(IB[n]),{desktopSidebarWidth:i}=_i.useContext(kr),a=_i.useMemo(()=>({[xT(i)]:"visible"}),[i]),s=!t.hideTrademark;return _i.createElement(X.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:a,style:[r.tocDesktopWrapper,v.directionRow,{width:OT(i)},v.justifyContentEnd]},_i.createElement(te,{tag:"nav",accessibilityLabel:o("table_of_contents"),style:[PB.tocDesktop,v.directionColumn]},_i.createElement(b,{style:[v.flex1,p.Padding.largeLeft]},_i.createElement(Ah,{...e}),_i.createElement(Nh,{...e,showingTrademark:s})),s?_i.createElement(uu,{floating:!0,space:t}):null))}var IB={none:L.create({tocDesktopWrapper:e=>({position:"sticky",top:0,height:"100vh",overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),light:L.create({tocDesktopWrapper:e=>({position:"sticky",top:p.xxlarge,height:`calc(100vh - ${NC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),dark:L.create({tocDesktopWrapper:e=>({position:"sticky",top:p.xxlarge,height:`calc(100vh - ${NC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),bold:L.create({tocDesktopWrapper:e=>({position:"sticky",top:p.xxlarge,height:`calc(100vh - ${NC}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})})},PB=F.create({tocDesktop:{width:Lh}});c();var sr=x(O());z();var EB=X.createResponsiveComponent(dt.View),TB=X.createResponsiveComponent(dt.createAnimatedComponent(Te));function TT(e){let{currentPage:t,space:o}=e,n=re(),r=tl(tn(wl),sr.useState(!1)),{sidebarMobileLeft:i,showOverlay:a}=d1(r),[s,l]=R(MB);sr.useEffect(()=>{r.close()},[t==null?void 0:t.key]);let u=!o.hideTrademark;return sr.createElement(on,null,sr.createElement(EB,{style:[l.sidebar,{left:i}],mobileStyle:"visible",desktopStyle:"hidden"},sr.createElement(te,{tag:"nav",accessibilityLabel:n("table_of_contents"),style:[v.directionColumn,v.flex1]},sr.createElement(b,{style:v.flex1},sr.createElement(Ah,{...e}),sr.createElement(b,{style:[p.Padding.mediumLeft,v.flex1,l.sidebarWrapper]},sr.createElement(Nh,{...e,showingTrademark:u}))),u?sr.createElement(uu,{floating:!0,space:o}):null)),sr.createElement(TB,{style:[l.screenOverlay,{backgroundColor:i.interpolate({inputRange:[-np.MOBILE_WIDTH,0],outputRange:[s.colors.backdrop.transparent,s.colors.backdrop.background]})}],mobileStyle:a?"visible":"hidden",desktopStyle:"hidden",onPress:r.closeMobile}))}var ET=10,MB=L.create({sidebar:e=>({backgroundColor:e.colors.background.main,width:np.MOBILE_WIDTH,maxWidth:"100%",height:"100%",flexDirection:"row",position:"fixed",top:0,bottom:0,zIndex:ET}),sidebarWrapper:e=>({borderRightWidth:1,borderRightColor:e.colors.border.mid}),sidebarCloseButton:{position:"absolute",width:E.BUTTON_M,height:E.BUTTON_M,top:(E.M-E.BUTTON_M)/2,left:np.MOBILE_WIDTH+E.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:ET-1}});function MT(e){return du.createElement(du.Fragment,null,du.createElement(PT,{...e}),du.createElement(TT,{...e}))}var DC=150,LB=200,NB=150;function zh(e){let[,t]=R(LT);return _c.createElement(X.View,{style:t.wrapper,mobileStyle:[t.wrapperMobile,p.Margin.smallVertical,p.Margin.smallHorizontal],desktopStyle:[t.wrapperDesktop,p.Margin.smallVertical,p.Margin.xsmallHorizontal]},_c.createElement(Ei,null,e.children))}function Wh(e){let{title:t,kind:o="default",active:n=!1,onPress:r,isLast:i}=e,[a,s]=R(LT),[,l]=R(N);return _c.createElement(B.TouchableOpacity,{hoverStyle:s.menuItemHovered,style:[s.menuItem,p.Padding.xsmallVertical,p.Padding.smallHorizontal,i?null:p.Margin.xsmallBottom,n?{backgroundColor:Mh(a)}:null],onPress:r},_c.createElement(b,{style:[v.directionRow,v.alignCenter,v.justifySpaceBetween]},_c.createElement(B.Text.Child,{hoverStyle:n?null:l.textStandout,style:[l.Label,o==="link"?l.SemiBold:null,...n?[l.primary,l.Bold]:[l.text]],numberOfLines:2,ellipsizeMode:"tail"},t),_c.createElement(b,{style:[p.Margin.mediumLeft]},e.rightElement)))}var LT=L.create({wrapper:e=>({backgroundColor:e.colors.background.main}),wrapperDesktop:{minWidth:DC,maxWidth:LB,maxHeight:NB},wrapperMobile:{width:"auto",maxWidth:"100%",maxHeight:"100%"},menuItem:e=>({borderRadius:e.radiuses.large}),menuItemHovered:e=>({backgroundColor:e.colors.background.muted})});c();var Yo=x(O());z();function Bh(e){let{headerTheme:t,currentPage:o,collection:n,variants:r,currentVariant:i,revision:a}=e,{getNavigationLinkProps:s}=we(),l=re(),u=Yo.useRef(null),[,d]=R(N),m=Yo.useMemo(()=>o?He(a,o.key):"",[o]);return Yo.createElement(Ka,{ref:u,wrapper:jr,closeOnClick:!0,closeOnOutsideClick:!0,anchor:({ref:f,toggle:g,opened:y})=>{let h=y?S.ChevronUp:S.ChevronDown;return Yo.createElement(D,{ref:f,size:"medium",rightIcon:h,kind:t==="bold"?"default_bold":"default",alignItems:"start",onPress:g,style:[p.Padding.noneHorizontal]},Yo.createElement(b,{style:[NT.variantsPicker]},Yo.createElement(A,{numberOfLines:1,ellipsizeMode:"tail"},i.publishedTitle||i.title||ca)))}},Yo.createElement(nn,{kind:"menu",preferredAlignment:"start"},Yo.createElement(Yo.Suspense,{fallback:Yo.createElement(Xt,{size:"small"})},Yo.createElement(zh,null,r.map((f,g,y)=>Yo.createElement(Wh,{key:f.key,title:f.title,active:f.key===i.key,isLast:g===y.length-1,rightElement:f.key===n.primarySpace?Yo.createElement(A,{style:[d.textMuted,d.Uppercase,NT.mainLabel]},l("main")):null,...s({screen:{space:f.key,page:m}},()=>{var h;(h=u.current)==null||h.close()})}))))))}var NT=F.create({mainLabel:{letterSpacing:1.2},variantsPicker:{maxWidth:DC/2}});c();var DT=x(O());z();function AT(e){let{children:t,style:o}=e;return DT.createElement(b,{style:[DB.container,o]},t)}var DB=F.create({container:{display:"flex",flexDirection:"row",width:"100%",maxWidth:1510,marginHorizontal:"auto",paddingHorizontal:p.small}});var{PAGE_BODY_DESKTOP_H_PADDING:AB,TOC_DESKTOP_WIDTH:BB,PUBLIC_DESKTOP_HEADER_HEIGHT:zT,PUBLIC_MOBILE_HEADER_HEIGHT:WT}=yn,zB=X.createResponsiveComponent(D),WB=X.createResponsiveComponent(te);function VT(e){let{space:t}=e,o=rm(t.headerTheme,t.themeMode),n=Kr();KB(o);let r=me.useMemo(()=>P_(n,o,t.primaryColor),[o,t.primaryColor,n]);return me.createElement(Cr,{theme:r},t.headerTheme==="none"?me.createElement(X.View,{desktopStyle:"hidden",mobileStyle:"visible"},me.createElement(BT,{...e,headerTheme:o})):me.createElement(BT,{...e,headerTheme:o}))}function BT(e){let{space:t,headerTheme:o,revision:n,collection:r,collectionSpaces:i,currentPage:a}=e,[,s]=R(HB[o]),l=tl(tn(wl),me.useState(!1)),d=sa(a)==="docs",m=[Ts.searchWrapper,p.Padding.largeLeft,p.Padding.smallRight];return me.createElement(me.Fragment,null,me.createElement(WB,{tag:"header",desktopStyle:Ts.desktopHeight,mobileStyle:Ts.mobileHeight,style:[s.spaceHeader,v.directionRow,v.alignCenter]},me.createElement(AT,{style:v.alignCenter},d?me.createElement(zB,{desktopStyle:"hidden",mobileStyle:"visible",icon:S.Menu,style:p.Margin.smallRight,kind:"grey",rounded:!0,title:l.opened?"Hide Table of Content":"Show Table of Content",onPress:l.toggle}):null,me.createElement(Th,{space:t,collection:r,mobileStyle:[Ts.autoWidth,p.Padding.noneLeft,p.Padding.mediumRight,v.flexShrink1,v.justifyContentStart,d?null:p.Margin.smallLeft],desktopStyle:[Ts.autoWidth,p.Padding.mediumLeft,p.Padding.largeRight,v.justifyContentStart]}),i&&(r==null?void 0:r.publishingType)==="variants"?me.createElement(X.View,{mobileStyle:"hidden",desktopStyle:"visible"},me.createElement(Bh,{key:"variants-picker",headerTheme:o,currentPage:a,collection:r,revision:n,variants:i,currentVariant:t})):null,me.createElement(VB,{space:t,revision:n}),me.createElement(X.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[m,Ts.searchBarContainer,v.flex1]},me.createElement(Dh,{headerTheme:o})),me.createElement(X.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[m]},me.createElement(IT,{headerTheme:o})))),me.createElement(X.View,{mobileStyle:"visible",desktopStyle:"hidden"},me.createElement(Cr,{theme:im(t)},me.createElement(GB,{space:t,revision:n}))))}function VB(e){let{space:t,revision:o}=e;return me.createElement(X.View,{style:[v.directionRow,v.justifyContentEnd,v.alignCenter,v.flex1,p.Padding.mediumLeft],mobileStyle:"hidden"},(t.headerLinks||[]).map((n,r,i)=>n.title?me.createElement(qB,{space:t,revision:o,headerLink:n}):null))}function qB(e){let{headerLink:t,space:o,revision:n}=e,r=B.useInteractiveState({hoverDelay:250}),i=B.useInteractiveState(),a=s=>{var l;return me.createElement(Uu,{ref:s.ref,style:[p.Padding.mediumHorizontal],kind:((l=e.space)==null?void 0:l.headerTheme)==="bold"?"bold":"default",title:t.title,contentRef:t.to,space:o,revision:n,...s.events})};return t.links&&t.links.length>0?me.createElement(zi,{opened:r.hovered||i.hovered,wrapper:jr,anchor:({ref:s})=>a({ref:s,events:r.events})},me.createElement(nn,{kind:"menu",preferredAlignment:"start"},me.createElement(b,{...i.events},me.createElement(zh,null,t.links.map((s,l,u)=>me.createElement(FB,{key:l,link:s,revision:n,isLast:l===u.length-1})))))):a({})}function FB(e){let{link:t,revision:o,isLast:n}=e,r=Un(t.to,{space:o.space,revision:o.key});return me.createElement(Wh,{kind:"link",title:t.title,isLast:n,onPress:i=>{i.nativeEvent.metaKey||i.nativeEvent.ctrlKey||(i.preventDefault(),r.open())}})}function GB(e){let{space:t,revision:o}=e,[n,r]=me.useState(!1),[,{headerLinksMobile:i}]=R(XB),a=n?S.ChevronDown:S.ChevronRight;return!t.headerLinks||t.headerLinks.length===0?null:me.createElement(b,{style:[Ts.headerLinksMobile,i,v.justifyContentCenter,p.Padding.medium]},me.createElement(b,{style:[Ts.headerLinksMobileButton]},me.createElement(D,{size:"large",rightIcon:a,alignItems:"start",onPress:()=>r(s=>!s),style:[p.Padding.noneHorizontal]},"Links")),n?me.createElement(b,null,t.headerLinks.map((s,l,u)=>s.title?me.createElement(qT,{space:t,revision:o,link:s,isLast:l===u.length-1}):null)):null)}function qT(e){var u;let{link:t,space:o,revision:n,isLast:r}=e,[i,a]=me.useState(!1),s="links"in t?t.links||[]:[],l=i?S.ChevronDown:S.ChevronRight;return me.createElement(b,{style:[v.directionColumn]},me.createElement(b,{style:[v.directionRow,v.alignCenter]},me.createElement(Uu,{style:[p.Padding.smallTop,r?null:p.Padding.smallBottom],kind:((u=e.space)==null?void 0:u.headerTheme)==="bold"?"bold":"default",title:t.title,contentRef:t.to,space:o,revision:n}),s.length>0?me.createElement(D,{size:"large",kind:"link",rightIcon:l,alignItems:"start",onPress:()=>a(d=>!d),style:[p.Padding.noneHorizontal]}):null),i?me.createElement(b,{style:[p.Margin.smallLeft,p.Margin.smallBottom]},s.map((d,m,f)=>me.createElement(qT,{key:m,space:o,revision:n,link:d,isLast:m===f.length-1}))):null)}var HB={none:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1})}),light:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:L.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})},XB=L.create({headerLinksMobile:e=>({backgroundColor:e.colors.background.main,borderBottomWidth:1,borderBottomColor:e.colors.border.main})}),Ts=F.create({searchWrapper:{marginLeft:"auto"},searchBarContainer:{maxWidth:225},autoWidth:{width:"auto"},tocDesktop:{width:BB},headerLinks:{paddingHorizontal:AB-p.medium},headerLinksMobile:{minHeight:E.M},headerLinksMobileButton:{marginRight:"auto"},mobileHeight:{height:WT},desktopHeight:{height:zT}});function KB(e){let o=Uc()==="mobile";Ha(()=>{if(e!=="none"){let n=document.getElementsByTagName("html")[0];n.style.scrollPaddingTop=`${o?WT:zT}px`}},[e])}c();var zo=x(O());c();var cr=x(O());z();c();var Ri=x(O());z();function FT(e){let{space:t,revision:o,page:n,analyticsContext:r}=e,i=fw(),[,a]=R(N),s=re(),[{result:l,error:u}]=cp([xy(t.key,n.key,i)]);if(u)return null;let d=m=>{m!==(l==null?void 0:l.rating)&&(J({...r,type:"public_content_page_feedback_post",rating:m}),lS(f=>{Q1(f,{space:t.key,page:n.key,revision:o.key,visitorId:i,rating:m,previousRating:l==null?void 0:l.rating})}))};return Ri.createElement(b,{style:[v.directionRow,v.alignCenter]},Ri.createElement(b,null,Ri.createElement(A,{style:[a.GroupTitle,a.textMuted]},s("was_it_helpful"))),Ri.createElement(b,{style:[v.directionRow,v.alignCenter]},Ri.createElement(AC,{tooltip:s("poor_content"),active:(l==null?void 0:l.rating)==="bad",rating:"bad",onPress:d}),Ri.createElement(AC,{tooltip:s("ok_content"),active:(l==null?void 0:l.rating)==="ok",rating:"ok",onPress:d}),Ri.createElement(AC,{tooltip:s("excellent_content"),active:(l==null?void 0:l.rating)==="good",rating:"good",onPress:d})))}function AC(e){let{active:t,tooltip:o,rating:n,onPress:r}=e;return Ri.createElement(Fn,{tooltip:o},(i,a)=>Ri.createElement(Te,{ref:a,onPress:()=>r(n),style:[p.Margin.smallLeft],accessibilityLabel:o,...i.events},Ri.createElement(GE,{active:t,interactive:!0,rating:n,size:E.BUTTON_S})))}function GT(e){let{space:t,revision:o,page:n,analyticsContext:r}=e,[,i]=R(N),[,a]=R(jB),s=re(),l=yu(n.edits),u=sa(n),d=!!l,m=t.hasPublicFeedback,f=!t.hideTrademark&&(u==="editorial"||u==="landing");if(!d&&!m)return null;let g=cr.createElement(pg,null,cr.createElement(cr.Suspense,{fallback:null},cr.createElement(FT,{space:t,revision:o,page:n,analyticsContext:r})));return cr.createElement(b,{style:[p.Padding.largeTop,a.footer]},cr.createElement(X.View,{tabletStyle:v.directionColumn,desktopStyle:v.directionRow,style:[v.alignCenter,v.justifySpaceBetween]},d?cr.createElement(X.View,{tabletStyle:p.Margin.mediumBottom,style:f?[]:[v.flex1]},cr.createElement(A,{style:[i.textMuted,i.Label]},s("last_modified",cr.createElement(a1,{value:l.updatedAt.toDate(),onlyDate:!1})))):null,f?cr.createElement(uu,{space:t,floating:!1}):null,m?cr.createElement(X.View,{tabletStyle:f?"hidden":"visible",desktopStyle:"visible"},g):null),f&&m?cr.createElement(X.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[v.directionRow,v.flex1,v.justifyContentCenter,p.Margin.largeTop]},g):null)}var jB=L.create({footer:e=>({borderTopColor:e.colors.border.mid,borderTopWidth:1})});c();var Ii=x(O());z();var UB=B.createInteractiveComponent(xn),YB={[Me]:null,[Ne]:p.Margin.smallLeft,[qo]:null},HT=Ii.memo(function(t){let{sections:o,activeSection:n}=t,[,r]=R(N),[,i]=R(XT),a=re();return Ii.createElement(b,{style:[i.pageOutline]},Ii.createElement(b,{style:[v.directionRow,v.alignCenter,p.Padding.largeHorizontal,p.Margin.smallBottom]},Ii.createElement(A,{style:[r.GroupTitle,r.textMuted,r.Bold]},a("outline"))),o.map(s=>s.type===null||s.type===Xe?null:Ii.createElement(ZB,{key:s.key,section:s,active:n===s.key})))});function ZB(e){let{section:t,active:o}=e,[,n]=R(N),[,r]=R(XT),{navigateToHash:i}=we();return Ii.createElement(B.TouchableOpacity,{style:[v.directionRow,p.Padding.largeHorizontal,r.sectionItem,o&&r.sectionItemActive],onPress:()=>{i(t.anchor)}},t.tag?Ii.createElement(Wn,{backgroundColor:tc[t.tag]||j.orange.base,style:[r.sectionTag,p.Margin.xsmallRight,v.alignSelfCenter]},Ii.createElement(A,{style:[n.textInsideColor,n.MobileCaption,n.Bold,n.Uppercase]},t.tag)):null,Ii.createElement(UB.Child,{style:[n.Label,n.textMid,t.type&&YB[t.type],...o?[n.primary,n.Medium]:[]],hoverStyle:n.primary},t.title))}var XT=L.create({pageOutline:e=>({maxWidth:yn.MAX_PAGE_OUTLINE_WIDTH}),sectionItem:{marginTop:p.xsmall,marginBottom:p.xsmall,marginLeft:-1,borderLeftWidth:3,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:e=>({borderLeftColor:e.colors.primary.main}),sectionTag:{borderRadius:E.XXS,height:E.XXS,paddingHorizontal:p.small,justifyContent:"center"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:$B}=yn;function KT(e){var C;let{space:t,revision:o,screen:n,analyticsContext:r,collection:i,collectionSpaces:a,assetHostname:s,currentPage:l,scrollRef:u}=e,d=re(),[m,f]=R(QB);if(Ex(t),ya(w=>{w.writeAsync([{type:"meta",name:"description",content:l&&"description"in l?l.description:""},{type:"meta",name:"og:description",content:l&&"description"in l?l.description:""},{type:"meta",name:"og:image",content:t.socialPreviewURL?di(t.socialPreviewURL,{height:640,width:1280,fit:"contain"}):ez(t,o,l)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),t.visibility==="in-collection"?(w.setTitle(l?l.title:d("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||ca),w.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(w.setTitle(l?l.title:d("page_not_found"),t.publishedTitle||t.title||ca),w.writeAsync([{type:"meta",name:"robots",content:t.visibility!=="public"?"noindex, nofollow":"index"}]))}),nl(l?Dm(t,l,{screen:"space",visibility:t.visibility,pageLayout:sa(l),diffMode:!1}):null,[t.key,l==null?void 0:l.key]),ix(t,(C=l==null?void 0:l.key)!=null?C:null),!l&&n.page){let[w]=rl([X1(t.key,n.page)]);if(w&&o.pages[w.page])return zo.default.createElement(E_,{to:He(o,w.page)})}let g=sa(l),y=g==="docs",h=g==="docs"||g==="editorial";return zo.default.createElement(zo.default.Fragment,null,zo.default.createElement(tz,{space:i||t,assetHostname:s}),zo.default.createElement(X.View,{style:[v.flex1],mobileStyle:v.directionColumn,desktopStyle:v.directionRow},y?zo.default.createElement(MT,{space:t,revision:o,currentPage:(l==null?void 0:l.kind)==="sheet"?l:null,analyticsContext:r,collection:i,collectionSpaces:a}):null,zo.default.createElement(Wn,{style:[f.spacePageBody],backgroundColor:m.colors.background.main},zo.default.createElement(zo.default.Suspense,{fallback:zo.default.createElement(Rh,{withPageOutline:(l==null?void 0:l.layout)!=="landing"})},l&&l.kind==="sheet"?zo.default.createElement(Oh,{key:JB(n,o,l),space:t,changeRequest:void 0,revision:o,page:l,readOnly:!0,withComments:!1,withToC:y,analyticsContext:r,scrollRef:u,outline:h?HT:void 0,footer:zo.default.createElement(GT,{space:t,revision:o,page:l,analyticsContext:r}),sideColumnStickyTop:p.large+(t.headerTheme==="none"?0:$B)}):zo.default.createElement(lI,{statusCode:404},zo.default.createElement(_u,{title:d("page_not_found"),action:zo.default.createElement(y1,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:t.key,page:""}}},d("back_to_home"))},d("page_not_found_long")))))))}var QB=L.create({spacePageBody:{flex:1}});function JB(e,t,o){let n=e.space;return n+=`/${e.changeRequest||"main"}`,n+=`/${t.conflicts?"conflicts":"normal"}`,n+=`/${o.key}`,e.diff&&(n+="/diff"),e.revision&&(n+="/revision"),n}function ez(e,t,o){let n=o&&t.rootPages[0]!==o.key?`/page/${o.key}`:"",r=`color=${encodeURIComponent(e.primaryColor||"")}&logo=${encodeURIComponent(ha(e.logoURL||e.iconURL||""))}&theme=${encodeURIComponent(e.headerTheme||"")}`;return`${tm()}/share/space/thumbnail/${e.key}${n}.png?${r}`}function tz(e){let{space:t,assetHostname:o}=e,n=sw(t,"public-content"),[r]=R(),[i,a]=zo.default.useState(n.iconURL||(n.emoji?`${o}${iw(n.emoji)}`:null));return zo.default.useEffect(()=>{if(i)return;let s=192,l=document.createElement("canvas"),u=l.getContext("2d");if(!u)return;l.width=s,l.height=s,u.fillStyle=r.colors.background.main,u.fillRect(0,0,s,s);let d=.7;u.fillStyle=r.colors.text.main,u.font=`400 ${s*d}px gitbook-content-font`,u.textAlign="center",u.fillText(t.title.slice(0,1),s/2,s*(1-d)/2),a(l.toDataURL("image/png"))},[t.title,a]),ya(s=>{s.writeAsync([{type:"link",rel:"icon",href:i?ha(i):`${o}/public/images/icon-512.png`}])}),null}c();var xe=x(O());z();var oz=X.createResponsiveComponent(te),jT=200,nz=4*(jT+p.small);function UT(e){let{space:t,collection:o,revision:n}=e,[,r]=R(N),[,i]=R(az),a=xe.useMemo(()=>(t==null?void 0:t.footer)||(o==null?void 0:o.footer),[t,o]);return xe.createElement(xe.Fragment,null,a?xe.createElement(oz,{tag:"footer",style:[v.alignCenter,i.footer]},xe.createElement(X.View,{desktopStyle:[oa.desktopContainer]},xe.createElement(X.View,{desktopStyle:v.directionRow,mobileStyle:v.directionColumn},a!=null&&a.logoURL?xe.createElement(X.View,{style:[v.directionRow,v.alignStart,p.Padding.xlargeTop,a!=null&&a.copyright?null:p.Padding.xlargeBottom],desktopStyle:p.Margin.xxlargeHorizontal,mobileStyle:p.Margin.largeHorizontal},xe.createElement(X.View,{desktopStyle:"visible",mobileStyle:"hidden"},xe.createElement(Po,{source:{uri:a==null?void 0:a.logoURL},style:oa.footerImageDesktop,loading:"lazy"})),xe.createElement(X.View,{desktopStyle:"hidden",mobileStyle:"visible"},xe.createElement(b,{style:p.Margin.largeLeft},xe.createElement(Po,{source:{uri:a==null?void 0:a.logoURL},style:oa.footerImageMobile,loading:"lazy"})))):null,a!=null&&a.linkGroups?xe.createElement(X.View,{style:[p.Padding.xlargeTop,a.logoURL?v.alignStart:v.alignCenter,v.flex1,a!=null&&a.copyright?null:p.Padding.xlargeBottom],mobileStyle:v.alignStart,tabletStyle:p.Padding.largeLeft},xe.createElement(X.View,{mobileStyle:"hidden",tabletStyle:"hidden",desktopStyle:a.linkGroups.length<3&&!a.logoURL?"visible":"hidden"},xe.createElement(rz,{linkGroups:a.linkGroups,revision:n})),xe.createElement(X.View,{mobileStyle:"visible",tabletStyle:"visible",desktopStyle:a.linkGroups.length>=3||a.logoURL?"visible":"hidden"},xe.createElement(iz,{linkGroups:a.linkGroups,revision:n}))):null),a!=null&&a.copyright?xe.createElement(X.View,{style:[v.flex1,p.Padding.xlargeVertical]},xe.createElement(A,{style:[oa.copyright,r.textMuted]},a==null?void 0:a.copyright)):null)):null)}function rz(e){let{linkGroups:t,revision:o}=e,[,n]=R(N),r=[],i=t==null?void 0:t.map(({title:a})=>a);return t==null||t.forEach(a=>{var s;(s=a==null?void 0:a.links)==null||s.forEach((l,u)=>{if(r[u]===void 0)return r[u]=[l];r[u].push(l)})}),xe.createElement(b,{style:[v.flex1,v.justifyContentStart,v.directionRow]},xe.createElement(b,{style:oa.linkGroupColumnDesktop},xe.createElement(b,{style:[v.flex1]},i==null?void 0:i.map((a,s)=>xe.createElement(b,{key:a,style:[v.alignStart,s>0?p.Margin.smallTop:null]},xe.createElement(A,{style:[n.text,n.Heading3]},a))))),r.map((a,s)=>xe.createElement(b,{key:s,style:oa.linkGroupColumnDesktop},xe.createElement(YT,{links:a,revision:o,renderMode:"horizontal"}))))}function iz(e){let{linkGroups:t,revision:o}=e,[,n]=R(N);return xe.createElement(X.View,{style:[v.flex1,v.justifyContentStart,v.directionRow],desktopStyle:[oa.linkGroupColumnsDesktop,v.directionRow,v.wrap,v.flexShrink1],mobileStyle:v.directionColumn},t.map((r,i)=>xe.createElement(X.View,{key:i,desktopStyle:[oa.linkGroupColumnDesktop,p.Margin.xlargeTop],mobileStyle:[oa.linkGroupColumnMobile,p.Margin.xlargeTop,p.Margin.largeLeft]},xe.createElement(b,{style:v.alignStart},xe.createElement(A,{style:[n.text,n.Heading3]},r.title)),xe.createElement(YT,{links:r.links,revision:o,renderMode:"vertical"}))))}function YT(e){let{links:t,renderMode:o}=e,[,n]=R(N);return xe.createElement(X.View,{style:[v.alignStart,v.flex1,v.directionColumn],desktopStyle:o==="vertical"?p.Margin.largeTop:null,mobileStyle:p.Margin.smallTop},(t||[]).map((r,i)=>{let a=i===t.length-1;return r.title?xe.createElement(xe.Suspense,{fallback:null,key:r.title},xe.createElement(b,{style:[oa.referenceLink,o==="horizontal"&&i>0?p.Margin.smallTop:null]},xe.createElement(Uu,{title:r.title,contentRef:r.to,style:[n.textMuted,n.Medium,o==="horizontal"?null:[p.Padding.smallTop,a?null:p.Padding.smallBottom]],...e}))):null}))}var az=L.create({footer:e=>({backgroundColor:e.colors.background.mid})}),oa=F.create({linkGroupColumnsDesktop:{maxWidth:nz,marginTop:-p.xlarge},linkGroupColumnDesktop:{width:jT,marginLeft:p.small,paddingRight:p.xlarge},linkGroupColumnMobile:{width:"auto"},desktopContainer:{maxWidth:1280,width:"100%"},copyright:{textAlign:"center"},mobileHeight:{height:"auto"},referenceLink:{maxWidth:"100%"},footerImageDesktop:{maxHeight:150,maxWidth:150,objectFit:"contain"},footerImageMobile:{maxHeight:30,maxWidth:30,objectFit:"contain"}});c();var Zo=x(O());c();var qt=x(O());c();var Xd=x(O());function ZT(e){let{query:t,space:o,onUpdateQuery:n,onSubmitAIQuery:r,allowEnterToOpen:i}=e,a=Xd.useCallback(()=>{n("")},[n]);return t?Xd.createElement(f6,{target:{space:o},query:t,onAnswerLoaded:a}):Xd.createElement(h6,{target:{space:o},onSubmitAIQuery:r,allowEnterToOpen:i})}c();var Kd=x(O());c();var za=x(O());function $T(e){let{space:t,onUpdateQuery:o,onSubmitAIQuery:n}=e,r=re(),i=s6(),a=hh(),s=gh(t.hasAISearch?{space:t}:null),l=za.useCallback(f=>{switch(f.type){case"recent-search":return{icon:S.Search.CSS,title:f.query,action:r("search")};case"recent-question":return{icon:S.AILens.CSS,title:f.question,action:r("search_ask")};case"recommended-question":return{icon:S.AILens.CSS,title:f.question,action:r("search_ask")};default:Oe(f)}},[r]),u=za.useCallback(f=>{switch(f){case"recent-search":return{title:r("search_blankslate_recent_searches")};case"recent-question":return{title:r("search_blankslate_recent_questions")};case"recommended-question":return{title:r("search_blankslate_recommended_questions")};default:return}},[r]),d=(f,g)=>{switch(f.type){case"recent-search":{o(f.query),J(Gt(t,{type:"search_pick_suggestion_recent_search",suggestionIndex:g}));break}case"recent-question":{n(f.question),J(Gt(t,{type:"ai_search_pick_suggestion_recent_search",suggestionIndex:g}));break}case"recommended-question":J(Gt(t,{type:"search_pick_suggestion_question"})),n(f.question);break;default:Oe(f)}},m=za.useMemo(()=>{let f=t.hasAISearch?a.map(y=>({type:"recent-question",question:y})):[],g=i.filter(y=>!a.includes(y)).map(y=>({type:"recent-search",query:y}));return[...f,...g,...s]},[i,a,s,t.hasAISearch]);return m.length===0?za.createElement(Wi,null,r("search_blankslate")):za.createElement(pe,{style:[ee.flex.flex1,ee.flex.column]},za.createElement(es,{data:m,getKey:sz,renderItem:l,renderGroup:u,groupItem:cz,getGroupKey:lz,onOpen:d,style:[ee.padding.mediumHorizontal,ee.padding.mediumVertical]}))}function sz(e){switch(e.type){case"recent-search":return`recent-search:${e.query}`;case"recent-question":return`recent-question:${e.question}`;case"recommended-question":return`recommended-question:${e.question}`;default:Oe(e)}}function cz(e){return e.type}function lz(e){return e}c();var Wa=x(O());function QT(e){let{space:t}=e,o=Wa.useDeferredValue(e.query),n=re(),{navigate:r}=we(),i=r6({query:o,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:t.key}]}),a=Wa.useCallback(u=>{switch(u.type){case"page":return{title:u.title,icon:S.Page.CSS,subtitle:u.ancestors.filter(d=>d.kind!=="group"&&d.key!==u.page.key).map(d=>d.title).join(" \u203A "),action:n("search_goto_page")};case"section":return{title:u.title,body:u.body,icon:S.Hash.CSS,nested:!0,action:n("search_goto_section")};default:throw new Error("Unexpected item type")}},[n]),s=Wa.useCallback(u=>{if(u)return{title:u.page.title}},[]),l=Wa.useCallback((u,d)=>{if(!(u.type!=="page"&&u.type!=="section"))switch(J(Gt(t,{type:"public_content_search_open_result",resultType:u.type,resultIndex:d})),u.type){case"page":r({screen:{type:"space",space:u.space.key,page:u.path,hash:void 0,query:void 0}});break;case"section":r({screen:{type:"space",space:u.space.key,page:u.path,hash:u.anchor,query:void 0}});break;default:Oe(u)}},[]);return i.length===0?Wa.createElement(Wi,null,n("search_blankslate_query",o)):Wa.createElement(es,{data:i,getKey:uz,renderItem:a,renderGroup:s,groupItem:mz,getGroupKey:dz,onOpen:l,style:[ee.padding.mediumHorizontal,ee.padding.mediumVertical]})}function uz(e){return e.key}function dz(e){return e?e.page.key:""}function mz(e){return e.groups.find(t=>t.type==="page")}function JT(e){let{space:t,query:o,onUpdateQuery:n,onSubmitAIQuery:r}=e;return c6(o),Kd.useEffect(()=>{if(!o)return;let i=setTimeout(()=>{J(Gt(t,{type:"public_content_search_type",query:o}))},700);return()=>{clearTimeout(i)}},[o]),o?Kd.createElement(QT,{space:t,query:o}):Kd.createElement($T,{space:t,onUpdateQuery:n,onSubmitAIQuery:r})}function eM(e){let{space:t}=e,[o,{open:n,close:r,setQuery:i}]=v1();return wr({[We.SEARCH_OPEN]:()=>{n()},"/":()=>{n()}},["all"],[]),qt.createElement(Iw,null,typeof o=="string"?qt.createElement(pz,{space:t,query:o,setQuery:i,close:r}):null)}function pz(e){let{space:t,query:o,setQuery:n,close:r}=e,i=re(),a=qt.useRef(null),[s,l]=qt.useState(""),[u,d]=Ai("search",[!!t.hasAISearch]),m=qt.useCallback(y=>{var h;n(y),(h=a.current)==null||h.focus()},[n,a]),f=qt.useCallback(y=>{var h;t.hasAISearch&&(d("lens"),n(y),l(y),(h=a.current)==null||h.focus(),J(Gt(t,{type:"ai_search_submit",query:y})))},[!t.hasAISearch,d,n,l,a]),g=qt.useCallback(y=>{d(y),l(y==="search"?"":o)},[d,l]);return qt.useEffect(()=>{var y;(y=a.current)==null||y.focus()},[u]),qt.createElement(Vk,{ref:a,inputIcon:u==="search"?S.Search.CSS:S.AILens.CSS,rightButton:t.hasAISearch?qt.createElement(pe,{style:[ee.flex.row,ee.flex.alignCenter]},u==="lens"&&o&&o!==s?qt.createElement(pe,{style:[ee.margin.mediumRight,ee.flex.row,ee.flex.alignCenter]},qt.createElement(pe,{style:ee.margin.xsmallRight},qt.createElement(Hn,{style:[ee.text.caption,ee.textColor.muted]},"Enter")),qt.createElement(S.ArrowEnter.CSS,{style:[ee.icons.xsmall,ee.textColor.muted]})):null,qt.createElement(Fk,{activeTab:u,tabs:[{key:"search",label:i("search")},{key:"lens",label:"Lens"}],onPress:g})):null,query:o,onQueryChange:n,onSubmitQuery:f,onClose:r,queryPlaceholder:i(u==="search"?"search_placeholder":"search_placeholder_ask")},u==="search"||!t.hasAISearch?qt.createElement(JT,{query:o,space:t,onUpdateQuery:m,onSubmitAIQuery:f}):qt.createElement(ZT,{query:s,space:t,onUpdateQuery:m,onSubmitAIQuery:f,allowEnterToOpen:o.length===0}))}c();var Vh=x(O());var mu=new Map;typeof window<"u"&&(window.GitBook=window.GitBook||{addEventListener:(e,t)=>{mu.has(e)||mu.set(e,[]),mu.get(e).push(t)},removeEventListener:(e,t)=>{if(!mu.has(e))return;let o=mu.get(e),n=o.indexOf(t);n!==-1&&o.splice(n,1)}});function tM(e,...t){let o=mu.get(e);o&&o.forEach(n=>{n(...t)})}function oM(e){if(Vh.useContext(Eo).mode!=="public-content")throw new Error("useInjectIntegrationsScripts can only be used in public-content mode");Vh.useEffect(()=>(tM("load"),()=>{tM("unload")}),[e.key])}function qh(e){let{space:t,assetHostname:o,collection:n,collectionSpaces:r,usesCookies:i}=e,{locale:a}=Zo.useContext(Eo),{screen:s}=qi(),l=tk(),u=ax(t.key,s),d=s.type==="space"&&typeof s.changeRequest=="string";if(d&&!u)throw new Pc.NotFound("Change request not found");let m=s.type==="space"&&s.revision,f=d&&u?u.revisionCurrent:m&&s.revision||t.revision,g=sl({space:t.key,revision:f});if(!g)throw d?new Pc.NotFound("Change request not found"):s.type==="space"&&s.revision?new Pc.NotFound("Revision not found"):new Error("Expected revision");bx(t),oM(t);let y=Zo.useMemo(()=>Gt(t,{}),[t.key,t.organization,t.collection]);if(s.type!=="space"||s.space!==t.key)throw new Error("screen should be the space we render");Zo.useEffect(()=>{if(t.searchKey)return k1(t.searchKey)},[t.searchKey]),ya(w=>{w.write({type:"font",font:t.font||"Inter",fontFamilyName:"gitbook-content-font"}),(s.revision||s.changeRequest||s.sideSheet)&&w.write({type:"meta",name:"robots",content:"noindex"}),w.setLang(a)}),ST(t.privacyPolicyURL,Zy(t)||i);let[h,C]=T1(g,s);return Ih(l,s,C==null?void 0:C.key),Zo.createElement(Zo.Fragment,null,h?Zo.createElement(ap,{to:{screen:h}}):null,Zo.createElement(VT,{space:t,revision:g,collection:n,currentPage:C,collectionSpaces:r}),Zo.createElement(KT,{space:t,revision:g,screen:s,analyticsContext:y,collection:n,collectionSpaces:r,assetHostname:o,currentPage:C,scrollRef:l}),Zo.createElement(UT,{space:t,revision:g,collection:n}),Zo.createElement(eM,{space:t,revision:g}),Zo.createElement(VE,null),Zo.createElement(I_,{content:t,contentRef:ho(t.key)}))}c();var BC=x(O());c();function pu(e){return e?e.endsWith("/")?e:`${e}/`:""}function nM(e,t){return o=>{let n=`/${pu(e.basePath)}`;switch(o.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"quickstart":case"root":case"join":case"account_verification":case"integrations":case"import":case"template":case"welcome":case"contentkit_builder":throw new Error(`Cannot navigate to ${o.type} on public content`);case"home":{if(o.organization){let i=Hs.read({type:"organization",organization:o.organization});n=Ou(i);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let i=Hs.read({type:"user",user:o.user});n=Ou(i);break}case"collection":{let i=Hs.read({type:"collection",collection:o.collection});n=Ou(i);break}case"space":{let i=Hs.read({type:"space",space:o.space});i.hostname===e.hostname&&(!e.basePath||i.pathname.startsWith(e.basePath))||t?(e.shareLink&&(n+=pu(e.shareLink)),i.pathname!==e.basePath&&(e.basePath?n+=pu(fS(i.pathname,pu(e.basePath))):n+=pu(i.pathname))):n=Ou(i),n+=fz(o);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:Oe(o)}let r;if(typeof o.query=="string"){let i=new URLSearchParams;i.set("q",o.query),r=`?${i.toString()}`}return{pathname:n,hash:o.hash,search:r}}}function fz(e){let t="";return e.revision&&(t+=`~/revisions/${e.revision}/`),e.changeRequest&&(t+=`~/changes/${e.changeRequest}/`),t+=`${e.page[0]==="/"?e.page.slice(1):e.page}`,e.sideSheet&&(t=`${pu(t)}~/${e.sideSheet.type}${"tab"in e.sideSheet?`/${e.sideSheet.tab}`:""}`),t}c();function rM(e,t,o,n=[]){return r=>{let{spaceKey:i,pathname:a}=yS({currentSpaceKey:t,collectionSpaces:n,collection:o,pathname:r.pathname,paths:e}),s={type:"space",space:i,page:""};gz(s,tw(a)),r.hash&&(s.hash=r.hash.replace(/^#/,""));let u=new URLSearchParams(r.search).get("q");return typeof u=="string"&&(s.query=u),s}}function gz(e,t){cy(t,[{path:`/~/revisions/:revision/:page${Tm}`,onMatch:o=>{Object.assign(e,{page:o.params.page,revision:o.params.revision}),fu(e,o,t)}},{path:"/~/revisions/:revision",onMatch:o=>{Object.assign(e,{revision:o.params.revision,page:""}),fu(e,o,t)}},{path:`/~/changes/:changeRequest/:page${Tm}`,onMatch:o=>{Object.assign(e,{changeRequest:o.params.changeRequest,revision:void 0,page:o.params.page}),fu(e,o,t)}},{path:"/~/changes/:changeRequest",onMatch:o=>{Object.assign(e,{changeRequest:o.params.changeRequest,revision:void 0,page:""}),fu(e,o,t)}},{path:`/:page${Tm}`,onMatch:o=>{Object.assign(e,{page:o.params.page,diff:!1}),fu(e,o,t)}},{path:"/",onMatch:o=>{Object.assign(e,{diff:!1,page:""}),fu(e,o,t)}}])}function fu(e,t,o){cy(o,[{path:"/~/share/pdf",onMatch:n=>{Object.assign(e,{sideSheet:{type:"share",tab:"pdf"}})}}],{prefix:t.path})}function Fh(e,t,o,n,r){let i=nx(),a=(0,BC.useMemo)(()=>rM(e,o,n,r),[e.hostname,e.basePath,e.shareLink,o,n,r]),s={hostname:e.hostname,pathname:e.basePath},l=(0,BC.useMemo)(()=>nM({hostname:s.hostname,basePath:s.pathname,shareLink:e.shareLink},t),[e.hostname,e.basePath,e.shareLink]);return{forceHardNavigation:!i,getNavigationScreenFromLocation:a,getLocationForNavigationScreen:l}}function iM(e){let{space:t,ssrRequestPath:o,ssrRouterContext:n,basePath:r,hostname:i,customToken:a,shareLink:s,assetHostname:l,preview:u=!1,usesCookies:d=!1}=e,m=Fh({hostname:i,basePath:r,shareLink:s},u,t.key);return Br.createElement(Pu,{mode:"public-content",preview:u,locale:t.language},Br.createElement(qs,{primaryColor:t.primaryColor},Br.createElement(Fd,null,Br.createElement(Ph,{ssrRequestPath:o,ssrRouterContext:n},Br.createElement(ip,{persist:!1,...m},Br.createElement(Br.Suspense,{fallback:Br.createElement(Xt,{size:"large"})},Br.createElement(Vp,null,a&&typeof window>"u"?Br.createElement(Xt,{size:"large"}):Br.createElement(qh,{space:t,assetHostname:l,usesCookies:d}))))))))}c();var $o=x(O());function aM(e){let{collection:t,basePath:o,hostname:n,customToken:r,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:s,shareLink:l,assetHostname:u,preview:d=!1,usesCookies:m=!1}=e,f=Fh({hostname:n,basePath:o,shareLink:l},d,void 0,t,i);if(!d&&t.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return $o.createElement(Pu,{mode:"public-content",preview:d,locale:t.language},$o.createElement(qs,{primaryColor:t.primaryColor},$o.createElement(Fd,null,$o.createElement(Ph,{ssrRequestPath:a,ssrRouterContext:s},$o.createElement(ip,{persist:!1,...f},$o.createElement($o.Suspense,{fallback:$o.createElement(Xt,{size:"large"})},$o.createElement(Vp,null,r&&typeof window>"u"?$o.createElement(Xt,{size:"large"}):$o.createElement(hz,{collection:t,collectionSpaces:i,assetHostname:u,usesCookies:m}))))))))}function hz(e){let{screen:t}=qi();if(t.type!=="space")throw new Error("screen should be a space");let[o]=Xn([ho(t.space)]);if(!o)throw new Error("the space should exist");return $o.createElement(Pu,{locale:o.language},$o.createElement(qs,{primaryColor:o.primaryColor},$o.createElement(Fd,null,$o.createElement(qh,{...e,space:o}))))}c();var na=x(O());z();c();var Rc=x(O());var zC=$e("preview:child");function sM(e,t){let[o,n]=Rc.useState(e),[r,i]=Rc.useState(void 0);return yz(o.footer),Rc.useEffect(()=>{t&&(window.addEventListener("message",a=>{if(a.data.source!=="gitbook-preview-parent"||(zC.info("receive message",a.origin,a.data),a.origin!==tm()&&a.origin!=="http://localhost:5001"))return;let s=uS(a.data.payload),l=a.data.previewID;zC.debug("update content with",s),n(s),i(l),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),zC.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[t]),[o,r]}function yz(e){let t=Rc.useRef(e);Ha(()=>{e&&e!==t.current&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),t.current=e},[e])}c();var cM=x(O());function lM(){cM.useEffect(()=>{typeof window>"u"},[])}function WC(e){let t="collection"in e?e.collection:e.space,[o,n]=sM(t,!!e.preview);lM();let r=im(o);return na.createElement(JC,null,na.createElement(Cr,{theme:r},na.createElement(Ow,{theme:r},na.createElement(j_,null,na.createElement(Wk,null,na.createElement(vw,{enabled:!0},"collection"in e?na.createElement(aM,{...e,collection:o}):na.createElement(iM,{...e,space:o})),n?na.createElement(b,{testID:n}):null)))))}c();function VC(e){let t=new URLSearchParams(window.location.search),o=window.location.hash;if(t.has("jwt_token")){t.delete("jwt_token");let i=t.toString();window.history.replaceState({},"",`${window.location.pathname}${i?`?${i}`:""}${o||""}`)}let{dsn:n,tracesSampling:r}={...Va.sentry,...Va.sentry.publicContent};aS({dsn:n,release:rS,projectId:Va.firebase.projectId,tracesSampling:r}),window.location.hostname!=="localhost"&&rw(e.hostname),Hk({customToken:e.customToken,waitUserReady:!1})}c();function uM(e){e!=null&&e.firestore&&Gs.fromJS(e.firestore),e!=null&&e.head&&Sw.cache.fromJS(e.head),e!=null&&e.contentURLs&&Hs.fromJS(e.contentURLs),e!=null&&e.contentRefs&&gi.fromJS(e.contentRefs),e!=null&&e.screenToContentRefs&&wf.fromJS(e.screenToContentRefs),e!=null&&e.swaggers&&rc.fromJS(e.swaggers)}c();var dM=$e("browser-compatibility");function mM(){let e=["webcache.googleusercontent.com","translate.googleusercontent.com","translate.google.com"];return!window.location.hostname||e.includes(window.location.hostname)?(dM.warning("The application is served over an unsupported hostname and has been made static."),!1):vz()?!0:(dM.warning("Your browser is missing required features, the application has been made static."),!1)}function vz(){try{if("\u212B".normalize("NFKD")!=="A\u030A")return!1}catch(e){return!1}return!(!window.Intl||![].flat)}c();function pM(e){document.readyState==="interactive"||document.readyState==="complete"?e():document.addEventListener("DOMContentLoaded",()=>{e()})}c();var fM=x(Xy());function qC(e){return new Fr("ssr.deserializeFromHTML").wrapSync(()=>{let o=fM.default.decompress(e);return o?JSON.parse(o):null})}mM()&&pM(()=>{bz()});async function bz(){let e=window.__GITBOOK_INITIAL_PROPS__,t=qC(e);VC(t),window.__GITBOOK_LAZY_MODULES__&&await Kw(window.__GITBOOK_LAZY_MODULES__);let o=window.__GITBOOK_INITIAL_STATE__,n=qC(o);n?(uM(n),Xh.registerComponent("PublicContentApplication",()=>WC),Xh.runApplication("PublicContentApplication",{hydrate:!0,rootTag:document.querySelector(".gitbook-root"),initialProps:t})):console.error("Invalid state received from server, content won't be interactive")}
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

rangefix/rangefix.js:
  (*!
   * RangeFix v0.2.9
   * https://github.com/edg2s/rangefix
   *
   * Copyright 2014-17 Ed Sanders.
   * Released under the MIT license
   *)
*/
//# sourceMappingURL=https://app.gitbook.com/public/app/public-NACAKLT2.min.js.map
